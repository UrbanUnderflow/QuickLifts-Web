"use strict";exports.id=180,exports.ids=[180],exports.modules={9976:(e,s,t)=>{t.d(s,{Z:()=>a});let a=(0,t(1462).Z)("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]])},6111:(e,s,t)=>{t.d(s,{Z:()=>a});let a=(0,t(1462).Z)("Dumbbell",[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]])},4672:(e,s,t)=>{t.d(s,{Z:()=>a});let a=(0,t(1462).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},7963:(e,s,t)=>{t.d(s,{Z:()=>a});let a=(0,t(1462).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},9544:(e,s,t)=>{t.a(e,async(e,a)=>{try{t.d(s,{$Q:()=>i.$}),t(6738);var i=t(6883),r=e([i]);i=(r.then?(await r)():r)[0],a()}catch(e){a(e)}})},6883:(e,s,t)=>{t.a(e,async(e,a)=>{try{t.d(s,{$:()=>n});var i=t(1492),r=t(9777),l=t(6738),c=e([i,r]);[i,r]=c.then?(await c)():c;class o{get allExercises(){return this._allExercises}async fetchExercises(){try{let e=(await (0,i.getDocs)((0,i.collection)(r.db,"exercises"))).docs.map(e=>l.cd.fromFirebase({id:e.id,...e.data()})),s=(await (0,i.getDocs)((0,i.collection)(r.db,"exerciseVideos"))).docs.map(e=>({id:e.id,exerciseId:e.data().exerciseId||"",username:e.data().username||"",userId:e.data().userId||"",videoURL:e.data().videoURL||"",fileName:e.data().fileName||"",exercise:e.data().exercise||"",profileImage:e.data().profileImage||{profileImageURL:""},caption:e.data().caption||"",gifURL:e.data().gifURL||"",thumbnail:e.data().thumbnail||"",visibility:e.data().visibility||"open",totalAccountsReached:e.data().totalAccountsReached||0,totalAccountLikes:e.data().totalAccountLikes||0,totalAccountBookmarked:e.data().totalAccountBookmarked||0,totalAccountUsage:e.data().totalAccountUsage||0,isApproved:e.data().isApproved||!1,liked:e.data().liked||!1,bookmarked:e.data().bookmarked||!1,createdAt:e.data().createdAt?new Date(1e3*e.data().createdAt.seconds):new Date,updatedAt:e.data().updatedAt?new Date(1e3*e.data().updatedAt.seconds):new Date})),t=e.map(e=>{let t=s.filter(s=>s.exerciseId===e.id);return{...e,videos:t}});this._allExercises=t.filter(e=>e.videos.length>0),console.log(`Fetched ${this._allExercises.length} exercises with videos.`)}catch(e){throw console.error("Error fetching exercises:",e),Error("Failed to fetch exercises.")}}async fetchFeaturedExercisesWithVideos(e=24){try{let s=(await (0,i.getDocs)((0,i.collection)(r.db,"exercises"))).docs.map(e=>l.cd.fromFirebase({id:e.id,...e.data()})),t=(await (0,i.getDocs)((0,i.collection)(r.db,"exerciseVideos"))).docs.map(e=>({id:e.id,exerciseId:e.data().exerciseId||"",username:e.data().username||"",userId:e.data().userId||"",videoURL:e.data().videoURL||"",fileName:e.data().fileName||"",exercise:e.data().exercise||"",profileImage:e.data().profileImage||{profileImageURL:""},caption:e.data().caption||"",gifURL:e.data().gifURL||"",thumbnail:e.data().thumbnail||"",visibility:e.data().visibility||"open",totalAccountsReached:e.data().totalAccountsReached||0,totalAccountLikes:e.data().totalAccountLikes||0,totalAccountBookmarked:e.data().totalAccountBookmarked||0,totalAccountUsage:e.data().totalAccountUsage||0,isApproved:e.data().isApproved||!1,liked:e.data().liked||!1,bookmarked:e.data().bookmarked||!1,createdAt:e.data().createdAt?new Date(1e3*e.data().createdAt.seconds):new Date,updatedAt:e.data().updatedAt?new Date(1e3*e.data().updatedAt.seconds):new Date}));return s.map(e=>{let s=t.filter(s=>s.exercise===e.name&&s.gifURL);return{...e,videos:s}}).filter(e=>e.videos.length>0).sort(()=>Math.random()-.5).slice(0,e)}catch(e){return console.error("Error fetching featured exercises:",e),[]}}async fetchPaginatedExercises(e=null,s=15){try{let t=(0,i.query)((0,i.collection)(r.db,"exercises"),(0,i.orderBy)("createdAt","desc"),(0,i.limit)(s));e&&(t=(0,i.query)(t,(0,i.startAfter)(e)));let a=await (0,i.getDocs)(t);if(a.empty)return{exercises:[],lastVisible:null};let c=(await (0,i.getDocs)((0,i.collection)(r.db,"exerciseVideos"))).docs.map(e=>({id:e.id,exerciseId:e.data().exerciseId||"",username:e.data().username||"",userId:e.data().userId||"",videoURL:e.data().videoURL||"",fileName:e.data().fileName||"",exercise:e.data().exercise||"",profileImage:e.data().profileImage||{profileImageURL:""},caption:e.data().caption||"",gifURL:e.data().gifURL||"",thumbnail:e.data().thumbnail||"",visibility:e.data().visibility||"open",totalAccountsReached:e.data().totalAccountsReached||0,totalAccountLikes:e.data().totalAccountLikes||0,totalAccountBookmarked:e.data().totalAccountBookmarked||0,totalAccountUsage:e.data().totalAccountUsage||0,isApproved:e.data().isApproved||!1,liked:e.data().liked||!1,bookmarked:e.data().bookmarked||!1,createdAt:e.data().createdAt?new Date(1e3*e.data().createdAt.seconds):new Date,updatedAt:e.data().updatedAt?new Date(1e3*e.data().updatedAt.seconds):new Date})),o=a.docs.map(e=>l.cd.fromFirebase({id:e.id,...e.data()})).map(e=>{let s=c.filter(s=>s.exerciseId===e.id);return{...e,videos:s}}).filter(e=>e.videos.length>0),n=a.docs[a.docs.length-1];return{exercises:o,lastVisible:n}}catch(e){throw console.error("Error fetching paginated exercises:",e),e}}constructor(){this._allExercises=[]}}let n=new o;a()}catch(e){a(e)}})},747:(e,s,t)=>{t.a(e,async(e,a)=>{try{t.d(s,{Z:()=>d});var i=t(997),r=t(6689),l=t.n(r),c=t(9315),o=t(8157),n=e([o]);o=(n.then?(await n)():n)[0];let d=({selectedTab:e,onTabChange:s})=>{l().useEffect(()=>{console.log("Current user in BottomNav:",o.W4.currentUser),o.W4.currentUser?.profileImage&&console.log("Profile image data:",o.W4.currentUser.profileImage)},[]);let t=o.W4.currentUser;console.log("Rendering BottomNav with currentUser:",t),console.log("Has profile image?",t&&t.profileImage&&t.profileImage.profileImageURL);let a=[{id:c.O.Discover,label:"Discover",icon:"/discover-icon.svg",selectedIcon:"/discover-icon-selected.svg"},{id:c.O.Search,label:"Search",icon:"/search-icon.svg",selectedIcon:"/search-icon-selected.svg"},{id:c.O.Create,label:"",icon:"/create-icon.svg",selectedIcon:"/create-icon.svg"},{id:c.O.Messages,label:"Message",icon:"/message-icon.svg",selectedIcon:"/message-icon-selected.svg"},{id:c.O.Profile,label:"Profile",icon:"/profile-icon.svg",selectedIcon:"/profile-icon-selected.svg"}];return i.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-zinc-800/80 backdrop-blur-sm border-t border-zinc-700",children:i.jsx("div",{className:"max-w-md mx-auto px-8 py-4 flex justify-between items-center",children:a.map(t=>{let a=e===t.id,r=t.id===c.O.Profile,l=o.W4.currentUser,n=l&&l.profileImage&&l.profileImage.profileImageURL;return i.jsx("button",{className:"flex flex-col items-center gap-1",onClick:()=>s(t.id),children:t.id===c.O.Create?i.jsx("div",{className:"w-12 h-12 bg-[#E0FE10] rounded-full flex items-center justify-center -mt-6",children:i.jsx("img",{src:t.icon,alt:t.label,className:"w-6 h-6"})}):(0,i.jsxs)(i.Fragment,{children:[r&&n?i.jsx("img",{src:l.profileImage.profileImageURL,alt:"User profile",className:`w-6 h-6 rounded-full object-cover
                        ${a?"ring-2 ring-[#E0FE10]":""}
                        `,onError:e=>{console.error("Error loading profile image:",e),e.currentTarget.src=t.icon}}):i.jsx("img",{src:a?t.selectedIcon:t.icon,alt:t.label,className:"w-6 h-6"}),t.label&&i.jsx("span",{className:`text-xs ${a?"text-[#E0FE10]":"text-zinc-400"}`,children:t.label})]})},t.id)})})})};a()}catch(e){a(e)}})},4802:(e,s,t)=>{t.d(s,{Z:()=>u});var a=t(997),i=t(6689),r=t(8154);let l=(0,t(1462).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),c=({onClose:e,onCreateWorkout:s})=>{let[t,l]=(0,i.useState)([]),c=e=>{l(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])};return(0,a.jsxs)("div",{className:"fixed inset-0 bg-zinc-900 flex flex-col min-h-screen",children:[(0,a.jsxs)("div",{className:"p-6 pb-2",children:[a.jsx("button",{onClick:e,className:"w-10 h-10 rounded-full bg-zinc-800 flex items-center justify-center",children:a.jsx(r.Z,{className:"text-white",size:20})}),a.jsx("h1",{className:"text-4xl font-bold text-white mt-6 mb-2",children:"Choose the body parts you want to workout."}),a.jsx("p",{className:"text-zinc-400 text-lg",children:"You can choose multiple body parts"})]}),(0,a.jsxs)("div",{className:"flex-1 p-6 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 overflow-y-auto max-w-6xl mx-auto scrollbar-hide",children:[a.jsx(o,{id:"body-parts/bicep",name:"Biceps",isSelected:t.includes("bicep"),onToggle:c}),a.jsx(o,{id:"body-parts/tricep",name:"Triceps",isSelected:t.includes("triceps"),onToggle:c}),a.jsx(o,{id:"body-parts/chest",name:"Chest",isSelected:t.includes("chest"),onToggle:c}),a.jsx(o,{id:"body-parts/calves",name:"Calves",isSelected:t.includes("calves"),onToggle:c}),a.jsx(o,{id:"body-parts/abs",name:"Abs",isSelected:t.includes("abs"),onToggle:c}),a.jsx(o,{id:"body-parts/hamstrings",name:"Hamstrings",isSelected:t.includes("hamstrings"),onToggle:c}),a.jsx(o,{id:"body-parts/back",name:"Back",isSelected:t.includes("back"),onToggle:c}),a.jsx(o,{id:"body-parts/deltoids",name:"Deltoids",isSelected:t.includes("deltoids"),onToggle:c}),a.jsx(o,{id:"body-parts/glutes",name:"Glutes",isSelected:t.includes("glutes"),onToggle:c}),a.jsx(o,{id:"body-parts/lats",name:"Lats",isSelected:t.includes("lats"),onToggle:c}),a.jsx(o,{id:"body-parts/lowerback",name:"Lower Back",isSelected:t.includes("lowerback"),onToggle:c}),a.jsx(o,{id:"body-parts/quadriceps",name:"Quadriceps",isSelected:t.includes("quadriceps"),onToggle:c}),a.jsx(o,{id:"body-parts/rhomboids",name:"Rhomboids",isSelected:t.includes("rhomboids"),onToggle:c})]}),t.length>0&&a.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-zinc-900/80 backdrop-blur-sm border-t border-zinc-800",children:a.jsx("div",{className:"max-w-6xl mx-auto",children:a.jsx("button",{onClick:()=>s(t),className:"w-full py-4 rounded-full bg-[#E0FE10] text-black font-semibold text-lg",children:"Create workout"})})})]})},o=({id:e,name:s,isSelected:t,onToggle:i})=>(0,a.jsxs)("button",{onClick:()=>i(e),className:`relative aspect-square rounded-2xl bg-zinc-800/50 flex flex-col items-center justify-end
        ${t?"ring-2 ring-[#E0FE10]":""}
        max-w-[250px] w-full mx-auto`,children:[a.jsx("img",{src:`${e}.svg`,alt:s,className:"w-full h-full object-contain opacity-75"}),t&&a.jsx("div",{className:"absolute top-4 right-4 w-6 h-6 rounded-full bg-[#E0FE10] flex items-center justify-center",children:a.jsx(l,{className:"text-black",size:16})})]});var n=t(9003),d=t.n(n);let u=({isVisible:e,onClose:s})=>{let[t,l]=(0,i.useState)(null),[o,n]=(0,i.useState)(!0),[u,m]=(0,i.useState)([]),[x,h]=(0,i.useState)("today"),[p,g]=(0,i.useState)(!1),[f,b]=(0,i.useState)([]);(0,i.useEffect)(()=>{e&&(v(),j(),w())},[e]);let v=async()=>{n(!0);try{let e=await y();l(e)}catch(e){console.error("Error fetching workout:",e)}finally{n(!1)}},j=async()=>{try{let e=await N();m(e)}catch(e){console.error("Error fetching challenges:",e)}},w=async()=>{try{let e=await k();b(e)}catch(e){console.error("Error fetching recent workouts:",e)}},y=async()=>null,N=async()=>[],k=async()=>[],E=async()=>{if(t)try{await v()}catch(e){console.error("Error starting workout:",e)}},S=e=>{console.log("Open summary for workout:",e)};return e?a.jsx(a.Fragment,{children:e&&(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex flex-col bg-[#E0FE10] overflow-hidden",children:[a.jsx("button",{onClick:s,className:"self-end m-4",children:a.jsx(r.Z,{size:24,className:"text-black"})}),(0,a.jsxs)("div",{className:"flex bg-black/10",children:[a.jsx("button",{onClick:()=>h("today"),className:d()("flex-1 py-3 text-center","today"===x?"border-b-2 border-black font-bold":""),children:"Today"}),a.jsx("button",{onClick:()=>h("rounds"),className:d()("flex-1 py-3 text-center","rounds"===x?"border-b-2 border-black font-bold":""),children:"Rounds"})]}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:p?a.jsx(c,{onClose:()=>g(!1),onCreateWorkout:e=>{console.log("Creating workout with parts:",e),g(!1)}}):(0,a.jsxs)(a.Fragment,{children:["today"===x&&(o?a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsx("div",{className:"text-black",children:"Loading..."})}):t?(0,a.jsxs)("div",{className:"flex flex-col p-6 bg-[#E0FE10] rounded-lg",children:[a.jsx("div",{className:"mb-4",children:a.jsx("h2",{className:"text-xl font-bold text-black",children:"Workout In Progress"})}),(0,a.jsxs)("div",{className:"rounded-lg bg-black text-white p-4 flex flex-col gap-4",children:[a.jsx("h3",{className:"font-bold",children:t.title||"My Workout"}),(0,a.jsxs)("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:E,className:"px-4 py-2 rounded-md bg-green-200 text-black",children:"Resume"}),a.jsx("button",{onClick:()=>{console.log("Workout canceled")},className:"px-4 py-2 rounded-md bg-red-200 text-black",children:"Cancel"})]})]})]}):(0,a.jsxs)("div",{className:"flex flex-col p-8 bg-[#E0FE10] rounded-lg",children:[a.jsx("h3",{className:"text-2xl font-bold text-black mb-4",children:"You don't have your workout for today yet."}),(0,a.jsxs)("button",{onClick:()=>{g(!0)},className:"mt-2 flex items-center text-lg font-medium text-black",children:["Get a workout",a.jsx("svg",{className:"ml-2 w-6 h-6",viewBox:"0 0 24 24",fill:"none",children:a.jsx("path",{d:"M5 12h14m-7-7l7 7-7 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),u.length>0&&a.jsx("div",{className:"mt-auto pt-8",children:(0,a.jsxs)("div",{className:"bg-black/10 rounded-full py-3 px-6 inline-flex items-center gap-2",children:[a.jsx("span",{className:"text-black",children:"Swipe to see"}),(0,a.jsxs)("span",{className:"font-bold text-black",children:[u.length," Active Rounds"]}),a.jsx("svg",{className:"w-4 h-4 text-black",viewBox:"0 0 24 24",fill:"none",children:a.jsx("path",{d:"M9 5l7 7-7 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})})]})),"rounds"===x&&(0,a.jsxs)("div",{className:"p-6 bg-[#E0FE10] rounded-lg",children:[a.jsx("h2",{className:"text-xl font-bold text-black mb-4",children:"Active Rounds"}),0===u.length?a.jsx("p",{className:"text-black",children:"No active rounds"}):a.jsx("div",{className:"space-y-4",children:u.map(e=>(0,a.jsxs)("div",{className:"my-2 p-4 rounded-lg bg-black text-white flex flex-col",children:[a.jsx("h3",{className:"font-bold",children:e.title}),(0,a.jsxs)("p",{className:"text-sm",children:["Duration: ",e.durationInDays," days"]}),(0,a.jsxs)("p",{className:"text-sm",children:["Participants: ",e.participants.length]})]},e.id))})]}),"today"===x&&(0===f.length?null:(0,a.jsxs)("div",{className:"p-6 bg-[#E0FE10] rounded-lg mt-4",children:[a.jsx("h2",{className:"text-xl font-bold text-black mb-4",children:"Recent Workouts"}),a.jsx("div",{className:"space-y-4",children:f.slice(0,3).map(e=>a.jsx("button",{onClick:()=>S(e),className:"w-full p-4 bg-black rounded-lg text-white flex justify-between items-center hover:bg-black/80 transition",children:(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-bold",children:e.title}),a.jsx("p",{className:"text-sm"})]})},e.id))})]}))]})})]})}):null}},1246:(e,s,t)=>{t.d(s,{Z:()=>c});var a=t(997),i=t(6689),r=t(8154);let l=e=>e.category.details?.screenTime??0,c=({exercises:e,currentExerciseIndex:s,onComplete:t,onClose:c})=>{let o=e[s].exercise,[n,d]=(0,i.useState)(()=>l(o)),[u,m]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{d(l(o))},[o]),(0,i.useEffect)(()=>{if(n<=0){t();return}if(u)return;let e=setInterval(()=>{d(e=>e-1)},1e3);return()=>clearInterval(e)},[n,u,t]),a.jsx("div",{className:"fixed inset-0 bg-zinc-900 flex flex-col",children:(0,a.jsxs)("div",{className:"relative flex-1",children:[a.jsx("video",{src:(()=>{let{videos:e,currentVideoPosition:s}=o;return e[s]?.videoURL||""})(),className:"absolute inset-0 w-full h-full object-cover",autoPlay:!0,loop:!0,muted:!0,playsInline:!0}),(0,a.jsxs)("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 bg-black/50 rounded-full px-6 py-2 flex items-center gap-4",children:[a.jsx("button",{onClick:()=>m(!u),className:"text-white",children:u?"▶️":"⏸️"}),(0,a.jsxs)("span",{className:"text-white font-mono text-2xl",children:[Math.floor(n/60),":",(n%60).toString().padStart(2,"0")]})]}),a.jsx("div",{className:"absolute bottom-8 left-0 right-0",children:a.jsx("div",{className:"flex justify-center gap-2 px-4 overflow-x-auto",children:e.map((e,t)=>a.jsx("div",{className:`relative w-10 h-10 rounded-full overflow-hidden border-2 
                  ${t===s?"border-[#E0FE10]":t<s?"border-zinc-600":"border-zinc-400"}`,children:e.isCompleted?a.jsx("div",{className:"bg-[#E0FE10] w-full h-full flex items-center justify-center",children:a.jsx("span",{className:"text-black",children:"✓"})}):a.jsx("img",{src:e.exercise.videos[0]?.gifURL,alt:e.exercise.name,className:"w-full h-full object-cover"})},e.id))})}),a.jsx("button",{onClick:c,className:"absolute top-4 right-4 w-10 h-10 rounded-full bg-black/50 flex items-center justify-center",children:a.jsx(r.Z,{className:"text-white",size:20})})]})})}},4558:(e,s,t)=>{t.d(s,{Z:()=>i});var a=t(997);t(6689);let i=()=>a.jsx("div",{className:"max-w-xl mx-auto px-4 py-6",children:(0,a.jsxs)("div",{className:"text-center text-white",children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Create"}),a.jsx("p",{className:"text-zinc-400",children:"Start building your next workout or post."})]})})},6784:(e,s,t)=>{t.a(e,async(e,a)=>{try{t.d(s,{Z:()=>d});var i=t(997),r=t(6689),l=t(9544),c=t(3518),o=t(1163),n=e([l]);l=(n.then?(await n)():n)[0];let d=()=>{let[e,s]=(0,r.useState)([]),[t,a]=(0,r.useState)(!0),[n,d]=(0,r.useState)(!1),[u,m]=(0,r.useState)(null),[x,h]=(0,r.useState)(!0),p=(0,r.useRef)(null),g=(0,o.useRouter)(),f=async(e=!1)=>{try{e?d(!0):a(!0);let{exercises:t,lastVisible:i}=await l.$Q.fetchPaginatedExercises(u,15);s(s=>e?[...s,...t]:t),m(i),h(t.length>0)}catch(e){console.error("Error fetching exercises:",e)}finally{e?d(!1):a(!1)}};(0,r.useEffect)(()=>{f()},[]),(0,r.useEffect)(()=>{if(!p.current)return;let e=new IntersectionObserver(e=>{e[0].isIntersecting&&x&&!n&&f(!0)},{threshold:1});return e.observe(p.current),()=>e.disconnect()},[x,n,u]),(0,r.useEffect)(()=>{let e=new IntersectionObserver(e=>{for(let s of e){let e=s.target;s.isIntersecting&&!e.dataset.userPause?e.play().catch(e=>console.error("Video play error:",e)):e.pause()}},{threshold:.5}),s=document.querySelectorAll('video[data-observe="true"]');return s.forEach(s=>{e.observe(s)}),()=>{s.forEach(s=>e.unobserve(s)),e.disconnect()}},[e]);let b=e=>{let s=e.currentTarget;s.paused?(s.removeAttribute("data-user-pause"),s.play().catch(e=>console.error("Video play error:",e))):(s.setAttribute("data-user-pause","true"),s.pause())},v=e=>{e?g.push(`/profile/${e}`):console.error("Username is missing.")},j=(e,t)=>{s(s=>s.map((s,a)=>a===e?{...s,currentVideoPosition:t}:s))};return t&&0===e.length?i.jsx("div",{className:"text-white text-center",children:"Loading exercises..."}):(0,i.jsxs)("div",{className:"max-w-xl mx-auto px-4 py-6",children:[e.map((e,s)=>(0,i.jsxs)("div",{className:"bg-zinc-800 rounded-xl overflow-hidden mb-6",children:[i.jsx("video",{"data-observe":"true",src:e.videos[e.currentVideoPosition]?.videoURL,muted:!0,loop:!0,className:"w-full aspect-square object-cover",onClick:b}),(0,i.jsxs)("div",{className:"p-4",children:[(0,i.jsxs)("div",{className:"flex items-center gap-4 mb-3",children:[i.jsx("img",{src:e.videos[e.currentVideoPosition]?.profileImage.profileImageURL||"/default-profile.png",alt:e.videos[e.currentVideoPosition]?.username||"User",className:"w-8 h-8 rounded-full cursor-pointer",onClick:()=>v(e.videos[e.currentVideoPosition]?.username||"")}),i.jsx("p",{className:"text-white font-medium cursor-pointer",onClick:()=>v(e.videos[e.currentVideoPosition]?.username||""),children:e.videos[e.currentVideoPosition]?.username||"Unknown User"})]}),i.jsx("p",{className:"text-zinc-400 text-sm",children:e.name}),i.jsx("p",{className:"text-zinc-500 text-xs mt-1",children:e.description}),(0,i.jsxs)("div",{className:"flex items-center gap-2 mt-4",children:[e.videos.slice(0,4).map((t,a)=>i.jsx(c.f,{gifUrl:t.gifURL||"/default-gif.gif",alt:`Preview of ${e.name}`,frameSize:{width:36,height:36},contentMode:"cover",className:`border-2 ${e.currentVideoPosition===a?"border-[#E0FE10]":"border-zinc-500"}`,onClick:()=>j(s,a)},t.id)),e.videos.length>4&&(0,i.jsxs)("div",{className:"w-9 h-9 bg-gray-600 rounded-full flex items-center justify-center text-white text-sm",onClick:()=>console.log("More videos tapped"),children:["+",e.videos.length-4]})]})]})]},e.id)),x&&i.jsx("div",{ref:p,className:"text-center py-4",children:n&&i.jsx("div",{className:"spinner border-t-transparent border-4 border-[#E0FE10] w-6 h-6 rounded-full animate-spin"})})]})};a()}catch(e){a(e)}})},7229:(e,s,t)=>{t.d(s,{Z:()=>d});var a=t(997),i=t(6689),r=t.n(i),l=t(7963);let c=(0,t(1462).Z)("CircleUserRound",[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),o=({onShare:e})=>a.jsx("div",{className:"bg-zinc-800 rounded-lg p-6 mx-4 mb-6 cursor-pointer shadow-lg transition-colors hover:bg-zinc-700/80",onClick:e,children:(0,a.jsxs)("div",{className:"flex flex-col items-center text-center",children:[a.jsx("div",{className:"bg-zinc-700 p-4 rounded-full mb-4",children:a.jsx(l.Z,{className:"w-8 h-8 text-white"})}),a.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Pulse is even better with friends"}),a.jsx("p",{className:"text-zinc-400 text-sm",children:"Find your tribe, or invite your friends to join you sweat. Tap here to send out an invite link."})]})}),n=({message:e,currentUserId:s,onSelect:t})=>{let i=e.participants.find(e=>e.id!==s);if(!i)return null;let r=new Date(e.lastMessageTimestamp).toLocaleDateString();return(0,a.jsxs)("div",{className:"flex items-center gap-4 p-4 hover:bg-zinc-800 cursor-pointer transition-colors",onClick:()=>t(e),children:[i.profileImage?.profileImageURL?a.jsx("img",{src:i.profileImage.profileImageURL,alt:i.username,className:"w-12 h-12 rounded-full object-cover"}):a.jsx("div",{className:"w-12 h-12 bg-zinc-700 rounded-full flex items-center justify-center",children:a.jsx(c,{className:"w-8 h-8 text-zinc-400"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("h3",{className:"text-white font-medium truncate",children:["@",i.username]}),a.jsx("span",{className:"text-xs text-zinc-400 flex-shrink-0",children:r})]}),a.jsx("p",{className:`text-sm truncate ${e.unreadCount?"text-white font-medium":"text-zinc-400"}`,children:e.lastMessage})]})]})},d=()=>{let[e,s]=r().useState([]),[t,i]=r().useState(!0),l={id:"current-user-id"};r().useEffect(()=>{(async()=>{try{i(!0);let e=await fetch("/api/messages"),t=await e.json();s(t.messages)}catch(e){console.error("Failed to fetch messages:",e),s([])}finally{i(!1)}})()},[]);let c=async()=>{try{navigator.share?await navigator.share({title:"Join me on Pulse",text:"Hey! Let's workout together using Pulse.",url:"https://fitwithpulse.ai"}):console.log("Share not supported")}catch(e){console.error("Error sharing:",e)}},d=e=>{console.log("Selected message:",e)};return t?a.jsx("div",{className:"min-h-screen bg-zinc-900 flex items-center justify-center",children:a.jsx("div",{className:"text-zinc-400",children:"Loading..."})}):(0,a.jsxs)("div",{className:"min-h-screen bg-zinc-900",children:[a.jsx("div",{className:"sticky top-0 z-10 bg-zinc-900/80 backdrop-blur-sm border-b border-zinc-800",children:a.jsx("div",{className:"px-4 py-4 flex justify-center relative",children:a.jsx("h1",{className:"text-lg font-semibold text-white",children:"Direct Messages"})})}),(0,a.jsxs)("div",{className:"pt-4",children:[a.jsx(o,{onShare:c}),e.length>0&&a.jsx("div",{className:"divide-y divide-zinc-800",children:e.map(e=>a.jsx(n,{message:e,currentUserId:l.id,onSelect:d},e.id))})]})]})}},3067:(e,s,t)=>{t.a(e,async(e,a)=>{try{t.d(s,{Z:()=>g});var i=t(997),r=t(6689),l=t(8157),c=t(9858),o=t(6576),n=t(1269),d=t(6590),u=t(5647),m=t(5881),x=t(452),h=e([l]);l=(h.then?(await h)():h)[0];let p={ACTIVITY:"activity",EXERCISES:"moves",CHALLENGES:"rounds"},g=()=>{let[e,s]=(0,r.useState)(p.EXERCISES),[t,a]=(0,r.useState)([]),[h,g]=(0,r.useState)([]),[f,b]=(0,r.useState)([]),[v,j]=(0,r.useState)([]),[w,y]=(0,r.useState)([]),[N,k]=(0,r.useState)([]),[E,S]=(0,r.useState)(null),I="https://fitwithpulse.ai/.netlify/functions",A=l.W4.currentUser;if((0,r.useEffect)(()=>{(async()=>{if(A?.id)try{let e=await fetch(`${I}/get-user-videos?userId=${A.id}`);if(!e.ok)throw Error("Failed to fetch videos");let s=await e.json();s.success&&a(s.exercises)}catch(e){console.error("Error fetching user videos:",e)}})()},[A?.id]),(0,r.useEffect)(()=>{(async()=>{if(A?.id)try{let e=await fetch(`${I}/get-challenges?userId=${A.id}`);if(!e.ok)throw Error("Failed to fetch challenges");let s=await e.json();s.success&&g(s.challenges)}catch(e){console.error("Error fetching challenges:",e)}})()},[A?.id]),(0,r.useEffect)(()=>{(async()=>{if(A?.id)try{let[e,s]=await Promise.all([fetch(`${I}/get-followers?userId=${A.id}`),fetch(`${I}/get-following?userId=${A.id}`)]);if(!e.ok||!s.ok)throw Error("Failed to fetch follow data");let t=await e.json(),a=await s.json();t.success&&a.success&&(y(t.followers),k(a.following))}catch(e){console.error("Error fetching follow data:",e)}})()},[A?.id]),(0,r.useEffect)(()=>{(async()=>{if(A?.id)try{let e=await fetch(`${I}/get-workout-summaries?userId=${A.id}`);if(!e.ok)throw Error("Failed to fetch workout summaries");let s=await e.json();if(s.success){let e=s.summaries.map(e=>c.P.fromFirebase(e));if(b(e),t.length>0||w.length>0||N.length>0){let s=[...w,...N],a=(0,x.o)(e,t,s,A.id);j(a)}}}catch(e){console.error("Error fetching workout summaries:",e)}})()},[A?.id,w,N,t]),!A)return i.jsx("div",{children:"Loading..."});let C={instagram:A.creator?.instagramHandle,twitter:A.creator?.twitterHandle,youtube:A.creator?.youtubeUrl};return i.jsx("div",{className:"min-h-screen bg-zinc-900",children:(0,i.jsxs)("div",{className:"relative",children:[i.jsx("div",{className:"h-48 bg-gradient-to-b from-zinc-800 to-zinc-900"}),i.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,i.jsxs)("div",{className:"relative -mt-24",children:[i.jsx("div",{className:"relative inline-block",children:i.jsx("img",{src:A.profileImage?.profileImageURL||"/api/placeholder/96/96",alt:A.displayName,className:"w-24 h-24 rounded-full border-4 border-zinc-900"})}),(0,i.jsxs)("div",{className:"mt-4 text-white",children:[i.jsx("h1",{className:"text-2xl font-bold",children:A.displayName}),(0,i.jsxs)("p",{className:"text-zinc-400",children:["@",A.username]}),(0,i.jsxs)("div",{className:"mt-2 flex items-center gap-4 text-sm text-zinc-400",children:[(0,i.jsxs)("span",{children:[w.length," followers"]}),i.jsx("span",{className:"w-1 h-1 bg-zinc-600 rounded-full"}),(0,i.jsxs)("span",{children:[N.length," following"]})]}),i.jsx("p",{className:"mt-4 text-zinc-300",children:A.bio}),i.jsx("div",{className:"mt-4 flex gap-6",children:Object.entries(C).map(([e,s])=>s?i.jsx("a",{href:function(e,s){switch(e){case"instagram":return`https://instagram.com/${s}`;case"twitter":return`https://twitter.com/${s}`;case"youtube":return s;default:return"#"}}(e,s),target:"_blank",rel:"noopener noreferrer",className:"text-zinc-400 hover:text-white transition-colors",children:i.jsx("img",{src:`/${e}.svg`,alt:e,className:"w-6 h-6 hover:opacity-80"})},e):null)})]}),i.jsx("div",{className:"mt-8 border-b border-zinc-700 overflow-x-auto",children:i.jsx("nav",{className:"flex whitespace-nowrap min-w-full sm:min-w-0 px-4 sm:px-0",children:i.jsx("div",{className:"flex gap-8 pb-2 sm:pb-0",children:Object.values(p).map(t=>(0,i.jsxs)("button",{onClick:()=>s(t),className:`pb-4 px-2 text-sm font-medium transition-colors relative flex-shrink-0
                        ${e===t?"text-white":"text-zinc-400 hover:text-zinc-300"}`,children:[t.charAt(0).toUpperCase()+t.slice(1),e===t&&i.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-white"})]},t))})})}),(0,i.jsxs)("div",{className:"mt-8",children:[e===p.ACTIVITY&&i.jsx("div",{className:"px-5",children:0===v.length?(0,i.jsxs)("div",{className:"flex flex-col items-center justify-center p-8",children:[i.jsx(o.Z,{className:"w-12 h-12 text-white/20"}),i.jsx("h3",{className:"mt-4 text-white font-medium",children:"No activities yet"})]}):i.jsx(n.Z,{activities:v,workoutSummaries:f,userVideos:t,username:A.username,isPublicProfile:!1,onWorkoutSelect:e=>{console.log("Selected workout summary:",e)},onVideoSelect:e=>{console.log("Selected exercise:",e),S(e)},onProfileSelect:e=>{console.log("Selected user profile:",e)}})}),e===p.EXERCISES&&(0,i.jsxs)("div",{className:"px-5",children:[(0,i.jsxs)("h2",{className:"text-xl text-white font-semibold mb-4",children:["Your Videos (",t.length,")"]}),i.jsx(u.Z,{userVideos:t,onSelectVideo:e=>{S(e)}})]}),e===p.CHALLENGES&&i.jsx(d.M,{activeChallenges:h,onSelectChallenge:e=>{console.log("Selected challenge:",e)}})]})]})}),E&&i.jsx(m.default,{exercise:E,user:A,onBack:()=>S(null),onProfileClick:()=>{console.log("Profile clicked")}})]})})};a()}catch(e){a(e)}})},684:(e,s,t)=>{t.a(e,async(e,a)=>{try{t.d(s,{Z:()=>h});var i=t(997),r=t(6689),l=t(8157),c=t(4672),o=t(7963),n=t(6111),d=t(9976),u=t(9544),m=t(1163),x=e([l,u]);[l,u]=x.then?(await x)():x;let h=()=>{let[e,s]=(0,r.useState)(!0),[t,a]=(0,r.useState)("all"),[x,h]=(0,r.useState)(""),[p,g]=(0,r.useState)([]),[f,b]=(0,r.useState)([]),[v,j]=(0,r.useState)([]),[w,y]=(0,r.useState)([]),N=(0,m.useRouter)(),k=[{id:"all",label:"All",icon:i.jsx(c.Z,{className:"w-4 h-4"})},{id:"people",label:"People",icon:i.jsx(o.Z,{className:"w-4 h-4"})},{id:"exercises",label:"Moves",icon:i.jsx(n.Z,{className:"w-4 h-4"})},{id:"bodyparts",label:"Bodyparts",icon:i.jsx(n.Z,{className:"w-4 h-4"})}],E=e=>{N.push(`/profile/${e.username}`)},S=e=>{let s=e.name.toLowerCase().replace(/\s+/g,"-");N.push(`/exercise/${s}`)};return((0,r.useEffect)(()=>{(async()=>{s(!0);try{let e=await l.W4.fetchUsersWithVideosUploaded();j(e)}catch(e){console.error("Error loading initial data:",e)}finally{s(!1)}})()},[]),(0,r.useEffect)(()=>{(async()=>{s(!0);try{let[e,s]=await Promise.all([l.W4.fetchUsersWithVideosUploaded(),u.$Q.fetchFeaturedExercisesWithVideos(24)]);j(e),y(s)}catch(e){console.error("Error loading initial data:",e)}finally{s(!1)}})()},[]),e)?i.jsx("div",{className:"min-h-screen bg-zinc-900 flex items-center justify-center",children:i.jsx("div",{className:"text-white",children:"Loading..."})}):(0,i.jsxs)("div",{className:"min-h-screen bg-zinc-900",children:[i.jsx("div",{className:"sticky top-0 z-10 bg-zinc-900/80 backdrop-blur-sm border-b border-zinc-800 ",children:(0,i.jsxs)("div",{className:"pt-4 px-4",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-3 bg-zinc-800 rounded-lg px-4 py-2",children:[i.jsx(c.Z,{className:"w-5 h-5 text-zinc-400"}),i.jsx("input",{type:"text",placeholder:(()=>{switch(t){case"people":return"Search people..";case"exercises":return"Search exercises..";case"bodyparts":return"Search bodyparts..";default:return"Search people, exercises, or bodyparts.."}})(),value:x,onChange:e=>h(e.target.value),className:"bg-transparent text-white placeholder-zinc-500 flex-1 outline-none"})]}),i.jsx("div",{className:"flex space-x-2 mt-4 pb-4 overflow-x-auto",children:k.map(e=>(0,i.jsxs)("button",{onClick:()=>a(e.id),className:`flex items-center space-x-2 px-4 py-2 rounded-full transition-colors
                  ${t===e.id?"bg-[#E0FE10] text-black":"bg-zinc-800 text-zinc-400 hover:text-white"}`,children:[e.icon,i.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:e.label})]},e.id))})]})}),i.jsx("div",{className:"pt-4 max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:""===x?(0,i.jsxs)("div",{className:"py-4 ",children:[i.jsx("h2",{className:"text-lg font-semibold text-white px-4 mb-4",children:"People"}),i.jsx("div",{className:"overflow-x-auto scrollbar-hide",children:i.jsx("div",{className:"flex flex-nowrap space-x-4 px-4 pb-4 min-w-max",children:v.map(e=>i.jsx("div",{className:"flex-shrink-0 cursor-pointer",onClick:()=>E(e),children:(0,i.jsxs)("div",{className:"relative w-[150px]",children:[(0,i.jsxs)("div",{className:"aspect-square rounded-2xl overflow-hidden bg-zinc-800",children:[e.profileImage?.profileImageURL?i.jsx("img",{src:e.profileImage.profileImageURL,alt:e.username,className:"w-full h-full object-cover"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsx(d.Z,{className:"w-12 h-12 text-zinc-600"})}),e.creator?.type?.includes("personalTrainer")&&i.jsx("div",{className:"absolute bottom-2 right-2",children:i.jsx("div",{className:"bg-[#E0FE10] px-3 py-1 rounded-xl",children:i.jsx("span",{className:"text-xs font-bold text-black tracking-wider",children:"T R A I N E R"})})})]}),(0,i.jsxs)("p",{className:"mt-2 text-sm text-white text-center",children:["@",e.username]})]})},e.id))})}),(0,i.jsxs)("div",{className:"py-4",children:[i.jsx("h2",{className:"text-lg font-semibold text-white px-4 mb-4",children:"Explore New Moves"}),i.jsx("div",{className:"grid grid-cols-3 gap-0",children:w.map(e=>i.jsx("div",{className:"cursor-pointer aspect-[2/3]",onClick:()=>S(e),children:i.jsx("div",{className:"relative w-full h-full",children:e.videos[0]?.gifURL?i.jsx("img",{src:e.videos[0].gifURL,alt:e.name,className:"w-full h-full object-cover"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center bg-zinc-800",children:i.jsx(n.Z,{className:"w-8 h-8 text-zinc-600"})})})},e.id))})]})]}):(0,i.jsxs)("div",{className:"divide-y divide-zinc-800",children:["all"===t&&(0,i.jsxs)(i.Fragment,{children:[i.jsx("div",{className:"px-4 py-2 text-sm font-medium text-zinc-400",children:"People"}),i.jsx("div",{className:"px-4 py-2 text-sm font-medium text-zinc-400",children:"Exercises"})]}),"people"===t&&i.jsx("div",{className:"px-4"}),"exercises"===t&&i.jsx("div",{className:"px-4"})]})})]})};a()}catch(e){a(e)}})},3518:(e,s,t)=>{t.d(s,{f:()=>i});var a=t(997);t(6689);let i=({gifUrl:e,alt:s,frameSize:t,contentMode:i="cover",className:r="",onClick:l})=>{let c=t?{width:`${t.width}px`,height:`${t.height}px`}:{};return a.jsx("div",{className:`relative overflow-hidden rounded-full cursor-pointer ${r}`,style:c,onClick:l,children:a.jsx("img",{src:e,alt:s,className:`w-full h-full object-${i}`,loading:"lazy"})})}},9180:(e,s,t)=>{t.a(e,async(e,a)=>{try{t.r(s),t.d(s,{default:()=>w});var i=t(997),r=t(6689),l=t(747),c=t(6784),o=t(684),n=t(4558),d=t(7229),u=t(3067),m=t(9238),x=t(9315),h=t(401),p=t(9777),g=t(8157),f=t(4802),b=t(1246),v=t(6738);t(1664);var j=e([l,c,o,u,m,h,p,g]);[l,c,o,u,m,h,p,g]=j.then?(await j)():j;let w=()=>{let[e,s]=(0,r.useState)(x.O.Discover),[t,a]=(0,r.useState)(!1),[j,w]=(0,r.useState)(!1),[y,N]=(0,r.useState)(!1),[k,E]=(0,r.useState)(0),[S,I]=(0,r.useState)(!0),A=[new v.lg({id:"log1",workoutId:"workout1",userId:"user123",exercise:new v.cd({id:"ex1",name:"Push-ups",description:"A basic push-up exercise targeting chest, shoulders, and triceps.",category:{type:"bodyWeight",details:{reps:["10"],sets:3,weight:0,screenTime:45}},primaryBodyParts:["chest","triceps"],secondaryBodyParts:["shoulders"],tags:["strength","bodyweight"],videos:[{id:"pushVid1",videoURL:"https://firebasestorage.googleapis.com:443/v0/b/quicklifts-dd3f1.appspot.com/o/videos%2FBench%20Press%2FBench%20Press_iNCW0VxnG3SAtr0IKIAoB3n3EF33%2B1719675103.2404962.mp4?alt=media&token=d38ee8d1-a60b-4966-9999-05d601edc7b6",gifURL:"https://firebasestorage.googleapis.com/v0/b/quicklifts-dd3f1.appspot.com/o/gifs%2FBench%20Press%2F2D817A73-68FC-4E4D-93A3-D360554CE8EE_low.gif?alt=media&token=68da2b3f-0fad-4da7-98db-51b17f23e3b8"}],steps:["Get into plank position","Lower your body","Push back up"],visibility:"public",currentVideoPosition:0,sets:3,reps:"10",weight:0,author:{uid:"author1",displayName:"Pulse Trainer"},createdAt:new Date,updatedAt:new Date}),logs:[],feedback:"",note:"",recommendedWeight:"",isSplit:!1,isBodyWeight:!0,logSubmitted:!1,logIsEditing:!1,isCompleted:!1,order:1,createdAt:new Date,updatedAt:new Date}),new v.lg({id:"log2",workoutId:"workout1",userId:"user123",exercise:new v.cd({id:"ex2",name:"Squats",description:"A compound movement focusing on the lower body.",category:{type:"weightTraining",details:{reps:["8"],sets:4,weight:50,screenTime:60}},primaryBodyParts:["quadriceps","glutes"],secondaryBodyParts:["hamstrings","core"],tags:["strength","compound"],videos:[{id:"pushVid2",videoURL:"https://firebasestorage.googleapis.com:443/v0/b/quicklifts-dd3f1.appspot.com/o/videos%2FBench%20Press%2FBench%20Press_iNCW0VxnG3SAtr0IKIAoB3n3EF33%2B1719675103.2404962.mp4?alt=media&token=d38ee8d1-a60b-4966-9999-05d601edc7b6",gifURL:"https://firebasestorage.googleapis.com/v0/b/quicklifts-dd3f1.appspot.com/o/gifs%2FBench%20Press%2F2D817A73-68FC-4E4D-93A3-D360554CE8EE_low.gif?alt=media&token=68da2b3f-0fad-4da7-98db-51b17f23e3b8"}],steps:["Stand with feet shoulder-width apart","Lower hips","Drive through heels"],visibility:"public",currentVideoPosition:0,sets:4,reps:"8",weight:50,author:{uid:"author1",displayName:"Pulse Trainer"},createdAt:new Date,updatedAt:new Date}),logs:[],feedback:"",note:"",recommendedWeight:"50 lbs",isSplit:!1,isBodyWeight:!1,logSubmitted:!1,logIsEditing:!1,isCompleted:!1,order:2,createdAt:new Date,updatedAt:new Date}),new v.lg({id:"log3",workoutId:"workout1",userId:"user123",exercise:new v.cd({id:"ex3",name:"Planks",description:"An isometric core strength exercise.",category:{type:"bodyWeight",details:{reps:["30s"],sets:3,weight:0,screenTime:30}},primaryBodyParts:["core"],secondaryBodyParts:["shoulders","back"],tags:["endurance","bodyweight"],videos:[{id:"pushVid1",videoURL:"https://firebasestorage.googleapis.com:443/v0/b/quicklifts-dd3f1.appspot.com/o/videos%2FBench%20Press%2FBench%20Press_iNCW0VxnG3SAtr0IKIAoB3n3EF33%2B1719675103.2404962.mp4?alt=media&token=d38ee8d1-a60b-4966-9999-05d601edc7b6",gifURL:"https://firebasestorage.googleapis.com/v0/b/quicklifts-dd3f1.appspot.com/o/gifs%2FBench%20Press%2F2D817A73-68FC-4E4D-93A3-D360554CE8EE_low.gif?alt=media&token=68da2b3f-0fad-4da7-98db-51b17f23e3b8"}],steps:["Assume push-up position","Keep body straight","Hold as long as possible"],visibility:"public",currentVideoPosition:0,sets:3,reps:"30s",weight:0,author:{uid:"author2",displayName:"Core Specialist"},createdAt:new Date,updatedAt:new Date}),logs:[],feedback:"",note:"",recommendedWeight:"",isSplit:!1,isBodyWeight:!0,logSubmitted:!1,logIsEditing:!1,isCompleted:!1,order:3,createdAt:new Date,updatedAt:new Date})];return((0,r.useEffect)(()=>{let e=(0,h.onAuthStateChanged)(p.I,async e=>{if(e)try{let s=await g.W4.fetchUserFromFirestore(e.uid);g.W4.currentUser=s,console.log("User data fetched and set:",s),w(!0),I(!1)}catch(e){console.error("Error fetching user data:",e)}else g.W4.currentUser=null,w(!1),I(!0)});return()=>e()},[]),(0,r.useEffect)(()=>{w(!1),I(!0)},[]),(0,r.useEffect)(()=>{let e=A.findIndex(e=>!e.isCompleted);-1!==e&&E(e)},[A]),y)?i.jsx(b.Z,{exercises:A,currentExerciseIndex:k,onComplete:()=>{k<A.length-1?E(e=>e+1):N(!1)},onClose:()=>{window.confirm("Are you sure you want to end your workout?")&&N(!1)}}):j?(0,i.jsxs)("div",{className:"min-h-screen bg-zinc-900",children:[(0,i.jsxs)("nav",{className:"px-4 py-4 bg-zinc-900/80 backdrop-blur-sm border-b border-zinc-800 sticky top-0 z-10 flex justify-between items-center",children:[i.jsx("img",{src:"/pulse-logo-white.svg",alt:"Pulse",className:"h-8"}),i.jsx("button",{className:"bg-[#E0FE10] text-black px-4 py-2 rounded-lg",onClick:()=>a(!0),children:"Start Workout"})]}),i.jsx("div",{className:"w-full",children:(()=>{switch(e){case x.O.Discover:return i.jsx(c.Z,{});case x.O.Search:return i.jsx(o.Z,{});case x.O.Create:return i.jsx(n.Z,{});case x.O.Messages:return i.jsx(d.Z,{});case x.O.Profile:return i.jsx(u.Z,{});default:return null}})()}),i.jsx(l.Z,{selectedTab:e,onTabChange:s}),i.jsx(f.Z,{isVisible:t,onClose:()=>a(!1)})]}):i.jsx(m.Z,{isVisible:S,onClose:()=>I(!1),onSignInSuccess:e=>{console.log("Sign-in successful:",e),w(!0),I(!1)},onSignInError:e=>{console.error("Sign-in error:",e),alert("Sign-in failed. Please try again.")},onSignUpSuccess:e=>{console.log("Sign-up successful:",e),w(!0),I(!1)},onSignUpError:e=>{console.error("Sign-up error:",e),alert("Sign-up failed. Please try again.")},onQuizComplete:()=>{console.log("Quiz completed successfully")},onQuizSkipped:()=>{console.log("Quiz skipped")}})};a()}catch(e){a(e)}})},9315:(e,s,t)=>{var a;t.d(s,{O:()=>a}),function(e){e.Discover="discover",e.Search="search",e.Create="create",e.Messages="messages",e.Profile="profile"}(a||(a={}))}};
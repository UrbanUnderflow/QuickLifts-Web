exports.id=456,exports.ids=[456],exports.modules={9777:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{I:()=>c,db:()=>u});var i=r(3745),s=r(401),o=r(1492),n=e([i,s,o]);[i,s,o]=n.then?(await n)():n;let d=(0,i.initializeApp)({apiKey:"AIzaSyCBNr8WylRpi7IZ5M_COy1E3LaStQgLMvk",authDomain:"quicklifts-dd3f1.firebaseapp.com",projectId:"quicklifts-dd3f1",storageBucket:"quicklifts-dd3f1.appspot.com",messagingSenderId:"691046627244",appId:"1:691046627244:ios:821c53e53f20c736a9ec09"}),c=(0,s.getAuth)(),u=(0,o.getFirestore)(d);(0,s.setPersistence)(c,s.browserLocalPersistence).then(()=>console.log("Firebase persistence set to LOCAL")).catch(e=>console.error("Error setting persistence:",e)),a()}catch(e){a(e)}})},8157:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{W4:()=>s.W,n5:()=>i.n5});var i=r(1393),s=r(8254),o=e([s]);s=(o.then?(await o)():o)[0],a()}catch(e){a(e)}})},8254:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{W:()=>c});var i=r(1393),s=r(1492),o=r(9777),n=e([s,o]);[s,o]=n.then?(await n)():n;class d{get currentUser(){return this._currentUser}set currentUser(e){this._currentUser=e}async fetchUserFromFirestore(e){let t=(0,s.doc)(o.db,"users",e),r=await (0,s.getDoc)(t);if(!r.exists())throw Error("User not found");return i.n5.fromFirebase(r.data())}async updateUser(e,t){let r=(0,s.doc)(o.db,"users",e);await (0,s.setDoc)(r,t.toFirestore(),{merge:!0})}async fetchUserVideos(e){let t=e||this.currentUser?.id;if(!t)throw Error("No user ID provided");try{let e=(0,s.collection)(o.db,"exerciseVideos"),r=(0,s.query)(e,(0,s.where)("userId","==",t)),a=await (0,s.getDocs)(r),i={};a.docs.forEach(e=>{let t=e.data(),r=t.exercise;if(!r){console.warn(`Exercise name missing for video ${e.id}`);return}let a={id:e.id,exerciseId:t.exerciseId||"",username:t.username||"",userId:t.userId||"",videoURL:t.videoURL||"",fileName:t.fileName||"",exercise:r,profileImage:t.profileImage||{},caption:t.caption||"",gifURL:t.gifURL||"",thumbnail:t.thumbnail||"",visibility:t.visibility||"open",totalAccountsReached:t.totalAccountsReached||0,totalAccountLikes:t.totalAccountLikes||0,totalAccountBookmarked:t.totalAccountBookmarked||0,totalAccountUsage:t.totalAccountUsage||0,isApproved:t.isApproved||!1,liked:t.liked||!1,bookmarked:t.bookmarked||!1,createdAt:t.createdAt?new Date(t.createdAt):new Date,updatedAt:t.updatedAt?new Date(t.updatedAt):new Date};i[r]||(i[r]=[]),i[r].push(a)});let n=(0,s.collection)(o.db,"exercises");return(await (0,s.getDocs)(n)).docs.map(e=>{let t=e.data(),r=t.name;return{id:e.id,name:r,category:t.category,primaryBodyParts:t.primaryBodyParts||[],secondaryBodyParts:t.secondaryBodyParts||[],tags:t.tags||[],description:t.description||"",visibility:t.visibility||"limited",steps:t.steps||[],videos:i[r]||[],currentVideoPosition:0,reps:t.reps||"",sets:t.sets||0,weight:t.weight||0,author:{userId:t.author?.userId||"",username:t.author?.username||""},createdAt:t.createdAt?new Date(t.createdAt):new Date,updatedAt:t.updatedAt?new Date(t.updatedAt):new Date}}).filter(e=>e.videos.length>0)}catch(e){throw console.error("Error fetching user videos:",e),e}}async fetchFollowing(){let e=this.currentUser;if(!e?.id)throw Error("No user is signed in");try{let t=(0,s.collection)(o.db,"followRequests"),r=(0,s.query)(t,(0,s.where)("fromUser.id","==",e.id));return(await (0,s.getDocs)(r)).docs.map(e=>{let t=e.data();return{fromUser:{id:t.fromUser?.id||"",username:t.fromUser?.username||"",displayName:t.fromUser?.displayName||""},toUser:{id:t.toUser?.id||"",username:t.toUser?.username||"",displayName:t.toUser?.displayName||""},status:t.status||"",createdAt:t.createdAt instanceof Date?t.createdAt:t.createdAt?new Date(t.createdAt):new Date,updatedAt:t.updatedAt instanceof Date?t.updatedAt:t.updatedAt?new Date(t.updatedAt):new Date}})}catch(e){throw console.error("Error fetching following:",e),e}}async fetchFollowers(){let e=this.currentUser;if(!e?.id)throw Error("No user is signed in");try{let t=(0,s.collection)(o.db,"followRequests"),r=(0,s.query)(t,(0,s.where)("toUser.id","==",e.id));return(await (0,s.getDocs)(r)).docs.map(e=>{let t=e.data();return{fromUser:{id:t.fromUser?.id||"",username:t.fromUser?.username||"",displayName:t.fromUser?.displayName||""},toUser:{id:t.toUser?.id||"",username:t.toUser?.username||"",displayName:t.toUser?.displayName||""},status:t.status||"",createdAt:t.createdAt instanceof Date?t.createdAt:t.createdAt?new Date(t.createdAt):new Date,updatedAt:t.updatedAt instanceof Date?t.updatedAt:t.updatedAt?new Date(t.updatedAt):new Date}})}catch(e){throw console.error("Error fetching followers:",e),e}}async getUserIdByUsername(e){try{let t=(0,s.collection)(o.db,"users"),r=(0,s.query)(t,(0,s.where)("username","==",e),(0,s.limit)(1)),a=await (0,s.getDocs)(r);if(!a.empty)return a.docs[0].id;return null}catch(e){return console.error("Error fetching user ID by username:",e),null}}async fetchUsersWithVideosUploaded(){try{let e=(0,s.collection)(o.db,"users"),t=(0,s.query)(e,(0,s.where)("videoCount",">",0));return(await (0,s.getDocs)(t)).docs.map(e=>{let t=e.data();return i.n5.fromFirebase({id:e.id,...t})}).filter(e=>e.profileImage?.profileImageURL).sort(()=>Math.random()-.5)}catch(e){return console.error("Error fetching users with videos:",e),[]}}constructor(){this._currentUser=null}}let c=new d;a()}catch(e){a(e)}})},1393:(e,t,r)=>{"use strict";var a,i,s,o,n,d,c,u,l;r.d(t,{m1:()=>h,n5:()=>p});class h{static fromFirebase(e){return{profileImageURL:e.profileImageURL||"",imageOffsetWidth:e.imageOffsetWidth||0,imageOffsetHeight:e.imageOffsetHeight||0}}}class p{constructor(e){this.id=e.id||"",this.displayName=e.displayName||"",this.email=e.email||"",this.username=e.username||"",this.bio=e.bio||"",this.profileImage=h.fromFirebase(e.profileImage||{}),this.followerCount=e.followerCount||0,this.followingCount=e.followingCount||0,this.bodyWeight=Array.isArray(e.bodyWeight)?e.bodyWeight.map(e=>m.fromFirebase(e)):[],this.workoutCount=e.workoutCount||0,this.creator={type:e.creator?.type||[],instagramHandle:e.creator?.instagramHandle||"",twitterHandle:e.creator?.twitterHandle||"",youtubeUrl:e.creator?.youtubeUrl||"",acceptCodeOfConduct:e.creator?.acceptCodeOfConduct||!1,acceptExecutiveTerms:e.creator?.acceptExecutiveTerms||!1,acceptGeneralTerms:e.creator?.acceptGeneralTerms||!1,acceptSweatEquityPartnership:e.creator?.acceptSweatEquityPartnership||!1,onboardingStatus:e.creator?.onboardingStatus||"",onboardingLink:e.creator?.onboardingLink||"",onboardingExpirationDate:e.creator?.onboardingExpirationDate||0},this.createdAt=e.createdAt?new Date(e.createdAt):new Date,this.updatedAt=e.updatedAt?new Date(e.updatedAt):new Date}static fromFirebase(e){return new p({id:e.id||"",displayName:e.displayName||"",username:e.username||"",bio:e.bio||"",profileImage:e.profileImage||{},followerCount:e.followerCount||0,followingCount:e.followingCount||0,bodyWeight:Array.isArray(e.bodyWeight)?e.bodyWeight.map(e=>m.fromFirebase(e)):[],workoutCount:e.workoutCount||0,creator:e.creator||{},createdAt:e.createdAt,updatedAt:e.updatedAt})}toFirestore(){return{id:this.id,displayName:this.displayName,username:this.username,bio:this.bio,profileImage:this.profileImage,followerCount:this.followerCount,followingCount:this.followingCount,bodyWeight:this.bodyWeight,workoutCount:this.workoutCount,creator:this.creator,createdAt:this.createdAt,updatedAt:this.updatedAt}}}(function(e){e.Unsubscribed="Unsubscribed",e.Beta="Beta User",e.Monthly="Monthly Subscriber",e.Annual="Annual Subscriber",e.SweatEquityPartner="Sweat Equity Partner",e.ExecutivePartner="Executive Partner"})(a||(a={})),function(e){e.Novice="novice",e.Intermediate="intermediate",e.Expert="expert"}(i||(i={})),function(e){e.LoseWeight="Lose weight",e.GainWeight="Gain muscle mass",e.ToneUp="Tone up",e.GeneralFitness="General Fitness"}(s||(s={})),function(e){e.Woman="woman",e.Man="man",e.SelfDescribe="I'd rather self describe"}(o||(o={})),function(e){e.iOS="ios",e.Android="android"}(n||(n={})),function(e){e.PersonalTrainer="personal_trainer",e.FitnessEnthusiast="fitness_enthusiast"}(d||(d={})),function(e){e.InspireOthers="inspire_others",e.BuildCommunity="build_community"}(c||(c={})),function(e){e.Introduction="introduction",e.InProgress="in_progress",e.Complete="complete"}(u||(u={})),function(e){e.NotStarted="not_started",e.InProgress="in_progress",e.Completed="completed"}(l||(l={}));class m{constructor(e){let t=Date.now()/1e3;this.id=e.id||crypto.randomUUID(),this.oldWeight=e.oldWeight||0,this.newWeight=e.newWeight||0,this.frontUrl=e.frontUrl||"",this.backUrl=e.backUrl||"",this.sideUrl=e.sideUrl||"",this.createdAt=e.createdAt||t,this.updatedAt=e.updatedAt||t}static fromFirebase(e){return new m({id:e.id||crypto.randomUUID(),oldWeight:e.oldWeight||0,newWeight:e.newWeight||0,frontUrl:e.frontUrl||"",backUrl:e.backUrl||"",sideUrl:e.sideUrl||"",createdAt:e.createdAt||0,updatedAt:e.updatedAt||0})}toFirestore(){return{oldWeight:this.oldWeight,newWeight:this.newWeight,frontUrl:this.frontUrl,backUrl:this.backUrl,sideUrl:this.sideUrl,createdAt:this.createdAt,updatedAt:this.updatedAt}}}},3893:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{default:()=>d});var i=r(997);r(6689);var s=r(3291),o=r(1912);r(7491),r(2636),r(1856);var n=e([s,o]);[s,o]=n.then?(await n)():n;let d=({Component:e,pageProps:t})=>i.jsx(s.Provider,{store:o.h,children:i.jsx(e,{...t})});a()}catch(e){a(e)}})},1070:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var a=r(997),i=r(6859),s=r.n(i);class o extends s(){static async getInitialProps(e){return{...await s().getInitialProps(e)}}render(){return(0,a.jsxs)(i.Html,{lang:"en",children:[a.jsx(i.Head,{}),(0,a.jsxs)("body",{children:[a.jsx(i.Main,{}),a.jsx(i.NextScript,{})]})]})}}let n=o},1912:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{h:()=>d});var i=r(3258),s=r(4484),o=r(1308),n=e([i,s,o]);[i,s,o]=n.then?(await n)():n;let d=(0,i.configureStore)({reducer:{user:s.ZP,workout:o.ZP}});a()}catch(e){a(e)}})},4484:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{K4:()=>d,ZP:()=>c,av:()=>n});var i=r(3258),s=e([i]);i=(s.then?(await s)():s)[0];let o=(0,i.createSlice)({name:"user",initialState:{currentUser:null,loading:!0},reducers:{setUser:(e,t)=>{e.currentUser=t.payload,e.loading=!1},setLoading:(e,t)=>{e.loading=t.payload}}}),{setUser:n,setLoading:d}=o.actions,c=o.reducer;a()}catch(e){a(e)}})},1308:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{HX:()=>d,ZP:()=>c,q1:()=>n});var i=r(3258),s=e([i]);i=(s.then?(await s)():s)[0];let o=(0,i.createSlice)({name:"workout",initialState:{currentWorkout:null,currentExerciseLogs:[]},reducers:{setCurrentWorkout:(e,t)=>{e.currentWorkout=t.payload},setCurrentExerciseLogs:(e,t)=>{e.currentExerciseLogs=t.payload}}}),{setCurrentWorkout:n,setCurrentExerciseLogs:d}=o.actions,c=o.reducer;a()}catch(e){a(e)}})},7491:()=>{},2636:()=>{},1856:()=>{}};
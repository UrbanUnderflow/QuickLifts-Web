"use strict";exports.id=677,exports.ids=[677],exports.modules={6490:(e,t,s)=>{s.d(t,{Z:()=>l});let l=(0,s(1462).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},245:(e,t,s)=>{s.d(t,{Z:()=>l});let l=(0,s(1462).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},4098:(e,t,s)=>{s.d(t,{Z:()=>l});let l=(0,s(1462).Z)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},9967:(e,t,s)=>{s.d(t,{Z:()=>l});let l=(0,s(1462).Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},7218:(e,t,s)=>{s.d(t,{Z:()=>l});let l=(0,s(1462).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},718:(e,t,s)=>{s.d(t,{Z:()=>l});let l=(0,s(1462).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},7963:(e,t,s)=>{s.d(t,{Z:()=>l});let l=(0,s(1462).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},3518:(e,t,s)=>{s.d(t,{f:()=>r});var l=s(997);s(6689);let r=({gifUrl:e,alt:t,frameSize:s,contentMode:r="cover",className:a="",onClick:i})=>{let n=s?{width:`${s.width}px`,height:`${s.height}px`}:{};return l.jsx("div",{className:`relative overflow-hidden rounded-full cursor-pointer ${a}`,style:n,onClick:i,children:l.jsx("img",{src:e,alt:t,className:`w-full h-full object-${r}`,loading:"lazy"})})}},4296:(e,t,s)=>{s.a(e,async(e,l)=>{try{s.d(t,{kg:()=>v,ox:()=>k});var r=s(997),a=s(6689),i=s(4098),n=s(6490),o=s(718),d=s(7218),c=s(245),x=s(9967),m=s(3592),u=s(2069),h=s(3518),g=e([u]);u=(g.then?(await g)():g)[0];let p=({month:e,day:t,weekday:s})=>(0,r.jsxs)("div",{className:"flex flex-col items-center bg-zinc-800 rounded p-2 text-xs",children:[r.jsx("span",{className:"text-gray-400",children:e}),r.jsx("span",{className:"text-white font-bold text-lg",children:t}),r.jsx("span",{className:"text-gray-400",children:s})]}),f=({icon:e,value:t,label:s})=>(0,r.jsxs)("div",{className:"flex items-center gap-1 text-gray-400",children:[e,(0,r.jsxs)("span",{className:"text-sm",children:[t," ",s]})]}),j=({selectedOrder:e,maxOrder:t,workoutDate:s,showCalendar:l,onUpdateOrder:a,onCalendarTap:o})=>(0,r.jsxs)("div",{className:"flex flex-col justify-between py-2 px-4 bg-zinc-800",children:[r.jsx("button",{onClick:()=>a(e-1),disabled:e<=0,className:`p-2 ${e>0?"text-green-500 hover:text-green-400":"text-gray-600"}`,children:r.jsx(i.Z,{size:16})}),l&&s&&r.jsx("button",{onClick:()=>o?.(s),className:"my-2",children:r.jsx(p,{month:(0,m.WU)(s,"MMM").toUpperCase(),day:(0,m.WU)(s,"d"),weekday:(0,m.WU)(s,"EEE").toUpperCase()})}),r.jsx("button",{onClick:()=>a(e+1),disabled:e>=t-1,className:`p-2 ${e<t-1?"text-green-500 hover:text-green-400":"text-gray-600"}`,children:r.jsx(n.Z,{size:16})})]}),y=(e,t,s)=>{if(!s?.length)return!1;let l=new Date(t);l.setHours(0,0,0,0);let r=new Date(t);r.setHours(23,59,59,999);let a=s.filter(e=>{if(!e.completedAt)return!1;let t=new Date(e.completedAt);return t>=l&&t<r}),i=e.exercises.map(e=>e.exercise.id);return a.some(e=>{if(!e.completedAt)return!1;let t=e.exercisesCompleted.map(e=>e.exercise.id);return!!i.some(e=>t.includes(e))&&new Date(e.completedAt).getHours()>=6})},v=({workout:e,gifUrls:t,selectedOrder:s,maxOrder:l,showArrows:i,showCalendar:n,workoutDate:m,backgroundColor:g="bg-zinc-800",isComplete:p=!1,isChallengeEnabled:v=!1,challengeStartDate:k,challengeHasStarted:w,currentDayIndex:N,userChallenge:b,allWorkoutSummaries:C,index:D,onPrimaryAction:Z,onCalendarTap:z,onUpdateOrder:$})=>{let[M,H]=(0,a.useState)(p);(0,a.useEffect)(()=>{if(console.log("\n\uD83D\uDD0D Checking workout completion status"),console.log("\uD83D\uDCCA Initial Data:",{workoutId:e.id,workoutDate:m,challengeStartDate:k,isChallengeEnabled:v,initialIsComplete:p}),!k||!v){console.log("❌ No challenge date or challenge not enabled"),H(p);return}if(m&&m>new Date){console.log("⏳ Future date detected, marking incomplete:",m),H(!1);return}let t=b?.completedWorkouts?.some(t=>(console.log("Comparing:",{completedWorkoutId:t.workoutId,currentWorkoutId:e.id,matches:t.workoutId===e.id}),t.workoutId===e.id));console.log("\uD83C\uDFC6 Completion from userChallenge:",{isMarkedComplete:t,completedWorkouts:b?.completedWorkouts});let s=!!m&&y(e,m,C);console.log("\uD83D\uDCDD Completion from logs:",{completedViaLogs:s,summariesCount:C?.length||0});let l=t||s;console.log("✅ Final completion status:",l),H(l)},[e,k,b,C,m]);let U=`
    rounded-lg overflow-hidden cursor-pointer ${g}
    ${void 0!==D&&D<(N||0)||M?"opacity-70":"opacity-100"}
    ${((e,t)=>{if(void 0===e||!t)return!1;let s=new Date;s.setHours(0,0,0,0);let l=new Date(t);l.setHours(0,0,0,0);let r=Math.abs(s.getTime()-l.getTime());return e===Math.floor(r/864e5)})(D,k)&&w?"ring-2 ring-green-500":""}
  `;return r.jsx("div",{onClick:Z,className:U,children:(0,r.jsxs)("div",{className:"flex",children:[i&&void 0!==s&&void 0!==l&&$&&r.jsx(j,{selectedOrder:s,maxOrder:l,workoutDate:m,showCalendar:!!n,onUpdateOrder:$,onCalendarTap:z}),(0,r.jsxs)("div",{className:"flex-1 p-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:e.title}),(0,r.jsxs)("div",{className:"flex gap-4",children:[r.jsx(f,{icon:r.jsx(o.Z,{size:16}),value:String(e.exercises.length),label:"moves"}),r.jsx(f,{icon:r.jsx(d.Z,{size:16}),value:1>u.oQ.estimatedDuration(e.exercises)?"< 1":String(u.oQ.estimatedDuration(e.exercises)),label:"min"})]})]}),r.jsx(c.Z,{className:"text-gray-500",size:20})]}),r.jsx("div",{className:"flex gap-2 mb-4 overflow-x-auto",children:t.slice(0,3).map((t,s)=>r.jsx("div",{className:"w-24 h-24 rounded-lg overflow-hidden flex-shrink-0",children:r.jsx(h.f,{gifUrl:t,alt:`Exercise ${s+1} preview`,className:"w-full h-full"})},`${e.id}-gif-${s}`))}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"px-3 py-1 bg-green-500 bg-opacity-20 text-green-500 rounded-full text-sm",children:e.zone}),v&&r.jsx(x.Z,{className:M?"text-green-500":"text-gray-600",size:20})]})]})]})})},k=({selectedOrder:e,maxOrder:t,showArrows:s,showCalendar:l,workoutDate:i,backgroundColor:n="bg-zinc-800",isComplete:o=!1,challengeStartDate:d,challengeHasStarted:c,currentDayIndex:m,index:u,onPrimaryAction:h,onCalendarTap:g,onUpdateOrder:p})=>{let[f,y]=(0,a.useState)(o);(0,a.useEffect)(()=>{if(!d||!i){y(o);return}y(i<=new Date)},[i,d,o]);let v=`
    rounded-lg overflow-hidden cursor-pointer ${n}
    ${void 0!==u&&u<(m||0)||f?"opacity-70":"opacity-100"}
    ${((e,t)=>{if(void 0===e||!t)return!1;let s=new Date;s.setHours(0,0,0,0);let l=new Date(t);l.setHours(0,0,0,0);let r=Math.abs(s.getTime()-l.getTime());return e===Math.floor(r/864e5)})(u,d)&&c?"ring-2 ring-green-500":""}
  `;return r.jsx("div",{onClick:h,className:v,children:(0,r.jsxs)("div",{className:"flex",children:[s&&void 0!==e&&void 0!==t&&p&&r.jsx(j,{selectedOrder:e,maxOrder:t,workoutDate:i,showCalendar:!!l,onUpdateOrder:p,onCalendarTap:g}),(0,r.jsxs)("div",{className:"flex-1 p-4",children:[r.jsx("div",{className:"flex justify-between items-start mb-4",children:(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Rest Day"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Take a moment to recover and come back stronger."})]})}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"px-3 py-1 bg-green-500 bg-opacity-20 text-green-500 rounded-full text-sm",children:"Recovery"}),r.jsx(x.Z,{className:f?"text-green-500":"text-gray-600",size:20})]})]})]})})};l()}catch(e){l(e)}})},1070:(e,t,s)=>{s.r(t),s.d(t,{default:()=>n});var l=s(997),r=s(6859),a=s.n(r);class i extends a(){static async getInitialProps(e){return{...await a().getInitialProps(e)}}render(){return(0,l.jsxs)(r.Html,{lang:"en",children:[l.jsx(r.Head,{}),(0,l.jsxs)("body",{children:[l.jsx(r.Main,{}),l.jsx(r.NextScript,{})]})]})}}let n=i}};
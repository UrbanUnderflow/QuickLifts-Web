exports.id=893,exports.ids=[893],exports.modules={9777:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{I:()=>u,db:()=>l,t:()=>h});var i=r(3745),o=r(401),s=r(1492),n=r(3392),d=e([i,o,s,n]);[i,o,s,n]=d.then?(await d)():d;let c=(0,i.initializeApp)({apiKey:"AIzaSyCBNr8WylRpi7IZ5M_COy1E3LaStQgLMvk",authDomain:"quicklifts-dd3f1.firebaseapp.com",projectId:"quicklifts-dd3f1",storageBucket:"quicklifts-dd3f1.appspot.com",messagingSenderId:"691046627244",appId:"1:691046627244:ios:821c53e53f20c736a9ec09"}),u=(0,o.getAuth)(),l=(0,s.getFirestore)(c),h=(0,n.getStorage)(c);(0,o.setPersistence)(u,o.browserLocalPersistence).then(()=>console.log("Firebase persistence set to LOCAL")).catch(e=>console.error("Error setting persistence:",e)),a()}catch(e){a(e)}})},8157:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{W4:()=>o.W,n5:()=>i.n5});var i=r(1393),o=r(8254),s=e([o]);o=(s.then?(await s)():s)[0],a()}catch(e){a(e)}})},8254:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{W:()=>c});var i=r(1393),o=r(1492),s=r(9777),n=e([o,s]);[o,s]=n.then?(await n)():n;class d{get currentUser(){return this._currentUser}set currentUser(e){this._currentUser=e}async fetchUserFromFirestore(e){let t=(0,o.doc)(s.db,"users",e),r=await (0,o.getDoc)(t);if(!r.exists())throw Error("User not found");return i.n5.fromFirebase(r.data())}async updateUser(e,t){let r=(0,o.doc)(s.db,"users",e);await (0,o.setDoc)(r,t.toFirestore(),{merge:!0})}async fetchUserVideos(e){let t=e||this.currentUser?.id;if(!t)throw Error("No user ID provided");try{let e=(0,o.collection)(s.db,"exerciseVideos"),r=(0,o.query)(e,(0,o.where)("userId","==",t)),a=await (0,o.getDocs)(r),i={};a.docs.forEach(e=>{let t=e.data(),r=t.exercise;if(!r){console.warn(`Exercise name missing for video ${e.id}`);return}let a={id:e.id,exerciseId:t.exerciseId||"",username:t.username||"",userId:t.userId||"",videoURL:t.videoURL||"",fileName:t.fileName||"",exercise:r,profileImage:t.profileImage||{},caption:t.caption||"",gifURL:t.gifURL||"",thumbnail:t.thumbnail||"",visibility:t.visibility||"open",totalAccountsReached:t.totalAccountsReached||0,totalAccountLikes:t.totalAccountLikes||0,totalAccountBookmarked:t.totalAccountBookmarked||0,totalAccountUsage:t.totalAccountUsage||0,isApproved:t.isApproved||!1,liked:t.liked||!1,bookmarked:t.bookmarked||!1,createdAt:t.createdAt?new Date(t.createdAt):new Date,updatedAt:t.updatedAt?new Date(t.updatedAt):new Date};i[r]||(i[r]=[]),i[r].push(a)});let n=(0,o.collection)(s.db,"exercises");return(await (0,o.getDocs)(n)).docs.map(e=>{let t=e.data(),r=t.name;return{id:e.id,name:r,category:t.category,primaryBodyParts:t.primaryBodyParts||[],secondaryBodyParts:t.secondaryBodyParts||[],tags:t.tags||[],description:t.description||"",visibility:t.visibility||"limited",steps:t.steps||[],videos:i[r]||[],currentVideoPosition:0,reps:t.reps||"",sets:t.sets||0,weight:t.weight||0,author:{userId:t.author?.userId||"",username:t.author?.username||""},createdAt:t.createdAt?new Date(t.createdAt):new Date,updatedAt:t.updatedAt?new Date(t.updatedAt):new Date}}).filter(e=>e.videos.length>0)}catch(e){throw console.error("Error fetching user videos:",e),e}}async fetchFollowing(){let e=this.currentUser;if(!e?.id)throw Error("No user is signed in");try{let t=(0,o.collection)(s.db,"followRequests"),r=(0,o.query)(t,(0,o.where)("fromUser.id","==",e.id));return(await (0,o.getDocs)(r)).docs.map(e=>{let t=e.data();return{fromUser:{id:t.fromUser?.id||"",username:t.fromUser?.username||"",displayName:t.fromUser?.displayName||""},toUser:{id:t.toUser?.id||"",username:t.toUser?.username||"",displayName:t.toUser?.displayName||""},status:t.status||"",createdAt:t.createdAt instanceof Date?t.createdAt:t.createdAt?new Date(t.createdAt):new Date,updatedAt:t.updatedAt instanceof Date?t.updatedAt:t.updatedAt?new Date(t.updatedAt):new Date}})}catch(e){throw console.error("Error fetching following:",e),e}}async fetchFollowers(){let e=this.currentUser;if(!e?.id)throw Error("No user is signed in");try{let t=(0,o.collection)(s.db,"followRequests"),r=(0,o.query)(t,(0,o.where)("toUser.id","==",e.id));return(await (0,o.getDocs)(r)).docs.map(e=>{let t=e.data();return{fromUser:{id:t.fromUser?.id||"",username:t.fromUser?.username||"",displayName:t.fromUser?.displayName||""},toUser:{id:t.toUser?.id||"",username:t.toUser?.username||"",displayName:t.toUser?.displayName||""},status:t.status||"",createdAt:t.createdAt instanceof Date?t.createdAt:t.createdAt?new Date(t.createdAt):new Date,updatedAt:t.updatedAt instanceof Date?t.updatedAt:t.updatedAt?new Date(t.updatedAt):new Date}})}catch(e){throw console.error("Error fetching followers:",e),e}}async getUserIdByUsername(e){try{let t=(0,o.collection)(s.db,"users"),r=(0,o.query)(t,(0,o.where)("username","==",e),(0,o.limit)(1)),a=await (0,o.getDocs)(r);if(!a.empty)return a.docs[0].id;return null}catch(e){return console.error("Error fetching user ID by username:",e),null}}async fetchUsersWithVideosUploaded(){try{let e=(0,o.collection)(s.db,"users"),t=(0,o.query)(e,(0,o.where)("videoCount",">",0));return(await (0,o.getDocs)(t)).docs.map(e=>{let t=e.data();return i.n5.fromFirebase({id:e.id,...t})}).filter(e=>e.profileImage?.profileImageURL).sort(()=>Math.random()-.5)}catch(e){return console.error("Error fetching users with videos:",e),[]}}constructor(){this._currentUser=null}}let c=new d;a()}catch(e){a(e)}})},1393:(e,t,r)=>{"use strict";var a,i,o,s,n,d,c,u,l;r.d(t,{m1:()=>h,n5:()=>m});class h{static fromFirebase(e){return{profileImageURL:e.profileImageURL||"",imageOffsetWidth:e.imageOffsetWidth||0,imageOffsetHeight:e.imageOffsetHeight||0}}}class m{constructor(e){this.level="novice",this.videoCount=0,this.id=e.id||"",this.displayName=e.displayName||"",this.email=e.email||"",this.username=e.username||"",this.bio=e.bio||"",this.profileImage=h.fromFirebase(e.profileImage||{}),this.fcmToken=e.fcmToken||"",this.level=e.level||"novice",this.videoCount=e.videoCount||0,this.followerCount=e.followerCount||0,this.followingCount=e.followingCount||0,this.bodyWeight=Array.isArray(e.bodyWeight)?e.bodyWeight.map(e=>p.fromFirebase(e)):[],this.workoutCount=e.workoutCount||0,this.creator={type:e.creator?.type||[],instagramHandle:e.creator?.instagramHandle||"",twitterHandle:e.creator?.twitterHandle||"",youtubeUrl:e.creator?.youtubeUrl||"",acceptCodeOfConduct:e.creator?.acceptCodeOfConduct||!1,acceptExecutiveTerms:e.creator?.acceptExecutiveTerms||!1,acceptGeneralTerms:e.creator?.acceptGeneralTerms||!1,acceptSweatEquityPartnership:e.creator?.acceptSweatEquityPartnership||!1,onboardingStatus:e.creator?.onboardingStatus||"",onboardingLink:e.creator?.onboardingLink||"",onboardingExpirationDate:e.creator?.onboardingExpirationDate||0},this.bodyWeight=Array.isArray(e.bodyWeight)?e.bodyWeight.map(e=>p.fromFirebase(e)):[],this.createdAt=e.createdAt?new Date(e.createdAt):new Date,this.updatedAt=e.updatedAt?new Date(e.updatedAt):new Date}static toShortUser(e){return{id:e.id,displayName:e.displayName,email:e.email,username:e.username,level:e.level||"novice",videoCount:e.workoutCount,profileImage:e.profileImage,fcmToken:e.fcmToken}}static fromFirebase(e){return new m({id:e.id||"",displayName:e.displayName||"",username:e.username||"",bio:e.bio||"",profileImage:e.profileImage||{},followerCount:e.followerCount||0,followingCount:e.followingCount||0,bodyWeight:Array.isArray(e.bodyWeight)?e.bodyWeight.map(e=>p.fromFirebase(e)):[],workoutCount:e.workoutCount||0,creator:e.creator||{},createdAt:e.createdAt,updatedAt:e.updatedAt})}toFirestore(){return{id:this.id,displayName:this.displayName,username:this.username,bio:this.bio,profileImage:this.profileImage,followerCount:this.followerCount,followingCount:this.followingCount,bodyWeight:this.bodyWeight,workoutCount:this.workoutCount,creator:this.creator,createdAt:this.createdAt,updatedAt:this.updatedAt}}}(function(e){e.Unsubscribed="Unsubscribed",e.Beta="Beta User",e.Monthly="Monthly Subscriber",e.Annual="Annual Subscriber",e.SweatEquityPartner="Sweat Equity Partner",e.ExecutivePartner="Executive Partner"})(a||(a={})),function(e){e.Novice="novice",e.Intermediate="intermediate",e.Expert="expert"}(i||(i={})),function(e){e.LoseWeight="Lose weight",e.GainWeight="Gain muscle mass",e.ToneUp="Tone up",e.GeneralFitness="General Fitness"}(o||(o={})),function(e){e.Woman="woman",e.Man="man",e.SelfDescribe="I'd rather self describe"}(s||(s={})),function(e){e.iOS="ios",e.Android="android"}(n||(n={})),function(e){e.PersonalTrainer="personal_trainer",e.FitnessEnthusiast="fitness_enthusiast"}(d||(d={})),function(e){e.InspireOthers="inspire_others",e.BuildCommunity="build_community"}(c||(c={})),function(e){e.Introduction="introduction",e.InProgress="in_progress",e.Complete="complete"}(u||(u={})),function(e){e.NotStarted="not_started",e.InProgress="in_progress",e.Completed="completed"}(l||(l={}));class p{constructor(e){let t=Date.now()/1e3;this.id=e.id||crypto.randomUUID(),this.oldWeight=e.oldWeight||0,this.newWeight=e.newWeight||0,this.frontUrl=e.frontUrl||"",this.backUrl=e.backUrl||"",this.sideUrl=e.sideUrl||"",this.createdAt=e.createdAt||t,this.updatedAt=e.updatedAt||t}static fromFirebase(e){return new p({id:e.id||crypto.randomUUID(),oldWeight:e.oldWeight||0,newWeight:e.newWeight||0,frontUrl:e.frontUrl||"",backUrl:e.backUrl||"",sideUrl:e.sideUrl||"",createdAt:e.createdAt||0,updatedAt:e.updatedAt||0})}toFirestore(){return{oldWeight:this.oldWeight,newWeight:this.newWeight,frontUrl:this.frontUrl,backUrl:this.backUrl,sideUrl:this.sideUrl,createdAt:this.createdAt,updatedAt:this.updatedAt}}}},130:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{Z:()=>l});var i=r(997),o=r(6689),s=r(3291),n=r(401),d=r(4484),c=r(8157),u=e([s,n,d,c]);[s,n,d,c]=u.then?(await u)():u;let l=({children:e})=>{let t=(0,s.useDispatch)(),r=(0,n.getAuth)();return(0,o.useEffect)(()=>{t((0,d.K4)(!0));let e=(0,n.onAuthStateChanged)(r,async e=>{if(e)try{let r=await c.W4.fetchUserFromFirestore(e.uid);t((0,d.av)(r)),c.W4.currentUser=r}catch(e){console.error("Error fetching user data:",e),t((0,d.av)(null))}else t((0,d.av)(null)),c.W4.currentUser=null;t((0,d.K4)(!1))});return()=>e()},[t,r]),i.jsx(i.Fragment,{children:e})};a()}catch(e){a(e)}})},3893:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{default:()=>c});var i=r(997);r(6689);var o=r(3291),s=r(1912);r(7491),r(2636),r(1856);var n=r(130),d=e([o,s,n]);[o,s,n]=d.then?(await d)():d;let c=({Component:e,pageProps:t})=>i.jsx(o.Provider,{store:s.h,children:i.jsx(n.Z,{children:i.jsx(e,{...t})})});a()}catch(e){a(e)}})},1912:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{h:()=>d});var i=r(3258),o=r(4484),s=r(1308),n=e([i,o,s]);[i,o,s]=n.then?(await n)():n;let d=(0,i.configureStore)({reducer:{user:o.ZP,workout:s.ZP}});a()}catch(e){a(e)}})},4484:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{K4:()=>d,ZP:()=>c,av:()=>n});var i=r(3258),o=e([i]);i=(o.then?(await o)():o)[0];let s=(0,i.createSlice)({name:"user",initialState:{currentUser:null,loading:!0},reducers:{setUser:(e,t)=>{e.currentUser=t.payload,e.loading=!1},setLoading:(e,t)=>{e.loading=t.payload}}}),{setUser:n,setLoading:d}=s.actions,c=s.reducer;a()}catch(e){a(e)}})},1308:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{HX:()=>d,ZP:()=>c,q1:()=>n});var i=r(3258),o=e([i]);i=(o.then?(await o)():o)[0];let s=(0,i.createSlice)({name:"workout",initialState:{currentWorkout:null,currentExerciseLogs:[]},reducers:{setCurrentWorkout:(e,t)=>{e.currentWorkout=t.payload},setCurrentExerciseLogs:(e,t)=>{e.currentExerciseLogs=t.payload}}}),{setCurrentWorkout:n,setCurrentExerciseLogs:d}=s.actions,c=s.reducer;a()}catch(e){a(e)}})},7491:()=>{},2636:()=>{},1856:()=>{}};
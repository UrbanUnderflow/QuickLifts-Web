/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/_error";
exports.ids = ["pages/_error"];
exports.modules = {

/***/ "__barrel_optimize__?names=Camera,X!=!./node_modules/lucide-react/dist/esm/lucide-react.js":
/*!*************************************************************************************************!*\
  !*** __barrel_optimize__?names=Camera,X!=!./node_modules/lucide-react/dist/esm/lucide-react.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Camera: () => (/* reexport safe */ _icons_camera_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]),\n/* harmony export */   X: () => (/* reexport safe */ _icons_x_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var _icons_camera_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./icons/camera.js */ \"./node_modules/lucide-react/dist/esm/icons/camera.js\");\n/* harmony import */ var _icons_x_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./icons/x.js */ \"./node_modules/lucide-react/dist/esm/icons/x.js\");\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiX19iYXJyZWxfb3B0aW1pemVfXz9uYW1lcz1DYW1lcmEsWCE9IS4vbm9kZV9tb2R1bGVzL2x1Y2lkZS1yZWFjdC9kaXN0L2VzbS9sdWNpZGUtcmVhY3QuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFDcUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1hcHAvLi9ub2RlX21vZHVsZXMvbHVjaWRlLXJlYWN0L2Rpc3QvZXNtL2x1Y2lkZS1yZWFjdC5qcz9jYTUxIl0sInNvdXJjZXNDb250ZW50IjpbIlxuZXhwb3J0IHsgZGVmYXVsdCBhcyBDYW1lcmEgfSBmcm9tIFwiLi9pY29ucy9jYW1lcmEuanNcIlxuZXhwb3J0IHsgZGVmYXVsdCBhcyBYIH0gZnJvbSBcIi4vaWNvbnMveC5qc1wiIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///__barrel_optimize__?names=Camera,X!=!./node_modules/lucide-react/dist/esm/lucide-react.js\n");

/***/ }),

/***/ "__barrel_optimize__?names=format!=!./node_modules/date-fns/index.js":
/*!***************************************************************************!*\
  !*** __barrel_optimize__?names=format!=!./node_modules/date-fns/index.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   format: () => (/* reexport safe */ _Users_tremainegrant_Documents_GitHub_QuickLifts_Web_node_modules_date_fns_format_js__WEBPACK_IMPORTED_MODULE_0__.format)
/* harmony export */ });
/* harmony import */ var _Users_tremainegrant_Documents_GitHub_QuickLifts_Web_node_modules_date_fns_format_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/date-fns/format.js */ "./node_modules/date-fns/format.js");



/***/ }),

/***/ "./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F_error&preferredRegion=&absolutePagePath=private-next-pages%2F_error&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F_error&preferredRegion=&absolutePagePath=private-next-pages%2F_error&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   getServerSideProps: () => (/* binding */ getServerSideProps),\n/* harmony export */   getStaticPaths: () => (/* binding */ getStaticPaths),\n/* harmony export */   getStaticProps: () => (/* binding */ getStaticProps),\n/* harmony export */   reportWebVitals: () => (/* binding */ reportWebVitals),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   unstable_getServerProps: () => (/* binding */ unstable_getServerProps),\n/* harmony export */   unstable_getServerSideProps: () => (/* binding */ unstable_getServerSideProps),\n/* harmony export */   unstable_getStaticParams: () => (/* binding */ unstable_getStaticParams),\n/* harmony export */   unstable_getStaticPaths: () => (/* binding */ unstable_getStaticPaths),\n/* harmony export */   unstable_getStaticProps: () => (/* binding */ unstable_getStaticProps)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages/module.compiled */ \"./node_modules/next/dist/server/future/route-modules/pages/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var private_next_pages_document__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! private-next-pages/_document */ \"./src/pages/_document.tsx\");\n/* harmony import */ var private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! private-next-pages/_app */ \"./src/pages/_app.tsx\");\n/* harmony import */ var private_next_pages_error__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! private-next-pages/_error */ \"./node_modules/next/dist/pages/_error.js\");\n/* harmony import */ var private_next_pages_error__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(private_next_pages_error__WEBPACK_IMPORTED_MODULE_5__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__]);\nprivate_next_pages_app__WEBPACK_IMPORTED_MODULE_4__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the app and document modules.\n\n\n// Import the userland code.\n\n// Re-export the component (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(private_next_pages_error__WEBPACK_IMPORTED_MODULE_5__, \"default\"));\n// Re-export methods.\nconst getStaticProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(private_next_pages_error__WEBPACK_IMPORTED_MODULE_5__, \"getStaticProps\");\nconst getStaticPaths = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(private_next_pages_error__WEBPACK_IMPORTED_MODULE_5__, \"getStaticPaths\");\nconst getServerSideProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(private_next_pages_error__WEBPACK_IMPORTED_MODULE_5__, \"getServerSideProps\");\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(private_next_pages_error__WEBPACK_IMPORTED_MODULE_5__, \"config\");\nconst reportWebVitals = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(private_next_pages_error__WEBPACK_IMPORTED_MODULE_5__, \"reportWebVitals\");\n// Re-export legacy methods.\nconst unstable_getStaticProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(private_next_pages_error__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticProps\");\nconst unstable_getStaticPaths = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(private_next_pages_error__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticPaths\");\nconst unstable_getStaticParams = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(private_next_pages_error__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticParams\");\nconst unstable_getServerProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(private_next_pages_error__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getServerProps\");\nconst unstable_getServerSideProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(private_next_pages_error__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getServerSideProps\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES,\n        page: \"/_error\",\n        pathname: \"/_error\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    components: {\n        App: private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n        Document: private_next_pages_document__WEBPACK_IMPORTED_MODULE_3__[\"default\"]\n    },\n    userland: private_next_pages_error__WEBPACK_IMPORTED_MODULE_5__\n});\n\n//# sourceMappingURL=pages.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTJnBhZ2U9JTJGX2Vycm9yJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD1wcml2YXRlLW5leHQtcGFnZXMlMkZfZXJyb3ImYWJzb2x1dGVBcHBQYXRoPXByaXZhdGUtbmV4dC1wYWdlcyUyRl9hcHAmYWJzb2x1dGVEb2N1bWVudFBhdGg9cHJpdmF0ZS1uZXh0LXBhZ2VzJTJGX2RvY3VtZW50Jm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUErRjtBQUNoQztBQUNMO0FBQzFEO0FBQ29EO0FBQ1Y7QUFDMUM7QUFDc0Q7QUFDdEQ7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLHFEQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLHVCQUF1Qix3RUFBSyxDQUFDLHFEQUFRO0FBQ3JDLHVCQUF1Qix3RUFBSyxDQUFDLHFEQUFRO0FBQ3JDLDJCQUEyQix3RUFBSyxDQUFDLHFEQUFRO0FBQ3pDLGVBQWUsd0VBQUssQ0FBQyxxREFBUTtBQUM3Qix3QkFBd0Isd0VBQUssQ0FBQyxxREFBUTtBQUM3QztBQUNPLGdDQUFnQyx3RUFBSyxDQUFDLHFEQUFRO0FBQzlDLGdDQUFnQyx3RUFBSyxDQUFDLHFEQUFRO0FBQzlDLGlDQUFpQyx3RUFBSyxDQUFDLHFEQUFRO0FBQy9DLGdDQUFnQyx3RUFBSyxDQUFDLHFEQUFRO0FBQzlDLG9DQUFvQyx3RUFBSyxDQUFDLHFEQUFRO0FBQ3pEO0FBQ08sd0JBQXdCLHlHQUFnQjtBQUMvQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLFdBQVc7QUFDWCxnQkFBZ0I7QUFDaEIsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVELGlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktYXBwLz80MDBiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9wYWdlcy9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgYXBwIGFuZCBkb2N1bWVudCBtb2R1bGVzLlxuaW1wb3J0IERvY3VtZW50IGZyb20gXCJwcml2YXRlLW5leHQtcGFnZXMvX2RvY3VtZW50XCI7XG5pbXBvcnQgQXBwIGZyb20gXCJwcml2YXRlLW5leHQtcGFnZXMvX2FwcFwiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcInByaXZhdGUtbmV4dC1wYWdlcy9fZXJyb3JcIjtcbi8vIFJlLWV4cG9ydCB0aGUgY29tcG9uZW50IChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgbWV0aG9kcy5cbmV4cG9ydCBjb25zdCBnZXRTdGF0aWNQcm9wcyA9IGhvaXN0KHVzZXJsYW5kLCBcImdldFN0YXRpY1Byb3BzXCIpO1xuZXhwb3J0IGNvbnN0IGdldFN0YXRpY1BhdGhzID0gaG9pc3QodXNlcmxhbmQsIFwiZ2V0U3RhdGljUGF0aHNcIik7XG5leHBvcnQgY29uc3QgZ2V0U2VydmVyU2lkZVByb3BzID0gaG9pc3QodXNlcmxhbmQsIFwiZ2V0U2VydmVyU2lkZVByb3BzXCIpO1xuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbmV4cG9ydCBjb25zdCByZXBvcnRXZWJWaXRhbHMgPSBob2lzdCh1c2VybGFuZCwgXCJyZXBvcnRXZWJWaXRhbHNcIik7XG4vLyBSZS1leHBvcnQgbGVnYWN5IG1ldGhvZHMuXG5leHBvcnQgY29uc3QgdW5zdGFibGVfZ2V0U3RhdGljUHJvcHMgPSBob2lzdCh1c2VybGFuZCwgXCJ1bnN0YWJsZV9nZXRTdGF0aWNQcm9wc1wiKTtcbmV4cG9ydCBjb25zdCB1bnN0YWJsZV9nZXRTdGF0aWNQYXRocyA9IGhvaXN0KHVzZXJsYW5kLCBcInVuc3RhYmxlX2dldFN0YXRpY1BhdGhzXCIpO1xuZXhwb3J0IGNvbnN0IHVuc3RhYmxlX2dldFN0YXRpY1BhcmFtcyA9IGhvaXN0KHVzZXJsYW5kLCBcInVuc3RhYmxlX2dldFN0YXRpY1BhcmFtc1wiKTtcbmV4cG9ydCBjb25zdCB1bnN0YWJsZV9nZXRTZXJ2ZXJQcm9wcyA9IGhvaXN0KHVzZXJsYW5kLCBcInVuc3RhYmxlX2dldFNlcnZlclByb3BzXCIpO1xuZXhwb3J0IGNvbnN0IHVuc3RhYmxlX2dldFNlcnZlclNpZGVQcm9wcyA9IGhvaXN0KHVzZXJsYW5kLCBcInVuc3RhYmxlX2dldFNlcnZlclNpZGVQcm9wc1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTLFxuICAgICAgICBwYWdlOiBcIi9fZXJyb3JcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL19lcnJvclwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICBjb21wb25lbnRzOiB7XG4gICAgICAgIEFwcCxcbiAgICAgICAgRG9jdW1lbnRcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F_error&preferredRegion=&absolutePagePath=private-next-pages%2F_error&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "./src/api/firebase/auth/index.ts":
/*!****************************************!*\
  !*** ./src/api/firebase/auth/index.ts ***!
  \****************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* reexport safe */ _methods__WEBPACK_IMPORTED_MODULE_1__.authMethods)\n/* harmony export */ });\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types */ \"./src/api/firebase/auth/types.ts\");\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _types__WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== \"default\") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _types__WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n/* harmony import */ var _methods__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./methods */ \"./src/api/firebase/auth/methods.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_methods__WEBPACK_IMPORTED_MODULE_1__]);\n_methods__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYXBpL2ZpcmViYXNlL2F1dGgvaW5kZXgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQXdCO0FBQzJCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktYXBwLy4vc3JjL2FwaS9maXJlYmFzZS9hdXRoL2luZGV4LnRzPzc0Y2UiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSAnLi90eXBlcyc7XG5leHBvcnQgeyBhdXRoTWV0aG9kcyBhcyBkZWZhdWx0IH0gZnJvbSAnLi9tZXRob2RzJzsiXSwibmFtZXMiOlsiYXV0aE1ldGhvZHMiLCJkZWZhdWx0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/api/firebase/auth/index.ts\n");

/***/ }),

/***/ "./src/api/firebase/auth/methods.ts":
/*!******************************************!*\
  !*** ./src/api/firebase/auth/methods.ts ***!
  \******************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authMethods: () => (/* binding */ authMethods)\n/* harmony export */ });\n/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/auth */ \"firebase/auth\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! firebase/firestore */ \"firebase/firestore\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../config */ \"./src/api/firebase/config.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([firebase_auth__WEBPACK_IMPORTED_MODULE_0__, firebase_firestore__WEBPACK_IMPORTED_MODULE_1__, _config__WEBPACK_IMPORTED_MODULE_2__]);\n([firebase_auth__WEBPACK_IMPORTED_MODULE_0__, firebase_firestore__WEBPACK_IMPORTED_MODULE_1__, _config__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\nconst authMethods = {\n    async signUpWithEmail ({ email, password, username, profileImage, quizData }) {\n        try {\n            const userCredential = await (0,firebase_auth__WEBPACK_IMPORTED_MODULE_0__.createUserWithEmailAndPassword)(_config__WEBPACK_IMPORTED_MODULE_2__.auth, email, password);\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.setDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.doc)(_config__WEBPACK_IMPORTED_MODULE_2__.db, \"users\", userCredential.user.uid), {\n                email,\n                username,\n                createdAt: new Date(),\n                quizData: quizData || null\n            });\n            if (profileImage) {\n            // TODO: Handle profile image upload\n            }\n            return userCredential;\n        } catch (error) {\n            console.error(\"Error in signUpWithEmail:\", error);\n            throw error;\n        }\n    },\n    async signInWithEmail (email, password) {\n        return (0,firebase_auth__WEBPACK_IMPORTED_MODULE_0__.signInWithEmailAndPassword)(_config__WEBPACK_IMPORTED_MODULE_2__.auth, email, password);\n    },\n    async signInWithGoogle () {\n        const provider = new firebase_auth__WEBPACK_IMPORTED_MODULE_0__.GoogleAuthProvider();\n        provider.addScope(\"email\");\n        provider.addScope(\"profile\");\n        try {\n            const result = await (0,firebase_auth__WEBPACK_IMPORTED_MODULE_0__.signInWithPopup)(_config__WEBPACK_IMPORTED_MODULE_2__.auth, provider, firebase_auth__WEBPACK_IMPORTED_MODULE_0__.browserPopupRedirectResolver);\n            return result;\n        } catch (error) {\n            console.error(\"Error in signInWithGoogle:\", error);\n            throw error;\n        }\n    },\n    async signInWithApple () {\n        const provider = new firebase_auth__WEBPACK_IMPORTED_MODULE_0__.OAuthProvider(\"apple.com\");\n        // Add these configurations\n        provider.addScope(\"email\");\n        provider.addScope(\"name\");\n        // Add your service ID\n        provider.setCustomParameters({\n            client_id: \"com.pulsefitnesscollective.pulse.web\",\n            redirect_uri: window.location.origin // Your app's URL\n        });\n        try {\n            return await (0,firebase_auth__WEBPACK_IMPORTED_MODULE_0__.signInWithRedirect)(_config__WEBPACK_IMPORTED_MODULE_2__.auth, provider);\n        } catch (error) {\n            console.error(\"Error during Apple sign-in redirect:\", error);\n            throw error;\n        }\n    }\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYXBpL2ZpcmViYXNlL2F1dGgvbWV0aG9kcy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBUXVCO0FBQzBCO0FBQ1o7QUFJNUIsTUFBTVcsY0FBMkI7SUFDdEMsTUFBTUMsaUJBQWdCLEVBQUVDLEtBQUssRUFBRUMsUUFBUSxFQUFFQyxRQUFRLEVBQUVDLFlBQVksRUFBRUMsUUFBUSxFQUFjO1FBQ3JGLElBQUk7WUFDRixNQUFNQyxpQkFBaUIsTUFBTWxCLDZFQUE4QkEsQ0FBQ1MseUNBQUlBLEVBQUVJLE9BQU9DO1lBRXpFLE1BQU1OLDBEQUFNQSxDQUFDRCx1REFBR0EsQ0FBQ0csdUNBQUVBLEVBQUUsU0FBU1EsZUFBZUMsSUFBSSxDQUFDQyxHQUFHLEdBQUc7Z0JBQ3REUDtnQkFDQUU7Z0JBQ0FNLFdBQVcsSUFBSUM7Z0JBQ2ZMLFVBQVVBLFlBQVk7WUFDeEI7WUFFQSxJQUFJRCxjQUFjO1lBQ2hCLG9DQUFvQztZQUN0QztZQUVBLE9BQU9FO1FBQ1QsRUFBRSxPQUFPSyxPQUFPO1lBQ2RDLFFBQVFELEtBQUssQ0FBQyw2QkFBNkJBO1lBQzNDLE1BQU1BO1FBQ1I7SUFDRjtJQUVBLE1BQU1FLGlCQUFnQlosS0FBYSxFQUFFQyxRQUFnQjtRQUNuRCxPQUFPYix5RUFBMEJBLENBQUNRLHlDQUFJQSxFQUFFSSxPQUFPQztJQUNqRDtJQUVBLE1BQU1ZO1FBQ0osTUFBTUMsV0FBVyxJQUFJdkIsNkRBQWtCQTtRQUN2Q3VCLFNBQVNDLFFBQVEsQ0FBQztRQUNsQkQsU0FBU0MsUUFBUSxDQUFDO1FBRWxCLElBQUk7WUFDRixNQUFNQyxTQUFTLE1BQU0zQiw4REFBZUEsQ0FBQ08seUNBQUlBLEVBQUVrQixVQUFVdEIsdUVBQTRCQTtZQUNqRixPQUFPd0I7UUFDVCxFQUFFLE9BQU9OLE9BQU87WUFDZEMsUUFBUUQsS0FBSyxDQUFDLDhCQUE4QkE7WUFDNUMsTUFBTUE7UUFDUjtJQUNGO0lBRUEsTUFBTU87UUFDSixNQUFNSCxXQUFXLElBQUlyQix3REFBYUEsQ0FBQztRQUVuQywyQkFBMkI7UUFDM0JxQixTQUFTQyxRQUFRLENBQUM7UUFDbEJELFNBQVNDLFFBQVEsQ0FBQztRQUVsQixzQkFBc0I7UUFDdEJELFNBQVNJLG1CQUFtQixDQUFDO1lBQ3pCQyxXQUFXO1lBQ1hDLGNBQWNDLE9BQU9DLFFBQVEsQ0FBQ0MsTUFBTSxDQUFDLGlCQUFpQjtRQUMxRDtRQUVBLElBQUk7WUFDQSxPQUFPLE1BQU1qQyxpRUFBa0JBLENBQUNNLHlDQUFJQSxFQUFFa0I7UUFDMUMsRUFBRSxPQUFPSixPQUFPO1lBQ1pDLFFBQVFELEtBQUssQ0FBQyx3Q0FBd0NBO1lBQ3RELE1BQU1BO1FBQ1Y7SUFDSjtBQUNBLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1hcHAvLi9zcmMvYXBpL2ZpcmViYXNlL2F1dGgvbWV0aG9kcy50cz9hZTBkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFxuICBjcmVhdGVVc2VyV2l0aEVtYWlsQW5kUGFzc3dvcmQsXG4gIHNpZ25JbldpdGhFbWFpbEFuZFBhc3N3b3JkLFxuICBzaWduSW5XaXRoUG9wdXAsXG4gIHNpZ25JbldpdGhSZWRpcmVjdCwgXG4gIEdvb2dsZUF1dGhQcm92aWRlcixcbiAgYnJvd3NlclBvcHVwUmVkaXJlY3RSZXNvbHZlcixcbiAgT0F1dGhQcm92aWRlcixcbn0gZnJvbSAnZmlyZWJhc2UvYXV0aCc7XG5pbXBvcnQgeyBkb2MsIHNldERvYyB9IGZyb20gJ2ZpcmViYXNlL2ZpcmVzdG9yZSc7XG5pbXBvcnQgeyBhdXRoLCBkYiB9IGZyb20gJy4uL2NvbmZpZyc7XG5pbXBvcnQgeyBTaWduVXBEYXRhLCBBdXRoU2VydmljZSB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgVXNlciB9IGZyb20gJy4uLy4uL2ZpcmViYXNlL3VzZXInO1xuICBcbiAgZXhwb3J0IGNvbnN0IGF1dGhNZXRob2RzOiBBdXRoU2VydmljZSA9IHtcbiAgICBhc3luYyBzaWduVXBXaXRoRW1haWwoeyBlbWFpbCwgcGFzc3dvcmQsIHVzZXJuYW1lLCBwcm9maWxlSW1hZ2UsIHF1aXpEYXRhIH06IFNpZ25VcERhdGEpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHVzZXJDcmVkZW50aWFsID0gYXdhaXQgY3JlYXRlVXNlcldpdGhFbWFpbEFuZFBhc3N3b3JkKGF1dGgsIGVtYWlsLCBwYXNzd29yZCk7XG4gICAgICAgIFxuICAgICAgICBhd2FpdCBzZXREb2MoZG9jKGRiLCAndXNlcnMnLCB1c2VyQ3JlZGVudGlhbC51c2VyLnVpZCksIHtcbiAgICAgICAgICBlbWFpbCxcbiAgICAgICAgICB1c2VybmFtZSxcbiAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgcXVpekRhdGE6IHF1aXpEYXRhIHx8IG51bGxcbiAgICAgICAgfSk7XG4gIFxuICAgICAgICBpZiAocHJvZmlsZUltYWdlKSB7XG4gICAgICAgICAgLy8gVE9ETzogSGFuZGxlIHByb2ZpbGUgaW1hZ2UgdXBsb2FkXG4gICAgICAgIH1cbiAgXG4gICAgICAgIHJldHVybiB1c2VyQ3JlZGVudGlhbDtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIHNpZ25VcFdpdGhFbWFpbDonLCBlcnJvcik7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuICAgIH0sXG4gIFxuICAgIGFzeW5jIHNpZ25JbldpdGhFbWFpbChlbWFpbDogc3RyaW5nLCBwYXNzd29yZDogc3RyaW5nKSB7XG4gICAgICByZXR1cm4gc2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmQoYXV0aCwgZW1haWwsIHBhc3N3b3JkKTtcbiAgICB9LFxuICBcbiAgICBhc3luYyBzaWduSW5XaXRoR29vZ2xlKCkge1xuICAgICAgY29uc3QgcHJvdmlkZXIgPSBuZXcgR29vZ2xlQXV0aFByb3ZpZGVyKCk7XG4gICAgICBwcm92aWRlci5hZGRTY29wZSgnZW1haWwnKTtcbiAgICAgIHByb3ZpZGVyLmFkZFNjb3BlKCdwcm9maWxlJyk7XG4gICAgICBcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNpZ25JbldpdGhQb3B1cChhdXRoLCBwcm92aWRlciwgYnJvd3NlclBvcHVwUmVkaXJlY3RSZXNvbHZlcik7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBzaWduSW5XaXRoR29vZ2xlOicsIGVycm9yKTtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9XG4gICAgfSxcbiAgXG4gICAgYXN5bmMgc2lnbkluV2l0aEFwcGxlKCkge1xuICAgICAgY29uc3QgcHJvdmlkZXIgPSBuZXcgT0F1dGhQcm92aWRlcignYXBwbGUuY29tJyk7XG4gICAgICBcbiAgICAgIC8vIEFkZCB0aGVzZSBjb25maWd1cmF0aW9uc1xuICAgICAgcHJvdmlkZXIuYWRkU2NvcGUoJ2VtYWlsJyk7XG4gICAgICBwcm92aWRlci5hZGRTY29wZSgnbmFtZScpO1xuICAgICAgXG4gICAgICAvLyBBZGQgeW91ciBzZXJ2aWNlIElEXG4gICAgICBwcm92aWRlci5zZXRDdXN0b21QYXJhbWV0ZXJzKHtcbiAgICAgICAgICBjbGllbnRfaWQ6ICdjb20ucHVsc2VmaXRuZXNzY29sbGVjdGl2ZS5wdWxzZS53ZWInLCAvLyBUaGUgU2VydmljZXMgSUQgZnJvbSBBcHBsZVxuICAgICAgICAgIHJlZGlyZWN0X3VyaTogd2luZG93LmxvY2F0aW9uLm9yaWdpbiAvLyBZb3VyIGFwcCdzIFVSTFxuICAgICAgfSk7XG4gIFxuICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gYXdhaXQgc2lnbkluV2l0aFJlZGlyZWN0KGF1dGgsIHByb3ZpZGVyKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZHVyaW5nIEFwcGxlIHNpZ24taW4gcmVkaXJlY3Q6JywgZXJyb3IpO1xuICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuICB9XG4gIH07Il0sIm5hbWVzIjpbImNyZWF0ZVVzZXJXaXRoRW1haWxBbmRQYXNzd29yZCIsInNpZ25JbldpdGhFbWFpbEFuZFBhc3N3b3JkIiwic2lnbkluV2l0aFBvcHVwIiwic2lnbkluV2l0aFJlZGlyZWN0IiwiR29vZ2xlQXV0aFByb3ZpZGVyIiwiYnJvd3NlclBvcHVwUmVkaXJlY3RSZXNvbHZlciIsIk9BdXRoUHJvdmlkZXIiLCJkb2MiLCJzZXREb2MiLCJhdXRoIiwiZGIiLCJhdXRoTWV0aG9kcyIsInNpZ25VcFdpdGhFbWFpbCIsImVtYWlsIiwicGFzc3dvcmQiLCJ1c2VybmFtZSIsInByb2ZpbGVJbWFnZSIsInF1aXpEYXRhIiwidXNlckNyZWRlbnRpYWwiLCJ1c2VyIiwidWlkIiwiY3JlYXRlZEF0IiwiRGF0ZSIsImVycm9yIiwiY29uc29sZSIsInNpZ25JbldpdGhFbWFpbCIsInNpZ25JbldpdGhHb29nbGUiLCJwcm92aWRlciIsImFkZFNjb3BlIiwicmVzdWx0Iiwic2lnbkluV2l0aEFwcGxlIiwic2V0Q3VzdG9tUGFyYW1ldGVycyIsImNsaWVudF9pZCIsInJlZGlyZWN0X3VyaSIsIndpbmRvdyIsImxvY2F0aW9uIiwib3JpZ2luIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/api/firebase/auth/methods.ts\n");

/***/ }),

/***/ "./src/api/firebase/auth/types.ts":
/*!****************************************!*\
  !*** ./src/api/firebase/auth/types.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYXBpL2ZpcmViYXNlL2F1dGgvdHlwZXMudHMiLCJtYXBwaW5ncyI6IjtBQWtCRyIsInNvdXJjZXMiOlsid2VicGFjazovL215LWFwcC8uL3NyYy9hcGkvZmlyZWJhc2UvYXV0aC90eXBlcy50cz8xNWUwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFF1aXpEYXRhIH0gZnJvbSBcIi4uLy4uLy4uL3R5cGVzL0F1dGhUeXBlc1wiO1xuaW1wb3J0IHsgXG4gICAgVXNlckNyZWRlbnRpYWxcbn0gZnJvbSAnZmlyZWJhc2UvYXV0aCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2lnblVwRGF0YSB7XG4gICAgZW1haWw6IHN0cmluZztcbiAgICBwYXNzd29yZDogc3RyaW5nO1xuICAgIHVzZXJuYW1lOiBzdHJpbmc7XG4gICAgcHJvZmlsZUltYWdlPzogRmlsZTtcbiAgICBxdWl6RGF0YT86IFF1aXpEYXRhOyAgLy8gWW91J2xsIG5lZWQgdG8gaW1wb3J0IG9yIGRlZmluZSBRdWl6RGF0YSB0eXBlXG4gIH1cbiAgXG4gIGV4cG9ydCBpbnRlcmZhY2UgQXV0aFNlcnZpY2Uge1xuICAgIHNpZ25VcFdpdGhFbWFpbDogKGRhdGE6IFNpZ25VcERhdGEpID0+IFByb21pc2U8VXNlckNyZWRlbnRpYWw+O1xuICAgIHNpZ25JbldpdGhFbWFpbDogKGVtYWlsOiBzdHJpbmcsIHBhc3N3b3JkOiBzdHJpbmcpID0+IFByb21pc2U8VXNlckNyZWRlbnRpYWw+O1xuICAgIHNpZ25JbldpdGhHb29nbGU6ICgpID0+IFByb21pc2U8VXNlckNyZWRlbnRpYWw+O1xuICAgIHNpZ25JbldpdGhBcHBsZTogKCkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgfSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/api/firebase/auth/types.ts\n");

/***/ }),

/***/ "./src/api/firebase/config.ts":
/*!************************************!*\
  !*** ./src/api/firebase/config.ts ***!
  \************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   app: () => (/* binding */ app),\n/* harmony export */   auth: () => (/* binding */ auth),\n/* harmony export */   db: () => (/* binding */ db),\n/* harmony export */   initializeFirebase: () => (/* binding */ initializeFirebase),\n/* harmony export */   storage: () => (/* binding */ storage)\n/* harmony export */ });\n/* harmony import */ var firebase_app__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/app */ \"firebase/app\");\n/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! firebase/auth */ \"firebase/auth\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! firebase/firestore */ \"firebase/firestore\");\n/* harmony import */ var firebase_storage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! firebase/storage */ \"firebase/storage\");\n/* harmony import */ var _firebase_config__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./firebase-config */ \"./src/api/firebase/firebase-config.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([firebase_app__WEBPACK_IMPORTED_MODULE_0__, firebase_auth__WEBPACK_IMPORTED_MODULE_1__, firebase_firestore__WEBPACK_IMPORTED_MODULE_2__, firebase_storage__WEBPACK_IMPORTED_MODULE_3__]);\n([firebase_app__WEBPACK_IMPORTED_MODULE_0__, firebase_auth__WEBPACK_IMPORTED_MODULE_1__, firebase_firestore__WEBPACK_IMPORTED_MODULE_2__, firebase_storage__WEBPACK_IMPORTED_MODULE_3__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n// src/api/firebase/config.ts\n\n\n\n\n\nlet firebaseApp;\nlet firebaseAuth;\nlet firebaseDb;\nlet firebaseStorage;\nconst initializeFirebase = (isDev = false)=>{\n    // Only delete app if it exists\n    if (firebaseApp) {\n        try {\n            (0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.deleteApp)(firebaseApp);\n        } catch (error) {\n            console.error(\"Error deleting Firebase app:\", error);\n        }\n    }\n    try {\n        const config = isDev ? _firebase_config__WEBPACK_IMPORTED_MODULE_4__.firebaseConfigs.development : _firebase_config__WEBPACK_IMPORTED_MODULE_4__.firebaseConfigs.production;\n        firebaseApp = (0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.initializeApp)(config);\n        firebaseAuth = (0,firebase_auth__WEBPACK_IMPORTED_MODULE_1__.getAuth)(firebaseApp);\n        firebaseDb = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getFirestore)(firebaseApp);\n        firebaseStorage = (0,firebase_storage__WEBPACK_IMPORTED_MODULE_3__.getStorage)(firebaseApp);\n        if (false) {}\n        return {\n            app: firebaseApp,\n            auth: firebaseAuth,\n            db: firebaseDb,\n            storage: firebaseStorage\n        };\n    } catch (error) {\n        console.error(\"Error initializing Firebase:\", error);\n        throw error;\n    }\n};\n// Get initial mode from localStorage if available\nconst getInitialMode = ()=>{\n    if (false) {}\n    return false;\n};\n// Initialize with appropriate config\nconst { app, auth, db, storage } = initializeFirebase(getInitialMode());\n\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYXBpL2ZpcmViYXNlL2NvbmZpZy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsNkJBQTZCO0FBQ2lEO0FBQ1M7QUFDMUI7QUFDRTtBQUNYO0FBRXBELElBQUlRO0FBQ0osSUFBSUM7QUFDSixJQUFJQztBQUNKLElBQUlDO0FBRUcsTUFBTUMscUJBQXFCLENBQUNDLFFBQVEsS0FBSztJQUM5QywrQkFBK0I7SUFDL0IsSUFBSUwsYUFBYTtRQUNmLElBQUk7WUFDRlAsdURBQVNBLENBQUNPO1FBQ1osRUFBRSxPQUFPTSxPQUFPO1lBQ2RDLFFBQVFELEtBQUssQ0FBQyxnQ0FBZ0NBO1FBQ2hEO0lBQ0Y7SUFFQSxJQUFJO1FBQ0YsTUFBTUUsU0FBU0gsUUFBUU4sNkRBQWVBLENBQUNVLFdBQVcsR0FBR1YsNkRBQWVBLENBQUNXLFVBQVU7UUFFL0VWLGNBQWNSLDJEQUFhQSxDQUFDZ0I7UUFDNUJQLGVBQWVQLHNEQUFPQSxDQUFDTTtRQUN2QkUsYUFBYUwsZ0VBQVlBLENBQUNHO1FBQzFCRyxrQkFBa0JMLDREQUFVQSxDQUFDRTtRQUU3QixJQUFJLEtBQWtCLEVBQWEsRUFJbEM7UUFFRCxPQUFPO1lBQ0xjLEtBQUtkO1lBQ0xlLE1BQU1kO1lBQ05lLElBQUlkO1lBQ0plLFNBQVNkO1FBQ1g7SUFDRixFQUFFLE9BQU9HLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLGdDQUFnQ0E7UUFDOUMsTUFBTUE7SUFDUjtBQUNGLEVBQUU7QUFFRixrREFBa0Q7QUFDbEQsTUFBTVksaUJBQWlCO0lBQ3JCLElBQUksS0FBa0IsRUFBYSxFQUVsQztJQUNELE9BQU87QUFDVDtBQUVBLHFDQUFxQztBQUNyQyxNQUFNLEVBQUVKLEdBQUcsRUFBRUMsSUFBSSxFQUFFQyxFQUFFLEVBQUVDLE9BQU8sRUFBRSxHQUFHYixtQkFBbUJjO0FBRXBCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktYXBwLy4vc3JjL2FwaS9maXJlYmFzZS9jb25maWcudHM/YjkxZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvYXBpL2ZpcmViYXNlL2NvbmZpZy50c1xuaW1wb3J0IHsgaW5pdGlhbGl6ZUFwcCwgZ2V0QXBwcywgZGVsZXRlQXBwLCBGaXJlYmFzZUFwcCB9IGZyb20gJ2ZpcmViYXNlL2FwcCc7XG5pbXBvcnQgeyBnZXRBdXRoLCBzZXRQZXJzaXN0ZW5jZSwgYnJvd3NlckxvY2FsUGVyc2lzdGVuY2UsIEF1dGggfSBmcm9tIFwiZmlyZWJhc2UvYXV0aFwiO1xuaW1wb3J0IHsgZ2V0RmlyZXN0b3JlLCBGaXJlc3RvcmUgfSBmcm9tICdmaXJlYmFzZS9maXJlc3RvcmUnO1xuaW1wb3J0IHsgZ2V0U3RvcmFnZSwgRmlyZWJhc2VTdG9yYWdlIH0gZnJvbSAnZmlyZWJhc2Uvc3RvcmFnZSc7XG5pbXBvcnQgeyBmaXJlYmFzZUNvbmZpZ3MgfSBmcm9tICcuL2ZpcmViYXNlLWNvbmZpZyc7XG5cbmxldCBmaXJlYmFzZUFwcDogRmlyZWJhc2VBcHAgfCB1bmRlZmluZWQ7XG5sZXQgZmlyZWJhc2VBdXRoOiBBdXRoIHwgdW5kZWZpbmVkO1xubGV0IGZpcmViYXNlRGI6IEZpcmVzdG9yZSB8IHVuZGVmaW5lZDtcbmxldCBmaXJlYmFzZVN0b3JhZ2U6IEZpcmViYXNlU3RvcmFnZSB8IHVuZGVmaW5lZDtcblxuZXhwb3J0IGNvbnN0IGluaXRpYWxpemVGaXJlYmFzZSA9IChpc0RldiA9IGZhbHNlKSA9PiB7XG4gIC8vIE9ubHkgZGVsZXRlIGFwcCBpZiBpdCBleGlzdHNcbiAgaWYgKGZpcmViYXNlQXBwKSB7XG4gICAgdHJ5IHtcbiAgICAgIGRlbGV0ZUFwcChmaXJlYmFzZUFwcCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRlbGV0aW5nIEZpcmViYXNlIGFwcDonLCBlcnJvcik7XG4gICAgfVxuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBjb25maWcgPSBpc0RldiA/IGZpcmViYXNlQ29uZmlncy5kZXZlbG9wbWVudCA6IGZpcmViYXNlQ29uZmlncy5wcm9kdWN0aW9uO1xuXG4gICAgZmlyZWJhc2VBcHAgPSBpbml0aWFsaXplQXBwKGNvbmZpZyk7XG4gICAgZmlyZWJhc2VBdXRoID0gZ2V0QXV0aChmaXJlYmFzZUFwcCk7XG4gICAgZmlyZWJhc2VEYiA9IGdldEZpcmVzdG9yZShmaXJlYmFzZUFwcCk7XG4gICAgZmlyZWJhc2VTdG9yYWdlID0gZ2V0U3RvcmFnZShmaXJlYmFzZUFwcCk7XG5cbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHNldFBlcnNpc3RlbmNlKGZpcmViYXNlQXV0aCwgYnJvd3NlckxvY2FsUGVyc2lzdGVuY2UpXG4gICAgICAgIC50aGVuKCgpID0+IGNvbnNvbGUubG9nKCdGaXJlYmFzZSBwZXJzaXN0ZW5jZSBzZXQgdG8gTE9DQUwnKSlcbiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gY29uc29sZS5lcnJvcignRXJyb3Igc2V0dGluZyBwZXJzaXN0ZW5jZTonLCBlcnJvcikpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBhcHA6IGZpcmViYXNlQXBwLFxuICAgICAgYXV0aDogZmlyZWJhc2VBdXRoLFxuICAgICAgZGI6IGZpcmViYXNlRGIsXG4gICAgICBzdG9yYWdlOiBmaXJlYmFzZVN0b3JhZ2VcbiAgICB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluaXRpYWxpemluZyBGaXJlYmFzZTonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbi8vIEdldCBpbml0aWFsIG1vZGUgZnJvbSBsb2NhbFN0b3JhZ2UgaWYgYXZhaWxhYmxlXG5jb25zdCBnZXRJbml0aWFsTW9kZSA9ICgpID0+IHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZGV2TW9kZScpID09PSAndHJ1ZSc7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuLy8gSW5pdGlhbGl6ZSB3aXRoIGFwcHJvcHJpYXRlIGNvbmZpZ1xuY29uc3QgeyBhcHAsIGF1dGgsIGRiLCBzdG9yYWdlIH0gPSBpbml0aWFsaXplRmlyZWJhc2UoZ2V0SW5pdGlhbE1vZGUoKSk7XG5cbmV4cG9ydCB7IGFwcCwgYXV0aCwgZGIsIHN0b3JhZ2UgfTsiXSwibmFtZXMiOlsiaW5pdGlhbGl6ZUFwcCIsImRlbGV0ZUFwcCIsImdldEF1dGgiLCJzZXRQZXJzaXN0ZW5jZSIsImJyb3dzZXJMb2NhbFBlcnNpc3RlbmNlIiwiZ2V0RmlyZXN0b3JlIiwiZ2V0U3RvcmFnZSIsImZpcmViYXNlQ29uZmlncyIsImZpcmViYXNlQXBwIiwiZmlyZWJhc2VBdXRoIiwiZmlyZWJhc2VEYiIsImZpcmViYXNlU3RvcmFnZSIsImluaXRpYWxpemVGaXJlYmFzZSIsImlzRGV2IiwiZXJyb3IiLCJjb25zb2xlIiwiY29uZmlnIiwiZGV2ZWxvcG1lbnQiLCJwcm9kdWN0aW9uIiwidGhlbiIsImxvZyIsImNhdGNoIiwiYXBwIiwiYXV0aCIsImRiIiwic3RvcmFnZSIsImdldEluaXRpYWxNb2RlIiwid2luZG93IiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/api/firebase/config.ts\n");

/***/ }),

/***/ "./src/api/firebase/exercise/index.ts":
/*!********************************************!*\
  !*** ./src/api/firebase/exercise/index.ts ***!
  \********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   exerciseService: () => (/* reexport safe */ _service__WEBPACK_IMPORTED_MODULE_1__.exerciseService)\n/* harmony export */ });\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types */ \"./src/api/firebase/exercise/types.ts\");\n/* harmony import */ var _service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./service */ \"./src/api/firebase/exercise/service.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_types__WEBPACK_IMPORTED_MODULE_0__, _service__WEBPACK_IMPORTED_MODULE_1__]);\n([_types__WEBPACK_IMPORTED_MODULE_0__, _service__WEBPACK_IMPORTED_MODULE_1__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _types__WEBPACK_IMPORTED_MODULE_0__) if([\"default\",\"exerciseService\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _types__WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\n\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYXBpL2ZpcmViYXNlL2V4ZXJjaXNlL2luZGV4LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUF3QjtBQUNvQiIsInNvdXJjZXMiOlsid2VicGFjazovL215LWFwcC8uL3NyYy9hcGkvZmlyZWJhc2UvZXhlcmNpc2UvaW5kZXgudHM/NDhlYSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgKiBmcm9tICcuL3R5cGVzJztcbmV4cG9ydCB7IGV4ZXJjaXNlU2VydmljZSB9IGZyb20gJy4vc2VydmljZSc7ICJdLCJuYW1lcyI6WyJleGVyY2lzZVNlcnZpY2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/api/firebase/exercise/index.ts\n");

/***/ }),

/***/ "./src/api/firebase/exercise/service.ts":
/*!**********************************************!*\
  !*** ./src/api/firebase/exercise/service.ts ***!
  \**********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   exerciseService: () => (/* binding */ exerciseService)\n/* harmony export */ });\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/firestore */ \"firebase/firestore\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config */ \"./src/api/firebase/config.ts\");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../firebase/exercise/types */ \"./src/api/firebase/exercise/types.ts\");\n/* harmony import */ var _utils_formatDate__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../utils/formatDate */ \"./src/utils/formatDate.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([firebase_firestore__WEBPACK_IMPORTED_MODULE_0__, _config__WEBPACK_IMPORTED_MODULE_1__, _types__WEBPACK_IMPORTED_MODULE_2__]);\n([firebase_firestore__WEBPACK_IMPORTED_MODULE_0__, _config__WEBPACK_IMPORTED_MODULE_1__, _types__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\nclass ExerciseService {\n    get allExercises() {\n        return this._allExercises;\n    }\n    async fetchExercises() {\n        try {\n            // Fetch all exercises\n            const exerciseSnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"exercises\"));\n            const exercises = exerciseSnapshot.docs.map((doc)=>new _types__WEBPACK_IMPORTED_MODULE_2__.Exercise({\n                    id: doc.id,\n                    ...doc.data()\n                }));\n            // Fetch all videos\n            const videoSnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"exerciseVideos\"));\n            const exerciseVideos = videoSnapshot.docs.map((doc)=>new _types__WEBPACK_IMPORTED_MODULE_2__.ExerciseVideo({\n                    id: doc.id,\n                    ...doc.data()\n                }));\n            // Map videos to their corresponding exercises by name\n            const mappedExercises = exercises.map((exercise)=>{\n                const videosForExercise = exerciseVideos.filter((video)=>video.exercise.toLowerCase() === exercise.name.toLowerCase()).map((video)=>new _types__WEBPACK_IMPORTED_MODULE_2__.ExerciseVideo(video)); // Ensure proper ExerciseVideo instances\n                return new _types__WEBPACK_IMPORTED_MODULE_2__.Exercise({\n                    ...exercise,\n                    videos: videosForExercise\n                });\n            });\n            // Filter out exercises without videos\n            this._allExercises = mappedExercises.filter((exercise)=>exercise.videos.length > 0);\n        // console.log(`Fetched ${this._allExercises.length} exercises with videos.`);\n        // Detailed logging for debugging\n        // console.log('Sample exercises:', this._allExercises.slice(0, 5).map(ex => ({\n        //   name: ex.name,\n        //   videoCount: ex.videos.length,\n        //   firstVideoUrl: ex.videos[0]?.videoURL\n        // })));\n        } catch (error) {\n            console.error(\"Error fetching exercises:\", error);\n            throw new Error(\"Failed to fetch exercises.\");\n        }\n    }\n    async fetchFeaturedExercisesWithVideos(limit = 24) {\n        try {\n            // Fetch all exercises\n            const exerciseSnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"exercises\"));\n            const exercises = exerciseSnapshot.docs.map((doc)=>new _types__WEBPACK_IMPORTED_MODULE_2__.Exercise({\n                    id: doc.id,\n                    ...doc.data()\n                }));\n            // Fetch all videos\n            const videoSnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"exerciseVideos\"));\n            const exerciseVideos = videoSnapshot.docs.map((doc)=>new _types__WEBPACK_IMPORTED_MODULE_2__.ExerciseVideo({\n                    id: doc.id,\n                    ...doc.data()\n                }));\n            // Map videos to exercises and filter for those with GIFs\n            const mappedExercises = exercises.map((exerciseData)=>{\n                // Ensure that each video is properly instantiated as an `ExerciseVideo`\n                const videosForExercise = exerciseVideos.filter((video)=>video.exercise.toLowerCase() === exerciseData.name.toLowerCase()).map((video)=>new _types__WEBPACK_IMPORTED_MODULE_2__.ExerciseVideo(video));\n                return new _types__WEBPACK_IMPORTED_MODULE_2__.Exercise({\n                    id: exerciseData.id,\n                    name: exerciseData.name,\n                    description: exerciseData.description,\n                    category: exerciseData.category,\n                    primaryBodyParts: exerciseData.primaryBodyParts || [],\n                    secondaryBodyParts: exerciseData.secondaryBodyParts || [],\n                    tags: exerciseData.tags || [],\n                    videos: videosForExercise,\n                    steps: exerciseData.steps || [],\n                    visibility: exerciseData.visibility || \"live\",\n                    currentVideoPosition: exerciseData.currentVideoPosition || 0,\n                    sets: exerciseData.sets || 0,\n                    reps: exerciseData.reps || \"\",\n                    weight: exerciseData.weight || 0,\n                    author: new _types__WEBPACK_IMPORTED_MODULE_2__.ExerciseAuthor(exerciseData.author || {}),\n                    createdAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_3__.convertFirestoreTimestamp)(exerciseData.createdAt),\n                    updatedAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_3__.convertFirestoreTimestamp)(exerciseData.updatedAt)\n                });\n            });\n            // Shuffle and limit results\n            const shuffledExercises = mappedExercises.sort(()=>Math.random() - 0.5).slice(0, limit);\n            return shuffledExercises;\n        } catch (error) {\n            console.error(\"Error fetching featured exercises:\", error);\n            return [];\n        }\n    }\n    async getExercisesByAuthor(userId) {\n        try {\n            // Query exerciseVideos collection instead\n            const videosRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"exerciseVideos\");\n            const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(videosRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"userId\", \"==\", userId));\n            const querySnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n            // Create a Set to store unique exercise names\n            const uniqueExerciseNames = new Set();\n            // Collect all unique exercise names from the videos\n            querySnapshot.forEach((doc)=>{\n                const videoData = doc.data();\n                if (videoData.exerciseName) {\n                    uniqueExerciseNames.add(videoData.exerciseName);\n                }\n            });\n            // Convert to array and create Exercise objects\n            const exercises = Array.from(uniqueExerciseNames).map((name)=>{\n                return new _types__WEBPACK_IMPORTED_MODULE_2__.Exercise({\n                    id: name,\n                    name: name,\n                    author: {\n                        userId: userId\n                    }\n                });\n            });\n            return exercises;\n        } catch (error) {\n            console.error(\"Error fetching exercises by author:\", error);\n            return [];\n        }\n    }\n    async fetchPaginatedExercises(lastDoc = null, pageSize = 15) {\n        try {\n            // Query for exercises with pagination\n            let exerciseQuery = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"exercises\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.orderBy)(\"createdAt\", \"desc\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.limit)(pageSize));\n            if (lastDoc) {\n                exerciseQuery = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(exerciseQuery, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.startAfter)(lastDoc));\n            }\n            const exerciseSnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(exerciseQuery);\n            if (exerciseSnapshot.empty) {\n                return {\n                    exercises: [],\n                    lastVisible: null\n                };\n            }\n            // Fetch exercise videos separately\n            const videoSnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"exerciseVideos\"));\n            const exerciseVideos = videoSnapshot.docs.map((doc)=>new _types__WEBPACK_IMPORTED_MODULE_2__.ExerciseVideo({\n                    id: doc.id,\n                    ...doc.data()\n                }));\n            const exercises = exerciseSnapshot.docs.map((doc)=>new _types__WEBPACK_IMPORTED_MODULE_2__.Exercise({\n                    id: doc.id,\n                    ...doc.data()\n                }));\n            // Map videos to exercises and ensure correct instantiation\n            const mappedExercises = exercises.map((exerciseData)=>{\n                const videosForExercise = exerciseVideos.filter((video)=>video.exerciseId === exerciseData.id);\n                return new _types__WEBPACK_IMPORTED_MODULE_2__.Exercise({\n                    ...exerciseData,\n                    videos: videosForExercise\n                });\n            });\n            // Filter exercises with videos\n            const filteredExercises = mappedExercises.filter((exercise)=>exercise.videos.length > 0);\n            // Update the last visible document for pagination\n            const lastVisible = exerciseSnapshot.docs.length > 0 ? exerciseSnapshot.docs[exerciseSnapshot.docs.length - 1] : null;\n            return {\n                exercises: filteredExercises,\n                lastVisible\n            };\n        } catch (error) {\n            console.error(\"Error fetching paginated exercises:\", error);\n            throw error;\n        }\n    }\n    generateExerciseLogID(workoutId, userId) {\n        // Create a document reference in the logs subcollection of the workout,\n        // then return its generated ID.\n        return (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", userId, \"MyCreatedWorkouts\", workoutId, \"logs\")).id;\n    }\n    constructor(){\n        this._allExercises = [];\n    }\n}\nconst exerciseService = new ExerciseService();\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TztnQkFBRWYsV0FBVzREO2dCQUFtQkY7WUFBWTtRQUVyRCxFQUFFLE9BQU8xQyxPQUFPO1lBQ2RDLFFBQVFELEtBQUssQ0FBQyx1Q0FBdUNBO1lBQ3JELE1BQU1BO1FBQ1I7SUFDRjtJQUVBNkMsc0JBQXNCQyxTQUFpQixFQUFFckIsTUFBYyxFQUFVO1FBQy9ELHdFQUF3RTtRQUN4RSxnQ0FBZ0M7UUFDaEMsT0FBT3JELHVEQUFHQSxDQUNSTiw4REFBVUEsQ0FBQ1EsdUNBQUVBLEVBQUUsU0FBU21ELFFBQVEscUJBQXFCcUIsV0FBVyxTQUNoRTNELEVBQUU7SUFDTjs7YUF6Tk1OLGdCQUE0QixFQUFFOztBQTBOeEM7QUFFTyxNQUFNa0Usa0JBQWtCLElBQUlwRSxrQkFBa0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1hcHAvLi9zcmMvYXBpL2ZpcmViYXNlL2V4ZXJjaXNlL3NlcnZpY2UudHM/YTgzMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICAgIGNvbGxlY3Rpb24sXG4gICAgZ2V0RG9jcyxcbiAgICBxdWVyeSxcbiAgICBvcmRlckJ5LFxuICAgIGxpbWl0LFxuICAgIHN0YXJ0QWZ0ZXIsXG4gICAgRG9jdW1lbnRTbmFwc2hvdCxcbiAgICBkb2MsXG4gICAgd2hlcmUsXG4gIH0gZnJvbSAnZmlyZWJhc2UvZmlyZXN0b3JlJztcbmltcG9ydCB7IGRiIH0gZnJvbSAnLi4vY29uZmlnJztcbmltcG9ydCB7IEV4ZXJjaXNlIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBFeGVyY2lzZVZpZGVvLCBFeGVyY2lzZUF1dGhvciB9IGZyb20gJy4uLy4uL2ZpcmViYXNlL2V4ZXJjaXNlL3R5cGVzJztcbmltcG9ydCB7IGNvbnZlcnRGaXJlc3RvcmVUaW1lc3RhbXAgfSBmcm9tICcuLi8uLi8uLi91dGlscy9mb3JtYXREYXRlJztcblxuY2xhc3MgRXhlcmNpc2VTZXJ2aWNlIHtcbiAgICBwcml2YXRlIF9hbGxFeGVyY2lzZXM6IEV4ZXJjaXNlW10gPSBbXTtcbiAgXG4gICAgZ2V0IGFsbEV4ZXJjaXNlcygpOiBFeGVyY2lzZVtdIHtcbiAgICAgIHJldHVybiB0aGlzLl9hbGxFeGVyY2lzZXM7XG4gICAgfVxuICBcbiAgICBhc3luYyBmZXRjaEV4ZXJjaXNlcygpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIEZldGNoIGFsbCBleGVyY2lzZXNcbiAgICAgICAgY29uc3QgZXhlcmNpc2VTbmFwc2hvdCA9IGF3YWl0IGdldERvY3MoY29sbGVjdGlvbihkYiwgJ2V4ZXJjaXNlcycpKTtcblxuICAgICAgICBjb25zdCBleGVyY2lzZXM6IEV4ZXJjaXNlW10gPSBleGVyY2lzZVNuYXBzaG90LmRvY3MubWFwKChkb2MpID0+IG5ldyBFeGVyY2lzZSh7XG4gICAgICAgICAgaWQ6IGRvYy5pZCxcbiAgICAgICAgICAuLi5kb2MuZGF0YSgpLFxuICAgICAgICB9KSk7XG4gICAgXG4gICAgICAgIC8vIEZldGNoIGFsbCB2aWRlb3NcbiAgICAgICAgY29uc3QgdmlkZW9TbmFwc2hvdCA9IGF3YWl0IGdldERvY3MoY29sbGVjdGlvbihkYiwgJ2V4ZXJjaXNlVmlkZW9zJykpO1xuICAgICAgICBjb25zdCBleGVyY2lzZVZpZGVvczogRXhlcmNpc2VWaWRlb1tdID0gdmlkZW9TbmFwc2hvdC5kb2NzLm1hcCgoZG9jKSA9PlxuICAgICAgICAgIG5ldyBFeGVyY2lzZVZpZGVvKHtcbiAgICAgICAgICAgIGlkOiBkb2MuaWQsXG4gICAgICAgICAgICAuLi5kb2MuZGF0YSgpLFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgXG4gICAgICAgIC8vIE1hcCB2aWRlb3MgdG8gdGhlaXIgY29ycmVzcG9uZGluZyBleGVyY2lzZXMgYnkgbmFtZVxuICAgICAgICBjb25zdCBtYXBwZWRFeGVyY2lzZXMgPSBleGVyY2lzZXMubWFwKChleGVyY2lzZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHZpZGVvc0ZvckV4ZXJjaXNlID0gZXhlcmNpc2VWaWRlb3NcbiAgICAgICAgICAgIC5maWx0ZXIoKHZpZGVvKSA9PiB2aWRlby5leGVyY2lzZS50b0xvd2VyQ2FzZSgpID09PSBleGVyY2lzZS5uYW1lLnRvTG93ZXJDYXNlKCkpXG4gICAgICAgICAgICAubWFwKCh2aWRlbykgPT4gbmV3IEV4ZXJjaXNlVmlkZW8odmlkZW8pKTsgLy8gRW5zdXJlIHByb3BlciBFeGVyY2lzZVZpZGVvIGluc3RhbmNlc1xuICAgICAgICBcbiAgICAgICAgICAgIFxuICAgICAgICAgIHJldHVybiBuZXcgRXhlcmNpc2Uoe1xuICAgICAgICAgICAgLi4uZXhlcmNpc2UsIC8vIEtlZXAgZXhpc3RpbmcgcHJvcGVydGllc1xuICAgICAgICAgICAgdmlkZW9zOiB2aWRlb3NGb3JFeGVyY2lzZSwgLy8gRW5zdXJlIHZpZGVvcyBhcmUgaW5zdGFuY2VzIG9mIEV4ZXJjaXNlVmlkZW9cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgXG4gICAgICAgIC8vIEZpbHRlciBvdXQgZXhlcmNpc2VzIHdpdGhvdXQgdmlkZW9zXG4gICAgICAgIHRoaXMuX2FsbEV4ZXJjaXNlcyA9IG1hcHBlZEV4ZXJjaXNlcy5maWx0ZXIoKGV4ZXJjaXNlOiBFeGVyY2lzZSkgPT4gZXhlcmNpc2UudmlkZW9zLmxlbmd0aCA+IDApO1xuICAgIFxuICAgICAgICAvLyBjb25zb2xlLmxvZyhgRmV0Y2hlZCAke3RoaXMuX2FsbEV4ZXJjaXNlcy5sZW5ndGh9IGV4ZXJjaXNlcyB3aXRoIHZpZGVvcy5gKTtcbiAgICAgICAgXG4gICAgICAgIC8vIERldGFpbGVkIGxvZ2dpbmcgZm9yIGRlYnVnZ2luZ1xuICAgICAgICAvLyBjb25zb2xlLmxvZygnU2FtcGxlIGV4ZXJjaXNlczonLCB0aGlzLl9hbGxFeGVyY2lzZXMuc2xpY2UoMCwgNSkubWFwKGV4ID0+ICh7XG4gICAgICAgIC8vICAgbmFtZTogZXgubmFtZSxcbiAgICAgICAgLy8gICB2aWRlb0NvdW50OiBleC52aWRlb3MubGVuZ3RoLFxuICAgICAgICAvLyAgIGZpcnN0VmlkZW9Vcmw6IGV4LnZpZGVvc1swXT8udmlkZW9VUkxcbiAgICAgICAgLy8gfSkpKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGV4ZXJjaXNlczonLCBlcnJvcik7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGZldGNoIGV4ZXJjaXNlcy4nKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBmZXRjaEZlYXR1cmVkRXhlcmNpc2VzV2l0aFZpZGVvcyhsaW1pdDogbnVtYmVyID0gMjQpOiBQcm9taXNlPEV4ZXJjaXNlW10+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIEZldGNoIGFsbCBleGVyY2lzZXNcbiAgICAgICAgY29uc3QgZXhlcmNpc2VTbmFwc2hvdCA9IGF3YWl0IGdldERvY3MoY29sbGVjdGlvbihkYiwgJ2V4ZXJjaXNlcycpKTtcbiAgICAgICAgY29uc3QgZXhlcmNpc2VzOiBFeGVyY2lzZVtdID0gZXhlcmNpc2VTbmFwc2hvdC5kb2NzLm1hcCgoZG9jKSA9PiBcbiAgICAgICAgIG5ldyBFeGVyY2lzZSh7XG4gICAgICAgICAgICBpZDogZG9jLmlkLFxuICAgICAgICAgICAgLi4uZG9jLmRhdGEoKSxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgIFxuICAgICAgICAvLyBGZXRjaCBhbGwgdmlkZW9zXG4gICAgICAgIGNvbnN0IHZpZGVvU25hcHNob3QgPSBhd2FpdCBnZXREb2NzKGNvbGxlY3Rpb24oZGIsICdleGVyY2lzZVZpZGVvcycpKTtcbiAgICAgICAgY29uc3QgZXhlcmNpc2VWaWRlb3M6IEV4ZXJjaXNlVmlkZW9bXSA9IHZpZGVvU25hcHNob3QuZG9jcy5tYXAoKGRvYykgPT5cbiAgICAgICAgICBuZXcgRXhlcmNpc2VWaWRlbyh7XG4gICAgICAgICAgICBpZDogZG9jLmlkLFxuICAgICAgICAgICAgLi4uZG9jLmRhdGEoKSxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgIFxuICAgICAgICAvLyBNYXAgdmlkZW9zIHRvIGV4ZXJjaXNlcyBhbmQgZmlsdGVyIGZvciB0aG9zZSB3aXRoIEdJRnNcbiAgICAgICAgY29uc3QgbWFwcGVkRXhlcmNpc2VzID0gZXhlcmNpc2VzLm1hcCgoZXhlcmNpc2VEYXRhKSA9PiB7XG4gICAgICAgICAgLy8gRW5zdXJlIHRoYXQgZWFjaCB2aWRlbyBpcyBwcm9wZXJseSBpbnN0YW50aWF0ZWQgYXMgYW4gYEV4ZXJjaXNlVmlkZW9gXG4gICAgICAgICAgY29uc3QgdmlkZW9zRm9yRXhlcmNpc2UgPSAoZXhlcmNpc2VWaWRlb3NcbiAgICAgICAgICAgIC5maWx0ZXIoKHZpZGVvKSA9PiB2aWRlby5leGVyY2lzZS50b0xvd2VyQ2FzZSgpID09PSBleGVyY2lzZURhdGEubmFtZS50b0xvd2VyQ2FzZSgpKVxuICAgICAgICAgICAgLm1hcCgodmlkZW8pID0+IG5ldyBFeGVyY2lzZVZpZGVvKHZpZGVvKSkpIGFzIEV4ZXJjaXNlVmlkZW9bXTtcbiAgICAgICAgXG5cbiAgICAgICAgICByZXR1cm4gbmV3IEV4ZXJjaXNlKHtcbiAgICAgICAgICAgIGlkOiBleGVyY2lzZURhdGEuaWQsXG4gICAgICAgICAgICBuYW1lOiBleGVyY2lzZURhdGEubmFtZSxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBleGVyY2lzZURhdGEuZGVzY3JpcHRpb24sXG4gICAgICAgICAgICBjYXRlZ29yeTogZXhlcmNpc2VEYXRhLmNhdGVnb3J5LFxuICAgICAgICAgICAgcHJpbWFyeUJvZHlQYXJ0czogZXhlcmNpc2VEYXRhLnByaW1hcnlCb2R5UGFydHMgfHwgW10sXG4gICAgICAgICAgICBzZWNvbmRhcnlCb2R5UGFydHM6IGV4ZXJjaXNlRGF0YS5zZWNvbmRhcnlCb2R5UGFydHMgfHwgW10sXG4gICAgICAgICAgICB0YWdzOiBleGVyY2lzZURhdGEudGFncyB8fCBbXSxcbiAgICAgICAgICAgIHZpZGVvczogdmlkZW9zRm9yRXhlcmNpc2UsIC8vIEF0dGFjaCBwcm9wZXJseSBtYXBwZWQgdmlkZW9zXG4gICAgICAgICAgICBzdGVwczogZXhlcmNpc2VEYXRhLnN0ZXBzIHx8IFtdLFxuICAgICAgICAgICAgdmlzaWJpbGl0eTogZXhlcmNpc2VEYXRhLnZpc2liaWxpdHkgfHwgJ2xpdmUnLFxuICAgICAgICAgICAgY3VycmVudFZpZGVvUG9zaXRpb246IGV4ZXJjaXNlRGF0YS5jdXJyZW50VmlkZW9Qb3NpdGlvbiB8fCAwLFxuICAgICAgICAgICAgc2V0czogZXhlcmNpc2VEYXRhLnNldHMgfHwgMCxcbiAgICAgICAgICAgIHJlcHM6IGV4ZXJjaXNlRGF0YS5yZXBzIHx8ICcnLFxuICAgICAgICAgICAgd2VpZ2h0OiBleGVyY2lzZURhdGEud2VpZ2h0IHx8IDAsXG4gICAgICAgICAgICBhdXRob3I6IG5ldyBFeGVyY2lzZUF1dGhvcihleGVyY2lzZURhdGEuYXV0aG9yIHx8IHt9KSxcbiAgICAgICAgICAgIGNyZWF0ZWRBdDogY29udmVydEZpcmVzdG9yZVRpbWVzdGFtcChleGVyY2lzZURhdGEuY3JlYXRlZEF0KSxcbiAgICAgICAgICAgIHVwZGF0ZWRBdDogY29udmVydEZpcmVzdG9yZVRpbWVzdGFtcChleGVyY2lzZURhdGEudXBkYXRlZEF0KSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgIFxuICAgICAgICAvLyBTaHVmZmxlIGFuZCBsaW1pdCByZXN1bHRzXG4gICAgICAgIGNvbnN0IHNodWZmbGVkRXhlcmNpc2VzID0gbWFwcGVkRXhlcmNpc2VzXG4gICAgICAgICAgLnNvcnQoKCkgPT4gTWF0aC5yYW5kb20oKSAtIDAuNSlcbiAgICAgICAgICAuc2xpY2UoMCwgbGltaXQpO1xuICAgIFxuICAgICAgICByZXR1cm4gc2h1ZmZsZWRFeGVyY2lzZXM7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBmZWF0dXJlZCBleGVyY2lzZXM6JywgZXJyb3IpO1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgZ2V0RXhlcmNpc2VzQnlBdXRob3IodXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPEV4ZXJjaXNlW10+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIFF1ZXJ5IGV4ZXJjaXNlVmlkZW9zIGNvbGxlY3Rpb24gaW5zdGVhZFxuICAgICAgICBjb25zdCB2aWRlb3NSZWYgPSBjb2xsZWN0aW9uKGRiLCAnZXhlcmNpc2VWaWRlb3MnKTtcbiAgICAgICAgY29uc3QgcSA9IHF1ZXJ5KHZpZGVvc1JlZiwgd2hlcmUoJ3VzZXJJZCcsICc9PScsIHVzZXJJZCkpO1xuICAgICAgICBjb25zdCBxdWVyeVNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhxKTtcbiAgICAgICAgXG4gICAgICAgIC8vIENyZWF0ZSBhIFNldCB0byBzdG9yZSB1bmlxdWUgZXhlcmNpc2UgbmFtZXNcbiAgICAgICAgY29uc3QgdW5pcXVlRXhlcmNpc2VOYW1lcyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuICAgICAgICBcbiAgICAgICAgLy8gQ29sbGVjdCBhbGwgdW5pcXVlIGV4ZXJjaXNlIG5hbWVzIGZyb20gdGhlIHZpZGVvc1xuICAgICAgICBxdWVyeVNuYXBzaG90LmZvckVhY2goKGRvYykgPT4ge1xuICAgICAgICAgIGNvbnN0IHZpZGVvRGF0YSA9IGRvYy5kYXRhKCk7XG4gICAgICAgICAgaWYgKHZpZGVvRGF0YS5leGVyY2lzZU5hbWUpIHtcbiAgICAgICAgICAgIHVuaXF1ZUV4ZXJjaXNlTmFtZXMuYWRkKHZpZGVvRGF0YS5leGVyY2lzZU5hbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gIFxuICAgICAgICAvLyBDb252ZXJ0IHRvIGFycmF5IGFuZCBjcmVhdGUgRXhlcmNpc2Ugb2JqZWN0c1xuICAgICAgICBjb25zdCBleGVyY2lzZXMgPSBBcnJheS5mcm9tKHVuaXF1ZUV4ZXJjaXNlTmFtZXMpLm1hcChuYW1lID0+IHtcbiAgICAgICAgICByZXR1cm4gbmV3IEV4ZXJjaXNlKHtcbiAgICAgICAgICAgIGlkOiBuYW1lLCAvLyBVc2luZyBuYW1lIGFzIElEIHNpbmNlIHdlIGp1c3QgbmVlZCB1bmlxdWUgaWRlbnRpZmllcnNcbiAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICBhdXRob3I6IHsgdXNlcklkOiB1c2VySWQgfVxuICAgICAgICAgICAgLy8gQWRkIG90aGVyIHJlcXVpcmVkIEV4ZXJjaXNlIHByb3BlcnRpZXMgYXMgbmVlZGVkXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIGV4ZXJjaXNlcztcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGV4ZXJjaXNlcyBieSBhdXRob3I6JywgZXJyb3IpO1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgZmV0Y2hQYWdpbmF0ZWRFeGVyY2lzZXMoXG4gICAgICAgIGxhc3REb2M6IERvY3VtZW50U25hcHNob3QgfCBudWxsID0gbnVsbCxcbiAgICAgICAgcGFnZVNpemU6IG51bWJlciA9IDE1XG4gICAgICApOiBQcm9taXNlPHsgZXhlcmNpc2VzOiBFeGVyY2lzZVtdOyBsYXN0VmlzaWJsZTogRG9jdW1lbnRTbmFwc2hvdCB8IG51bGwgfT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIFF1ZXJ5IGZvciBleGVyY2lzZXMgd2l0aCBwYWdpbmF0aW9uXG4gICAgICAgICAgbGV0IGV4ZXJjaXNlUXVlcnkgPSBxdWVyeShcbiAgICAgICAgICAgIGNvbGxlY3Rpb24oZGIsICdleGVyY2lzZXMnKSxcbiAgICAgICAgICAgIG9yZGVyQnkoJ2NyZWF0ZWRBdCcsICdkZXNjJyksXG4gICAgICAgICAgICBsaW1pdChwYWdlU2l6ZSlcbiAgICAgICAgICApO1xuICAgIFxuICAgICAgICAgIGlmIChsYXN0RG9jKSB7XG4gICAgICAgICAgICBleGVyY2lzZVF1ZXJ5ID0gcXVlcnkoZXhlcmNpc2VRdWVyeSwgc3RhcnRBZnRlcihsYXN0RG9jKSk7XG4gICAgICAgICAgfVxuICAgIFxuICAgICAgICAgIGNvbnN0IGV4ZXJjaXNlU25hcHNob3QgPSBhd2FpdCBnZXREb2NzKGV4ZXJjaXNlUXVlcnkpO1xuICAgIFxuICAgICAgICAgIGlmIChleGVyY2lzZVNuYXBzaG90LmVtcHR5KSB7XG4gICAgICAgICAgICByZXR1cm4geyBleGVyY2lzZXM6IFtdLCBsYXN0VmlzaWJsZTogbnVsbCB9O1xuICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAvLyBGZXRjaCBleGVyY2lzZSB2aWRlb3Mgc2VwYXJhdGVseVxuICAgICAgICAgIGNvbnN0IHZpZGVvU25hcHNob3QgPSBhd2FpdCBnZXREb2NzKGNvbGxlY3Rpb24oZGIsICdleGVyY2lzZVZpZGVvcycpKTtcbiAgICAgICAgICBjb25zdCBleGVyY2lzZVZpZGVvczogRXhlcmNpc2VWaWRlb1tdID0gdmlkZW9TbmFwc2hvdC5kb2NzLm1hcCgoZG9jKSA9PlxuICAgICAgICAgICAgbmV3IEV4ZXJjaXNlVmlkZW8oe1xuICAgICAgICAgICAgICBpZDogZG9jLmlkLFxuICAgICAgICAgICAgICAuLi5kb2MuZGF0YSgpLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICApO1xuICAgICAgICAgIFxuICAgICAgICAgIGNvbnN0IGV4ZXJjaXNlczogRXhlcmNpc2VbXSA9IGV4ZXJjaXNlU25hcHNob3QuZG9jcy5tYXAoKGRvYykgPT5cbiAgICAgICAgICAgIG5ldyBFeGVyY2lzZSh7IGlkOiBkb2MuaWQsIC4uLmRvYy5kYXRhKCkgfSlcbiAgICAgICAgICApO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIE1hcCB2aWRlb3MgdG8gZXhlcmNpc2VzIGFuZCBlbnN1cmUgY29ycmVjdCBpbnN0YW50aWF0aW9uXG4gICAgICAgICAgY29uc3QgbWFwcGVkRXhlcmNpc2VzOiBFeGVyY2lzZVtdID0gZXhlcmNpc2VzLm1hcCgoZXhlcmNpc2VEYXRhKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB2aWRlb3NGb3JFeGVyY2lzZSA9IGV4ZXJjaXNlVmlkZW9zLmZpbHRlcigodmlkZW8pID0+IHZpZGVvLmV4ZXJjaXNlSWQgPT09IGV4ZXJjaXNlRGF0YS5pZCk7XG4gICAgICAgICAgXG4gICAgICAgICAgICByZXR1cm4gbmV3IEV4ZXJjaXNlKHtcbiAgICAgICAgICAgICAgLi4uZXhlcmNpc2VEYXRhLCAvLyBDb3B5IGV4aXN0aW5nIHByb3BlcnRpZXNcbiAgICAgICAgICAgICAgdmlkZW9zOiB2aWRlb3NGb3JFeGVyY2lzZSwgLy8gQXNzaWduIGZpbHRlcmVkIHZpZGVvc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gRmlsdGVyIGV4ZXJjaXNlcyB3aXRoIHZpZGVvc1xuICAgICAgICAgIGNvbnN0IGZpbHRlcmVkRXhlcmNpc2VzOiBFeGVyY2lzZVtdID0gbWFwcGVkRXhlcmNpc2VzLmZpbHRlcigoZXhlcmNpc2UpID0+IGV4ZXJjaXNlLnZpZGVvcy5sZW5ndGggPiAwKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBVcGRhdGUgdGhlIGxhc3QgdmlzaWJsZSBkb2N1bWVudCBmb3IgcGFnaW5hdGlvblxuICAgICAgICAgIGNvbnN0IGxhc3RWaXNpYmxlID0gZXhlcmNpc2VTbmFwc2hvdC5kb2NzLmxlbmd0aCA+IDAgPyBleGVyY2lzZVNuYXBzaG90LmRvY3NbZXhlcmNpc2VTbmFwc2hvdC5kb2NzLmxlbmd0aCAtIDFdIDogbnVsbDtcbiAgICAgICAgICBcbiAgICAgICAgICByZXR1cm4geyBleGVyY2lzZXM6IGZpbHRlcmVkRXhlcmNpc2VzLCBsYXN0VmlzaWJsZSB9O1xuICAgICAgICAgIFxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHBhZ2luYXRlZCBleGVyY2lzZXM6JywgZXJyb3IpO1xuICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGdlbmVyYXRlRXhlcmNpc2VMb2dJRCh3b3Jrb3V0SWQ6IHN0cmluZywgdXNlcklkOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICAvLyBDcmVhdGUgYSBkb2N1bWVudCByZWZlcmVuY2UgaW4gdGhlIGxvZ3Mgc3ViY29sbGVjdGlvbiBvZiB0aGUgd29ya291dCxcbiAgICAgICAgLy8gdGhlbiByZXR1cm4gaXRzIGdlbmVyYXRlZCBJRC5cbiAgICAgICAgcmV0dXJuIGRvYyhcbiAgICAgICAgICBjb2xsZWN0aW9uKGRiLCAndXNlcnMnLCB1c2VySWQsICdNeUNyZWF0ZWRXb3Jrb3V0cycsIHdvcmtvdXRJZCwgJ2xvZ3MnKVxuICAgICAgICApLmlkO1xuICAgICAgfVxuICB9XG4gIFxuICBleHBvcnQgY29uc3QgZXhlcmNpc2VTZXJ2aWNlID0gbmV3IEV4ZXJjaXNlU2VydmljZSgpOyJdLCJuYW1lcyI6WyJjb2xsZWN0aW9uIiwiZ2V0RG9jcyIsInF1ZXJ5Iiwib3JkZXJCeSIsImxpbWl0Iiwic3RhcnRBZnRlciIsImRvYyIsIndoZXJlIiwiZGIiLCJFeGVyY2lzZSIsIkV4ZXJjaXNlVmlkZW8iLCJFeGVyY2lzZUF1dGhvciIsImNvbnZlcnRGaXJlc3RvcmVUaW1lc3RhbXAiLCJFeGVyY2lzZVNlcnZpY2UiLCJhbGxFeGVyY2lzZXMiLCJfYWxsRXhlcmNpc2VzIiwiZmV0Y2hFeGVyY2lzZXMiLCJleGVyY2lzZVNuYXBzaG90IiwiZXhlcmNpc2VzIiwiZG9jcyIsIm1hcCIsImlkIiwiZGF0YSIsInZpZGVvU25hcHNob3QiLCJleGVyY2lzZVZpZGVvcyIsIm1hcHBlZEV4ZXJjaXNlcyIsImV4ZXJjaXNlIiwidmlkZW9zRm9yRXhlcmNpc2UiLCJmaWx0ZXIiLCJ2aWRlbyIsInRvTG93ZXJDYXNlIiwibmFtZSIsInZpZGVvcyIsImxlbmd0aCIsImVycm9yIiwiY29uc29sZSIsIkVycm9yIiwiZmV0Y2hGZWF0dXJlZEV4ZXJjaXNlc1dpdGhWaWRlb3MiLCJleGVyY2lzZURhdGEiLCJkZXNjcmlwdGlvbiIsImNhdGVnb3J5IiwicHJpbWFyeUJvZHlQYXJ0cyIsInNlY29uZGFyeUJvZHlQYXJ0cyIsInRhZ3MiLCJzdGVwcyIsInZpc2liaWxpdHkiLCJjdXJyZW50VmlkZW9Qb3NpdGlvbiIsInNldHMiLCJyZXBzIiwid2VpZ2h0IiwiYXV0aG9yIiwiY3JlYXRlZEF0IiwidXBkYXRlZEF0Iiwic2h1ZmZsZWRFeGVyY2lzZXMiLCJzb3J0IiwiTWF0aCIsInJhbmRvbSIsInNsaWNlIiwiZ2V0RXhlcmNpc2VzQnlBdXRob3IiLCJ1c2VySWQiLCJ2aWRlb3NSZWYiLCJxIiwicXVlcnlTbmFwc2hvdCIsInVuaXF1ZUV4ZXJjaXNlTmFtZXMiLCJTZXQiLCJmb3JFYWNoIiwidmlkZW9EYXRhIiwiZXhlcmNpc2VOYW1lIiwiYWRkIiwiQXJyYXkiLCJmcm9tIiwiZmV0Y2hQYWdpbmF0ZWRFeGVyY2lzZXMiLCJsYXN0RG9jIiwicGFnZVNpemUiLCJleGVyY2lzZVF1ZXJ5IiwiZW1wdHkiLCJsYXN0VmlzaWJsZSIsImV4ZXJjaXNlSWQiLCJmaWx0ZXJlZEV4ZXJjaXNlcyIsImdlbmVyYXRlRXhlcmNpc2VMb2dJRCIsIndvcmtvdXRJZCIsImV4ZXJjaXNlU2VydmljZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/api/firebase/exercise/service.ts\n");

/***/ }),

/***/ "./src/api/firebase/exercise/types.ts":
/*!********************************************!*\
  !*** ./src/api/firebase/exercise/types.ts ***!
  \********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BodyPart: () => (/* binding */ BodyPart),\n/* harmony export */   Exercise: () => (/* binding */ Exercise),\n/* harmony export */   ExerciseAuthor: () => (/* binding */ ExerciseAuthor),\n/* harmony export */   ExerciseCategory: () => (/* binding */ ExerciseCategory),\n/* harmony export */   ExerciseDetail: () => (/* binding */ ExerciseDetail),\n/* harmony export */   ExerciseLog: () => (/* binding */ ExerciseLog),\n/* harmony export */   ExerciseVideo: () => (/* binding */ ExerciseVideo),\n/* harmony export */   isAdvancedBodyPart: () => (/* binding */ isAdvancedBodyPart)\n/* harmony export */ });\n/* harmony import */ var _workout_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../workout/types */ \"./src/api/firebase/workout/types.ts\");\n/* harmony import */ var _user_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../user/types */ \"./src/api/firebase/user/types.ts\");\n/* harmony import */ var _utils_formatDate__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../utils/formatDate */ \"./src/utils/formatDate.ts\");\n/* harmony import */ var _exerciseLog_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../exerciseLog/service */ \"./src/api/firebase/exerciseLog/service.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_workout_types__WEBPACK_IMPORTED_MODULE_0__, _exerciseLog_service__WEBPACK_IMPORTED_MODULE_3__]);\n([_workout_types__WEBPACK_IMPORTED_MODULE_0__, _exerciseLog_service__WEBPACK_IMPORTED_MODULE_3__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\nvar BodyPart;\n(function(BodyPart) {\n    BodyPart[\"Biceps\"] = \"biceps\";\n    BodyPart[\"Triceps\"] = \"triceps\";\n    BodyPart[\"Chest\"] = \"chest\";\n    BodyPart[\"Calves\"] = \"calves\";\n    BodyPart[\"Abs\"] = \"abs\";\n    BodyPart[\"Hamstrings\"] = \"hamstrings\";\n    BodyPart[\"Back\"] = \"back\";\n    BodyPart[\"Glutes\"] = \"glutes\";\n    BodyPart[\"Quadriceps\"] = \"quadriceps\";\n    BodyPart[\"Forearms\"] = \"forearms\";\n    BodyPart[\"Shoulders\"] = \"shoulders\";\n    BodyPart[\"Lowerback\"] = \"lowerback\";\n    // advanced\n    BodyPart[\"Lats\"] = \"lats\";\n    BodyPart[\"Traps\"] = \"traps\";\n    BodyPart[\"Rhomboids\"] = \"rhomboids\";\n    BodyPart[\"Deltoids\"] = \"deltoids\";\n    BodyPart[\"Fullbody\"] = \"fullbody\";\n})(BodyPart || (BodyPart = {}));\n// Function to check if a body part is advanced\nfunction isAdvancedBodyPart(bodyPart) {\n    return [\n        \"traps\",\n        \"lats\",\n        \"rhomboids\",\n        \"deltoids\"\n    ].includes(bodyPart);\n}\nclass ExerciseLog {\n    constructor(data){\n        this.id = data.id || \"\";\n        this.workoutId = data.workoutId || \"\";\n        this.userId = data.userId || \"\";\n        this.exercise = data.exercise instanceof Exercise ? data.exercise : new Exercise(data.exercise);\n        this.logs = (data.logs || []).map((log)=>new _workout_types__WEBPACK_IMPORTED_MODULE_0__.RepsAndWeightLog(log));\n        this.feedback = data.feedback || \"\";\n        this.note = data.note || \"\";\n        this.recommendedWeight = data.recommendedWeight || \"calculating...\";\n        this.isSplit = data.isSplit || false;\n        this.isBodyWeight = data.isBodyWeight || false;\n        this.logSubmitted = data.logSubmitted || false;\n        this.logIsEditing = data.logIsEditing || false;\n        this.isCompleted = data.isCompleted || false;\n        this.order = data.order || null;\n        this.completedAt = (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_2__.convertFirestoreTimestamp)(data.completedAt);\n        this.createdAt = (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_2__.convertFirestoreTimestamp)(data.createdAt);\n        this.updatedAt = (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_2__.convertFirestoreTimestamp)(data.updatedAt);\n    }\n    setIsSubmitted(isSubmitted) {\n        this.logSubmitted = isSubmitted;\n    }\n    fetchTotalWeightLifted(user) {\n        const bodyWeight = Math.max(user?.bodyWeight?.at(-1)?.newWeight || 150, 1);\n        let totalWeightLifted = 0;\n        for (const log of this.logs){\n            totalWeightLifted += (log.weight + (log.isBodyWeight ? bodyWeight : 0)) * log.reps;\n            if (log.isSplit) {\n                totalWeightLifted += log.leftWeight * log.leftReps;\n            }\n        }\n        return totalWeightLifted;\n    }\n    calculateWorkScore(user, workoutId, workoutSummaries) {\n        const bodyWeight = Math.max(user?.bodyWeight?.at(-1)?.newWeight || 150, 1);\n        const intensityWeight = 0.4;\n        const volumeWeight = 0.4;\n        const allLogs = this.getLogsForExercise(workoutSummaries, this.exercise.name);\n        const averageTotalWeight = allLogs.length === 0 ? 0 : allLogs.reduce((sum, log)=>sum + log.weight, 0) / allLogs.length;\n        let workScore = 0;\n        for (const logItem of this.logs){\n            const totalWeight = logItem.weight + bodyWeight;\n            const intensityFactor = totalWeight / bodyWeight;\n            const volumeFactor = logItem.reps;\n            const percentageOfAverage = totalWeight / Math.max(averageTotalWeight, 1) * 100;\n            let progressiveScore = 0;\n            if (percentageOfAverage >= 90) progressiveScore = 40;\n            else if (percentageOfAverage >= 80) progressiveScore = 35;\n            else if (percentageOfAverage >= 70) progressiveScore = 30;\n            workScore += intensityFactor * volumeFactor * intensityWeight + progressiveScore * volumeWeight;\n        }\n        return Math.round(workScore);\n    }\n    getLogsForExercise(workoutSummaries, exerciseName) {\n        return workoutSummaries?.flatMap((summary)=>summary.exercisesCompleted).filter((log)=>log.exercise.name === exerciseName).flatMap((log)=>log.logs) || [];\n    }\n    checkIfAnyPastLogsWereBodyWeight(workoutSummaries) {\n        const allLogItems = workoutSummaries.flatMap((summary)=>summary.exercisesCompleted).filter((log)=>log.exercise.name === this.exercise.name).flatMap((log)=>log.logs);\n        const nonBodyWeightLogs = allLogItems.filter((log)=>!log.isBodyWeight);\n        const hasBodyWeightLogs = allLogItems.some((log)=>log.isBodyWeight);\n        if (nonBodyWeightLogs.length === 0) {\n            return {\n                hasBodyWeightLogs,\n                averageWeight: 0\n            };\n        }\n        const totalWeight = nonBodyWeightLogs.reduce((sum, log)=>sum + log.weight, 0);\n        const averageWeight = totalWeight / nonBodyWeightLogs.length;\n        return {\n            hasBodyWeightLogs,\n            averageWeight\n        };\n    }\n    fetchHighestTWL(workoutSummaries, user) {\n        const exerciseWorkouts = workoutSummaries?.filter((summary)=>summary.exercisesCompleted.some((log)=>log.exercise.name === this.exercise.name));\n        if (!exerciseWorkouts?.length) return null;\n        const twls = exerciseWorkouts.map((summary)=>summary.exercisesCompleted.reduce((total, log)=>log.exercise.name === this.exercise.name ? total + log.fetchTotalWeightLifted(user) : total, 0));\n        return Math.max(...twls);\n    }\n    static fetchHighestWeightLiftedForExercise(exerciseName, workoutSummaries) {\n        const exerciseWorkouts = workoutSummaries?.filter((summary)=>summary.exercisesCompleted.some((log)=>log.exercise.name === exerciseName));\n        if (!exerciseWorkouts?.length) return null;\n        const weights = exerciseWorkouts.flatMap((summary)=>summary.exercisesCompleted.flatMap((log)=>{\n                if (log.exercise.name !== exerciseName) return [];\n                return log.logs.map((logItem)=>logItem.isSplit ? Math.max(logItem.weight, logItem.leftWeight) : logItem.weight);\n            }));\n        return weights.length ? Math.max(...weights) : null;\n    }\n    fetchHighestWeightInSet(workoutSummaries) {\n        const exerciseWorkouts = workoutSummaries?.filter((summary)=>summary.exercisesCompleted.some((log)=>log.exercise.name === this.exercise.name));\n        if (!exerciseWorkouts?.length) return {\n            weight: null,\n            reps: null\n        };\n        const weightAndReps = exerciseWorkouts.flatMap((summary)=>summary.exercisesCompleted.flatMap((log)=>log.exercise.name === this.exercise.name ? log.logs.map((logItem)=>({\n                        weight: logItem.weight,\n                        reps: logItem.reps\n                    })) : []));\n        if (!weightAndReps.length) return {\n            weight: null,\n            reps: null\n        };\n        const maxWeightEntry = weightAndReps.reduce((max, current)=>current.weight > max.weight ? current : max);\n        return {\n            weight: maxWeightEntry.weight,\n            reps: maxWeightEntry.reps\n        };\n    }\n    fetchTotalReps() {\n        return this.logs.reduce((total, log)=>total + log.reps, 0);\n    }\n    fetchTotalSessions(allLogs) {\n        return allLogs.filter((log)=>log.exercise.name === this.exercise.name).length;\n    }\n    fetchTotalCompletedSets() {\n        return this.logs.filter((log)=>log.reps > 0).length;\n    }\n    isLogComplete() {\n        return this.logs.some((log)=>log.reps > 0);\n    }\n    updateLog(workout) {\n        _exerciseLog_service__WEBPACK_IMPORTED_MODULE_3__.exerciseLogService.updateExerciseLog(this, workout);\n    }\n    toDictionary() {\n        const data = {\n            id: this.id,\n            workoutId: this.workoutId,\n            userId: this.userId,\n            exercise: this.exercise.toDictionary(),\n            logs: this.logs.map((log)=>log.toDictionary()),\n            feedback: this.feedback,\n            note: this.note,\n            isSplit: this.isSplit,\n            isBodyWeight: this.isBodyWeight,\n            logSubmitted: this.logSubmitted,\n            logIsEditing: this.logIsEditing,\n            isCompleted: this.isCompleted,\n            createdAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_2__.dateToUnixTimestamp)(this.createdAt),\n            updatedAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_2__.dateToUnixTimestamp)(this.updatedAt),\n            completedAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_2__.dateToUnixTimestamp)(this.completedAt),\n            recommendedWeight: this.recommendedWeight\n        };\n        if (this.order != null) {\n            data[\"order\"] = this.order;\n        }\n        return data;\n    }\n}\n// Helper functions to mimic Swift enum behavior\nconst ExerciseCategory = {\n    weightTraining: (details)=>({\n            type: \"weight-training\",\n            details\n        }),\n    cardio: (details)=>({\n            type: \"cardio\",\n            details\n        }),\n    fromIdentifier: (identifier)=>{\n        switch(identifier){\n            case \"weight-training\":\n                return ExerciseCategory.weightTraining({\n                    reps: [\n                        \"12\"\n                    ],\n                    sets: 3,\n                    weight: 0.0,\n                    screenTime: 0,\n                    selectedVideo: null\n                });\n            case \"cardio\":\n                return ExerciseCategory.cardio({\n                    duration: 20,\n                    bpm: 125,\n                    calories: 0,\n                    screenTime: 0,\n                    selectedVideo: null\n                });\n            default:\n                return null;\n        }\n    },\n    identifier: (category)=>{\n        switch(category.type){\n            case \"weight-training\":\n                return \"weight-training\";\n            case \"cardio\":\n                return \"cardio\";\n        }\n    }\n};\n// Usage examples:\n// const weightTraining = ExerciseCategory.weightTraining({ reps: '10', sets: 3, weight: 50 });\n// const cardio = ExerciseCategory.cardio({ duration: 30, bpm: 140, calories: 300 });\n// const fromId = ExerciseCategory.fromIdentifier('weight-training');\n// const id = ExerciseCategory.identifier(weightTraining);\nclass Exercise {\n    constructor(data){\n        this.id = data.id || \"\";\n        this.name = data.name || \"\";\n        this.description = data.description || \"\";\n        this.primaryBodyParts = data.primaryBodyParts || [];\n        this.secondaryBodyParts = data.secondaryBodyParts || [];\n        this.tags = data.tags || [];\n        this.videos = (data.videos || []).map((video)=>new ExerciseVideo(video));\n        this.steps = data.steps || [];\n        this.visibility = data.visibility || \"live\";\n        this.currentVideoPosition = data.currentVideoPosition || 0;\n        this.sets = data.sets || 0;\n        this.reps = data.reps || \"\";\n        this.weight = data.weight || 0;\n        this.author = new ExerciseAuthor(data.author || {});\n        this.createdAt = (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_2__.convertFirestoreTimestamp)(data.createdAt);\n        this.updatedAt = (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_2__.convertFirestoreTimestamp)(data.updatedAt);\n        if (data.category) {\n            this.category = data.category.id === \"weight-training\" || data.category.type === \"weight-training\" ? {\n                type: \"weight-training\",\n                details: {\n                    sets: data.category.sets ?? 3,\n                    reps: Array.isArray(data.category.reps) ? data.category.reps : [\n                        data.category.reps || \"12\"\n                    ],\n                    weight: data.category.weight ?? 0,\n                    screenTime: data.category.screenTime || 0,\n                    selectedVideo: data.category.selectedVideo ?? null\n                }\n            } : {\n                type: \"weight-training\",\n                details: {\n                    sets: data.category.sets ?? 3,\n                    reps: Array.isArray(data.category.reps) ? data.category.reps : [\n                        data.category.reps || \"12\"\n                    ],\n                    weight: data.category.weight ?? 0,\n                    screenTime: data.category.screenTime || 0,\n                    selectedVideo: data.category.selectedVideo ?? null\n                }\n            };\n        } else {\n            this.category = {\n                type: \"weight-training\",\n                details: {\n                    sets: 3,\n                    reps: [\n                        \"12\"\n                    ],\n                    weight: 0,\n                    screenTime: 0,\n                    selectedVideo: null\n                }\n            };\n        }\n    }\n    toDictionary() {\n        // Create the category object:\n        const categoryData = {\n            id: this.category.type,\n            ...this.category.details,\n            // Only include selectedVideo if it is defined.\n            ...this.category.details?.selectedVideo ? {\n                selectedVideo: this.category.details.selectedVideo.toDictionary()\n            } : {}\n        };\n        const data = {\n            id: this.id,\n            name: this.name,\n            description: this.description,\n            category: categoryData,\n            primaryBodyParts: this.primaryBodyParts,\n            secondaryBodyParts: this.secondaryBodyParts,\n            tags: this.tags,\n            videos: this.videos.map((video)=>video.toDictionary()),\n            steps: this.steps,\n            visibility: this.visibility,\n            currentVideoPosition: this.currentVideoPosition,\n            sets: this.sets,\n            reps: this.reps,\n            weight: this.weight,\n            author: this.author.toDictionary(),\n            createdAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_2__.dateToUnixTimestamp)(this.createdAt),\n            updatedAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_2__.dateToUnixTimestamp)(this.updatedAt)\n        };\n        return data;\n    }\n}\n// ExerciseVideo.ts\nclass ExerciseVideo {\n    constructor(data){\n        this.id = data.id || \"\";\n        this.exerciseId = data.exerciseId || \"\";\n        this.username = data.username || \"\";\n        this.userId = data.userId || \"\";\n        this.videoURL = data.videoURL || \"\";\n        this.fileName = data.fileName || \"\";\n        this.exercise = data.exercise || \"\";\n        this.profileImage = new _user_types__WEBPACK_IMPORTED_MODULE_1__.ProfileImage(data.profileImage || {});\n        this.caption = data.caption;\n        this.gifURL = data.gifURL;\n        this.thumbnail = data.thumbnail;\n        this.visibility = data.visibility || \"private\";\n        this.totalAccountsReached = data.totalAccountsReached || 0;\n        this.totalAccountLikes = data.totalAccountLikes || 0;\n        this.totalAccountBookmarked = data.totalAccountBookmarked || 0;\n        this.totalAccountUsage = data.totalAccountUsage || 0;\n        this.isApproved = data.isApproved || false;\n        this.liked = data.liked || false;\n        this.bookmarked = data.bookmarked || false;\n        this.createdAt = (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_2__.convertFirestoreTimestamp)(data.createdAt);\n        this.updatedAt = (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_2__.convertFirestoreTimestamp)(data.updatedAt);\n    }\n    toDictionary() {\n        const data = {\n            id: this.id,\n            exerciseId: this.exerciseId,\n            username: this.username,\n            userId: this.userId,\n            videoURL: this.videoURL,\n            fileName: this.fileName,\n            exercise: this.exercise,\n            profileImage: this.profileImage.toDictionary(),\n            visibility: this.visibility,\n            totalAccountsReached: this.totalAccountsReached,\n            totalAccountLikes: this.totalAccountLikes,\n            totalAccountBookmarked: this.totalAccountBookmarked,\n            totalAccountUsage: this.totalAccountUsage,\n            isApproved: this.isApproved,\n            createdAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_2__.dateToUnixTimestamp)(this.createdAt),\n            updatedAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_2__.dateToUnixTimestamp)(this.updatedAt)\n        };\n        if (this.caption) data.caption = this.caption;\n        if (this.gifURL) data.gifURL = this.gifURL;\n        if (this.thumbnail) data.thumbnail = this.thumbnail;\n        if (this.liked !== null) data.liked = this.liked;\n        if (this.bookmarked !== null) data.bookmarked = this.bookmarked;\n        return data;\n    }\n}\nclass ExerciseDetail {\n    constructor(data){\n        this.id = data.id || \"\";\n        this.exerciseName = data.exerciseName || \"\";\n        this.exercise = data.exercise;\n        this.exerciseLogId = data.exerciseLogId;\n        this.category = data.category;\n        this.notes = data.notes || \"\";\n        this.isSplit = data.isSplit || false;\n        this.isMissing = data.isMissing || false;\n        this.groupId = data.groupId || 0;\n        this.closestMatch = data.closestMatch || [];\n    }\n    toDictionary() {\n        return {\n            id: this.id,\n            exerciseName: this.exerciseName,\n            exercise: this.exercise.toDictionary(),\n            exerciseLogId: this.exerciseLogId,\n            category: {\n                id: this.category.type,\n                ...this.category.details,\n                ...this.category.details?.selectedVideo ? {\n                    selectedVideo: this.category.details.selectedVideo.toDictionary()\n                } : {}\n            },\n            notes: this.notes,\n            isSplit: this.isSplit,\n            isMissing: this.isMissing,\n            groupId: this.groupId,\n            closestMatch: this.closestMatch.map((ex)=>ex.toDictionary())\n        };\n    }\n}\n// ExerciseAuthor.ts\nclass ExerciseAuthor {\n    constructor(data){\n        this.userId = data.userId || \"\";\n        this.username = data.username || \"\";\n    }\n    toDictionary() {\n        return {\n            userId: this.userId,\n            username: this.username\n        };\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUFBUyxDQUFFO1FBQ3JCLElBQUksQ0FBQ0csTUFBTSxHQUFHSCxLQUFLRyxNQUFNLElBQUk7UUFDN0IsSUFBSSxDQUFDOEcsUUFBUSxHQUFHakgsS0FBS2lILFFBQVEsSUFBSTtJQUNuQztJQUVBL0IsZUFBdUM7UUFDckMsT0FBTztZQUNML0UsUUFBUSxJQUFJLENBQUNBLE1BQU07WUFDbkI4RyxVQUFVLElBQUksQ0FBQ0EsUUFBUTtRQUN6QjtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1hcHAvLi9zcmMvYXBpL2ZpcmViYXNlL2V4ZXJjaXNlL3R5cGVzLnRzP2ViODEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmVwc0FuZFdlaWdodExvZywgV29ya291dFN1bW1hcnksIFdvcmtvdXQgfSBmcm9tIFwiLi4vd29ya291dC90eXBlc1wiO1xuaW1wb3J0IHsgUHJvZmlsZUltYWdlLCBVc2VyIH0gZnJvbSAnLi4vdXNlci90eXBlcyc7XG5pbXBvcnQgeyBEb2N1bWVudFNuYXBzaG90IH0gZnJvbSAnZmlyZWJhc2UvZmlyZXN0b3JlJztcbmltcG9ydCB7IGNvbnZlcnRGaXJlc3RvcmVUaW1lc3RhbXAsIGRhdGVUb1VuaXhUaW1lc3RhbXAgfSBmcm9tICcuLi8uLi8uLi91dGlscy9mb3JtYXREYXRlJztcbmltcG9ydCB7IGV4ZXJjaXNlTG9nU2VydmljZSB9IGZyb20gJy4uL2V4ZXJjaXNlTG9nL3NlcnZpY2UnO1xuXG5leHBvcnQgaW50ZXJmYWNlIEV4ZXJjaXNlU2VydmljZSB7XG4gIGZldGNoRXhlcmNpc2VzOiAoKSA9PiBQcm9taXNlPHZvaWQ+O1xuICBmZXRjaFBhZ2luYXRlZEV4ZXJjaXNlczogKFxuICAgICAgbGFzdERvYzogRG9jdW1lbnRTbmFwc2hvdCB8IG51bGwsXG4gICAgICBwYWdlU2l6ZT86IG51bWJlclxuICApID0+IFByb21pc2U8eyBleGVyY2lzZXM6IEV4ZXJjaXNlW107IGxhc3RWaXNpYmxlOiBEb2N1bWVudFNuYXBzaG90IHwgbnVsbCB9PjtcbiAgZmV0Y2hGZWF0dXJlZEV4ZXJjaXNlc1dpdGhWaWRlb3M6IChsaW1pdD86IG51bWJlcikgPT4gUHJvbWlzZTxFeGVyY2lzZVtdPjtcbiAgYWxsRXhlcmNpc2VzOiBFeGVyY2lzZVtdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEV4ZXJjaXNlQ29tbWVudCB7XG4gIGlkOiBzdHJpbmc7XG4gIHVzZXJuYW1lOiBzdHJpbmc7XG4gIHRleHQ6IHN0cmluZztcbiAgY3JlYXRlZEF0OiBEYXRlO1xuICB1cGRhdGVkQXQ6IERhdGU7XG59XG5cbi8vIEludGVyZmFjZXNcbmV4cG9ydCBpbnRlcmZhY2UgRXhlcmNpc2VSZWZlcmVuY2Uge1xuICAgIGV4ZXJjaXNlOiBFeGVyY2lzZTtcbiAgICBncm91cElkOiBudW1iZXI7XG59XG5cbmV4cG9ydCBlbnVtIEJvZHlQYXJ0IHtcbiAgICBCaWNlcHMgPSAnYmljZXBzJyxcbiAgICBUcmljZXBzID0gJ3RyaWNlcHMnLFxuICAgIENoZXN0ID0gJ2NoZXN0JyxcbiAgICBDYWx2ZXMgPSAnY2FsdmVzJyxcbiAgICBBYnMgPSAnYWJzJyxcbiAgICBIYW1zdHJpbmdzID0gJ2hhbXN0cmluZ3MnLFxuICAgIEJhY2sgPSAnYmFjaycsXG4gICAgR2x1dGVzID0gJ2dsdXRlcycsXG4gICAgUXVhZHJpY2VwcyA9ICdxdWFkcmljZXBzJyxcbiAgICBGb3JlYXJtcyA9ICdmb3JlYXJtcycsXG4gICAgU2hvdWxkZXJzID0gJ3Nob3VsZGVycycsXG4gICAgTG93ZXJiYWNrID0gJ2xvd2VyYmFjaycsXG4gICAgLy8gYWR2YW5jZWRcbiAgICBMYXRzID0gJ2xhdHMnLFxuICAgIFRyYXBzID0gJ3RyYXBzJyxcbiAgICBSaG9tYm9pZHMgPSAncmhvbWJvaWRzJyxcbiAgICBEZWx0b2lkcyA9ICdkZWx0b2lkcycsXG4gICAgRnVsbGJvZHkgPSAnZnVsbGJvZHknXG59XG4gIFxuLy8gRnVuY3Rpb24gdG8gY2hlY2sgaWYgYSBib2R5IHBhcnQgaXMgYWR2YW5jZWRcbmV4cG9ydCBmdW5jdGlvbiBpc0FkdmFuY2VkQm9keVBhcnQoYm9keVBhcnQ6IEJvZHlQYXJ0KTogYm9vbGVhbiB7XG4gIHJldHVybiBbQm9keVBhcnQuVHJhcHMsIEJvZHlQYXJ0LkxhdHMsIEJvZHlQYXJ0LlJob21ib2lkcywgQm9keVBhcnQuRGVsdG9pZHNdLmluY2x1ZGVzKGJvZHlQYXJ0KTtcbn1cblxudHlwZSBFeGVyY2lzZVZpc2liaWxpdHkgPSAnbGltaXRlZCcgfCAnc2VjcmV0JyB8ICdsaXZlJztcblxuXG5leHBvcnQgaW50ZXJmYWNlIEV4ZXJjaXNlUmVmZXJlbmNlIHtcbiAgZXhlcmNpc2U6IEV4ZXJjaXNlO1xuICBncm91cElkOiBudW1iZXI7XG59XG5cbmV4cG9ydCBjbGFzcyBFeGVyY2lzZUxvZyB7XG4gIGlkOiBzdHJpbmc7XG4gIHdvcmtvdXRJZDogc3RyaW5nO1xuICB1c2VySWQ6IHN0cmluZztcbiAgZXhlcmNpc2U6IEV4ZXJjaXNlO1xuICBsb2dzOiBSZXBzQW5kV2VpZ2h0TG9nW107XG4gIGZlZWRiYWNrOiBzdHJpbmc7XG4gIG5vdGU6IHN0cmluZztcbiAgcmVjb21tZW5kZWRXZWlnaHQ/OiBzdHJpbmc7XG4gIGlzU3BsaXQ6IGJvb2xlYW47XG4gIGlzQm9keVdlaWdodDogYm9vbGVhbjtcbiAgbG9nU3VibWl0dGVkOiBib29sZWFuO1xuICBsb2dJc0VkaXRpbmc6IGJvb2xlYW47XG4gIGlzQ29tcGxldGVkOiBib29sZWFuO1xuICBvcmRlcj86IG51bWJlciB8IG51bGw7XG4gIGNvbXBsZXRlZEF0OiBEYXRlO1xuICBjcmVhdGVkQXQ6IERhdGU7XG4gIHVwZGF0ZWRBdDogRGF0ZTtcblxuICBjb25zdHJ1Y3RvcihkYXRhOiBhbnkpIHtcbiAgICAgIHRoaXMuaWQgPSBkYXRhLmlkIHx8ICcnO1xuICAgICAgdGhpcy53b3Jrb3V0SWQgPSBkYXRhLndvcmtvdXRJZCB8fCAnJztcbiAgICAgIHRoaXMudXNlcklkID0gZGF0YS51c2VySWQgfHwgJyc7XG4gICAgICB0aGlzLmV4ZXJjaXNlID0gZGF0YS5leGVyY2lzZSBpbnN0YW5jZW9mIEV4ZXJjaXNlID8gZGF0YS5leGVyY2lzZSA6IG5ldyBFeGVyY2lzZShkYXRhLmV4ZXJjaXNlKTtcbiAgICAgIHRoaXMubG9ncyA9IChkYXRhLmxvZ3MgfHwgW10pLm1hcCgobG9nOiBhbnkpID0+IG5ldyBSZXBzQW5kV2VpZ2h0TG9nKGxvZykpO1xuICAgICAgdGhpcy5mZWVkYmFjayA9IGRhdGEuZmVlZGJhY2sgfHwgJyc7XG4gICAgICB0aGlzLm5vdGUgPSBkYXRhLm5vdGUgfHwgJyc7XG4gICAgICB0aGlzLnJlY29tbWVuZGVkV2VpZ2h0ID0gZGF0YS5yZWNvbW1lbmRlZFdlaWdodCB8fCAnY2FsY3VsYXRpbmcuLi4nO1xuICAgICAgdGhpcy5pc1NwbGl0ID0gZGF0YS5pc1NwbGl0IHx8IGZhbHNlO1xuICAgICAgdGhpcy5pc0JvZHlXZWlnaHQgPSBkYXRhLmlzQm9keVdlaWdodCB8fCBmYWxzZTtcbiAgICAgIHRoaXMubG9nU3VibWl0dGVkID0gZGF0YS5sb2dTdWJtaXR0ZWQgfHwgZmFsc2U7XG4gICAgICB0aGlzLmxvZ0lzRWRpdGluZyA9IGRhdGEubG9nSXNFZGl0aW5nIHx8IGZhbHNlO1xuICAgICAgdGhpcy5pc0NvbXBsZXRlZCA9IGRhdGEuaXNDb21wbGV0ZWQgfHwgZmFsc2U7XG4gICAgICB0aGlzLm9yZGVyID0gZGF0YS5vcmRlciB8fCBudWxsO1xuICAgICAgdGhpcy5jb21wbGV0ZWRBdCA9IGNvbnZlcnRGaXJlc3RvcmVUaW1lc3RhbXAoZGF0YS5jb21wbGV0ZWRBdCk7XG4gICAgICB0aGlzLmNyZWF0ZWRBdCA9IGNvbnZlcnRGaXJlc3RvcmVUaW1lc3RhbXAoZGF0YS5jcmVhdGVkQXQpO1xuICAgICAgdGhpcy51cGRhdGVkQXQgPSBjb252ZXJ0RmlyZXN0b3JlVGltZXN0YW1wKGRhdGEudXBkYXRlZEF0KTtcbiAgfVxuXG4gIHNldElzU3VibWl0dGVkKGlzU3VibWl0dGVkOiBib29sZWFuKTogdm9pZCB7XG4gICAgICB0aGlzLmxvZ1N1Ym1pdHRlZCA9IGlzU3VibWl0dGVkO1xuICB9XG5cbiAgZmV0Y2hUb3RhbFdlaWdodExpZnRlZCh1c2VyOiBVc2VyKTogbnVtYmVyIHtcbiAgICAgIGNvbnN0IGJvZHlXZWlnaHQgPSBNYXRoLm1heCh1c2VyPy5ib2R5V2VpZ2h0Py5hdCgtMSk/Lm5ld1dlaWdodCB8fCAxNTAsIDEpO1xuXG4gICAgICBsZXQgdG90YWxXZWlnaHRMaWZ0ZWQgPSAwO1xuXG4gICAgICBmb3IgKGNvbnN0IGxvZyBvZiB0aGlzLmxvZ3MpIHtcbiAgICAgICAgICB0b3RhbFdlaWdodExpZnRlZCArPSAoKGxvZy53ZWlnaHQgKyAobG9nLmlzQm9keVdlaWdodCA/IGJvZHlXZWlnaHQgOiAwKSkgKiBsb2cucmVwcyk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKGxvZy5pc1NwbGl0KSB7XG4gICAgICAgICAgICAgIHRvdGFsV2VpZ2h0TGlmdGVkICs9IChsb2cubGVmdFdlaWdodCAqIGxvZy5sZWZ0UmVwcyk7XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICByZXR1cm4gdG90YWxXZWlnaHRMaWZ0ZWQ7XG4gIH1cblxuICBjYWxjdWxhdGVXb3JrU2NvcmUodXNlcjogVXNlciwgd29ya291dElkOiBzdHJpbmcgfCBudWxsLCB3b3Jrb3V0U3VtbWFyaWVzOiBXb3Jrb3V0U3VtbWFyeVtdKTogbnVtYmVyIHtcbiAgICAgIGNvbnN0IGJvZHlXZWlnaHQgPSBNYXRoLm1heCh1c2VyPy5ib2R5V2VpZ2h0Py5hdCgtMSk/Lm5ld1dlaWdodCB8fCAxNTAsIDEpO1xuICAgICAgY29uc3QgaW50ZW5zaXR5V2VpZ2h0ID0gMC40O1xuICAgICAgY29uc3Qgdm9sdW1lV2VpZ2h0ID0gMC40O1xuXG4gICAgICBjb25zdCBhbGxMb2dzID0gdGhpcy5nZXRMb2dzRm9yRXhlcmNpc2Uod29ya291dFN1bW1hcmllcywgdGhpcy5leGVyY2lzZS5uYW1lKTtcbiAgICAgIGNvbnN0IGF2ZXJhZ2VUb3RhbFdlaWdodCA9IGFsbExvZ3MubGVuZ3RoID09PSAwID8gXG4gICAgICAgICAgMCA6IGFsbExvZ3MucmVkdWNlKChzdW0sIGxvZykgPT4gc3VtICsgbG9nLndlaWdodCwgMCkgLyBhbGxMb2dzLmxlbmd0aDtcblxuICAgICAgbGV0IHdvcmtTY29yZSA9IDA7XG5cbiAgICAgIGZvciAoY29uc3QgbG9nSXRlbSBvZiB0aGlzLmxvZ3MpIHtcbiAgICAgICAgICBjb25zdCB0b3RhbFdlaWdodCA9IGxvZ0l0ZW0ud2VpZ2h0ICsgYm9keVdlaWdodDtcbiAgICAgICAgICBjb25zdCBpbnRlbnNpdHlGYWN0b3IgPSB0b3RhbFdlaWdodCAvIGJvZHlXZWlnaHQ7XG4gICAgICAgICAgY29uc3Qgdm9sdW1lRmFjdG9yID0gbG9nSXRlbS5yZXBzO1xuXG4gICAgICAgICAgY29uc3QgcGVyY2VudGFnZU9mQXZlcmFnZSA9IHRvdGFsV2VpZ2h0IC8gTWF0aC5tYXgoYXZlcmFnZVRvdGFsV2VpZ2h0LCAxKSAqIDEwMDtcbiAgICAgICAgICBsZXQgcHJvZ3Jlc3NpdmVTY29yZSA9IDA7XG5cbiAgICAgICAgICBpZiAocGVyY2VudGFnZU9mQXZlcmFnZSA+PSA5MCkgcHJvZ3Jlc3NpdmVTY29yZSA9IDQwO1xuICAgICAgICAgIGVsc2UgaWYgKHBlcmNlbnRhZ2VPZkF2ZXJhZ2UgPj0gODApIHByb2dyZXNzaXZlU2NvcmUgPSAzNTtcbiAgICAgICAgICBlbHNlIGlmIChwZXJjZW50YWdlT2ZBdmVyYWdlID49IDcwKSBwcm9ncmVzc2l2ZVNjb3JlID0gMzA7XG5cbiAgICAgICAgICB3b3JrU2NvcmUgKz0gKGludGVuc2l0eUZhY3RvciAqIHZvbHVtZUZhY3RvciAqIGludGVuc2l0eVdlaWdodCkgKyAocHJvZ3Jlc3NpdmVTY29yZSAqIHZvbHVtZVdlaWdodCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBNYXRoLnJvdW5kKHdvcmtTY29yZSk7XG4gIH1cblxuICBnZXRMb2dzRm9yRXhlcmNpc2Uod29ya291dFN1bW1hcmllczogV29ya291dFN1bW1hcnlbXSwgZXhlcmNpc2VOYW1lOiBzdHJpbmcpOiBSZXBzQW5kV2VpZ2h0TG9nW10ge1xuICAgICAgcmV0dXJuIHdvcmtvdXRTdW1tYXJpZXNcbiAgICAgICAgICA/LmZsYXRNYXAoc3VtbWFyeSA9PiBzdW1tYXJ5LmV4ZXJjaXNlc0NvbXBsZXRlZClcbiAgICAgICAgICAuZmlsdGVyKGxvZyA9PiBsb2cuZXhlcmNpc2UubmFtZSA9PT0gZXhlcmNpc2VOYW1lKVxuICAgICAgICAgIC5mbGF0TWFwKGxvZyA9PiBsb2cubG9ncykgfHwgW107XG4gIH1cblxuICBjaGVja0lmQW55UGFzdExvZ3NXZXJlQm9keVdlaWdodCh3b3Jrb3V0U3VtbWFyaWVzOiBXb3Jrb3V0U3VtbWFyeVtdKTogeyBcbiAgICAgIGhhc0JvZHlXZWlnaHRMb2dzOiBib29sZWFuLCBcbiAgICAgIGF2ZXJhZ2VXZWlnaHQ6IG51bWJlciBcbiAgfSB7XG4gICAgICBjb25zdCBhbGxMb2dJdGVtcyA9IHdvcmtvdXRTdW1tYXJpZXNcbiAgICAgICAgICAuZmxhdE1hcChzdW1tYXJ5ID0+IHN1bW1hcnkuZXhlcmNpc2VzQ29tcGxldGVkKVxuICAgICAgICAgIC5maWx0ZXIobG9nID0+IGxvZy5leGVyY2lzZS5uYW1lID09PSB0aGlzLmV4ZXJjaXNlLm5hbWUpXG4gICAgICAgICAgLmZsYXRNYXAobG9nID0+IGxvZy5sb2dzKTtcblxuICAgICAgY29uc3Qgbm9uQm9keVdlaWdodExvZ3MgPSBhbGxMb2dJdGVtcy5maWx0ZXIobG9nID0+ICFsb2cuaXNCb2R5V2VpZ2h0KTtcbiAgICAgIGNvbnN0IGhhc0JvZHlXZWlnaHRMb2dzID0gYWxsTG9nSXRlbXMuc29tZShsb2cgPT4gbG9nLmlzQm9keVdlaWdodCk7XG5cbiAgICAgIGlmIChub25Cb2R5V2VpZ2h0TG9ncy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICByZXR1cm4geyBoYXNCb2R5V2VpZ2h0TG9ncywgYXZlcmFnZVdlaWdodDogMCB9O1xuICAgICAgfVxuXG4gICAgICBjb25zdCB0b3RhbFdlaWdodCA9IG5vbkJvZHlXZWlnaHRMb2dzLnJlZHVjZSgoc3VtLCBsb2cpID0+IHN1bSArIGxvZy53ZWlnaHQsIDApO1xuICAgICAgY29uc3QgYXZlcmFnZVdlaWdodCA9IHRvdGFsV2VpZ2h0IC8gbm9uQm9keVdlaWdodExvZ3MubGVuZ3RoO1xuXG4gICAgICByZXR1cm4geyBoYXNCb2R5V2VpZ2h0TG9ncywgYXZlcmFnZVdlaWdodCB9O1xuICB9XG5cbiAgZmV0Y2hIaWdoZXN0VFdMKHdvcmtvdXRTdW1tYXJpZXM6IFdvcmtvdXRTdW1tYXJ5W10sIHVzZXI6IFVzZXIpOiBudW1iZXIgfCBudWxsIHtcbiAgICAgIGNvbnN0IGV4ZXJjaXNlV29ya291dHMgPSB3b3Jrb3V0U3VtbWFyaWVzXG4gICAgICAgICAgPy5maWx0ZXIoc3VtbWFyeSA9PiBcbiAgICAgICAgICAgICAgc3VtbWFyeS5leGVyY2lzZXNDb21wbGV0ZWQuc29tZShsb2cgPT4gXG4gICAgICAgICAgICAgICAgICBsb2cuZXhlcmNpc2UubmFtZSA9PT0gdGhpcy5leGVyY2lzZS5uYW1lXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICApO1xuXG4gICAgICBpZiAoIWV4ZXJjaXNlV29ya291dHM/Lmxlbmd0aCkgcmV0dXJuIG51bGw7XG5cbiAgICAgIGNvbnN0IHR3bHMgPSBleGVyY2lzZVdvcmtvdXRzLm1hcChzdW1tYXJ5ID0+XG4gICAgICAgICAgc3VtbWFyeS5leGVyY2lzZXNDb21wbGV0ZWQucmVkdWNlKCh0b3RhbCwgbG9nKSA9PlxuICAgICAgICAgICAgICBsb2cuZXhlcmNpc2UubmFtZSA9PT0gdGhpcy5leGVyY2lzZS5uYW1lXG4gICAgICAgICAgICAgICAgICA/IHRvdGFsICsgbG9nLmZldGNoVG90YWxXZWlnaHRMaWZ0ZWQodXNlcilcbiAgICAgICAgICAgICAgICAgIDogdG90YWxcbiAgICAgICAgICAsIDApXG4gICAgICApO1xuXG4gICAgICByZXR1cm4gTWF0aC5tYXgoLi4udHdscyk7XG4gIH1cblxuICBzdGF0aWMgZmV0Y2hIaWdoZXN0V2VpZ2h0TGlmdGVkRm9yRXhlcmNpc2UoZXhlcmNpc2VOYW1lOiBzdHJpbmcsIHdvcmtvdXRTdW1tYXJpZXM6IFdvcmtvdXRTdW1tYXJ5W10pOiBudW1iZXIgfCBudWxsIHtcbiAgICAgIGNvbnN0IGV4ZXJjaXNlV29ya291dHMgPSB3b3Jrb3V0U3VtbWFyaWVzXG4gICAgICAgICAgPy5maWx0ZXIoc3VtbWFyeSA9PlxuICAgICAgICAgICAgICBzdW1tYXJ5LmV4ZXJjaXNlc0NvbXBsZXRlZC5zb21lKGxvZyA9PlxuICAgICAgICAgICAgICAgICAgbG9nLmV4ZXJjaXNlLm5hbWUgPT09IGV4ZXJjaXNlTmFtZVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgKTtcblxuICAgICAgaWYgKCFleGVyY2lzZVdvcmtvdXRzPy5sZW5ndGgpIHJldHVybiBudWxsO1xuXG4gICAgICBjb25zdCB3ZWlnaHRzID0gZXhlcmNpc2VXb3Jrb3V0cy5mbGF0TWFwKHN1bW1hcnkgPT5cbiAgICAgICAgICBzdW1tYXJ5LmV4ZXJjaXNlc0NvbXBsZXRlZC5mbGF0TWFwKGxvZyA9PiB7XG4gICAgICAgICAgICAgIGlmIChsb2cuZXhlcmNpc2UubmFtZSAhPT0gZXhlcmNpc2VOYW1lKSByZXR1cm4gW107XG4gICAgICAgICAgICAgIHJldHVybiBsb2cubG9ncy5tYXAobG9nSXRlbSA9PlxuICAgICAgICAgICAgICAgICAgbG9nSXRlbS5pc1NwbGl0XG4gICAgICAgICAgICAgICAgICAgICAgPyBNYXRoLm1heChsb2dJdGVtLndlaWdodCwgbG9nSXRlbS5sZWZ0V2VpZ2h0KVxuICAgICAgICAgICAgICAgICAgICAgIDogbG9nSXRlbS53ZWlnaHRcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KVxuICAgICAgKTtcblxuICAgICAgcmV0dXJuIHdlaWdodHMubGVuZ3RoID8gTWF0aC5tYXgoLi4ud2VpZ2h0cykgOiBudWxsO1xuICB9XG5cbiAgZmV0Y2hIaWdoZXN0V2VpZ2h0SW5TZXQod29ya291dFN1bW1hcmllczogV29ya291dFN1bW1hcnlbXSk6IHsgd2VpZ2h0OiBudW1iZXIgfCBudWxsLCByZXBzOiBudW1iZXIgfCBudWxsIH0ge1xuICAgICAgY29uc3QgZXhlcmNpc2VXb3Jrb3V0cyA9IHdvcmtvdXRTdW1tYXJpZXNcbiAgICAgICAgICA/LmZpbHRlcihzdW1tYXJ5ID0+XG4gICAgICAgICAgICAgIHN1bW1hcnkuZXhlcmNpc2VzQ29tcGxldGVkLnNvbWUobG9nID0+XG4gICAgICAgICAgICAgICAgICBsb2cuZXhlcmNpc2UubmFtZSA9PT0gdGhpcy5leGVyY2lzZS5uYW1lXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICApO1xuXG4gICAgICBpZiAoIWV4ZXJjaXNlV29ya291dHM/Lmxlbmd0aCkgcmV0dXJuIHsgd2VpZ2h0OiBudWxsLCByZXBzOiBudWxsIH07XG5cbiAgICAgIGNvbnN0IHdlaWdodEFuZFJlcHMgPSBleGVyY2lzZVdvcmtvdXRzLmZsYXRNYXAoc3VtbWFyeSA9PlxuICAgICAgICAgIHN1bW1hcnkuZXhlcmNpc2VzQ29tcGxldGVkLmZsYXRNYXAobG9nID0+XG4gICAgICAgICAgICAgIGxvZy5leGVyY2lzZS5uYW1lID09PSB0aGlzLmV4ZXJjaXNlLm5hbWVcbiAgICAgICAgICAgICAgICAgID8gbG9nLmxvZ3MubWFwKGxvZ0l0ZW0gPT4gKHsgd2VpZ2h0OiBsb2dJdGVtLndlaWdodCwgcmVwczogbG9nSXRlbS5yZXBzIH0pKVxuICAgICAgICAgICAgICAgICAgOiBbXVxuICAgICAgICAgIClcbiAgICAgICk7XG5cbiAgICAgIGlmICghd2VpZ2h0QW5kUmVwcy5sZW5ndGgpIHJldHVybiB7IHdlaWdodDogbnVsbCwgcmVwczogbnVsbCB9O1xuXG4gICAgICBjb25zdCBtYXhXZWlnaHRFbnRyeSA9IHdlaWdodEFuZFJlcHMucmVkdWNlKChtYXgsIGN1cnJlbnQpID0+XG4gICAgICAgICAgY3VycmVudC53ZWlnaHQgPiBtYXgud2VpZ2h0ID8gY3VycmVudCA6IG1heFxuICAgICAgKTtcblxuICAgICAgcmV0dXJuIHsgd2VpZ2h0OiBtYXhXZWlnaHRFbnRyeS53ZWlnaHQsIHJlcHM6IG1heFdlaWdodEVudHJ5LnJlcHMgfTtcbiAgfVxuXG4gIGZldGNoVG90YWxSZXBzKCk6IG51bWJlciB7XG4gICAgICByZXR1cm4gdGhpcy5sb2dzLnJlZHVjZSgodG90YWwsIGxvZykgPT4gdG90YWwgKyBsb2cucmVwcywgMCk7XG4gIH1cblxuICBmZXRjaFRvdGFsU2Vzc2lvbnMoYWxsTG9nczogRXhlcmNpc2VMb2dbXSk6IG51bWJlciB7XG4gICAgICByZXR1cm4gYWxsTG9nc1xuICAgICAgICAgIC5maWx0ZXIobG9nID0+IGxvZy5leGVyY2lzZS5uYW1lID09PSB0aGlzLmV4ZXJjaXNlLm5hbWUpXG4gICAgICAgICAgLmxlbmd0aDtcbiAgfVxuXG4gIGZldGNoVG90YWxDb21wbGV0ZWRTZXRzKCk6IG51bWJlciB7XG4gICAgICByZXR1cm4gdGhpcy5sb2dzLmZpbHRlcihsb2cgPT4gbG9nLnJlcHMgPiAwKS5sZW5ndGg7XG4gIH1cblxuICBpc0xvZ0NvbXBsZXRlKCk6IGJvb2xlYW4ge1xuICAgICAgcmV0dXJuIHRoaXMubG9ncy5zb21lKGxvZyA9PiBsb2cucmVwcyA+IDApO1xuICB9XG5cbiAgdXBkYXRlTG9nKHdvcmtvdXQ6IFdvcmtvdXQpOiB2b2lkIHtcbiAgICAgIGV4ZXJjaXNlTG9nU2VydmljZS51cGRhdGVFeGVyY2lzZUxvZyh0aGlzLCB3b3Jrb3V0KTtcbiAgfVxuXG4gIHRvRGljdGlvbmFyeSgpOiB7IFtrZXk6IHN0cmluZ106IGFueSB9IHtcbiAgICAgIGNvbnN0IGRhdGE6IHsgW2tleTogc3RyaW5nXTogYW55IH0gPSB7XG4gICAgICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICAgICAgd29ya291dElkOiB0aGlzLndvcmtvdXRJZCxcbiAgICAgICAgICB1c2VySWQ6IHRoaXMudXNlcklkLFxuICAgICAgICAgIGV4ZXJjaXNlOiB0aGlzLmV4ZXJjaXNlLnRvRGljdGlvbmFyeSgpLFxuICAgICAgICAgIGxvZ3M6IHRoaXMubG9ncy5tYXAobG9nID0+IGxvZy50b0RpY3Rpb25hcnkoKSksXG4gICAgICAgICAgZmVlZGJhY2s6IHRoaXMuZmVlZGJhY2ssXG4gICAgICAgICAgbm90ZTogdGhpcy5ub3RlLFxuICAgICAgICAgIGlzU3BsaXQ6IHRoaXMuaXNTcGxpdCxcbiAgICAgICAgICBpc0JvZHlXZWlnaHQ6IHRoaXMuaXNCb2R5V2VpZ2h0LFxuICAgICAgICAgIGxvZ1N1Ym1pdHRlZDogdGhpcy5sb2dTdWJtaXR0ZWQsXG4gICAgICAgICAgbG9nSXNFZGl0aW5nOiB0aGlzLmxvZ0lzRWRpdGluZyxcbiAgICAgICAgICBpc0NvbXBsZXRlZDogdGhpcy5pc0NvbXBsZXRlZCxcbiAgICAgICAgICBjcmVhdGVkQXQ6IGRhdGVUb1VuaXhUaW1lc3RhbXAodGhpcy5jcmVhdGVkQXQpLFxuICAgICAgICAgIHVwZGF0ZWRBdDogZGF0ZVRvVW5peFRpbWVzdGFtcCh0aGlzLnVwZGF0ZWRBdCksXG4gICAgICAgICAgY29tcGxldGVkQXQ6IGRhdGVUb1VuaXhUaW1lc3RhbXAodGhpcy5jb21wbGV0ZWRBdCksXG4gICAgICAgICAgcmVjb21tZW5kZWRXZWlnaHQ6IHRoaXMucmVjb21tZW5kZWRXZWlnaHQsXG4gICAgICB9O1xuXG4gICAgICBpZiAodGhpcy5vcmRlciAhPSBudWxsKSB7XG4gICAgICAgICAgZGF0YVtcIm9yZGVyXCJdID0gdGhpcy5vcmRlcjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRhdGE7XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBXZWlnaHRUcmFpbmluZ0V4ZXJjaXNlIHtcbiAgcmVwczogc3RyaW5nW107XG4gIHNldHM6IG51bWJlcjtcbiAgd2VpZ2h0OiBudW1iZXI7XG4gIHNjcmVlblRpbWU6IG51bWJlcjtcbiAgc2VsZWN0ZWRWaWRlbz86IEV4ZXJjaXNlVmlkZW8gfCBudWxsO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENhcmRpb0V4ZXJjaXNlIHtcbiAgZHVyYXRpb246IG51bWJlcjtcbiAgYnBtOiBudW1iZXI7XG4gIGNhbG9yaWVzOiBudW1iZXI7XG4gIHNjcmVlblRpbWU6IG51bWJlcjtcbiAgc2VsZWN0ZWRWaWRlbz86IEV4ZXJjaXNlVmlkZW8gfCBudWxsO1xufVxuXG5leHBvcnQgdHlwZSBFeGVyY2lzZUNhdGVnb3J5ID0gXG4gIHwgeyB0eXBlOiAnd2VpZ2h0LXRyYWluaW5nJywgZGV0YWlscz86IFdlaWdodFRyYWluaW5nRXhlcmNpc2UgfVxuICB8IHsgdHlwZTogJ2NhcmRpbycsIGRldGFpbHM/OiBDYXJkaW9FeGVyY2lzZSB9O1xuXG4vLyBIZWxwZXIgZnVuY3Rpb25zIHRvIG1pbWljIFN3aWZ0IGVudW0gYmVoYXZpb3JcbmV4cG9ydCBjb25zdCBFeGVyY2lzZUNhdGVnb3J5ID0ge1xuICB3ZWlnaHRUcmFpbmluZzogKGRldGFpbHM/OiBXZWlnaHRUcmFpbmluZ0V4ZXJjaXNlKTogRXhlcmNpc2VDYXRlZ29yeSA9PiAoe1xuICAgIHR5cGU6ICd3ZWlnaHQtdHJhaW5pbmcnLFxuICAgIGRldGFpbHNcbiAgfSksXG4gIGNhcmRpbzogKGRldGFpbHM/OiBDYXJkaW9FeGVyY2lzZSk6IEV4ZXJjaXNlQ2F0ZWdvcnkgPT4gKHtcbiAgICB0eXBlOiAnY2FyZGlvJyxcbiAgICBkZXRhaWxzXG4gIH0pLFxuXG4gIGZyb21JZGVudGlmaWVyOiAoaWRlbnRpZmllcjogc3RyaW5nKTogRXhlcmNpc2VDYXRlZ29yeSB8IG51bGwgPT4ge1xuICAgIHN3aXRjaCAoaWRlbnRpZmllcikge1xuICAgICAgY2FzZSAnd2VpZ2h0LXRyYWluaW5nJzpcbiAgICAgICAgcmV0dXJuIEV4ZXJjaXNlQ2F0ZWdvcnkud2VpZ2h0VHJhaW5pbmcoe1xuICAgICAgICAgIHJlcHM6IFsnMTInXSxcbiAgICAgICAgICBzZXRzOiAzLFxuICAgICAgICAgIHdlaWdodDogMC4wLCBcbiAgICAgICAgICBzY3JlZW5UaW1lOiAwLFxuICAgICAgICAgIHNlbGVjdGVkVmlkZW86IG51bGxcbiAgICAgICAgfSk7XG4gICAgICBjYXNlICdjYXJkaW8nOlxuICAgICAgICByZXR1cm4gRXhlcmNpc2VDYXRlZ29yeS5jYXJkaW8oe1xuICAgICAgICAgIGR1cmF0aW9uOiAyMCxcbiAgICAgICAgICBicG06IDEyNSxcbiAgICAgICAgICBjYWxvcmllczogMCxcbiAgICAgICAgICBzY3JlZW5UaW1lOiAwLFxuICAgICAgICAgIHNlbGVjdGVkVmlkZW86IG51bGxcbiAgICAgICAgfSk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH0sXG5cbiAgaWRlbnRpZmllcjogKGNhdGVnb3J5OiBFeGVyY2lzZUNhdGVnb3J5KTogc3RyaW5nID0+IHtcbiAgICBzd2l0Y2ggKGNhdGVnb3J5LnR5cGUpIHtcbiAgICAgIGNhc2UgJ3dlaWdodC10cmFpbmluZyc6XG4gICAgICAgIHJldHVybiAnd2VpZ2h0LXRyYWluaW5nJztcbiAgICAgIGNhc2UgJ2NhcmRpbyc6XG4gICAgICAgIHJldHVybiAnY2FyZGlvJztcbiAgICB9XG4gIH1cbn07XG5cbi8vIFVzYWdlIGV4YW1wbGVzOlxuLy8gY29uc3Qgd2VpZ2h0VHJhaW5pbmcgPSBFeGVyY2lzZUNhdGVnb3J5LndlaWdodFRyYWluaW5nKHsgcmVwczogJzEwJywgc2V0czogMywgd2VpZ2h0OiA1MCB9KTtcbi8vIGNvbnN0IGNhcmRpbyA9IEV4ZXJjaXNlQ2F0ZWdvcnkuY2FyZGlvKHsgZHVyYXRpb246IDMwLCBicG06IDE0MCwgY2Fsb3JpZXM6IDMwMCB9KTtcbi8vIGNvbnN0IGZyb21JZCA9IEV4ZXJjaXNlQ2F0ZWdvcnkuZnJvbUlkZW50aWZpZXIoJ3dlaWdodC10cmFpbmluZycpO1xuLy8gY29uc3QgaWQgPSBFeGVyY2lzZUNhdGVnb3J5LmlkZW50aWZpZXIod2VpZ2h0VHJhaW5pbmcpO1xuXG5cbmV4cG9ydCBjbGFzcyBFeGVyY2lzZSB7XG4gIGlkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgY2F0ZWdvcnk6IEV4ZXJjaXNlQ2F0ZWdvcnk7XG4gIHByaW1hcnlCb2R5UGFydHM6IEJvZHlQYXJ0W107XG4gIHNlY29uZGFyeUJvZHlQYXJ0czogQm9keVBhcnRbXTtcbiAgdGFnczogc3RyaW5nW107XG4gIHZpZGVvczogRXhlcmNpc2VWaWRlb1tdO1xuICBzdGVwczogc3RyaW5nW107XG4gIHZpc2liaWxpdHk6IEV4ZXJjaXNlVmlzaWJpbGl0eTtcbiAgY3VycmVudFZpZGVvUG9zaXRpb246IG51bWJlcjtcbiAgc2V0czogbnVtYmVyO1xuICByZXBzOiBzdHJpbmc7XG4gIHdlaWdodDogbnVtYmVyO1xuICBhdXRob3I6IEV4ZXJjaXNlQXV0aG9yO1xuICBjcmVhdGVkQXQ6IERhdGU7XG4gIHVwZGF0ZWRBdDogRGF0ZTtcblxuICBjb25zdHJ1Y3RvcihkYXRhOiBhbnkpIHtcbiAgICB0aGlzLmlkID0gZGF0YS5pZCB8fCAnJztcbiAgICB0aGlzLm5hbWUgPSBkYXRhLm5hbWUgfHwgJyc7XG4gICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRhdGEuZGVzY3JpcHRpb24gfHwgJyc7XG4gICAgdGhpcy5wcmltYXJ5Qm9keVBhcnRzID0gKGRhdGEucHJpbWFyeUJvZHlQYXJ0cyB8fCBbXSkgYXMgQm9keVBhcnRbXTtcbiAgICB0aGlzLnNlY29uZGFyeUJvZHlQYXJ0cyA9IChkYXRhLnNlY29uZGFyeUJvZHlQYXJ0cyB8fCBbXSkgYXMgQm9keVBhcnRbXTtcbiAgICB0aGlzLnRhZ3MgPSBkYXRhLnRhZ3MgfHwgW107XG4gICAgdGhpcy52aWRlb3MgPSAoZGF0YS52aWRlb3MgfHwgW10pLm1hcCgodmlkZW86IGFueSkgPT4gbmV3IEV4ZXJjaXNlVmlkZW8odmlkZW8pKTtcbiAgICB0aGlzLnN0ZXBzID0gZGF0YS5zdGVwcyB8fCBbXTtcbiAgICB0aGlzLnZpc2liaWxpdHkgPSBkYXRhLnZpc2liaWxpdHkgfHwgJ2xpdmUnO1xuICAgIHRoaXMuY3VycmVudFZpZGVvUG9zaXRpb24gPSBkYXRhLmN1cnJlbnRWaWRlb1Bvc2l0aW9uIHx8IDA7XG4gICAgdGhpcy5zZXRzID0gZGF0YS5zZXRzIHx8IDA7XG4gICAgdGhpcy5yZXBzID0gZGF0YS5yZXBzIHx8ICcnO1xuICAgIHRoaXMud2VpZ2h0ID0gZGF0YS53ZWlnaHQgfHwgMDtcbiAgICB0aGlzLmF1dGhvciA9IG5ldyBFeGVyY2lzZUF1dGhvcihkYXRhLmF1dGhvciB8fCB7fSk7XG4gICAgdGhpcy5jcmVhdGVkQXQgPSBjb252ZXJ0RmlyZXN0b3JlVGltZXN0YW1wKGRhdGEuY3JlYXRlZEF0KTtcbiAgICB0aGlzLnVwZGF0ZWRBdCA9IGNvbnZlcnRGaXJlc3RvcmVUaW1lc3RhbXAoZGF0YS51cGRhdGVkQXQpO1xuXG4gICAgaWYgKGRhdGEuY2F0ZWdvcnkpIHtcbiAgICAgICAgdGhpcy5jYXRlZ29yeSA9IChkYXRhLmNhdGVnb3J5LmlkID09PSAnd2VpZ2h0LXRyYWluaW5nJyB8fCBkYXRhLmNhdGVnb3J5LnR5cGUgPT09ICd3ZWlnaHQtdHJhaW5pbmcnKVxuICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3dlaWdodC10cmFpbmluZycsXG4gICAgICAgICAgICAgICAgZGV0YWlsczoge1xuICAgICAgICAgICAgICAgICAgc2V0czogZGF0YS5jYXRlZ29yeS5zZXRzID8/IDMsXG4gICAgICAgICAgICAgICAgICByZXBzOiBBcnJheS5pc0FycmF5KGRhdGEuY2F0ZWdvcnkucmVwcykgXG4gICAgICAgICAgICAgICAgICAgID8gZGF0YS5jYXRlZ29yeS5yZXBzIFxuICAgICAgICAgICAgICAgICAgICA6IFtkYXRhLmNhdGVnb3J5LnJlcHMgfHwgJzEyJ10sXG4gICAgICAgICAgICAgICAgICB3ZWlnaHQ6IGRhdGEuY2F0ZWdvcnkud2VpZ2h0ID8/IDAsXG4gICAgICAgICAgICAgICAgICBzY3JlZW5UaW1lOiBkYXRhLmNhdGVnb3J5LnNjcmVlblRpbWUgfHwgMCxcbiAgICAgICAgICAgICAgICAgIHNlbGVjdGVkVmlkZW86IGRhdGEuY2F0ZWdvcnkuc2VsZWN0ZWRWaWRlbyA/PyBudWxsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnd2VpZ2h0LXRyYWluaW5nJywgIC8vIERlZmF1bHQgdG8gd2VpZ2h0LXRyYWluaW5nIGluc3RlYWQgb2YgY2FyZGlvXG4gICAgICAgICAgICAgICAgZGV0YWlsczoge1xuICAgICAgICAgICAgICAgICAgc2V0czogZGF0YS5jYXRlZ29yeS5zZXRzID8/IDMsXG4gICAgICAgICAgICAgICAgICByZXBzOiBBcnJheS5pc0FycmF5KGRhdGEuY2F0ZWdvcnkucmVwcykgXG4gICAgICAgICAgICAgICAgICAgID8gZGF0YS5jYXRlZ29yeS5yZXBzIFxuICAgICAgICAgICAgICAgICAgICA6IFtkYXRhLmNhdGVnb3J5LnJlcHMgfHwgJzEyJ10sXG4gICAgICAgICAgICAgICAgICB3ZWlnaHQ6IGRhdGEuY2F0ZWdvcnkud2VpZ2h0ID8/IDAsXG4gICAgICAgICAgICAgICAgICBzY3JlZW5UaW1lOiBkYXRhLmNhdGVnb3J5LnNjcmVlblRpbWUgfHwgMCxcbiAgICAgICAgICAgICAgICAgIHNlbGVjdGVkVmlkZW86IGRhdGEuY2F0ZWdvcnkuc2VsZWN0ZWRWaWRlbyA/PyBudWxsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNhdGVnb3J5ID0ge1xuICAgICAgICB0eXBlOiAnd2VpZ2h0LXRyYWluaW5nJyxcbiAgICAgICAgZGV0YWlsczoge1xuICAgICAgICAgIHNldHM6IDMsXG4gICAgICAgICAgcmVwczogWycxMiddLFxuICAgICAgICAgIHdlaWdodDogMCxcbiAgICAgICAgICBzY3JlZW5UaW1lOiAwLFxuICAgICAgICAgIHNlbGVjdGVkVmlkZW86IG51bGxcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICB0b0RpY3Rpb25hcnkoKTogeyBba2V5OiBzdHJpbmddOiBhbnkgfSB7XG4gICAgLy8gQ3JlYXRlIHRoZSBjYXRlZ29yeSBvYmplY3Q6XG4gICAgY29uc3QgY2F0ZWdvcnlEYXRhID0ge1xuICAgICAgaWQ6IHRoaXMuY2F0ZWdvcnkudHlwZSxcbiAgICAgIC4uLnRoaXMuY2F0ZWdvcnkuZGV0YWlscyxcbiAgICAgIC8vIE9ubHkgaW5jbHVkZSBzZWxlY3RlZFZpZGVvIGlmIGl0IGlzIGRlZmluZWQuXG4gICAgICAuLi4odGhpcy5jYXRlZ29yeS5kZXRhaWxzPy5zZWxlY3RlZFZpZGVvXG4gICAgICAgID8geyBzZWxlY3RlZFZpZGVvOiB0aGlzLmNhdGVnb3J5LmRldGFpbHMuc2VsZWN0ZWRWaWRlby50b0RpY3Rpb25hcnkoKSB9XG4gICAgICAgIDoge30pXG4gICAgfTtcblxuICAgIGNvbnN0IGRhdGE6IHsgW2tleTogc3RyaW5nXTogYW55IH0gPSB7XG4gICAgICBpZDogdGhpcy5pZCxcbiAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLmRlc2NyaXB0aW9uLFxuICAgICAgY2F0ZWdvcnk6IGNhdGVnb3J5RGF0YSxcbiAgICAgIHByaW1hcnlCb2R5UGFydHM6IHRoaXMucHJpbWFyeUJvZHlQYXJ0cyxcbiAgICAgIHNlY29uZGFyeUJvZHlQYXJ0czogdGhpcy5zZWNvbmRhcnlCb2R5UGFydHMsXG4gICAgICB0YWdzOiB0aGlzLnRhZ3MsXG4gICAgICB2aWRlb3M6IHRoaXMudmlkZW9zLm1hcCgodmlkZW8pID0+IHZpZGVvLnRvRGljdGlvbmFyeSgpKSxcbiAgICAgIHN0ZXBzOiB0aGlzLnN0ZXBzLFxuICAgICAgdmlzaWJpbGl0eTogdGhpcy52aXNpYmlsaXR5LFxuICAgICAgY3VycmVudFZpZGVvUG9zaXRpb246IHRoaXMuY3VycmVudFZpZGVvUG9zaXRpb24sXG4gICAgICBzZXRzOiB0aGlzLnNldHMsXG4gICAgICByZXBzOiB0aGlzLnJlcHMsXG4gICAgICB3ZWlnaHQ6IHRoaXMud2VpZ2h0LFxuICAgICAgYXV0aG9yOiB0aGlzLmF1dGhvci50b0RpY3Rpb25hcnkoKSxcbiAgICAgIGNyZWF0ZWRBdDogZGF0ZVRvVW5peFRpbWVzdGFtcCh0aGlzLmNyZWF0ZWRBdCksXG4gICAgICB1cGRhdGVkQXQ6IGRhdGVUb1VuaXhUaW1lc3RhbXAodGhpcy51cGRhdGVkQXQpLFxuICAgIH07XG5cbiAgICByZXR1cm4gZGF0YTtcbiAgfVxufVxuXG4vLyB0eXBlcy9FeGVyY2lzZVZpZGVvLnRzXG5leHBvcnQgdHlwZSBFeGVyY2lzZVZpZGVvVmlzaWJpbGl0eSA9ICdvcGVuJyB8ICdwcml2YXRlJyB8ICdmb2xsb3dlcnMnO1xuXG4vLyBFeGVyY2lzZVZpZGVvLnRzXG5leHBvcnQgY2xhc3MgRXhlcmNpc2VWaWRlbyB7XG4gIGlkOiBzdHJpbmc7XG4gIGV4ZXJjaXNlSWQ6IHN0cmluZztcbiAgdXNlcm5hbWU6IHN0cmluZztcbiAgdXNlcklkOiBzdHJpbmc7XG4gIHZpZGVvVVJMOiBzdHJpbmc7XG4gIGZpbGVOYW1lOiBzdHJpbmc7XG4gIGV4ZXJjaXNlOiBzdHJpbmc7XG4gIHByb2ZpbGVJbWFnZTogUHJvZmlsZUltYWdlO1xuICBjYXB0aW9uPzogc3RyaW5nO1xuICBnaWZVUkw/OiBzdHJpbmc7XG4gIHRodW1ibmFpbD86IHN0cmluZztcbiAgdmlzaWJpbGl0eTogRXhlcmNpc2VWaWRlb1Zpc2liaWxpdHk7XG4gIHRvdGFsQWNjb3VudHNSZWFjaGVkOiBudW1iZXI7XG4gIHRvdGFsQWNjb3VudExpa2VzOiBudW1iZXI7XG4gIHRvdGFsQWNjb3VudEJvb2ttYXJrZWQ6IG51bWJlcjtcbiAgdG90YWxBY2NvdW50VXNhZ2U6IG51bWJlcjtcbiAgaXNBcHByb3ZlZDogYm9vbGVhbjtcbiAgbGlrZWQ/OiBib29sZWFuO1xuICBib29rbWFya2VkPzogYm9vbGVhbjtcbiAgY3JlYXRlZEF0OiBEYXRlO1xuICB1cGRhdGVkQXQ6IERhdGU7XG5cbiAgY29uc3RydWN0b3IoZGF0YTogYW55KSB7XG4gICAgdGhpcy5pZCA9IGRhdGEuaWQgfHwgJyc7XG4gICAgdGhpcy5leGVyY2lzZUlkID0gZGF0YS5leGVyY2lzZUlkIHx8ICcnO1xuICAgIHRoaXMudXNlcm5hbWUgPSBkYXRhLnVzZXJuYW1lIHx8ICcnO1xuICAgIHRoaXMudXNlcklkID0gZGF0YS51c2VySWQgfHwgJyc7XG4gICAgdGhpcy52aWRlb1VSTCA9IGRhdGEudmlkZW9VUkwgfHwgJyc7XG4gICAgdGhpcy5maWxlTmFtZSA9IGRhdGEuZmlsZU5hbWUgfHwgJyc7XG4gICAgdGhpcy5leGVyY2lzZSA9IGRhdGEuZXhlcmNpc2UgfHwgJyc7XG4gICAgdGhpcy5wcm9maWxlSW1hZ2UgPSBuZXcgUHJvZmlsZUltYWdlKGRhdGEucHJvZmlsZUltYWdlIHx8IHt9KTtcbiAgICB0aGlzLmNhcHRpb24gPSBkYXRhLmNhcHRpb247XG4gICAgdGhpcy5naWZVUkwgPSBkYXRhLmdpZlVSTDtcbiAgICB0aGlzLnRodW1ibmFpbCA9IGRhdGEudGh1bWJuYWlsO1xuICAgIHRoaXMudmlzaWJpbGl0eSA9IGRhdGEudmlzaWJpbGl0eSBhcyBFeGVyY2lzZVZpZGVvVmlzaWJpbGl0eSB8fCAncHJpdmF0ZSc7XG4gICAgdGhpcy50b3RhbEFjY291bnRzUmVhY2hlZCA9IGRhdGEudG90YWxBY2NvdW50c1JlYWNoZWQgfHwgMDtcbiAgICB0aGlzLnRvdGFsQWNjb3VudExpa2VzID0gZGF0YS50b3RhbEFjY291bnRMaWtlcyB8fCAwO1xuICAgIHRoaXMudG90YWxBY2NvdW50Qm9va21hcmtlZCA9IGRhdGEudG90YWxBY2NvdW50Qm9va21hcmtlZCB8fCAwO1xuICAgIHRoaXMudG90YWxBY2NvdW50VXNhZ2UgPSBkYXRhLnRvdGFsQWNjb3VudFVzYWdlIHx8IDA7XG4gICAgdGhpcy5pc0FwcHJvdmVkID0gZGF0YS5pc0FwcHJvdmVkIHx8IGZhbHNlO1xuICAgIHRoaXMubGlrZWQgPSBkYXRhLmxpa2VkIHx8IGZhbHNlO1xuICAgIHRoaXMuYm9va21hcmtlZCA9IGRhdGEuYm9va21hcmtlZCB8fCBmYWxzZTtcbiAgICB0aGlzLmNyZWF0ZWRBdCA9IGNvbnZlcnRGaXJlc3RvcmVUaW1lc3RhbXAoZGF0YS5jcmVhdGVkQXQpO1xuICAgIHRoaXMudXBkYXRlZEF0ID0gY29udmVydEZpcmVzdG9yZVRpbWVzdGFtcChkYXRhLnVwZGF0ZWRBdCk7XG4gIH1cblxuICB0b0RpY3Rpb25hcnkoKTogeyBba2V5OiBzdHJpbmddOiBhbnkgfSB7XG4gICAgY29uc3QgZGF0YTogeyBba2V5OiBzdHJpbmddOiBhbnkgfSA9IHtcbiAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgZXhlcmNpc2VJZDogdGhpcy5leGVyY2lzZUlkLFxuICAgICAgdXNlcm5hbWU6IHRoaXMudXNlcm5hbWUsXG4gICAgICB1c2VySWQ6IHRoaXMudXNlcklkLFxuICAgICAgdmlkZW9VUkw6IHRoaXMudmlkZW9VUkwsXG4gICAgICBmaWxlTmFtZTogdGhpcy5maWxlTmFtZSxcbiAgICAgIGV4ZXJjaXNlOiB0aGlzLmV4ZXJjaXNlLFxuICAgICAgcHJvZmlsZUltYWdlOiB0aGlzLnByb2ZpbGVJbWFnZS50b0RpY3Rpb25hcnkoKSxcbiAgICAgIHZpc2liaWxpdHk6IHRoaXMudmlzaWJpbGl0eSxcbiAgICAgIHRvdGFsQWNjb3VudHNSZWFjaGVkOiB0aGlzLnRvdGFsQWNjb3VudHNSZWFjaGVkLFxuICAgICAgdG90YWxBY2NvdW50TGlrZXM6IHRoaXMudG90YWxBY2NvdW50TGlrZXMsXG4gICAgICB0b3RhbEFjY291bnRCb29rbWFya2VkOiB0aGlzLnRvdGFsQWNjb3VudEJvb2ttYXJrZWQsXG4gICAgICB0b3RhbEFjY291bnRVc2FnZTogdGhpcy50b3RhbEFjY291bnRVc2FnZSxcbiAgICAgIGlzQXBwcm92ZWQ6IHRoaXMuaXNBcHByb3ZlZCxcbiAgICAgIGNyZWF0ZWRBdDogZGF0ZVRvVW5peFRpbWVzdGFtcCh0aGlzLmNyZWF0ZWRBdCksXG4gICAgICB1cGRhdGVkQXQ6IGRhdGVUb1VuaXhUaW1lc3RhbXAodGhpcy51cGRhdGVkQXQpLFxuICAgIH07XG5cbiAgICBpZiAodGhpcy5jYXB0aW9uKSBkYXRhLmNhcHRpb24gPSB0aGlzLmNhcHRpb247XG4gICAgaWYgKHRoaXMuZ2lmVVJMKSBkYXRhLmdpZlVSTCA9IHRoaXMuZ2lmVVJMO1xuICAgIGlmICh0aGlzLnRodW1ibmFpbCkgZGF0YS50aHVtYm5haWwgPSB0aGlzLnRodW1ibmFpbDtcbiAgICBpZiAodGhpcy5saWtlZCAhPT0gbnVsbCkgZGF0YS5saWtlZCA9IHRoaXMubGlrZWQ7XG4gICAgaWYgKHRoaXMuYm9va21hcmtlZCAhPT0gbnVsbCkgZGF0YS5ib29rbWFya2VkID0gdGhpcy5ib29rbWFya2VkO1xuXG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEV4ZXJjaXNlRGV0YWlsIHtcbiAgaWQ6IHN0cmluZztcbiAgZXhlcmNpc2VOYW1lOiBzdHJpbmc7XG4gIGV4ZXJjaXNlOiBFeGVyY2lzZTtcbiAgZXhlcmNpc2VMb2dJZD86IHN0cmluZztcbiAgY2F0ZWdvcnk6IEV4ZXJjaXNlQ2F0ZWdvcnk7XG4gIG5vdGVzOiBzdHJpbmc7XG4gIGlzU3BsaXQ6IGJvb2xlYW47XG4gIGlzTWlzc2luZzogYm9vbGVhbjtcbiAgZ3JvdXBJZDogbnVtYmVyO1xuICBjbG9zZXN0TWF0Y2g6IEV4ZXJjaXNlW107XG5cbiAgY29uc3RydWN0b3IoZGF0YTogYW55KSB7XG4gICAgdGhpcy5pZCA9IGRhdGEuaWQgfHwgJyc7XG4gICAgdGhpcy5leGVyY2lzZU5hbWUgPSBkYXRhLmV4ZXJjaXNlTmFtZSB8fCAnJztcbiAgICB0aGlzLmV4ZXJjaXNlID0gZGF0YS5leGVyY2lzZTtcbiAgICB0aGlzLmV4ZXJjaXNlTG9nSWQgPSBkYXRhLmV4ZXJjaXNlTG9nSWQ7XG4gICAgdGhpcy5jYXRlZ29yeSA9IGRhdGEuY2F0ZWdvcnk7XG4gICAgdGhpcy5ub3RlcyA9IGRhdGEubm90ZXMgfHwgJyc7XG4gICAgdGhpcy5pc1NwbGl0ID0gZGF0YS5pc1NwbGl0IHx8IGZhbHNlO1xuICAgIHRoaXMuaXNNaXNzaW5nID0gZGF0YS5pc01pc3NpbmcgfHwgZmFsc2U7XG4gICAgdGhpcy5ncm91cElkID0gZGF0YS5ncm91cElkIHx8IDA7XG4gICAgdGhpcy5jbG9zZXN0TWF0Y2ggPSBkYXRhLmNsb3Nlc3RNYXRjaCB8fCBbXTtcbiAgfVxuXG4gIHRvRGljdGlvbmFyeSgpOiB7IFtrZXk6IHN0cmluZ106IGFueSB9IHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICBleGVyY2lzZU5hbWU6IHRoaXMuZXhlcmNpc2VOYW1lLFxuICAgICAgZXhlcmNpc2U6IHRoaXMuZXhlcmNpc2UudG9EaWN0aW9uYXJ5KCksXG4gICAgICBleGVyY2lzZUxvZ0lkOiB0aGlzLmV4ZXJjaXNlTG9nSWQsXG4gICAgICBjYXRlZ29yeToge1xuICAgICAgICBpZDogdGhpcy5jYXRlZ29yeS50eXBlLFxuICAgICAgICAuLi50aGlzLmNhdGVnb3J5LmRldGFpbHMsXG4gICAgICAgIC4uLih0aGlzLmNhdGVnb3J5LmRldGFpbHM/LnNlbGVjdGVkVmlkZW9cbiAgICAgICAgICA/IHsgc2VsZWN0ZWRWaWRlbzogdGhpcy5jYXRlZ29yeS5kZXRhaWxzLnNlbGVjdGVkVmlkZW8udG9EaWN0aW9uYXJ5KCkgfVxuICAgICAgICAgIDoge30pXG4gICAgICB9LFxuICAgICAgbm90ZXM6IHRoaXMubm90ZXMsXG4gICAgICBpc1NwbGl0OiB0aGlzLmlzU3BsaXQsXG4gICAgICBpc01pc3Npbmc6IHRoaXMuaXNNaXNzaW5nLFxuICAgICAgZ3JvdXBJZDogdGhpcy5ncm91cElkLFxuICAgICAgY2xvc2VzdE1hdGNoOiB0aGlzLmNsb3Nlc3RNYXRjaC5tYXAoZXggPT4gZXgudG9EaWN0aW9uYXJ5KCkpXG4gICAgfTtcbiAgfVxuICBcbn1cblxuLy8gRXhlcmNpc2VBdXRob3IudHNcbmV4cG9ydCBjbGFzcyBFeGVyY2lzZUF1dGhvciB7XG4gIHVzZXJJZDogc3RyaW5nO1xuICB1c2VybmFtZTogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKGRhdGE6IGFueSkge1xuICAgIHRoaXMudXNlcklkID0gZGF0YS51c2VySWQgfHwgJyc7XG4gICAgdGhpcy51c2VybmFtZSA9IGRhdGEudXNlcm5hbWUgfHwgJyc7XG4gIH1cblxuICB0b0RpY3Rpb25hcnkoKTogeyBba2V5OiBzdHJpbmddOiBhbnkgfSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVzZXJJZDogdGhpcy51c2VySWQsXG4gICAgICB1c2VybmFtZTogdGhpcy51c2VybmFtZVxuICAgIH07XG4gIH1cbn0iXSwibmFtZXMiOlsiUmVwc0FuZFdlaWdodExvZyIsIlByb2ZpbGVJbWFnZSIsImNvbnZlcnRGaXJlc3RvcmVUaW1lc3RhbXAiLCJkYXRlVG9Vbml4VGltZXN0YW1wIiwiZXhlcmNpc2VMb2dTZXJ2aWNlIiwiQm9keVBhcnQiLCJpc0FkdmFuY2VkQm9keVBhcnQiLCJib2R5UGFydCIsImluY2x1ZGVzIiwiRXhlcmNpc2VMb2ciLCJjb25zdHJ1Y3RvciIsImRhdGEiLCJpZCIsIndvcmtvdXRJZCIsInVzZXJJZCIsImV4ZXJjaXNlIiwiRXhlcmNpc2UiLCJsb2dzIiwibWFwIiwibG9nIiwiZmVlZGJhY2siLCJub3RlIiwicmVjb21tZW5kZWRXZWlnaHQiLCJpc1NwbGl0IiwiaXNCb2R5V2VpZ2h0IiwibG9nU3VibWl0dGVkIiwibG9nSXNFZGl0aW5nIiwiaXNDb21wbGV0ZWQiLCJvcmRlciIsImNvbXBsZXRlZEF0IiwiY3JlYXRlZEF0IiwidXBkYXRlZEF0Iiwic2V0SXNTdWJtaXR0ZWQiLCJpc1N1Ym1pdHRlZCIsImZldGNoVG90YWxXZWlnaHRMaWZ0ZWQiLCJ1c2VyIiwiYm9keVdlaWdodCIsIk1hdGgiLCJtYXgiLCJhdCIsIm5ld1dlaWdodCIsInRvdGFsV2VpZ2h0TGlmdGVkIiwid2VpZ2h0IiwicmVwcyIsImxlZnRXZWlnaHQiLCJsZWZ0UmVwcyIsImNhbGN1bGF0ZVdvcmtTY29yZSIsIndvcmtvdXRTdW1tYXJpZXMiLCJpbnRlbnNpdHlXZWlnaHQiLCJ2b2x1bWVXZWlnaHQiLCJhbGxMb2dzIiwiZ2V0TG9nc0ZvckV4ZXJjaXNlIiwibmFtZSIsImF2ZXJhZ2VUb3RhbFdlaWdodCIsImxlbmd0aCIsInJlZHVjZSIsInN1bSIsIndvcmtTY29yZSIsImxvZ0l0ZW0iLCJ0b3RhbFdlaWdodCIsImludGVuc2l0eUZhY3RvciIsInZvbHVtZUZhY3RvciIsInBlcmNlbnRhZ2VPZkF2ZXJhZ2UiLCJwcm9ncmVzc2l2ZVNjb3JlIiwicm91bmQiLCJleGVyY2lzZU5hbWUiLCJmbGF0TWFwIiwic3VtbWFyeSIsImV4ZXJjaXNlc0NvbXBsZXRlZCIsImZpbHRlciIsImNoZWNrSWZBbnlQYXN0TG9nc1dlcmVCb2R5V2VpZ2h0IiwiYWxsTG9nSXRlbXMiLCJub25Cb2R5V2VpZ2h0TG9ncyIsImhhc0JvZHlXZWlnaHRMb2dzIiwic29tZSIsImF2ZXJhZ2VXZWlnaHQiLCJmZXRjaEhpZ2hlc3RUV0wiLCJleGVyY2lzZVdvcmtvdXRzIiwidHdscyIsInRvdGFsIiwiZmV0Y2hIaWdoZXN0V2VpZ2h0TGlmdGVkRm9yRXhlcmNpc2UiLCJ3ZWlnaHRzIiwiZmV0Y2hIaWdoZXN0V2VpZ2h0SW5TZXQiLCJ3ZWlnaHRBbmRSZXBzIiwibWF4V2VpZ2h0RW50cnkiLCJjdXJyZW50IiwiZmV0Y2hUb3RhbFJlcHMiLCJmZXRjaFRvdGFsU2Vzc2lvbnMiLCJmZXRjaFRvdGFsQ29tcGxldGVkU2V0cyIsImlzTG9nQ29tcGxldGUiLCJ1cGRhdGVMb2ciLCJ3b3Jrb3V0IiwidXBkYXRlRXhlcmNpc2VMb2ciLCJ0b0RpY3Rpb25hcnkiLCJFeGVyY2lzZUNhdGVnb3J5Iiwid2VpZ2h0VHJhaW5pbmciLCJkZXRhaWxzIiwidHlwZSIsImNhcmRpbyIsImZyb21JZGVudGlmaWVyIiwiaWRlbnRpZmllciIsInNldHMiLCJzY3JlZW5UaW1lIiwic2VsZWN0ZWRWaWRlbyIsImR1cmF0aW9uIiwiYnBtIiwiY2Fsb3JpZXMiLCJjYXRlZ29yeSIsImRlc2NyaXB0aW9uIiwicHJpbWFyeUJvZHlQYXJ0cyIsInNlY29uZGFyeUJvZHlQYXJ0cyIsInRhZ3MiLCJ2aWRlb3MiLCJ2aWRlbyIsIkV4ZXJjaXNlVmlkZW8iLCJzdGVwcyIsInZpc2liaWxpdHkiLCJjdXJyZW50VmlkZW9Qb3NpdGlvbiIsImF1dGhvciIsIkV4ZXJjaXNlQXV0aG9yIiwiQXJyYXkiLCJpc0FycmF5IiwiY2F0ZWdvcnlEYXRhIiwiZXhlcmNpc2VJZCIsInVzZXJuYW1lIiwidmlkZW9VUkwiLCJmaWxlTmFtZSIsInByb2ZpbGVJbWFnZSIsImNhcHRpb24iLCJnaWZVUkwiLCJ0aHVtYm5haWwiLCJ0b3RhbEFjY291bnRzUmVhY2hlZCIsInRvdGFsQWNjb3VudExpa2VzIiwidG90YWxBY2NvdW50Qm9va21hcmtlZCIsInRvdGFsQWNjb3VudFVzYWdlIiwiaXNBcHByb3ZlZCIsImxpa2VkIiwiYm9va21hcmtlZCIsIkV4ZXJjaXNlRGV0YWlsIiwiZXhlcmNpc2VMb2dJZCIsIm5vdGVzIiwiaXNNaXNzaW5nIiwiZ3JvdXBJZCIsImNsb3Nlc3RNYXRjaCIsImV4Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/api/firebase/exercise/types.ts\n");

/***/ }),

/***/ "./src/api/firebase/exerciseLog/service.ts":
/*!*************************************************!*\
  !*** ./src/api/firebase/exerciseLog/service.ts ***!
  \*************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   exerciseLogService: () => (/* binding */ exerciseLogService)\n/* harmony export */ });\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/firestore */ \"firebase/firestore\");\n/* harmony import */ var _firebase_exercise__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../firebase/exercise */ \"./src/api/firebase/exercise/index.ts\");\n/* harmony import */ var _firebase_workout__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../firebase/workout */ \"./src/api/firebase/workout/index.ts\");\n/* harmony import */ var _firebase_user__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../firebase/user */ \"./src/api/firebase/user/index.ts\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../config */ \"./src/api/firebase/config.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([firebase_firestore__WEBPACK_IMPORTED_MODULE_0__, _firebase_exercise__WEBPACK_IMPORTED_MODULE_1__, _firebase_workout__WEBPACK_IMPORTED_MODULE_2__, _firebase_user__WEBPACK_IMPORTED_MODULE_3__, _config__WEBPACK_IMPORTED_MODULE_4__]);\n([firebase_firestore__WEBPACK_IMPORTED_MODULE_0__, _firebase_exercise__WEBPACK_IMPORTED_MODULE_1__, _firebase_workout__WEBPACK_IMPORTED_MODULE_2__, _firebase_user__WEBPACK_IMPORTED_MODULE_3__, _config__WEBPACK_IMPORTED_MODULE_4__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\nclass ExerciseLogService {\n    // Getter for all logs\n    get allLogs() {\n        return this._allLogs;\n    }\n    // Setter for all logs\n    set allLogs(logs) {\n        this._allLogs = logs;\n    }\n    async updateExerciseLog(log, workout) {\n        const userId = _firebase_user__WEBPACK_IMPORTED_MODULE_3__.userService.currentUser?.id;\n        if (!userId) {\n            return;\n        }\n        // Create references to the workout and log documents\n        const workoutRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_4__.db, \"users\", userId, \"workoutSessions\"), workout.id);\n        // Update the workout's updatedAt timestamp\n        const updatedWorkoutDate = {\n            ...workout,\n            updatedAt: new Date()\n        };\n        const updatedWorkout = new _firebase_workout__WEBPACK_IMPORTED_MODULE_2__.Workout(updatedWorkoutDate);\n        try {\n            // Update the workout document\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)(workoutRef, updatedWorkout.toDictionary());\n            console.log(\"Workout document updated successfully\");\n            // Create reference to the log document\n            const logRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(workoutRef, \"logs\"), log.id);\n            // Update the log document\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)(logRef, log.toDictionary());\n            console.log(\"Exercise log document updated successfully\");\n        } catch (error) {\n            console.error(\"Error updating exercise log:\", error);\n            throw error;\n        }\n    }\n    // Helper method to convert Firestore data to ExerciseLog\n    convertToExerciseLog(data) {\n        return new _firebase_exercise__WEBPACK_IMPORTED_MODULE_1__.ExerciseLog(data);\n    }\n    // Method to clear all logs (useful for cleanup)\n    clearLogs() {\n        this._allLogs = [];\n    }\n    constructor(){\n        this._allLogs = [];\n    }\n}\n// Export a single instance, matching the pattern used in UserService\nconst exerciseLogService = new ExerciseLogService();\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYXBpL2ZpcmViYXNlL2V4ZXJjaXNlTG9nL3NlcnZpY2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQXdFO0FBQ2xCO0FBQ0w7QUFDQztBQUNuQjtBQUUvQixNQUFNTztJQUdGLHNCQUFzQjtJQUN0QixJQUFJQyxVQUF5QjtRQUN6QixPQUFPLElBQUksQ0FBQ0MsUUFBUTtJQUN4QjtJQUVBLHNCQUFzQjtJQUN0QixJQUFJRCxRQUFRRSxJQUFtQixFQUFFO1FBQzdCLElBQUksQ0FBQ0QsUUFBUSxHQUFHQztJQUNwQjtJQUVBLE1BQU1DLGtCQUFrQkMsR0FBZ0IsRUFBRUMsT0FBZ0IsRUFBaUI7UUFDdkUsTUFBTUMsU0FBU1QsdURBQVdBLENBQUNVLFdBQVcsRUFBRUM7UUFFeEMsSUFBSSxDQUFDRixRQUFRO1lBQ1Q7UUFDSjtRQUVBLHFEQUFxRDtRQUNyRCxNQUFNRyxhQUFhaEIsdURBQUdBLENBQ2xCRCw4REFBVUEsQ0FBQ00sdUNBQUVBLEVBQUUsU0FBU1EsUUFBUSxvQkFDaENELFFBQVFHLEVBQUU7UUFHZCwyQ0FBMkM7UUFDM0MsTUFBTUUscUJBQXFCO1lBQ3ZCLEdBQUdMLE9BQU87WUFDVk0sV0FBVyxJQUFJQztRQUNuQjtRQUVBLE1BQU1DLGlCQUFpQixJQUFJakIsc0RBQU9BLENBQUNjO1FBRW5DLElBQUk7WUFDQSw4QkFBOEI7WUFDOUIsTUFBTWhCLDBEQUFNQSxDQUFDZSxZQUFZSSxlQUFlQyxZQUFZO1lBQ3BEQyxRQUFRWCxHQUFHLENBQUM7WUFFWix1Q0FBdUM7WUFDdkMsTUFBTVksU0FBU3ZCLHVEQUFHQSxDQUNkRCw4REFBVUEsQ0FBQ2lCLFlBQVksU0FDdkJMLElBQUlJLEVBQUU7WUFHViwwQkFBMEI7WUFDMUIsTUFBTWQsMERBQU1BLENBQUNzQixRQUFRWixJQUFJVSxZQUFZO1lBQ3JDQyxRQUFRWCxHQUFHLENBQUM7UUFDaEIsRUFBRSxPQUFPYSxPQUFPO1lBQ1pGLFFBQVFFLEtBQUssQ0FBQyxnQ0FBZ0NBO1lBQzlDLE1BQU1BO1FBQ1Y7SUFDSjtJQUVBLHlEQUF5RDtJQUNqREMscUJBQXFCQyxJQUFTLEVBQWU7UUFDakQsT0FBTyxJQUFJeEIsMkRBQVdBLENBQUN3QjtJQUMzQjtJQUVBLGdEQUFnRDtJQUNoREMsWUFBa0I7UUFDZCxJQUFJLENBQUNuQixRQUFRLEdBQUcsRUFBRTtJQUN0Qjs7YUE3RFFBLFdBQTBCLEVBQUU7O0FBOER4QztBQUVBLHFFQUFxRTtBQUM5RCxNQUFNb0IscUJBQXFCLElBQUl0QixxQkFBcUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1hcHAvLi9zcmMvYXBpL2ZpcmViYXNlL2V4ZXJjaXNlTG9nL3NlcnZpY2UudHM/MDhkYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBGaXJlc3RvcmUsIGNvbGxlY3Rpb24sIGRvYywgc2V0RG9jIH0gZnJvbSAnZmlyZWJhc2UvZmlyZXN0b3JlJztcbmltcG9ydCB7IEV4ZXJjaXNlTG9nIH0gZnJvbSAnLi4vLi4vZmlyZWJhc2UvZXhlcmNpc2UnO1xuaW1wb3J0IHsgV29ya291dCB9IGZyb20gJy4uLy4uL2ZpcmViYXNlL3dvcmtvdXQnO1xuaW1wb3J0IHsgdXNlclNlcnZpY2UgfSBmcm9tICcuLi8uLi9maXJlYmFzZS91c2VyJztcbmltcG9ydCB7IGRiIH0gZnJvbSAnLi4vY29uZmlnJztcblxuY2xhc3MgRXhlcmNpc2VMb2dTZXJ2aWNlIHtcbiAgICBwcml2YXRlIF9hbGxMb2dzOiBFeGVyY2lzZUxvZ1tdID0gW107XG5cbiAgICAvLyBHZXR0ZXIgZm9yIGFsbCBsb2dzXG4gICAgZ2V0IGFsbExvZ3MoKTogRXhlcmNpc2VMb2dbXSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hbGxMb2dzO1xuICAgIH1cblxuICAgIC8vIFNldHRlciBmb3IgYWxsIGxvZ3NcbiAgICBzZXQgYWxsTG9ncyhsb2dzOiBFeGVyY2lzZUxvZ1tdKSB7XG4gICAgICAgIHRoaXMuX2FsbExvZ3MgPSBsb2dzO1xuICAgIH1cblxuICAgIGFzeW5jIHVwZGF0ZUV4ZXJjaXNlTG9nKGxvZzogRXhlcmNpc2VMb2csIHdvcmtvdXQ6IFdvcmtvdXQpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgdXNlcklkID0gdXNlclNlcnZpY2UuY3VycmVudFVzZXI/LmlkO1xuICAgICAgICBcbiAgICAgICAgaWYgKCF1c2VySWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENyZWF0ZSByZWZlcmVuY2VzIHRvIHRoZSB3b3Jrb3V0IGFuZCBsb2cgZG9jdW1lbnRzXG4gICAgICAgIGNvbnN0IHdvcmtvdXRSZWYgPSBkb2MoXG4gICAgICAgICAgICBjb2xsZWN0aW9uKGRiLCBcInVzZXJzXCIsIHVzZXJJZCwgXCJ3b3Jrb3V0U2Vzc2lvbnNcIiksIFxuICAgICAgICAgICAgd29ya291dC5pZFxuICAgICAgICApO1xuXG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgd29ya291dCdzIHVwZGF0ZWRBdCB0aW1lc3RhbXBcbiAgICAgICAgY29uc3QgdXBkYXRlZFdvcmtvdXREYXRlID0ge1xuICAgICAgICAgICAgLi4ud29ya291dCxcbiAgICAgICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKVxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHVwZGF0ZWRXb3Jrb3V0ID0gbmV3IFdvcmtvdXQodXBkYXRlZFdvcmtvdXREYXRlKTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSB3b3Jrb3V0IGRvY3VtZW50XG4gICAgICAgICAgICBhd2FpdCBzZXREb2Mod29ya291dFJlZiwgdXBkYXRlZFdvcmtvdXQudG9EaWN0aW9uYXJ5KCkpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJXb3Jrb3V0IGRvY3VtZW50IHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5XCIpO1xuXG4gICAgICAgICAgICAvLyBDcmVhdGUgcmVmZXJlbmNlIHRvIHRoZSBsb2cgZG9jdW1lbnRcbiAgICAgICAgICAgIGNvbnN0IGxvZ1JlZiA9IGRvYyhcbiAgICAgICAgICAgICAgICBjb2xsZWN0aW9uKHdvcmtvdXRSZWYsIFwibG9nc1wiKSwgXG4gICAgICAgICAgICAgICAgbG9nLmlkXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAvLyBVcGRhdGUgdGhlIGxvZyBkb2N1bWVudFxuICAgICAgICAgICAgYXdhaXQgc2V0RG9jKGxvZ1JlZiwgbG9nLnRvRGljdGlvbmFyeSgpKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRXhlcmNpc2UgbG9nIGRvY3VtZW50IHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5XCIpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHVwZGF0aW5nIGV4ZXJjaXNlIGxvZzpcIiwgZXJyb3IpO1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBIZWxwZXIgbWV0aG9kIHRvIGNvbnZlcnQgRmlyZXN0b3JlIGRhdGEgdG8gRXhlcmNpc2VMb2dcbiAgICBwcml2YXRlIGNvbnZlcnRUb0V4ZXJjaXNlTG9nKGRhdGE6IGFueSk6IEV4ZXJjaXNlTG9nIHtcbiAgICAgICAgcmV0dXJuIG5ldyBFeGVyY2lzZUxvZyhkYXRhKTtcbiAgICB9XG5cbiAgICAvLyBNZXRob2QgdG8gY2xlYXIgYWxsIGxvZ3MgKHVzZWZ1bCBmb3IgY2xlYW51cClcbiAgICBjbGVhckxvZ3MoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX2FsbExvZ3MgPSBbXTtcbiAgICB9XG59XG5cbi8vIEV4cG9ydCBhIHNpbmdsZSBpbnN0YW5jZSwgbWF0Y2hpbmcgdGhlIHBhdHRlcm4gdXNlZCBpbiBVc2VyU2VydmljZVxuZXhwb3J0IGNvbnN0IGV4ZXJjaXNlTG9nU2VydmljZSA9IG5ldyBFeGVyY2lzZUxvZ1NlcnZpY2UoKTsiXSwibmFtZXMiOlsiY29sbGVjdGlvbiIsImRvYyIsInNldERvYyIsIkV4ZXJjaXNlTG9nIiwiV29ya291dCIsInVzZXJTZXJ2aWNlIiwiZGIiLCJFeGVyY2lzZUxvZ1NlcnZpY2UiLCJhbGxMb2dzIiwiX2FsbExvZ3MiLCJsb2dzIiwidXBkYXRlRXhlcmNpc2VMb2ciLCJsb2ciLCJ3b3Jrb3V0IiwidXNlcklkIiwiY3VycmVudFVzZXIiLCJpZCIsIndvcmtvdXRSZWYiLCJ1cGRhdGVkV29ya291dERhdGUiLCJ1cGRhdGVkQXQiLCJEYXRlIiwidXBkYXRlZFdvcmtvdXQiLCJ0b0RpY3Rpb25hcnkiLCJjb25zb2xlIiwibG9nUmVmIiwiZXJyb3IiLCJjb252ZXJ0VG9FeGVyY2lzZUxvZyIsImRhdGEiLCJjbGVhckxvZ3MiLCJleGVyY2lzZUxvZ1NlcnZpY2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/api/firebase/exerciseLog/service.ts\n");

/***/ }),

/***/ "./src/api/firebase/firebase-config.ts":
/*!*********************************************!*\
  !*** ./src/api/firebase/firebase-config.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   firebaseConfigs: () => (/* binding */ firebaseConfigs)\n/* harmony export */ });\n// src/config/firebase-config.ts\nconst firebaseConfigs = {\n    production: {\n        apiKey: \"AIzaSyCBNr8WylRpi7IZ5M_COy1E3LaStQgLMvk\",\n        authDomain: \"quicklifts-dd3f1.firebaseapp.com\",\n        projectId: \"quicklifts-dd3f1\",\n        storageBucket: \"quicklifts-dd3f1.appspot.com\",\n        messagingSenderId: \"691046627244\",\n        appId: \"1:691046627244:ios:821c53e53f20c736a9ec09\"\n    },\n    development: {\n        apiKey: \"AIzaSyCP8npdKqy-DvAVSJ2EoqWH72ikt04hfO8\",\n        projectId: \"quicklifts-dev-01\",\n        storageBucket: \"quicklifts-dev-01.appspot.com\",\n        messagingSenderId: \"793216169358\",\n        appId: \"1:793216169358:ios:cecca8dfb08ea5df8aa0df\",\n        authDomain: \"quicklifts-dev-01.firebaseapp.com\"\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYXBpL2ZpcmViYXNlL2ZpcmViYXNlLWNvbmZpZy50cyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsZ0NBQWdDO0FBQ3pCLE1BQU1BLGtCQUFrQjtJQUM3QkMsWUFBWTtRQUNWQyxRQUFRQyx5Q0FBd0M7UUFDaERHLFlBQVlILGtDQUE0QztRQUN4REssV0FBV0wsa0JBQTJDO1FBQ3RETyxlQUFlUCw4QkFBK0M7UUFDOURTLG1CQUFtQlQsY0FBb0Q7UUFDdkVXLE9BQU9YLDJDQUF1QztJQUNoRDtJQUNBYSxhQUFhO1FBQ1hkLFFBQVE7UUFDUk0sV0FBVztRQUNYRSxlQUFlO1FBQ2ZFLG1CQUFtQjtRQUNuQkUsT0FBTztRQUNQUixZQUFZO0lBQ2Q7QUFDRixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktYXBwLy4vc3JjL2FwaS9maXJlYmFzZS9maXJlYmFzZS1jb25maWcudHM/ZWQ4YyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvY29uZmlnL2ZpcmViYXNlLWNvbmZpZy50c1xuZXhwb3J0IGNvbnN0IGZpcmViYXNlQ29uZmlncyA9IHtcbiAgcHJvZHVjdGlvbjoge1xuICAgIGFwaUtleTogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfRklSRUJBU0VfQVBJX0tFWSxcbiAgICBhdXRoRG9tYWluOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19GSVJFQkFTRV9BVVRIX0RPTUFJTixcbiAgICBwcm9qZWN0SWQ6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0ZJUkVCQVNFX1BST0pFQ1RfSUQsXG4gICAgc3RvcmFnZUJ1Y2tldDogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfRklSRUJBU0VfU1RPUkFHRV9CVUNLRVQsXG4gICAgbWVzc2FnaW5nU2VuZGVySWQ6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0ZJUkVCQVNFX01FU1NBR0lOR19TRU5ERVJfSUQsXG4gICAgYXBwSWQ6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0ZJUkVCQVNFX0FQUF9JRFxuICB9LFxuICBkZXZlbG9wbWVudDoge1xuICAgIGFwaUtleTogXCJBSXphU3lDUDhucGRLcXktRHZBVlNKMkVvcVdINzJpa3QwNGhmTzhcIixcbiAgICBwcm9qZWN0SWQ6IFwicXVpY2tsaWZ0cy1kZXYtMDFcIixcbiAgICBzdG9yYWdlQnVja2V0OiBcInF1aWNrbGlmdHMtZGV2LTAxLmFwcHNwb3QuY29tXCIsXG4gICAgbWVzc2FnaW5nU2VuZGVySWQ6IFwiNzkzMjE2MTY5MzU4XCIsXG4gICAgYXBwSWQ6IFwiMTo3OTMyMTYxNjkzNTg6aW9zOmNlY2NhOGRmYjA4ZWE1ZGY4YWEwZGZcIixcbiAgICBhdXRoRG9tYWluOiBcInF1aWNrbGlmdHMtZGV2LTAxLmZpcmViYXNlYXBwLmNvbVwiXG4gIH1cbn07Il0sIm5hbWVzIjpbImZpcmViYXNlQ29uZmlncyIsInByb2R1Y3Rpb24iLCJhcGlLZXkiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfRklSRUJBU0VfQVBJX0tFWSIsImF1dGhEb21haW4iLCJORVhUX1BVQkxJQ19GSVJFQkFTRV9BVVRIX0RPTUFJTiIsInByb2plY3RJZCIsIk5FWFRfUFVCTElDX0ZJUkVCQVNFX1BST0pFQ1RfSUQiLCJzdG9yYWdlQnVja2V0IiwiTkVYVF9QVUJMSUNfRklSRUJBU0VfU1RPUkFHRV9CVUNLRVQiLCJtZXNzYWdpbmdTZW5kZXJJZCIsIk5FWFRfUFVCTElDX0ZJUkVCQVNFX01FU1NBR0lOR19TRU5ERVJfSUQiLCJhcHBJZCIsIk5FWFRfUFVCTElDX0ZJUkVCQVNFX0FQUF9JRCIsImRldmVsb3BtZW50Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/api/firebase/firebase-config.ts\n");

/***/ }),

/***/ "./src/api/firebase/storage/service.ts":
/*!*********************************************!*\
  !*** ./src/api/firebase/storage/service.ts ***!
  \*********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FirebaseStorageService: () => (/* binding */ FirebaseStorageService),\n/* harmony export */   UploadImageType: () => (/* binding */ UploadImageType),\n/* harmony export */   VideoTrimmerService: () => (/* binding */ VideoTrimmerService),\n/* harmony export */   VideoType: () => (/* binding */ VideoType),\n/* harmony export */   firebaseStorageService: () => (/* binding */ firebaseStorageService),\n/* harmony export */   videoTrimmerService: () => (/* binding */ videoTrimmerService)\n/* harmony export */ });\n/* harmony import */ var firebase_storage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/storage */ \"firebase/storage\");\n/* harmony import */ var _api_firebase_user__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../api/firebase/user */ \"./src/api/firebase/user/index.ts\");\n/* harmony import */ var _api_firebase_config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../api/firebase/config */ \"./src/api/firebase/config.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([firebase_storage__WEBPACK_IMPORTED_MODULE_0__, _api_firebase_user__WEBPACK_IMPORTED_MODULE_1__, _api_firebase_config__WEBPACK_IMPORTED_MODULE_2__]);\n([firebase_storage__WEBPACK_IMPORTED_MODULE_0__, _api_firebase_user__WEBPACK_IMPORTED_MODULE_1__, _api_firebase_config__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n// src/services/FirebaseStorageService.ts\n\n\n\n\nvar UploadImageType;\n(function(UploadImageType) {\n    UploadImageType[\"Profile\"] = \"profile_images\";\n    UploadImageType[\"Feedback\"] = \"feedback\";\n    UploadImageType[\"CheckIn\"] = \"checkin\";\n    UploadImageType[\"Meal\"] = \"meal\";\n    UploadImageType[\"GroupChat\"] = \"group_chat\";\n})(UploadImageType || (UploadImageType = {}));\nvar VideoType;\n(function(VideoType) {\n    VideoType[\"Exercise\"] = \"exercise\";\n    VideoType[\"Intro\"] = \"intro\";\n    VideoType[\"RoundChat\"] = \"round-chat\";\n})(VideoType || (VideoType = {}));\nclass FirebaseStorageService {\n    async uploadVideo(file, videoType = \"exercise\") {\n        // Ensure user is authenticated\n        const user = _api_firebase_config__WEBPACK_IMPORTED_MODULE_2__.auth.currentUser;\n        if (!user) {\n            throw new Error(\"User must be authenticated to upload video\");\n        }\n        // Validate file type and size\n        const ALLOWED_TYPES = [\n            \"video/mp4\",\n            \"video/quicktime\",\n            \"video/x-msvideo\"\n        ];\n        const MAX_FILE_SIZE = 100 * 1024 * 1024; // 100MB\n        if (!ALLOWED_TYPES.includes(file.type)) {\n            throw new Error(\"Invalid file type. Only MP4, AVI, and QuickTime videos are allowed.\");\n        }\n        if (file.size > MAX_FILE_SIZE) {\n            throw new Error(\"File is too large. Maximum size is 100MB.\");\n        }\n        // Generate unique filename\n        const fileName = `${Date.now()}_${file.name}`;\n        const storagePath = `videos/${user.uid}/${fileName}`;\n        // Create storage reference\n        const storageRef = (0,firebase_storage__WEBPACK_IMPORTED_MODULE_0__.ref)((0,firebase_storage__WEBPACK_IMPORTED_MODULE_0__.getStorage)(), storagePath);\n        try {\n            // Upload the file\n            const snapshot = await (0,firebase_storage__WEBPACK_IMPORTED_MODULE_0__.uploadBytes)(storageRef, file);\n            // Get download URL\n            const downloadURL = await (0,firebase_storage__WEBPACK_IMPORTED_MODULE_0__.getDownloadURL)(snapshot.ref);\n            // Construct GS URL (Google Storage URL)\n            const gsURL = `gs://${snapshot.ref.bucket}/${snapshot.ref.fullPath}`;\n            return {\n                gsURL,\n                downloadURL\n            };\n        } catch (error) {\n            console.error(\"Video upload failed\", error);\n            throw error;\n        }\n    }\n    async uploadImage(file, imageType = \"profile_images\") {\n        // Ensure user is authenticated\n        const user = _api_firebase_config__WEBPACK_IMPORTED_MODULE_2__.auth.currentUser;\n        if (!user) {\n            throw new Error(\"User must be authenticated to upload image\");\n        }\n        // Generate unique filename\n        const fileName = `${Date.now()}_${file.name}`;\n        const storagePath = `${imageType}/${user.uid}/${fileName}`;\n        // Create storage reference\n        const storageRef = (0,firebase_storage__WEBPACK_IMPORTED_MODULE_0__.ref)(this.storage, storagePath);\n        try {\n            // Upload the file\n            const snapshot = await (0,firebase_storage__WEBPACK_IMPORTED_MODULE_0__.uploadBytes)(storageRef, file);\n            // Get download URL\n            const downloadURL = await (0,firebase_storage__WEBPACK_IMPORTED_MODULE_0__.getDownloadURL)(snapshot.ref);\n            // Construct GS URL (Google Storage URL)\n            const gsURL = `gs://${snapshot.ref.bucket}/${snapshot.ref.fullPath}`;\n            // If it's a profile image, update the user\n            if (imageType === \"profile_images\") {\n                await this.updateUserProfileImage(downloadURL);\n            }\n            return {\n                gsURL,\n                downloadURL\n            };\n        } catch (error) {\n            console.error(\"Image upload failed\", error);\n            throw error;\n        }\n    }\n    async updateUserProfileImage(imageURL) {\n        // Ensure current user exists\n        if (!_api_firebase_user__WEBPACK_IMPORTED_MODULE_1__.userService.currentUser) {\n            throw new Error(\"No current user found\");\n        }\n        // Create a new User object with updated profile image\n        const updatedUser = new _api_firebase_user__WEBPACK_IMPORTED_MODULE_1__.User({\n            ..._api_firebase_user__WEBPACK_IMPORTED_MODULE_1__.userService.currentUser.toDictionary(),\n            profileImage: {\n                profileImageURL: imageURL,\n                imageOffsetWidth: 0,\n                imageOffsetHeight: 0\n            },\n            updatedAt: new Date()\n        });\n        // Update user in Firestore\n        await _api_firebase_user__WEBPACK_IMPORTED_MODULE_1__.userService.updateUser(updatedUser.id, updatedUser);\n    }\n    async fetchImage(url) {\n        // Check cache first\n        if (this.imageCache.has(url)) {\n            return this.imageCache.get(url);\n        }\n        try {\n            const response = await fetch(url);\n            const blob = await response.blob();\n            const imageURL = URL.createObjectURL(blob);\n            // Cache the image URL\n            this.imageCache.set(url, imageURL);\n            return imageURL;\n        } catch (error) {\n            console.error(\"Image fetch failed\", error);\n            throw error;\n        }\n    }\n    constructor(){\n        this.storage = (0,firebase_storage__WEBPACK_IMPORTED_MODULE_0__.getStorage)();\n        // Optional: Image caching similar to iOS implementation\n        this.imageCache = new Map();\n    }\n}\n// In FirebaseStorageService.ts, update the VideoTrimmerService class\nclass VideoTrimmerService {\n    trimVideo(file, startTime, endTime, onProgress) {\n        return new Promise((resolve, reject)=>{\n            const video = document.createElement(\"video\");\n            const canvas = document.createElement(\"canvas\");\n            const ctx = canvas.getContext(\"2d\");\n            if (!ctx) {\n                return reject(new Error(\"Unable to get canvas context\"));\n            }\n            const chunks = [];\n            video.src = URL.createObjectURL(file);\n            video.onloadedmetadata = ()=>{\n                canvas.width = video.videoWidth;\n                canvas.height = video.videoHeight;\n                video.currentTime = startTime;\n            };\n            // Wait until the video has seeked to startTime before starting recording\n            video.onseeked = ()=>{\n                const stream = canvas.captureStream();\n                const mediaRecorder = new MediaRecorder(stream);\n                mediaRecorder.ondataavailable = (e)=>{\n                    if (e.data.size > 0) {\n                        chunks.push(e.data);\n                    }\n                };\n                mediaRecorder.onstop = ()=>{\n                    const blob = new Blob(chunks, {\n                        type: chunks[0]?.type || \"video/webm\"\n                    });\n                    // Force the file type to \"video/webm\" so it passes the allowed formats check\n                    const trimmedFile = new File([\n                        blob\n                    ], file.name, {\n                        type: \"video/webm\"\n                    });\n                    URL.revokeObjectURL(video.src);\n                    resolve(trimmedFile);\n                };\n                mediaRecorder.start();\n                video.play();\n                video.ontimeupdate = ()=>{\n                    if (video.currentTime >= endTime) {\n                        mediaRecorder.stop();\n                        video.pause();\n                    } else {\n                        ctx.drawImage(video, 0, 0, canvas.width, canvas.height);\n                        if (onProgress) {\n                            onProgress((video.currentTime - startTime) / (endTime - startTime));\n                        }\n                    }\n                };\n            };\n            video.onerror = ()=>{\n                reject(new Error(\"Error loading video\"));\n            };\n        });\n    }\n}\nconst videoTrimmerService = new VideoTrimmerService();\n// Create a singleton instance\nconst firebaseStorageService = new FirebaseStorageService();\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxLQUFLO3dCQUFDdkM7cUJBQUssRUFBRTdDLEtBQUthLElBQUksRUFBRTt3QkFBRUwsTUFBTTtvQkFBYTtvQkFDckVzQyxJQUFJdUMsZUFBZSxDQUFDM0IsTUFBTU8sR0FBRztvQkFDN0JULFFBQVEyQjtnQkFDVjtnQkFFQVIsY0FBY1csS0FBSztnQkFDbkI1QixNQUFNNkIsSUFBSTtnQkFFVjdCLE1BQU04QixZQUFZLEdBQUc7b0JBQ25CLElBQUk5QixNQUFNYSxXQUFXLElBQUlsQixTQUFTO3dCQUNoQ3NCLGNBQWNjLElBQUk7d0JBQ2xCL0IsTUFBTWdDLEtBQUs7b0JBQ2IsT0FBTzt3QkFDTDVCLElBQUk2QixTQUFTLENBQUNqQyxPQUFPLEdBQUcsR0FBR0csT0FBT00sS0FBSyxFQUFFTixPQUFPUSxNQUFNO3dCQUN0RCxJQUFJZixZQUFZOzRCQUNkQSxXQUFXLENBQUNJLE1BQU1hLFdBQVcsR0FBR25CLFNBQVEsSUFBTUMsQ0FBQUEsVUFBVUQsU0FBUTt3QkFDbEU7b0JBQ0Y7Z0JBQ0Y7WUFDRjtZQUVBTSxNQUFNa0MsT0FBTyxHQUFHO2dCQUNkbkMsT0FBTyxJQUFJckQsTUFBTTtZQUNuQjtRQUNGO0lBQ0Y7QUFDRjtBQUlLLE1BQU15RixzQkFBc0IsSUFBSTNDLHNCQUFzQjtBQUU3RCw4QkFBOEI7QUFDdkIsTUFBTTRDLHlCQUF5QixJQUFJaEcseUJBQXlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktYXBwLy4vc3JjL2FwaS9maXJlYmFzZS9zdG9yYWdlL3NlcnZpY2UudHM/NjIxZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvc2VydmljZXMvRmlyZWJhc2VTdG9yYWdlU2VydmljZS50c1xuaW1wb3J0IHsgZ2V0U3RvcmFnZSwgcmVmLCB1cGxvYWRCeXRlcywgZ2V0RG93bmxvYWRVUkwgfSBmcm9tIFwiZmlyZWJhc2Uvc3RvcmFnZVwiO1xuaW1wb3J0IHsgVXNlciB9IGZyb20gXCIuLi8uLi8uLi9hcGkvZmlyZWJhc2UvdXNlclwiO1xuaW1wb3J0IHsgdXNlclNlcnZpY2UgfSBmcm9tIFwiLi4vLi4vLi4vYXBpL2ZpcmViYXNlL3VzZXJcIjtcbmltcG9ydCB7IGF1dGggfSBmcm9tIFwiLi4vLi4vLi4vYXBpL2ZpcmViYXNlL2NvbmZpZ1wiO1xuXG5leHBvcnQgZW51bSBVcGxvYWRJbWFnZVR5cGUge1xuICBQcm9maWxlID0gXCJwcm9maWxlX2ltYWdlc1wiLFxuICBGZWVkYmFjayA9IFwiZmVlZGJhY2tcIixcbiAgQ2hlY2tJbiA9IFwiY2hlY2tpblwiLFxuICBNZWFsID0gXCJtZWFsXCIsXG4gIEdyb3VwQ2hhdCA9IFwiZ3JvdXBfY2hhdFwiXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXBsb2FkUmVzdWx0IHtcbiAgZ3NVUkw6IHN0cmluZztcbiAgZG93bmxvYWRVUkw6IHN0cmluZztcbn1cblxuZXhwb3J0IGNvbnN0IGVudW0gVmlkZW9UeXBlIHtcbiAgICBFeGVyY2lzZSA9IFwiZXhlcmNpc2VcIixcbiAgICBJbnRybyA9IFwiaW50cm9cIixcbiAgICBSb3VuZENoYXQgPSBcInJvdW5kLWNoYXRcIlxufVxuXG5leHBvcnQgY2xhc3MgRmlyZWJhc2VTdG9yYWdlU2VydmljZSB7XG4gIHByaXZhdGUgc3RvcmFnZSA9IGdldFN0b3JhZ2UoKTtcblxuICBhc3luYyB1cGxvYWRWaWRlbyhcbiAgICAgIGZpbGU6IEZpbGUsIFxuICAgICAgdmlkZW9UeXBlOiBWaWRlb1R5cGUgPSBWaWRlb1R5cGUuRXhlcmNpc2VcbiAgICApOiBQcm9taXNlPFVwbG9hZFJlc3VsdD4ge1xuICAgICAgLy8gRW5zdXJlIHVzZXIgaXMgYXV0aGVudGljYXRlZFxuICAgICAgY29uc3QgdXNlciA9IGF1dGguY3VycmVudFVzZXI7XG4gICAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVXNlciBtdXN0IGJlIGF1dGhlbnRpY2F0ZWQgdG8gdXBsb2FkIHZpZGVvXCIpO1xuICAgICAgfVxuICBcbiAgICAgIC8vIFZhbGlkYXRlIGZpbGUgdHlwZSBhbmQgc2l6ZVxuICAgICAgY29uc3QgQUxMT1dFRF9UWVBFUyA9IFsndmlkZW8vbXA0JywgJ3ZpZGVvL3F1aWNrdGltZScsICd2aWRlby94LW1zdmlkZW8nXTtcbiAgICAgIGNvbnN0IE1BWF9GSUxFX1NJWkUgPSAxMDAgKiAxMDI0ICogMTAyNDsgLy8gMTAwTUJcbiAgXG4gICAgICBpZiAoIUFMTE9XRURfVFlQRVMuaW5jbHVkZXMoZmlsZS50eXBlKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGZpbGUgdHlwZS4gT25seSBNUDQsIEFWSSwgYW5kIFF1aWNrVGltZSB2aWRlb3MgYXJlIGFsbG93ZWQuXCIpO1xuICAgICAgfVxuICBcbiAgICAgIGlmIChmaWxlLnNpemUgPiBNQVhfRklMRV9TSVpFKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkZpbGUgaXMgdG9vIGxhcmdlLiBNYXhpbXVtIHNpemUgaXMgMTAwTUIuXCIpO1xuICAgICAgfVxuICBcbiAgICAgIC8vIEdlbmVyYXRlIHVuaXF1ZSBmaWxlbmFtZVxuICAgICAgY29uc3QgZmlsZU5hbWUgPSBgJHtEYXRlLm5vdygpfV8ke2ZpbGUubmFtZX1gO1xuICAgICAgY29uc3Qgc3RvcmFnZVBhdGggPSBgdmlkZW9zLyR7dXNlci51aWR9LyR7ZmlsZU5hbWV9YDtcbiAgICAgIFxuICAgICAgLy8gQ3JlYXRlIHN0b3JhZ2UgcmVmZXJlbmNlXG4gICAgICBjb25zdCBzdG9yYWdlUmVmID0gcmVmKGdldFN0b3JhZ2UoKSwgc3RvcmFnZVBhdGgpO1xuICBcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIFVwbG9hZCB0aGUgZmlsZVxuICAgICAgICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IHVwbG9hZEJ5dGVzKHN0b3JhZ2VSZWYsIGZpbGUpO1xuICAgICAgICBcbiAgICAgICAgLy8gR2V0IGRvd25sb2FkIFVSTFxuICAgICAgICBjb25zdCBkb3dubG9hZFVSTCA9IGF3YWl0IGdldERvd25sb2FkVVJMKHNuYXBzaG90LnJlZik7XG4gICAgICAgIFxuICAgICAgICAvLyBDb25zdHJ1Y3QgR1MgVVJMIChHb29nbGUgU3RvcmFnZSBVUkwpXG4gICAgICAgIGNvbnN0IGdzVVJMID0gYGdzOi8vJHtzbmFwc2hvdC5yZWYuYnVja2V0fS8ke3NuYXBzaG90LnJlZi5mdWxsUGF0aH1gO1xuICBcbiAgICAgICAgcmV0dXJuIHsgZ3NVUkwsIGRvd25sb2FkVVJMIH07XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiVmlkZW8gdXBsb2FkIGZhaWxlZFwiLCBlcnJvcik7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuICAgIH1cblxuICBhc3luYyB1cGxvYWRJbWFnZShcbiAgICBmaWxlOiBGaWxlLCBcbiAgICBpbWFnZVR5cGU6IFVwbG9hZEltYWdlVHlwZSA9IFVwbG9hZEltYWdlVHlwZS5Qcm9maWxlXG4gICk6IFByb21pc2U8VXBsb2FkUmVzdWx0PiB7XG4gICAgLy8gRW5zdXJlIHVzZXIgaXMgYXV0aGVudGljYXRlZFxuICAgIGNvbnN0IHVzZXIgPSBhdXRoLmN1cnJlbnRVc2VyO1xuICAgIGlmICghdXNlcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVXNlciBtdXN0IGJlIGF1dGhlbnRpY2F0ZWQgdG8gdXBsb2FkIGltYWdlXCIpO1xuICAgIH1cblxuICAgIC8vIEdlbmVyYXRlIHVuaXF1ZSBmaWxlbmFtZVxuICAgIGNvbnN0IGZpbGVOYW1lID0gYCR7RGF0ZS5ub3coKX1fJHtmaWxlLm5hbWV9YDtcbiAgICBjb25zdCBzdG9yYWdlUGF0aCA9IGAke2ltYWdlVHlwZX0vJHt1c2VyLnVpZH0vJHtmaWxlTmFtZX1gO1xuICAgIFxuICAgIC8vIENyZWF0ZSBzdG9yYWdlIHJlZmVyZW5jZVxuICAgIGNvbnN0IHN0b3JhZ2VSZWYgPSByZWYodGhpcy5zdG9yYWdlLCBzdG9yYWdlUGF0aCk7XG5cbiAgICB0cnkge1xuICAgICAgLy8gVXBsb2FkIHRoZSBmaWxlXG4gICAgICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IHVwbG9hZEJ5dGVzKHN0b3JhZ2VSZWYsIGZpbGUpO1xuICAgICAgXG4gICAgICAvLyBHZXQgZG93bmxvYWQgVVJMXG4gICAgICBjb25zdCBkb3dubG9hZFVSTCA9IGF3YWl0IGdldERvd25sb2FkVVJMKHNuYXBzaG90LnJlZik7XG4gICAgICBcbiAgICAgIC8vIENvbnN0cnVjdCBHUyBVUkwgKEdvb2dsZSBTdG9yYWdlIFVSTClcbiAgICAgIGNvbnN0IGdzVVJMID0gYGdzOi8vJHtzbmFwc2hvdC5yZWYuYnVja2V0fS8ke3NuYXBzaG90LnJlZi5mdWxsUGF0aH1gO1xuXG4gICAgICAvLyBJZiBpdCdzIGEgcHJvZmlsZSBpbWFnZSwgdXBkYXRlIHRoZSB1c2VyXG4gICAgICBpZiAoaW1hZ2VUeXBlID09PSBVcGxvYWRJbWFnZVR5cGUuUHJvZmlsZSkge1xuICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZVVzZXJQcm9maWxlSW1hZ2UoZG93bmxvYWRVUkwpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4geyBnc1VSTCwgZG93bmxvYWRVUkwgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkltYWdlIHVwbG9hZCBmYWlsZWRcIiwgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyB1cGRhdGVVc2VyUHJvZmlsZUltYWdlKGltYWdlVVJMOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAvLyBFbnN1cmUgY3VycmVudCB1c2VyIGV4aXN0c1xuICAgIGlmICghdXNlclNlcnZpY2UuY3VycmVudFVzZXIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGN1cnJlbnQgdXNlciBmb3VuZFwiKTtcbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgYSBuZXcgVXNlciBvYmplY3Qgd2l0aCB1cGRhdGVkIHByb2ZpbGUgaW1hZ2VcbiAgICBjb25zdCB1cGRhdGVkVXNlciA9IG5ldyBVc2VyKHtcbiAgICAgIC4uLnVzZXJTZXJ2aWNlLmN1cnJlbnRVc2VyLnRvRGljdGlvbmFyeSgpLFxuICAgICAgcHJvZmlsZUltYWdlOiB7XG4gICAgICAgIHByb2ZpbGVJbWFnZVVSTDogaW1hZ2VVUkwsXG4gICAgICAgIGltYWdlT2Zmc2V0V2lkdGg6IDAsICAvLyBZb3UgbWlnaHQgd2FudCB0byBtYWtlIHRoZXNlIGNvbmZpZ3VyYWJsZVxuICAgICAgICBpbWFnZU9mZnNldEhlaWdodDogMFxuICAgICAgfSxcbiAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKVxuICAgIH0pO1xuXG4gICAgLy8gVXBkYXRlIHVzZXIgaW4gRmlyZXN0b3JlXG4gICAgYXdhaXQgdXNlclNlcnZpY2UudXBkYXRlVXNlcih1cGRhdGVkVXNlci5pZCwgdXBkYXRlZFVzZXIpO1xuICB9XG5cbiAgLy8gT3B0aW9uYWw6IEltYWdlIGNhY2hpbmcgc2ltaWxhciB0byBpT1MgaW1wbGVtZW50YXRpb25cbiAgcHJpdmF0ZSBpbWFnZUNhY2hlOiBNYXA8c3RyaW5nLCBzdHJpbmc+ID0gbmV3IE1hcCgpO1xuXG4gIGFzeW5jIGZldGNoSW1hZ2UodXJsOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIC8vIENoZWNrIGNhY2hlIGZpcnN0XG4gICAgaWYgKHRoaXMuaW1hZ2VDYWNoZS5oYXModXJsKSkge1xuICAgICAgcmV0dXJuIHRoaXMuaW1hZ2VDYWNoZS5nZXQodXJsKSE7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsKTtcbiAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCByZXNwb25zZS5ibG9iKCk7XG4gICAgICBjb25zdCBpbWFnZVVSTCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgICBcbiAgICAgIC8vIENhY2hlIHRoZSBpbWFnZSBVUkxcbiAgICAgIHRoaXMuaW1hZ2VDYWNoZS5zZXQodXJsLCBpbWFnZVVSTCk7XG4gICAgICBcbiAgICAgIHJldHVybiBpbWFnZVVSTDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkltYWdlIGZldGNoIGZhaWxlZFwiLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cbn1cblxuXG4vLyBJbiBGaXJlYmFzZVN0b3JhZ2VTZXJ2aWNlLnRzLCB1cGRhdGUgdGhlIFZpZGVvVHJpbW1lclNlcnZpY2UgY2xhc3NcblxuZXhwb3J0IGNsYXNzIFZpZGVvVHJpbW1lclNlcnZpY2Uge1xuICAgIHRyaW1WaWRlbyhcbiAgICAgIGZpbGU6IEZpbGUsXG4gICAgICBzdGFydFRpbWU6IG51bWJlcixcbiAgICAgIGVuZFRpbWU6IG51bWJlcixcbiAgICAgIG9uUHJvZ3Jlc3M/OiAocHJvZ3Jlc3M6IG51bWJlcikgPT4gdm9pZFxuICAgICk6IFByb21pc2U8RmlsZT4ge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgY29uc3QgdmlkZW8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidmlkZW9cIik7XG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XG4gICAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgICAgIGlmICghY3R4KSB7XG4gICAgICAgICAgcmV0dXJuIHJlamVjdChuZXcgRXJyb3IoXCJVbmFibGUgdG8gZ2V0IGNhbnZhcyBjb250ZXh0XCIpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjaHVua3M6IEJsb2JbXSA9IFtdO1xuICBcbiAgICAgICAgdmlkZW8uc3JjID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKTtcbiAgXG4gICAgICAgIHZpZGVvLm9ubG9hZGVkbWV0YWRhdGEgPSAoKSA9PiB7XG4gICAgICAgICAgY2FudmFzLndpZHRoID0gdmlkZW8udmlkZW9XaWR0aDtcbiAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gdmlkZW8udmlkZW9IZWlnaHQ7XG4gICAgICAgICAgdmlkZW8uY3VycmVudFRpbWUgPSBzdGFydFRpbWU7XG4gICAgICAgIH07XG4gIFxuICAgICAgICAvLyBXYWl0IHVudGlsIHRoZSB2aWRlbyBoYXMgc2Vla2VkIHRvIHN0YXJ0VGltZSBiZWZvcmUgc3RhcnRpbmcgcmVjb3JkaW5nXG4gICAgICAgIHZpZGVvLm9uc2Vla2VkID0gKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHN0cmVhbSA9IGNhbnZhcy5jYXB0dXJlU3RyZWFtKCk7XG4gICAgICAgICAgY29uc3QgbWVkaWFSZWNvcmRlciA9IG5ldyBNZWRpYVJlY29yZGVyKHN0cmVhbSk7XG4gIFxuICAgICAgICAgIG1lZGlhUmVjb3JkZXIub25kYXRhYXZhaWxhYmxlID0gKGU6IEJsb2JFdmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKGUuZGF0YS5zaXplID4gMCkge1xuICAgICAgICAgICAgICBjaHVua3MucHVzaChlLmRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gIFxuICAgICAgICAgIG1lZGlhUmVjb3JkZXIub25zdG9wID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKGNodW5rcywgeyB0eXBlOiBjaHVua3NbMF0/LnR5cGUgfHwgXCJ2aWRlby93ZWJtXCIgfSk7XG4gICAgICAgICAgICAvLyBGb3JjZSB0aGUgZmlsZSB0eXBlIHRvIFwidmlkZW8vd2VibVwiIHNvIGl0IHBhc3NlcyB0aGUgYWxsb3dlZCBmb3JtYXRzIGNoZWNrXG4gICAgICAgICAgICBjb25zdCB0cmltbWVkRmlsZSA9IG5ldyBGaWxlKFtibG9iXSwgZmlsZS5uYW1lLCB7IHR5cGU6IFwidmlkZW8vd2VibVwiIH0pO1xuICAgICAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTCh2aWRlby5zcmMpO1xuICAgICAgICAgICAgcmVzb2x2ZSh0cmltbWVkRmlsZSk7XG4gICAgICAgICAgfTtcbiAgXG4gICAgICAgICAgbWVkaWFSZWNvcmRlci5zdGFydCgpO1xuICAgICAgICAgIHZpZGVvLnBsYXkoKTtcbiAgXG4gICAgICAgICAgdmlkZW8ub250aW1ldXBkYXRlID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHZpZGVvLmN1cnJlbnRUaW1lID49IGVuZFRpbWUpIHtcbiAgICAgICAgICAgICAgbWVkaWFSZWNvcmRlci5zdG9wKCk7XG4gICAgICAgICAgICAgIHZpZGVvLnBhdXNlKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjdHguZHJhd0ltYWdlKHZpZGVvLCAwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICAgICAgICBpZiAob25Qcm9ncmVzcykge1xuICAgICAgICAgICAgICAgIG9uUHJvZ3Jlc3MoKHZpZGVvLmN1cnJlbnRUaW1lIC0gc3RhcnRUaW1lKSAvIChlbmRUaW1lIC0gc3RhcnRUaW1lKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICB9O1xuICBcbiAgICAgICAgdmlkZW8ub25lcnJvciA9ICgpID0+IHtcbiAgICAgICAgICByZWplY3QobmV3IEVycm9yKFwiRXJyb3IgbG9hZGluZyB2aWRlb1wiKSk7XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgXG4gIFxuXG5leHBvcnQgY29uc3QgdmlkZW9UcmltbWVyU2VydmljZSA9IG5ldyBWaWRlb1RyaW1tZXJTZXJ2aWNlKCk7XG5cbi8vIENyZWF0ZSBhIHNpbmdsZXRvbiBpbnN0YW5jZVxuZXhwb3J0IGNvbnN0IGZpcmViYXNlU3RvcmFnZVNlcnZpY2UgPSBuZXcgRmlyZWJhc2VTdG9yYWdlU2VydmljZSgpOyJdLCJuYW1lcyI6WyJnZXRTdG9yYWdlIiwicmVmIiwidXBsb2FkQnl0ZXMiLCJnZXREb3dubG9hZFVSTCIsIlVzZXIiLCJ1c2VyU2VydmljZSIsImF1dGgiLCJVcGxvYWRJbWFnZVR5cGUiLCJWaWRlb1R5cGUiLCJGaXJlYmFzZVN0b3JhZ2VTZXJ2aWNlIiwidXBsb2FkVmlkZW8iLCJmaWxlIiwidmlkZW9UeXBlIiwidXNlciIsImN1cnJlbnRVc2VyIiwiRXJyb3IiLCJBTExPV0VEX1RZUEVTIiwiTUFYX0ZJTEVfU0laRSIsImluY2x1ZGVzIiwidHlwZSIsInNpemUiLCJmaWxlTmFtZSIsIkRhdGUiLCJub3ciLCJuYW1lIiwic3RvcmFnZVBhdGgiLCJ1aWQiLCJzdG9yYWdlUmVmIiwic25hcHNob3QiLCJkb3dubG9hZFVSTCIsImdzVVJMIiwiYnVja2V0IiwiZnVsbFBhdGgiLCJlcnJvciIsImNvbnNvbGUiLCJ1cGxvYWRJbWFnZSIsImltYWdlVHlwZSIsInN0b3JhZ2UiLCJ1cGRhdGVVc2VyUHJvZmlsZUltYWdlIiwiaW1hZ2VVUkwiLCJ1cGRhdGVkVXNlciIsInRvRGljdGlvbmFyeSIsInByb2ZpbGVJbWFnZSIsInByb2ZpbGVJbWFnZVVSTCIsImltYWdlT2Zmc2V0V2lkdGgiLCJpbWFnZU9mZnNldEhlaWdodCIsInVwZGF0ZWRBdCIsInVwZGF0ZVVzZXIiLCJpZCIsImZldGNoSW1hZ2UiLCJ1cmwiLCJpbWFnZUNhY2hlIiwiaGFzIiwiZ2V0IiwicmVzcG9uc2UiLCJmZXRjaCIsImJsb2IiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJzZXQiLCJNYXAiLCJWaWRlb1RyaW1tZXJTZXJ2aWNlIiwidHJpbVZpZGVvIiwic3RhcnRUaW1lIiwiZW5kVGltZSIsIm9uUHJvZ3Jlc3MiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInZpZGVvIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY2FudmFzIiwiY3R4IiwiZ2V0Q29udGV4dCIsImNodW5rcyIsInNyYyIsIm9ubG9hZGVkbWV0YWRhdGEiLCJ3aWR0aCIsInZpZGVvV2lkdGgiLCJoZWlnaHQiLCJ2aWRlb0hlaWdodCIsImN1cnJlbnRUaW1lIiwib25zZWVrZWQiLCJzdHJlYW0iLCJjYXB0dXJlU3RyZWFtIiwibWVkaWFSZWNvcmRlciIsIk1lZGlhUmVjb3JkZXIiLCJvbmRhdGFhdmFpbGFibGUiLCJlIiwiZGF0YSIsInB1c2giLCJvbnN0b3AiLCJCbG9iIiwidHJpbW1lZEZpbGUiLCJGaWxlIiwicmV2b2tlT2JqZWN0VVJMIiwic3RhcnQiLCJwbGF5Iiwib250aW1ldXBkYXRlIiwic3RvcCIsInBhdXNlIiwiZHJhd0ltYWdlIiwib25lcnJvciIsInZpZGVvVHJpbW1lclNlcnZpY2UiLCJmaXJlYmFzZVN0b3JhZ2VTZXJ2aWNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/api/firebase/storage/service.ts\n");

/***/ }),

/***/ "./src/api/firebase/user/index.ts":
/*!****************************************!*\
  !*** ./src/api/firebase/user/index.ts ***!
  \****************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   userService: () => (/* reexport safe */ _service__WEBPACK_IMPORTED_MODULE_1__.userService)\n/* harmony export */ });\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types */ \"./src/api/firebase/user/types.ts\");\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _types__WEBPACK_IMPORTED_MODULE_0__) if([\"default\",\"userService\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _types__WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n/* harmony import */ var _service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./service */ \"./src/api/firebase/user/service.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_service__WEBPACK_IMPORTED_MODULE_1__]);\n_service__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYXBpL2ZpcmViYXNlL3VzZXIvaW5kZXgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQXdCO0FBQ2dCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktYXBwLy4vc3JjL2FwaS9maXJlYmFzZS91c2VyL2luZGV4LnRzP2U0Y2QiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSAnLi90eXBlcyc7XG5leHBvcnQgeyB1c2VyU2VydmljZSB9IGZyb20gJy4vc2VydmljZSc7ICJdLCJuYW1lcyI6WyJ1c2VyU2VydmljZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/api/firebase/user/index.ts\n");

/***/ }),

/***/ "./src/api/firebase/user/service.ts":
/*!******************************************!*\
  !*** ./src/api/firebase/user/service.ts ***!
  \******************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   userService: () => (/* binding */ userService)\n/* harmony export */ });\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types */ \"./src/api/firebase/user/types.ts\");\n/* harmony import */ var _workout__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../workout */ \"./src/api/firebase/workout/index.ts\");\n/* harmony import */ var _exercise_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../exercise/types */ \"./src/api/firebase/exercise/types.ts\");\n/* harmony import */ var _user__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../user */ \"./src/api/firebase/user/index.ts\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! firebase/firestore */ \"firebase/firestore\");\n/* harmony import */ var firebase_storage__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! firebase/storage */ \"firebase/storage\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../config */ \"./src/api/firebase/config.ts\");\n/* harmony import */ var _redux_store__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../redux/store */ \"./src/redux/store.ts\");\n/* harmony import */ var _redux_userSlice__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../redux/userSlice */ \"./src/redux/userSlice.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_workout__WEBPACK_IMPORTED_MODULE_1__, _exercise_types__WEBPACK_IMPORTED_MODULE_2__, _user__WEBPACK_IMPORTED_MODULE_3__, firebase_firestore__WEBPACK_IMPORTED_MODULE_4__, firebase_storage__WEBPACK_IMPORTED_MODULE_5__, _config__WEBPACK_IMPORTED_MODULE_6__, _redux_store__WEBPACK_IMPORTED_MODULE_7__, _redux_userSlice__WEBPACK_IMPORTED_MODULE_8__]);\n([_workout__WEBPACK_IMPORTED_MODULE_1__, _exercise_types__WEBPACK_IMPORTED_MODULE_2__, _user__WEBPACK_IMPORTED_MODULE_3__, firebase_firestore__WEBPACK_IMPORTED_MODULE_4__, firebase_storage__WEBPACK_IMPORTED_MODULE_5__, _config__WEBPACK_IMPORTED_MODULE_6__, _redux_store__WEBPACK_IMPORTED_MODULE_7__, _redux_userSlice__WEBPACK_IMPORTED_MODULE_8__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\n\n\n\nclass UserService {\n    get currentUser() {\n        return _redux_store__WEBPACK_IMPORTED_MODULE_7__.store.getState().user.currentUser;\n    }\n    set currentUser(user) {\n        _redux_store__WEBPACK_IMPORTED_MODULE_7__.store.dispatch((0,_redux_userSlice__WEBPACK_IMPORTED_MODULE_8__.setUser)(user));\n    }\n    async fetchUserFromFirestore(userId) {\n        const userRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.doc)(_config__WEBPACK_IMPORTED_MODULE_6__.db, \"users\", userId);\n        const userDoc = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.getDoc)(userRef);\n        if (!userDoc.exists()) {\n            return null;\n        }\n        return new _types__WEBPACK_IMPORTED_MODULE_0__.User(userDoc.data());\n    }\n    async updateUser(userId, user) {\n        const userRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.doc)(_config__WEBPACK_IMPORTED_MODULE_6__.db, \"users\", userId);\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.setDoc)(userRef, user.toDictionary(), {\n            merge: true\n        });\n    }\n    async getUsersByIds(ids) {\n        if (!ids.length) return [];\n        const users = [];\n        const chunkSize = 10; // Firestore 'in' queries support up to 10 values\n        for(let i = 0; i < ids.length; i += chunkSize){\n            const chunk = ids.slice(i, i + chunkSize);\n            const usersRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.collection)(_config__WEBPACK_IMPORTED_MODULE_6__.db, \"users\");\n            const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.query)(usersRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.where)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.documentId)(), \"in\", chunk));\n            const querySnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.getDocs)(q);\n            querySnapshot.docs.forEach((doc)=>{\n                users.push(new _types__WEBPACK_IMPORTED_MODULE_0__.User({\n                    id: doc.id,\n                    ...doc.data()\n                }));\n            });\n        }\n        return users;\n    }\n    async getUserById(userId) {\n        try {\n            const userDoc = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.getDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.doc)(_config__WEBPACK_IMPORTED_MODULE_6__.db, \"users\", userId));\n            if (!userDoc.exists()) {\n                throw new Error(\"User not found\");\n            }\n            return new _types__WEBPACK_IMPORTED_MODULE_0__.User({\n                id: userDoc.id,\n                ...userDoc.data()\n            });\n        } catch (error) {\n            console.error(\"Error getting user by ID:\", error);\n            throw error;\n        }\n    }\n    async deleteUserVideo(exerciseId) {\n        if (!this.currentUser?.id) {\n            throw new Error(\"No user is signed in\");\n        }\n        try {\n            const exerciseRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.doc)(_config__WEBPACK_IMPORTED_MODULE_6__.db, \"exercises\", exerciseId);\n            const exerciseDoc = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.getDoc)(exerciseRef);\n            if (exerciseDoc.exists()) {\n                const videos = exerciseDoc.data().videos || [];\n                // Delete video files from storage\n                await Promise.all(videos.map(async (video)=>{\n                    if (video.videoURL) {\n                        const videoRef = (0,firebase_storage__WEBPACK_IMPORTED_MODULE_5__.ref)((0,firebase_storage__WEBPACK_IMPORTED_MODULE_5__.getStorage)(), video.videoURL);\n                        await (0,firebase_storage__WEBPACK_IMPORTED_MODULE_5__.deleteObject)(videoRef);\n                    }\n                    if (video.gifURL) {\n                        const gifRef = (0,firebase_storage__WEBPACK_IMPORTED_MODULE_5__.ref)((0,firebase_storage__WEBPACK_IMPORTED_MODULE_5__.getStorage)(), video.gifURL);\n                        await (0,firebase_storage__WEBPACK_IMPORTED_MODULE_5__.deleteObject)(gifRef);\n                    }\n                }));\n            }\n            // Delete exercise document\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.deleteDoc)(exerciseRef);\n        } catch (error) {\n            console.error(\"Error deleting user video:\", error);\n            throw error;\n        }\n    }\n    async deleteStack(stackId) {\n        if (!this.currentUser?.id) {\n            throw new Error(\"No user is signed in\");\n        }\n        try {\n            const stackRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.doc)(_config__WEBPACK_IMPORTED_MODULE_6__.db, \"users\", this.currentUser.id, \"MyCreatedWorkouts\", stackId);\n            // Delete associated logs\n            const logsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.collection)(stackRef, \"logs\");\n            const logsSnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.getDocs)(logsRef);\n            await Promise.all(logsSnapshot.docs.map((doc)=>(0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.deleteDoc)(doc.ref)));\n            // Delete stack document\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.deleteDoc)(stackRef);\n        } catch (error) {\n            console.error(\"Error deleting stack:\", error);\n            throw error;\n        }\n    }\n    async createStack(workout, exerciseLogs) {\n        if (!this.currentUser?.id) {\n            throw new Error(\"No user is signed in.\");\n        }\n        // Reference to the new stack document under the user's MyCreatedWorkouts subcollection\n        const userWorkoutRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.doc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.collection)(_config__WEBPACK_IMPORTED_MODULE_6__.db, \"users\", this.currentUser.id, \"MyCreatedWorkouts\"), workout.id);\n        try {\n            // Save the workout document\n            console.log(\"Right before we save: \" + JSON.stringify(workout.toDictionary()));\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.setDoc)(userWorkoutRef, workout.toDictionary());\n            console.log(\"Stack created successfully\");\n            // If there are exercise logs, save them in a batch to the \"logs\" subcollection\n            if (exerciseLogs && exerciseLogs.length > 0) {\n                const batch = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.writeBatch)(_config__WEBPACK_IMPORTED_MODULE_6__.db);\n                exerciseLogs.forEach((log, index)=>{\n                    // Set the order (index + 1)\n                    log.order = index + 1;\n                    const logRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.doc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.collection)(userWorkoutRef, \"logs\"), log.id);\n                    batch.set(logRef, log.toDictionary());\n                });\n                await batch.commit();\n                console.log(\"Exercise logs saved successfully\");\n            }\n            // After successful save, return the workout\n            return workout;\n        } catch (error) {\n            console.error(\"Error creating stack:\", error);\n            throw error;\n        }\n    }\n    async fetchUserStacks(userId) {\n        const currentUserId = userId || this.currentUser?.id;\n        if (!currentUserId) {\n            throw new Error(\"No user ID provided\");\n        }\n        try {\n            const stacksRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.collection)(_config__WEBPACK_IMPORTED_MODULE_6__.db, \"users\", currentUserId, \"MyCreatedWorkouts\");\n            const querySnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.getDocs)(stacksRef);\n            const stacks = await Promise.all(querySnapshot.docs.map(async (doc)=>{\n                const stackData = doc.data();\n                // Fetch logs for this stack\n                const logsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.collection)(doc.ref, \"logs\");\n                const logsSnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.getDocs)(logsRef);\n                const logs = logsSnapshot.docs.map((logDoc)=>new _exercise_types__WEBPACK_IMPORTED_MODULE_2__.ExerciseLog({\n                        id: logDoc.id,\n                        ...logDoc.data()\n                    }));\n                return new _workout__WEBPACK_IMPORTED_MODULE_1__.Workout({\n                    ...stackData,\n                    id: doc.id,\n                    logs\n                });\n            }));\n            return stacks;\n        } catch (error) {\n            console.error(\"Error fetching user stacks:\", error);\n            throw error;\n        }\n    }\n    async fetchUserVideos(userId) {\n        // Use current user's ID if no ID is provided\n        const currentUserId = userId || this.currentUser?.id;\n        if (!currentUserId) {\n            throw new Error(\"No user ID provided\");\n        }\n        try {\n            // Step 1: Fetch user's exercise videos\n            const exerciseVideosRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.collection)(_config__WEBPACK_IMPORTED_MODULE_6__.db, \"exerciseVideos\");\n            const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.query)(exerciseVideosRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.where)(\"userId\", \"==\", currentUserId));\n            const videoSnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.getDocs)(q);\n            // Group videos by exercise name\n            const videosByExerciseName = {};\n            videoSnapshot.docs.forEach((doc)=>{\n                const videoData = doc.data();\n                const exerciseName = videoData[\"exercise\"];\n                if (!exerciseName) {\n                    console.warn(`Exercise name missing for video ${doc.id}`);\n                    return;\n                }\n                const video = new _exercise_types__WEBPACK_IMPORTED_MODULE_2__.ExerciseVideo({\n                    id: doc.id,\n                    exerciseId: videoData.exerciseId || \"\",\n                    username: videoData.username || \"\",\n                    userId: videoData.userId || \"\",\n                    videoURL: videoData.videoURL || \"\",\n                    fileName: videoData.fileName || \"\",\n                    exercise: exerciseName,\n                    profileImage: new _user__WEBPACK_IMPORTED_MODULE_3__.ProfileImage(videoData.profileImage || {}),\n                    caption: videoData.caption || \"\",\n                    gifURL: videoData.gifURL || \"\",\n                    thumbnail: videoData.thumbnail || \"\",\n                    visibility: videoData.visibility || \"open\",\n                    totalAccountsReached: videoData.totalAccountsReached || 0,\n                    totalAccountLikes: videoData.totalAccountLikes || 0,\n                    totalAccountBookmarked: videoData.totalAccountBookmarked || 0,\n                    totalAccountUsage: videoData.totalAccountUsage || 0,\n                    isApproved: videoData.isApproved || false,\n                    liked: videoData.liked || false,\n                    bookmarked: videoData.bookmarked || false,\n                    createdAt: videoData.createdAt ? new Date(videoData.createdAt) : new Date(),\n                    updatedAt: videoData.updatedAt ? new Date(videoData.updatedAt) : new Date()\n                });\n                if (!videosByExerciseName[exerciseName]) {\n                    videosByExerciseName[exerciseName] = [];\n                }\n                videosByExerciseName[exerciseName].push(video);\n            });\n            // Step 2: Fetch all exercises\n            const exercisesRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.collection)(_config__WEBPACK_IMPORTED_MODULE_6__.db, \"exercises\");\n            const exercisesSnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.getDocs)(exercisesRef);\n            // Step 3: Map videos to exercises\n            const userExercises = exercisesSnapshot.docs.map((doc)=>{\n                const exerciseData = doc.data();\n                const exerciseName = exerciseData.name;\n                // Create base exercise\n                // For the Exercise:\n                const exercise = new _exercise_types__WEBPACK_IMPORTED_MODULE_2__.Exercise({\n                    id: doc.id,\n                    name: exerciseName,\n                    category: exerciseData.category,\n                    primaryBodyParts: exerciseData.primaryBodyParts || [],\n                    secondaryBodyParts: exerciseData.secondaryBodyParts || [],\n                    tags: exerciseData.tags || [],\n                    description: exerciseData.description || \"\",\n                    visibility: exerciseData.visibility || \"limited\",\n                    steps: exerciseData.steps || [],\n                    videos: videosByExerciseName[exerciseName] || [],\n                    currentVideoPosition: 0,\n                    reps: exerciseData.reps || \"\",\n                    sets: exerciseData.sets || 0,\n                    weight: exerciseData.weight || 0,\n                    author: new _exercise_types__WEBPACK_IMPORTED_MODULE_2__.ExerciseAuthor({\n                        userId: exerciseData.author?.userId || \"\",\n                        username: exerciseData.author?.username || \"\"\n                    }),\n                    createdAt: exerciseData.createdAt ? new Date(exerciseData.createdAt) : new Date(),\n                    updatedAt: exerciseData.updatedAt ? new Date(exerciseData.updatedAt) : new Date()\n                });\n                return exercise;\n            }).filter((exercise)=>exercise.videos.length > 0);\n            return userExercises;\n        } catch (error) {\n            console.error(\"Error fetching user videos:\", error);\n            throw error;\n        }\n    }\n    async fetchFollowing() {\n        const currentUser = this.currentUser;\n        if (!currentUser?.id) {\n            throw new Error(\"No user is signed in\");\n        }\n        try {\n            const followRequestsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.collection)(_config__WEBPACK_IMPORTED_MODULE_6__.db, \"followRequests\");\n            const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.query)(followRequestsRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.where)(\"fromUser.id\", \"==\", currentUser.id));\n            const querySnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.getDocs)(q);\n            const followRequests = querySnapshot.docs.map((doc)=>{\n                const data = doc.data();\n                return {\n                    fromUser: {\n                        id: data.fromUser?.id || \"\",\n                        username: data.fromUser?.username || \"\",\n                        displayName: data.fromUser?.displayName || \"\"\n                    },\n                    toUser: {\n                        id: data.toUser?.id || \"\",\n                        username: data.toUser?.username || \"\",\n                        displayName: data.toUser?.displayName || \"\"\n                    },\n                    status: data.status || \"\",\n                    createdAt: data.createdAt instanceof Date ? data.createdAt : data.createdAt ? new Date(data.createdAt) : new Date(),\n                    updatedAt: data.updatedAt instanceof Date ? data.updatedAt : data.updatedAt ? new Date(data.updatedAt) : new Date()\n                };\n            });\n            return followRequests;\n        } catch (error) {\n            console.error(\"Error fetching following:\", error);\n            throw error;\n        }\n    }\n    async fetchFollowers() {\n        const currentUser = this.currentUser;\n        if (!currentUser?.id) {\n            throw new Error(\"No user is signed in\");\n        }\n        try {\n            const followRequestsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.collection)(_config__WEBPACK_IMPORTED_MODULE_6__.db, \"followRequests\");\n            const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.query)(followRequestsRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.where)(\"toUser.id\", \"==\", currentUser.id));\n            const querySnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.getDocs)(q);\n            const followRequests = querySnapshot.docs.map((doc)=>{\n                const data = doc.data();\n                return {\n                    fromUser: {\n                        id: data.fromUser?.id || \"\",\n                        username: data.fromUser?.username || \"\",\n                        displayName: data.fromUser?.displayName || \"\"\n                    },\n                    toUser: {\n                        id: data.toUser?.id || \"\",\n                        username: data.toUser?.username || \"\",\n                        displayName: data.toUser?.displayName || \"\"\n                    },\n                    status: data.status || \"\",\n                    createdAt: data.createdAt instanceof Date ? data.createdAt : data.createdAt ? new Date(data.createdAt) : new Date(),\n                    updatedAt: data.updatedAt instanceof Date ? data.updatedAt : data.updatedAt ? new Date(data.updatedAt) : new Date()\n                };\n            });\n            return followRequests;\n        } catch (error) {\n            console.error(\"Error fetching followers:\", error);\n            throw error;\n        }\n    }\n    /**\n   * Fetch user ID by username\n   * @param username The username to search for\n   * @returns Promise resolving to the user ID or null if not found\n   */ async getUserIdByUsername(username) {\n        try {\n            const usersRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.collection)(_config__WEBPACK_IMPORTED_MODULE_6__.db, \"users\");\n            const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.query)(usersRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.where)(\"username\", \"==\", username), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.limit)(1));\n            const querySnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.getDocs)(q);\n            if (!querySnapshot.empty) {\n                const userDoc = querySnapshot.docs[0];\n                return userDoc.id;\n            }\n            return null;\n        } catch (error) {\n            console.error(\"Error fetching user ID by username:\", error);\n            return null;\n        }\n    }\n    async getAllUsers() {\n        try {\n            const usersRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.collection)(_config__WEBPACK_IMPORTED_MODULE_6__.db, \"users\");\n            const querySnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.getDocs)(usersRef);\n            return querySnapshot.docs.map((doc)=>new _types__WEBPACK_IMPORTED_MODULE_0__.User({\n                    id: doc.id,\n                    ...doc.data()\n                })).filter((user)=>user.profileImage?.profileImageURL); // Only return users with profile images\n        } catch (error) {\n            console.error(\"Error fetching users:\", error);\n            return [];\n        }\n    }\n    // In userService\n    async getUserByUsername(username) {\n        try {\n            const usersRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.collection)(_config__WEBPACK_IMPORTED_MODULE_6__.db, \"users\");\n            const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.query)(usersRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.where)(\"username\", \"==\", username));\n            const querySnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.getDocs)(q);\n            if (querySnapshot.empty) {\n                return null;\n            }\n            const userData = querySnapshot.docs[0].data();\n            return new _types__WEBPACK_IMPORTED_MODULE_0__.User({\n                id: querySnapshot.docs[0].id,\n                ...userData\n            });\n        } catch (error) {\n            throw error;\n        }\n    }\n    async fetchUsersWithVideosUploaded() {\n        try {\n            // Create a query against the users collection\n            const usersRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.collection)(_config__WEBPACK_IMPORTED_MODULE_6__.db, \"users\");\n            const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.query)(usersRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.where)(\"videoCount\", \">\", 0) // Only fetch users with videos\n            );\n            const querySnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.getDocs)(q);\n            // Map the documents to User objects\n            const users = querySnapshot.docs.map((doc)=>{\n                const data = doc.data();\n                return new _types__WEBPACK_IMPORTED_MODULE_0__.User({\n                    id: doc.id,\n                    ...data\n                });\n            })// Filter out users without profile images\n            .filter((user)=>user.profileImage?.profileImageURL)// Shuffle the results\n            .sort(()=>Math.random() - 0.5);\n            return users;\n        } catch (error) {\n            console.error(\"Error fetching users with videos:\", error);\n            return [];\n        }\n    }\n}\nconst userService = new UserService();\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBRTBDLGdCQUNuQyxzQkFBc0I7YUFDckJJLElBQUksQ0FBQyxJQUFNQyxLQUFLQyxNQUFNLEtBQUs7WUFFOUIsT0FBT2hIO1FBQ1QsRUFBRSxPQUFPYyxPQUFPO1lBQ2RDLFFBQVFELEtBQUssQ0FBQyxxQ0FBcUNBO1lBQ25ELE9BQU8sRUFBRTtRQUNYO0lBQ0Y7QUFDRjtBQUVPLE1BQU1tRyxjQUFjLElBQUlsSSxjQUFjIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktYXBwLy4vc3JjL2FwaS9maXJlYmFzZS91c2VyL3NlcnZpY2UudHM/OGYwYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBVc2VyLCBGb2xsb3dSZXF1ZXN0IH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBXb3Jrb3V0IH0gZnJvbSAnLi4vd29ya291dCc7XG5pbXBvcnQgeyBFeGVyY2lzZSwgRXhlcmNpc2VWaWRlbywgRXhlcmNpc2VBdXRob3IsIEV4ZXJjaXNlTG9nIH0gZnJvbSAnLi4vZXhlcmNpc2UvdHlwZXMnO1xuaW1wb3J0IHsgUHJvZmlsZUltYWdlIH0gZnJvbSAnLi4vdXNlcic7XG5cbmltcG9ydCB7IGRvYywgZ2V0RG9jLCBzZXREb2MsIGRvY3VtZW50SWQsIGNvbGxlY3Rpb24sIHF1ZXJ5LCB3aGVyZSwgZ2V0RG9jcywgbGltaXQsIHdyaXRlQmF0Y2gsIGRlbGV0ZURvYyB9IGZyb20gJ2ZpcmViYXNlL2ZpcmVzdG9yZSc7XG5pbXBvcnQgeyByZWYsIGRlbGV0ZU9iamVjdCwgZ2V0U3RvcmFnZSB9IGZyb20gJ2ZpcmViYXNlL3N0b3JhZ2UnO1xuaW1wb3J0IHsgZGIgfSBmcm9tICcuLi9jb25maWcnO1xuXG5pbXBvcnQgeyBzdG9yZSB9IGZyb20gJy4uLy4uLy4uL3JlZHV4L3N0b3JlJztcbmltcG9ydCB7IHNldFVzZXIgfSBmcm9tICcuLi8uLi8uLi9yZWR1eC91c2VyU2xpY2UnO1xuXG5jbGFzcyBVc2VyU2VydmljZSB7XG4gIGdldCBjdXJyZW50VXNlcigpOiBVc2VyIHwgbnVsbCB7XG4gICAgcmV0dXJuIHN0b3JlLmdldFN0YXRlKCkudXNlci5jdXJyZW50VXNlcjtcbiAgfVxuXG4gIHNldCBjdXJyZW50VXNlcih1c2VyOiBVc2VyIHwgbnVsbCkge1xuICAgIHN0b3JlLmRpc3BhdGNoKHNldFVzZXIodXNlcikpO1xuICB9XG5cbiAgYXN5bmMgZmV0Y2hVc2VyRnJvbUZpcmVzdG9yZSh1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8VXNlciB8IG51bGw+IHtcbiAgICBjb25zdCB1c2VyUmVmID0gZG9jKGRiLCAndXNlcnMnLCB1c2VySWQpO1xuICAgIGNvbnN0IHVzZXJEb2MgPSBhd2FpdCBnZXREb2ModXNlclJlZik7XG5cbiAgICBpZiAoIXVzZXJEb2MuZXhpc3RzKCkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgVXNlcih1c2VyRG9jLmRhdGEoKSk7XG59XG5cbiAgYXN5bmMgdXBkYXRlVXNlcih1c2VySWQ6IHN0cmluZywgdXNlcjogVXNlcik6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IHVzZXJSZWYgPSBkb2MoZGIsICd1c2VycycsIHVzZXJJZCk7XG4gICAgYXdhaXQgc2V0RG9jKHVzZXJSZWYsIHVzZXIudG9EaWN0aW9uYXJ5KCksIHsgbWVyZ2U6IHRydWUgfSk7XG4gIH1cblxuICBhc3luYyBnZXRVc2Vyc0J5SWRzKGlkczogc3RyaW5nW10pOiBQcm9taXNlPFVzZXJbXT4ge1xuICAgIGlmICghaWRzLmxlbmd0aCkgcmV0dXJuIFtdO1xuICAgIGNvbnN0IHVzZXJzOiBVc2VyW10gPSBbXTtcbiAgICBjb25zdCBjaHVua1NpemUgPSAxMDsgLy8gRmlyZXN0b3JlICdpbicgcXVlcmllcyBzdXBwb3J0IHVwIHRvIDEwIHZhbHVlc1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaWRzLmxlbmd0aDsgaSArPSBjaHVua1NpemUpIHtcbiAgICAgIGNvbnN0IGNodW5rID0gaWRzLnNsaWNlKGksIGkgKyBjaHVua1NpemUpO1xuICAgICAgY29uc3QgdXNlcnNSZWYgPSBjb2xsZWN0aW9uKGRiLCAndXNlcnMnKTtcbiAgICAgIGNvbnN0IHEgPSBxdWVyeSh1c2Vyc1JlZiwgd2hlcmUoZG9jdW1lbnRJZCgpLCAnaW4nLCBjaHVuaykpO1xuICAgICAgY29uc3QgcXVlcnlTbmFwc2hvdCA9IGF3YWl0IGdldERvY3MocSk7XG4gICAgICBxdWVyeVNuYXBzaG90LmRvY3MuZm9yRWFjaChkb2MgPT4ge1xuICAgICAgICB1c2Vycy5wdXNoKG5ldyBVc2VyKHsgaWQ6IGRvYy5pZCwgLi4uZG9jLmRhdGEoKSB9KSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHVzZXJzO1xuICB9XG5cbiAgYXN5bmMgZ2V0VXNlckJ5SWQodXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPFVzZXI+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXNlckRvYyA9IGF3YWl0IGdldERvYyhkb2MoZGIsICd1c2VycycsIHVzZXJJZCkpO1xuICAgICAgaWYgKCF1c2VyRG9jLmV4aXN0cygpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVXNlciBub3QgZm91bmQnKTtcbiAgICAgIH1cbiAgIFxuICAgICAgcmV0dXJuIG5ldyBVc2VyKHtcbiAgICAgICAgaWQ6IHVzZXJEb2MuaWQsXG4gICAgICAgIC4uLnVzZXJEb2MuZGF0YSgpXG4gICAgICB9KTtcbiAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIHVzZXIgYnkgSUQ6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICAgfVxuXG4gICBhc3luYyBkZWxldGVVc2VyVmlkZW8oZXhlcmNpc2VJZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKCF0aGlzLmN1cnJlbnRVc2VyPy5pZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyB1c2VyIGlzIHNpZ25lZCBpbicpO1xuICAgIH1cbiAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGV4ZXJjaXNlUmVmID0gZG9jKGRiLCAnZXhlcmNpc2VzJywgZXhlcmNpc2VJZCk7XG4gICAgICBjb25zdCBleGVyY2lzZURvYyA9IGF3YWl0IGdldERvYyhleGVyY2lzZVJlZik7XG4gIFxuICAgICAgaWYgKGV4ZXJjaXNlRG9jLmV4aXN0cygpKSB7XG4gICAgICAgIGNvbnN0IHZpZGVvcyA9IGV4ZXJjaXNlRG9jLmRhdGEoKS52aWRlb3MgfHwgW107XG4gICAgICAgIFxuICAgICAgICAvLyBEZWxldGUgdmlkZW8gZmlsZXMgZnJvbSBzdG9yYWdlXG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICAgIHZpZGVvcy5tYXAoYXN5bmMgKHZpZGVvOiB7IHZpZGVvVVJMPzogc3RyaW5nLCBnaWZVUkw/OiBzdHJpbmcgfSkgPT4ge1xuICAgICAgICAgICAgaWYgKHZpZGVvLnZpZGVvVVJMKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHZpZGVvUmVmID0gcmVmKGdldFN0b3JhZ2UoKSwgdmlkZW8udmlkZW9VUkwpO1xuICAgICAgICAgICAgICBhd2FpdCBkZWxldGVPYmplY3QodmlkZW9SZWYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZpZGVvLmdpZlVSTCkge1xuICAgICAgICAgICAgICBjb25zdCBnaWZSZWYgPSByZWYoZ2V0U3RvcmFnZSgpLCB2aWRlby5naWZVUkwpO1xuICAgICAgICAgICAgICBhd2FpdCBkZWxldGVPYmplY3QoZ2lmUmVmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfVxuICBcbiAgICAgIC8vIERlbGV0ZSBleGVyY2lzZSBkb2N1bWVudFxuICAgICAgYXdhaXQgZGVsZXRlRG9jKGV4ZXJjaXNlUmVmKTtcbiAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRlbGV0aW5nIHVzZXIgdmlkZW86JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG4gIFxuICBhc3luYyBkZWxldGVTdGFjayhzdGFja0lkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoIXRoaXMuY3VycmVudFVzZXI/LmlkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHVzZXIgaXMgc2lnbmVkIGluJyk7XG4gICAgfVxuICBcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc3RhY2tSZWYgPSBkb2MoZGIsICd1c2VycycsIHRoaXMuY3VycmVudFVzZXIuaWQsICdNeUNyZWF0ZWRXb3Jrb3V0cycsIHN0YWNrSWQpO1xuICAgICAgXG4gICAgICAvLyBEZWxldGUgYXNzb2NpYXRlZCBsb2dzXG4gICAgICBjb25zdCBsb2dzUmVmID0gY29sbGVjdGlvbihzdGFja1JlZiwgJ2xvZ3MnKTtcbiAgICAgIGNvbnN0IGxvZ3NTbmFwc2hvdCA9IGF3YWl0IGdldERvY3MobG9nc1JlZik7XG4gICAgICBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgICAgbG9nc1NuYXBzaG90LmRvY3MubWFwKGRvYyA9PiBkZWxldGVEb2MoZG9jLnJlZikpXG4gICAgICApO1xuICBcbiAgICAgIC8vIERlbGV0ZSBzdGFjayBkb2N1bWVudFxuICAgICAgYXdhaXQgZGVsZXRlRG9jKHN0YWNrUmVmKTtcbiAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRlbGV0aW5nIHN0YWNrOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGNyZWF0ZVN0YWNrKHdvcmtvdXQ6IFdvcmtvdXQsIGV4ZXJjaXNlTG9ncz86IEV4ZXJjaXNlTG9nW10pOiBQcm9taXNlPFdvcmtvdXQ+IHtcbiAgICBpZiAoIXRoaXMuY3VycmVudFVzZXI/LmlkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHVzZXIgaXMgc2lnbmVkIGluLicpO1xuICAgIH1cblxuICAgIC8vIFJlZmVyZW5jZSB0byB0aGUgbmV3IHN0YWNrIGRvY3VtZW50IHVuZGVyIHRoZSB1c2VyJ3MgTXlDcmVhdGVkV29ya291dHMgc3ViY29sbGVjdGlvblxuICAgIGNvbnN0IHVzZXJXb3Jrb3V0UmVmID0gZG9jKFxuICAgICAgY29sbGVjdGlvbihkYiwgJ3VzZXJzJywgdGhpcy5jdXJyZW50VXNlci5pZCwgJ015Q3JlYXRlZFdvcmtvdXRzJyksXG4gICAgICB3b3Jrb3V0LmlkXG4gICAgKTtcblxuICAgIHRyeSB7XG4gICAgICAvLyBTYXZlIHRoZSB3b3Jrb3V0IGRvY3VtZW50XG4gICAgICBjb25zb2xlLmxvZyhcIlJpZ2h0IGJlZm9yZSB3ZSBzYXZlOiBcIiArIEpTT04uc3RyaW5naWZ5KHdvcmtvdXQudG9EaWN0aW9uYXJ5KCkpKTtcbiAgICAgIGF3YWl0IHNldERvYyh1c2VyV29ya291dFJlZiwgd29ya291dC50b0RpY3Rpb25hcnkoKSk7XG4gICAgICBjb25zb2xlLmxvZygnU3RhY2sgY3JlYXRlZCBzdWNjZXNzZnVsbHknKTtcblxuICAgICAgLy8gSWYgdGhlcmUgYXJlIGV4ZXJjaXNlIGxvZ3MsIHNhdmUgdGhlbSBpbiBhIGJhdGNoIHRvIHRoZSBcImxvZ3NcIiBzdWJjb2xsZWN0aW9uXG4gICAgICBpZiAoZXhlcmNpc2VMb2dzICYmIGV4ZXJjaXNlTG9ncy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IGJhdGNoID0gd3JpdGVCYXRjaChkYik7XG4gICAgICAgIGV4ZXJjaXNlTG9ncy5mb3JFYWNoKChsb2csIGluZGV4KSA9PiB7XG4gICAgICAgICAgLy8gU2V0IHRoZSBvcmRlciAoaW5kZXggKyAxKVxuICAgICAgICAgIGxvZy5vcmRlciA9IGluZGV4ICsgMTtcbiAgICAgICAgICBjb25zdCBsb2dSZWYgPSBkb2MoY29sbGVjdGlvbih1c2VyV29ya291dFJlZiwgJ2xvZ3MnKSwgbG9nLmlkKTtcbiAgICAgICAgICBiYXRjaC5zZXQobG9nUmVmLCBsb2cudG9EaWN0aW9uYXJ5KCkpO1xuICAgICAgICB9KTtcbiAgICAgICAgYXdhaXQgYmF0Y2guY29tbWl0KCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdFeGVyY2lzZSBsb2dzIHNhdmVkIHN1Y2Nlc3NmdWxseScpO1xuICAgICAgfVxuXG4gICAgICAvLyBBZnRlciBzdWNjZXNzZnVsIHNhdmUsIHJldHVybiB0aGUgd29ya291dFxuICAgICAgcmV0dXJuIHdvcmtvdXQ7XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgc3RhY2s6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZmV0Y2hVc2VyU3RhY2tzKHVzZXJJZD86IHN0cmluZyk6IFByb21pc2U8V29ya291dFtdPiB7XG4gICAgY29uc3QgY3VycmVudFVzZXJJZCA9IHVzZXJJZCB8fCB0aGlzLmN1cnJlbnRVc2VyPy5pZDtcbiAgICBcbiAgICBpZiAoIWN1cnJlbnRVc2VySWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gdXNlciBJRCBwcm92aWRlZCcpO1xuICAgIH1cbiAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHN0YWNrc1JlZiA9IGNvbGxlY3Rpb24oZGIsICd1c2VycycsIGN1cnJlbnRVc2VySWQsICdNeUNyZWF0ZWRXb3Jrb3V0cycpO1xuICAgICAgY29uc3QgcXVlcnlTbmFwc2hvdCA9IGF3YWl0IGdldERvY3Moc3RhY2tzUmVmKTtcbiAgICAgIFxuICAgICAgY29uc3Qgc3RhY2tzID0gYXdhaXQgUHJvbWlzZS5hbGwocXVlcnlTbmFwc2hvdC5kb2NzLm1hcChhc3luYyBkb2MgPT4ge1xuICAgICAgICBjb25zdCBzdGFja0RhdGEgPSBkb2MuZGF0YSgpO1xuICAgICAgICBcbiAgICAgICAgLy8gRmV0Y2ggbG9ncyBmb3IgdGhpcyBzdGFja1xuICAgICAgICBjb25zdCBsb2dzUmVmID0gY29sbGVjdGlvbihkb2MucmVmLCAnbG9ncycpO1xuICAgICAgICBjb25zdCBsb2dzU25hcHNob3QgPSBhd2FpdCBnZXREb2NzKGxvZ3NSZWYpO1xuICAgICAgICBjb25zdCBsb2dzID0gbG9nc1NuYXBzaG90LmRvY3MubWFwKGxvZ0RvYyA9PiBcbiAgICAgICAgICBuZXcgRXhlcmNpc2VMb2coeyBpZDogbG9nRG9jLmlkLCAuLi5sb2dEb2MuZGF0YSgpIH0pXG4gICAgICAgICk7XG4gIFxuICAgICAgICByZXR1cm4gbmV3IFdvcmtvdXQoe1xuICAgICAgICAgIC4uLnN0YWNrRGF0YSxcbiAgICAgICAgICBpZDogZG9jLmlkLFxuICAgICAgICAgIGxvZ3NcbiAgICAgICAgfSk7XG4gICAgICB9KSk7XG4gIFxuICAgICAgcmV0dXJuIHN0YWNrcztcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgdXNlciBzdGFja3M6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZmV0Y2hVc2VyVmlkZW9zKHVzZXJJZD86IHN0cmluZyk6IFByb21pc2U8RXhlcmNpc2VbXT4ge1xuICAgIC8vIFVzZSBjdXJyZW50IHVzZXIncyBJRCBpZiBubyBJRCBpcyBwcm92aWRlZFxuICAgIGNvbnN0IGN1cnJlbnRVc2VySWQgPSB1c2VySWQgfHwgdGhpcy5jdXJyZW50VXNlcj8uaWQ7XG4gICAgXG4gICAgaWYgKCFjdXJyZW50VXNlcklkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHVzZXIgSUQgcHJvdmlkZWQnKTtcbiAgICB9XG4gIFxuICAgIHRyeSB7XG4gICAgICAvLyBTdGVwIDE6IEZldGNoIHVzZXIncyBleGVyY2lzZSB2aWRlb3NcbiAgICAgIGNvbnN0IGV4ZXJjaXNlVmlkZW9zUmVmID0gY29sbGVjdGlvbihkYiwgJ2V4ZXJjaXNlVmlkZW9zJyk7XG4gICAgICBjb25zdCBxID0gcXVlcnkoZXhlcmNpc2VWaWRlb3NSZWYsIHdoZXJlKCd1c2VySWQnLCAnPT0nLCBjdXJyZW50VXNlcklkKSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHZpZGVvU25hcHNob3QgPSBhd2FpdCBnZXREb2NzKHEpO1xuICBcbiAgICAgIC8vIEdyb3VwIHZpZGVvcyBieSBleGVyY2lzZSBuYW1lXG4gICAgICBjb25zdCB2aWRlb3NCeUV4ZXJjaXNlTmFtZTogeyBba2V5OiBzdHJpbmddOiBFeGVyY2lzZVZpZGVvW10gfSA9IHt9O1xuICBcbiAgICAgIHZpZGVvU25hcHNob3QuZG9jcy5mb3JFYWNoKGRvYyA9PiB7XG4gICAgICAgIGNvbnN0IHZpZGVvRGF0YSA9IGRvYy5kYXRhKCk7XG4gICAgICAgIGNvbnN0IGV4ZXJjaXNlTmFtZSA9IHZpZGVvRGF0YVsnZXhlcmNpc2UnXSBhcyBzdHJpbmc7XG4gICAgICAgIFxuICAgICAgICBpZiAoIWV4ZXJjaXNlTmFtZSkge1xuICAgICAgICAgIGNvbnNvbGUud2FybihgRXhlcmNpc2UgbmFtZSBtaXNzaW5nIGZvciB2aWRlbyAke2RvYy5pZH1gKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgXG4gICAgICAgIGNvbnN0IHZpZGVvID0gbmV3IEV4ZXJjaXNlVmlkZW8oe1xuICAgICAgICAgIGlkOiBkb2MuaWQsXG4gICAgICAgICAgZXhlcmNpc2VJZDogdmlkZW9EYXRhLmV4ZXJjaXNlSWQgfHwgJycsXG4gICAgICAgICAgdXNlcm5hbWU6IHZpZGVvRGF0YS51c2VybmFtZSB8fCAnJyxcbiAgICAgICAgICB1c2VySWQ6IHZpZGVvRGF0YS51c2VySWQgfHwgJycsXG4gICAgICAgICAgdmlkZW9VUkw6IHZpZGVvRGF0YS52aWRlb1VSTCB8fCAnJyxcbiAgICAgICAgICBmaWxlTmFtZTogdmlkZW9EYXRhLmZpbGVOYW1lIHx8ICcnLFxuICAgICAgICAgIGV4ZXJjaXNlOiBleGVyY2lzZU5hbWUsXG4gICAgICAgICAgcHJvZmlsZUltYWdlOiBuZXcgUHJvZmlsZUltYWdlKHZpZGVvRGF0YS5wcm9maWxlSW1hZ2UgfHwge30pLCAgLy8gVXNlIFByb2ZpbGVJbWFnZSBjb25zdHJ1Y3RvclxuICAgICAgICAgIGNhcHRpb246IHZpZGVvRGF0YS5jYXB0aW9uIHx8ICcnLFxuICAgICAgICAgIGdpZlVSTDogdmlkZW9EYXRhLmdpZlVSTCB8fCAnJyxcbiAgICAgICAgICB0aHVtYm5haWw6IHZpZGVvRGF0YS50aHVtYm5haWwgfHwgJycsXG4gICAgICAgICAgdmlzaWJpbGl0eTogdmlkZW9EYXRhLnZpc2liaWxpdHkgfHwgJ29wZW4nLFxuICAgICAgICAgIHRvdGFsQWNjb3VudHNSZWFjaGVkOiB2aWRlb0RhdGEudG90YWxBY2NvdW50c1JlYWNoZWQgfHwgMCxcbiAgICAgICAgICB0b3RhbEFjY291bnRMaWtlczogdmlkZW9EYXRhLnRvdGFsQWNjb3VudExpa2VzIHx8IDAsXG4gICAgICAgICAgdG90YWxBY2NvdW50Qm9va21hcmtlZDogdmlkZW9EYXRhLnRvdGFsQWNjb3VudEJvb2ttYXJrZWQgfHwgMCxcbiAgICAgICAgICB0b3RhbEFjY291bnRVc2FnZTogdmlkZW9EYXRhLnRvdGFsQWNjb3VudFVzYWdlIHx8IDAsXG4gICAgICAgICAgaXNBcHByb3ZlZDogdmlkZW9EYXRhLmlzQXBwcm92ZWQgfHwgZmFsc2UsXG4gICAgICAgICAgbGlrZWQ6IHZpZGVvRGF0YS5saWtlZCB8fCBmYWxzZSxcbiAgICAgICAgICBib29rbWFya2VkOiB2aWRlb0RhdGEuYm9va21hcmtlZCB8fCBmYWxzZSxcbiAgICAgICAgICBjcmVhdGVkQXQ6IHZpZGVvRGF0YS5jcmVhdGVkQXQgPyBuZXcgRGF0ZSh2aWRlb0RhdGEuY3JlYXRlZEF0KSA6IG5ldyBEYXRlKCksXG4gICAgICAgICAgdXBkYXRlZEF0OiB2aWRlb0RhdGEudXBkYXRlZEF0ID8gbmV3IERhdGUodmlkZW9EYXRhLnVwZGF0ZWRBdCkgOiBuZXcgRGF0ZSgpXG4gICAgICAgIH0pO1xuICBcbiAgICAgICAgaWYgKCF2aWRlb3NCeUV4ZXJjaXNlTmFtZVtleGVyY2lzZU5hbWVdKSB7XG4gICAgICAgICAgdmlkZW9zQnlFeGVyY2lzZU5hbWVbZXhlcmNpc2VOYW1lXSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHZpZGVvc0J5RXhlcmNpc2VOYW1lW2V4ZXJjaXNlTmFtZV0ucHVzaCh2aWRlbyk7XG4gICAgICB9KTtcbiAgXG4gICAgICAvLyBTdGVwIDI6IEZldGNoIGFsbCBleGVyY2lzZXNcbiAgICAgIGNvbnN0IGV4ZXJjaXNlc1JlZiA9IGNvbGxlY3Rpb24oZGIsICdleGVyY2lzZXMnKTtcbiAgICAgIGNvbnN0IGV4ZXJjaXNlc1NuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhleGVyY2lzZXNSZWYpO1xuICBcbiAgICAgIC8vIFN0ZXAgMzogTWFwIHZpZGVvcyB0byBleGVyY2lzZXNcbiAgICAgIGNvbnN0IHVzZXJFeGVyY2lzZXM6IEV4ZXJjaXNlW10gPSBleGVyY2lzZXNTbmFwc2hvdC5kb2NzXG4gICAgICAgIC5tYXAoZG9jID0+IHtcbiAgICAgICAgICBjb25zdCBleGVyY2lzZURhdGEgPSBkb2MuZGF0YSgpO1xuICAgICAgICAgIGNvbnN0IGV4ZXJjaXNlTmFtZSA9IGV4ZXJjaXNlRGF0YS5uYW1lO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIENyZWF0ZSBiYXNlIGV4ZXJjaXNlXG4gICAgICAgICAgLy8gRm9yIHRoZSBFeGVyY2lzZTpcbiAgICAgICAgICBjb25zdCBleGVyY2lzZSA9IG5ldyBFeGVyY2lzZSh7XG4gICAgICAgICAgICBpZDogZG9jLmlkLFxuICAgICAgICAgICAgbmFtZTogZXhlcmNpc2VOYW1lLFxuICAgICAgICAgICAgY2F0ZWdvcnk6IGV4ZXJjaXNlRGF0YS5jYXRlZ29yeSxcbiAgICAgICAgICAgIHByaW1hcnlCb2R5UGFydHM6IGV4ZXJjaXNlRGF0YS5wcmltYXJ5Qm9keVBhcnRzIHx8IFtdLFxuICAgICAgICAgICAgc2Vjb25kYXJ5Qm9keVBhcnRzOiBleGVyY2lzZURhdGEuc2Vjb25kYXJ5Qm9keVBhcnRzIHx8IFtdLFxuICAgICAgICAgICAgdGFnczogZXhlcmNpc2VEYXRhLnRhZ3MgfHwgW10sXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogZXhlcmNpc2VEYXRhLmRlc2NyaXB0aW9uIHx8ICcnLFxuICAgICAgICAgICAgdmlzaWJpbGl0eTogZXhlcmNpc2VEYXRhLnZpc2liaWxpdHkgfHwgJ2xpbWl0ZWQnLFxuICAgICAgICAgICAgc3RlcHM6IGV4ZXJjaXNlRGF0YS5zdGVwcyB8fCBbXSxcbiAgICAgICAgICAgIHZpZGVvczogdmlkZW9zQnlFeGVyY2lzZU5hbWVbZXhlcmNpc2VOYW1lXSB8fCBbXSxcbiAgICAgICAgICAgIGN1cnJlbnRWaWRlb1Bvc2l0aW9uOiAwLFxuICAgICAgICAgICAgcmVwczogZXhlcmNpc2VEYXRhLnJlcHMgfHwgJycsXG4gICAgICAgICAgICBzZXRzOiBleGVyY2lzZURhdGEuc2V0cyB8fCAwLFxuICAgICAgICAgICAgd2VpZ2h0OiBleGVyY2lzZURhdGEud2VpZ2h0IHx8IDAsXG4gICAgICAgICAgICBhdXRob3I6IG5ldyBFeGVyY2lzZUF1dGhvcih7ICAvLyBVc2UgRXhlcmNpc2VBdXRob3IgY29uc3RydWN0b3JcbiAgICAgICAgICAgICAgdXNlcklkOiBleGVyY2lzZURhdGEuYXV0aG9yPy51c2VySWQgfHwgJycsXG4gICAgICAgICAgICAgIHVzZXJuYW1lOiBleGVyY2lzZURhdGEuYXV0aG9yPy51c2VybmFtZSB8fCAnJ1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBjcmVhdGVkQXQ6IGV4ZXJjaXNlRGF0YS5jcmVhdGVkQXQgPyBuZXcgRGF0ZShleGVyY2lzZURhdGEuY3JlYXRlZEF0KSA6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICB1cGRhdGVkQXQ6IGV4ZXJjaXNlRGF0YS51cGRhdGVkQXQgPyBuZXcgRGF0ZShleGVyY2lzZURhdGEudXBkYXRlZEF0KSA6IG5ldyBEYXRlKClcbiAgICAgICAgICB9KTtcbiAgXG4gICAgICAgICAgcmV0dXJuIGV4ZXJjaXNlO1xuICAgICAgICB9KVxuICAgICAgICAuZmlsdGVyKGV4ZXJjaXNlID0+IGV4ZXJjaXNlLnZpZGVvcy5sZW5ndGggPiAwKTtcbiAgXG4gICAgICByZXR1cm4gdXNlckV4ZXJjaXNlcztcbiAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHVzZXIgdmlkZW9zOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGZldGNoRm9sbG93aW5nKCk6IFByb21pc2U8Rm9sbG93UmVxdWVzdFtdPiB7XG4gICAgY29uc3QgY3VycmVudFVzZXIgPSB0aGlzLmN1cnJlbnRVc2VyO1xuICAgIGlmICghY3VycmVudFVzZXI/LmlkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHVzZXIgaXMgc2lnbmVkIGluJyk7XG4gICAgfVxuICBcbiAgICB0cnkge1xuICAgICAgY29uc3QgZm9sbG93UmVxdWVzdHNSZWYgPSBjb2xsZWN0aW9uKGRiLCAnZm9sbG93UmVxdWVzdHMnKTtcbiAgICAgIGNvbnN0IHEgPSBxdWVyeShcbiAgICAgICAgZm9sbG93UmVxdWVzdHNSZWYsIFxuICAgICAgICB3aGVyZSgnZnJvbVVzZXIuaWQnLCAnPT0nLCBjdXJyZW50VXNlci5pZClcbiAgICAgICk7XG4gIFxuICAgICAgY29uc3QgcXVlcnlTbmFwc2hvdCA9IGF3YWl0IGdldERvY3MocSk7XG4gIFxuICAgICAgY29uc3QgZm9sbG93UmVxdWVzdHM6IEZvbGxvd1JlcXVlc3RbXSA9IHF1ZXJ5U25hcHNob3QuZG9jcy5tYXAoZG9jID0+IHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGRvYy5kYXRhKCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgZnJvbVVzZXI6IHtcbiAgICAgICAgICAgIGlkOiBkYXRhLmZyb21Vc2VyPy5pZCB8fCAnJyxcbiAgICAgICAgICAgIHVzZXJuYW1lOiBkYXRhLmZyb21Vc2VyPy51c2VybmFtZSB8fCAnJyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiBkYXRhLmZyb21Vc2VyPy5kaXNwbGF5TmFtZSB8fCAnJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAgdG9Vc2VyOiB7XG4gICAgICAgICAgICBpZDogZGF0YS50b1VzZXI/LmlkIHx8ICcnLFxuICAgICAgICAgICAgdXNlcm5hbWU6IGRhdGEudG9Vc2VyPy51c2VybmFtZSB8fCAnJyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiBkYXRhLnRvVXNlcj8uZGlzcGxheU5hbWUgfHwgJydcbiAgICAgICAgICB9LFxuICAgICAgICAgIHN0YXR1czogZGF0YS5zdGF0dXMgfHwgJycsXG4gICAgICAgICAgY3JlYXRlZEF0OiBkYXRhLmNyZWF0ZWRBdCBpbnN0YW5jZW9mIERhdGUgXG4gICAgICAgICAgICA/IGRhdGEuY3JlYXRlZEF0IFxuICAgICAgICAgICAgOiAoZGF0YS5jcmVhdGVkQXQgPyBuZXcgRGF0ZShkYXRhLmNyZWF0ZWRBdCkgOiBuZXcgRGF0ZSgpKSxcbiAgICAgICAgICB1cGRhdGVkQXQ6IGRhdGEudXBkYXRlZEF0IGluc3RhbmNlb2YgRGF0ZSBcbiAgICAgICAgICAgID8gZGF0YS51cGRhdGVkQXQgXG4gICAgICAgICAgICA6IChkYXRhLnVwZGF0ZWRBdCA/IG5ldyBEYXRlKGRhdGEudXBkYXRlZEF0KSA6IG5ldyBEYXRlKCkpXG4gICAgICAgIH0gYXMgRm9sbG93UmVxdWVzdDtcbiAgICAgIH0pO1xuICBcbiAgICAgIHJldHVybiBmb2xsb3dSZXF1ZXN0cztcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgZm9sbG93aW5nOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuICBcbiAgYXN5bmMgZmV0Y2hGb2xsb3dlcnMoKTogUHJvbWlzZTxGb2xsb3dSZXF1ZXN0W10+IHtcbiAgICBjb25zdCBjdXJyZW50VXNlciA9IHRoaXMuY3VycmVudFVzZXI7XG4gICAgaWYgKCFjdXJyZW50VXNlcj8uaWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gdXNlciBpcyBzaWduZWQgaW4nKTtcbiAgICB9XG4gIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCBmb2xsb3dSZXF1ZXN0c1JlZiA9IGNvbGxlY3Rpb24oZGIsICdmb2xsb3dSZXF1ZXN0cycpO1xuICAgICAgY29uc3QgcSA9IHF1ZXJ5KFxuICAgICAgICBmb2xsb3dSZXF1ZXN0c1JlZiwgXG4gICAgICAgIHdoZXJlKCd0b1VzZXIuaWQnLCAnPT0nLCBjdXJyZW50VXNlci5pZClcbiAgICAgICk7XG4gIFxuICAgICAgY29uc3QgcXVlcnlTbmFwc2hvdCA9IGF3YWl0IGdldERvY3MocSk7XG4gIFxuICAgICAgY29uc3QgZm9sbG93UmVxdWVzdHM6IEZvbGxvd1JlcXVlc3RbXSA9IHF1ZXJ5U25hcHNob3QuZG9jcy5tYXAoZG9jID0+IHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGRvYy5kYXRhKCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgZnJvbVVzZXI6IHtcbiAgICAgICAgICAgIGlkOiBkYXRhLmZyb21Vc2VyPy5pZCB8fCAnJyxcbiAgICAgICAgICAgIHVzZXJuYW1lOiBkYXRhLmZyb21Vc2VyPy51c2VybmFtZSB8fCAnJyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiBkYXRhLmZyb21Vc2VyPy5kaXNwbGF5TmFtZSB8fCAnJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAgdG9Vc2VyOiB7XG4gICAgICAgICAgICBpZDogZGF0YS50b1VzZXI/LmlkIHx8ICcnLFxuICAgICAgICAgICAgdXNlcm5hbWU6IGRhdGEudG9Vc2VyPy51c2VybmFtZSB8fCAnJyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiBkYXRhLnRvVXNlcj8uZGlzcGxheU5hbWUgfHwgJydcbiAgICAgICAgICB9LFxuICAgICAgICAgIHN0YXR1czogZGF0YS5zdGF0dXMgfHwgJycsXG4gICAgICAgICAgY3JlYXRlZEF0OiBkYXRhLmNyZWF0ZWRBdCBpbnN0YW5jZW9mIERhdGUgXG4gICAgICAgICAgICA/IGRhdGEuY3JlYXRlZEF0IFxuICAgICAgICAgICAgOiAoZGF0YS5jcmVhdGVkQXQgPyBuZXcgRGF0ZShkYXRhLmNyZWF0ZWRBdCkgOiBuZXcgRGF0ZSgpKSxcbiAgICAgICAgICB1cGRhdGVkQXQ6IGRhdGEudXBkYXRlZEF0IGluc3RhbmNlb2YgRGF0ZSBcbiAgICAgICAgICAgID8gZGF0YS51cGRhdGVkQXQgXG4gICAgICAgICAgICA6IChkYXRhLnVwZGF0ZWRBdCA/IG5ldyBEYXRlKGRhdGEudXBkYXRlZEF0KSA6IG5ldyBEYXRlKCkpXG4gICAgICAgIH0gYXMgRm9sbG93UmVxdWVzdDtcbiAgICAgIH0pO1xuICBcbiAgICAgIHJldHVybiBmb2xsb3dSZXF1ZXN0cztcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgZm9sbG93ZXJzOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gICAvKipcbiAgICogRmV0Y2ggdXNlciBJRCBieSB1c2VybmFtZVxuICAgKiBAcGFyYW0gdXNlcm5hbWUgVGhlIHVzZXJuYW1lIHRvIHNlYXJjaCBmb3JcbiAgICogQHJldHVybnMgUHJvbWlzZSByZXNvbHZpbmcgdG8gdGhlIHVzZXIgSUQgb3IgbnVsbCBpZiBub3QgZm91bmRcbiAgICovXG4gICBhc3luYyBnZXRVc2VySWRCeVVzZXJuYW1lKHVzZXJuYW1lOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZyB8IG51bGw+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXNlcnNSZWYgPSBjb2xsZWN0aW9uKGRiLCAndXNlcnMnKTtcbiAgICAgIGNvbnN0IHEgPSBxdWVyeSh1c2Vyc1JlZiwgd2hlcmUoJ3VzZXJuYW1lJywgJz09JywgdXNlcm5hbWUpLCBsaW1pdCgxKSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHF1ZXJ5U25hcHNob3QgPSBhd2FpdCBnZXREb2NzKHEpO1xuICAgICAgXG4gICAgICBpZiAoIXF1ZXJ5U25hcHNob3QuZW1wdHkpIHtcbiAgICAgICAgY29uc3QgdXNlckRvYyA9IHF1ZXJ5U25hcHNob3QuZG9jc1swXTtcbiAgICAgICAgcmV0dXJuIHVzZXJEb2MuaWQ7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyB1c2VyIElEIGJ5IHVzZXJuYW1lOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGdldEFsbFVzZXJzKCk6IFByb21pc2U8VXNlcltdPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVzZXJzUmVmID0gY29sbGVjdGlvbihkYiwgJ3VzZXJzJyk7XG4gICAgICBjb25zdCBxdWVyeVNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyh1c2Vyc1JlZik7XG4gICAgICBcbiAgICAgIHJldHVybiBxdWVyeVNuYXBzaG90LmRvY3NcbiAgICAgICAgLm1hcChkb2MgPT4gbmV3IFVzZXIoeyBpZDogZG9jLmlkLCAuLi5kb2MuZGF0YSgpIH0pKVxuICAgICAgICAuZmlsdGVyKHVzZXIgPT4gdXNlci5wcm9maWxlSW1hZ2U/LnByb2ZpbGVJbWFnZVVSTCk7IC8vIE9ubHkgcmV0dXJuIHVzZXJzIHdpdGggcHJvZmlsZSBpbWFnZXNcbiAgICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHVzZXJzOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gIH1cblxuICAvLyBJbiB1c2VyU2VydmljZVxuICBhc3luYyBnZXRVc2VyQnlVc2VybmFtZSh1c2VybmFtZTogc3RyaW5nKTogUHJvbWlzZTxVc2VyIHwgbnVsbD4ge1xuICAgIHRyeSB7ICAgICAgXG4gICAgICBjb25zdCB1c2Vyc1JlZiA9IGNvbGxlY3Rpb24oZGIsICd1c2VycycpO1xuICAgICAgY29uc3QgcSA9IHF1ZXJ5KHVzZXJzUmVmLCB3aGVyZSgndXNlcm5hbWUnLCAnPT0nLCB1c2VybmFtZSkpO1xuICAgICAgXG4gICAgICBjb25zdCBxdWVyeVNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhxKTtcbiAgICAgICAgICAgIFxuICAgICAgaWYgKHF1ZXJ5U25hcHNob3QuZW1wdHkpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHVzZXJEYXRhID0gcXVlcnlTbmFwc2hvdC5kb2NzWzBdLmRhdGEoKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIG5ldyBVc2VyKHsgaWQ6IHF1ZXJ5U25hcHNob3QuZG9jc1swXS5pZCwgLi4udXNlckRhdGEgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGZldGNoVXNlcnNXaXRoVmlkZW9zVXBsb2FkZWQoKTogUHJvbWlzZTxVc2VyW10+IHtcbiAgICB0cnkge1xuICAgICAgLy8gQ3JlYXRlIGEgcXVlcnkgYWdhaW5zdCB0aGUgdXNlcnMgY29sbGVjdGlvblxuICAgICAgY29uc3QgdXNlcnNSZWYgPSBjb2xsZWN0aW9uKGRiLCAndXNlcnMnKTtcbiAgICAgIGNvbnN0IHEgPSBxdWVyeShcbiAgICAgICAgdXNlcnNSZWYsXG4gICAgICAgIHdoZXJlKCd2aWRlb0NvdW50JywgJz4nLCAwKSAvLyBPbmx5IGZldGNoIHVzZXJzIHdpdGggdmlkZW9zXG4gICAgICApO1xuXG4gICAgICBjb25zdCBxdWVyeVNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhxKTtcbiAgICAgIFxuICAgICAgLy8gTWFwIHRoZSBkb2N1bWVudHMgdG8gVXNlciBvYmplY3RzXG4gICAgICBjb25zdCB1c2VycyA9IHF1ZXJ5U25hcHNob3QuZG9jc1xuICAgICAgLm1hcChkb2MgPT4ge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGRvYy5kYXRhKCk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFVzZXIoeyBpZDogZG9jLmlkLCAuLi5kYXRhIH0pO1xuICAgICAgICB9KVxuICAgICAgICAvLyBGaWx0ZXIgb3V0IHVzZXJzIHdpdGhvdXQgcHJvZmlsZSBpbWFnZXNcbiAgICAgICAgLmZpbHRlcih1c2VyID0+IHVzZXIucHJvZmlsZUltYWdlPy5wcm9maWxlSW1hZ2VVUkwpXG4gICAgICAgIC8vIFNodWZmbGUgdGhlIHJlc3VsdHNcbiAgICAgICAgLnNvcnQoKCkgPT4gTWF0aC5yYW5kb20oKSAtIDAuNSk7XG5cbiAgICAgIHJldHVybiB1c2VycztcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgdXNlcnMgd2l0aCB2aWRlb3M6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY29uc3QgdXNlclNlcnZpY2UgPSBuZXcgVXNlclNlcnZpY2UoKTsiXSwibmFtZXMiOlsiVXNlciIsIldvcmtvdXQiLCJFeGVyY2lzZSIsIkV4ZXJjaXNlVmlkZW8iLCJFeGVyY2lzZUF1dGhvciIsIkV4ZXJjaXNlTG9nIiwiUHJvZmlsZUltYWdlIiwiZG9jIiwiZ2V0RG9jIiwic2V0RG9jIiwiZG9jdW1lbnRJZCIsImNvbGxlY3Rpb24iLCJxdWVyeSIsIndoZXJlIiwiZ2V0RG9jcyIsImxpbWl0Iiwid3JpdGVCYXRjaCIsImRlbGV0ZURvYyIsInJlZiIsImRlbGV0ZU9iamVjdCIsImdldFN0b3JhZ2UiLCJkYiIsInN0b3JlIiwic2V0VXNlciIsIlVzZXJTZXJ2aWNlIiwiY3VycmVudFVzZXIiLCJnZXRTdGF0ZSIsInVzZXIiLCJkaXNwYXRjaCIsImZldGNoVXNlckZyb21GaXJlc3RvcmUiLCJ1c2VySWQiLCJ1c2VyUmVmIiwidXNlckRvYyIsImV4aXN0cyIsImRhdGEiLCJ1cGRhdGVVc2VyIiwidG9EaWN0aW9uYXJ5IiwibWVyZ2UiLCJnZXRVc2Vyc0J5SWRzIiwiaWRzIiwibGVuZ3RoIiwidXNlcnMiLCJjaHVua1NpemUiLCJpIiwiY2h1bmsiLCJzbGljZSIsInVzZXJzUmVmIiwicSIsInF1ZXJ5U25hcHNob3QiLCJkb2NzIiwiZm9yRWFjaCIsInB1c2giLCJpZCIsImdldFVzZXJCeUlkIiwiRXJyb3IiLCJlcnJvciIsImNvbnNvbGUiLCJkZWxldGVVc2VyVmlkZW8iLCJleGVyY2lzZUlkIiwiZXhlcmNpc2VSZWYiLCJleGVyY2lzZURvYyIsInZpZGVvcyIsIlByb21pc2UiLCJhbGwiLCJtYXAiLCJ2aWRlbyIsInZpZGVvVVJMIiwidmlkZW9SZWYiLCJnaWZVUkwiLCJnaWZSZWYiLCJkZWxldGVTdGFjayIsInN0YWNrSWQiLCJzdGFja1JlZiIsImxvZ3NSZWYiLCJsb2dzU25hcHNob3QiLCJjcmVhdGVTdGFjayIsIndvcmtvdXQiLCJleGVyY2lzZUxvZ3MiLCJ1c2VyV29ya291dFJlZiIsImxvZyIsIkpTT04iLCJzdHJpbmdpZnkiLCJiYXRjaCIsImluZGV4Iiwib3JkZXIiLCJsb2dSZWYiLCJzZXQiLCJjb21taXQiLCJmZXRjaFVzZXJTdGFja3MiLCJjdXJyZW50VXNlcklkIiwic3RhY2tzUmVmIiwic3RhY2tzIiwic3RhY2tEYXRhIiwibG9ncyIsImxvZ0RvYyIsImZldGNoVXNlclZpZGVvcyIsImV4ZXJjaXNlVmlkZW9zUmVmIiwidmlkZW9TbmFwc2hvdCIsInZpZGVvc0J5RXhlcmNpc2VOYW1lIiwidmlkZW9EYXRhIiwiZXhlcmNpc2VOYW1lIiwid2FybiIsInVzZXJuYW1lIiwiZmlsZU5hbWUiLCJleGVyY2lzZSIsInByb2ZpbGVJbWFnZSIsImNhcHRpb24iLCJ0aHVtYm5haWwiLCJ2aXNpYmlsaXR5IiwidG90YWxBY2NvdW50c1JlYWNoZWQiLCJ0b3RhbEFjY291bnRMaWtlcyIsInRvdGFsQWNjb3VudEJvb2ttYXJrZWQiLCJ0b3RhbEFjY291bnRVc2FnZSIsImlzQXBwcm92ZWQiLCJsaWtlZCIsImJvb2ttYXJrZWQiLCJjcmVhdGVkQXQiLCJEYXRlIiwidXBkYXRlZEF0IiwiZXhlcmNpc2VzUmVmIiwiZXhlcmNpc2VzU25hcHNob3QiLCJ1c2VyRXhlcmNpc2VzIiwiZXhlcmNpc2VEYXRhIiwibmFtZSIsImNhdGVnb3J5IiwicHJpbWFyeUJvZHlQYXJ0cyIsInNlY29uZGFyeUJvZHlQYXJ0cyIsInRhZ3MiLCJkZXNjcmlwdGlvbiIsInN0ZXBzIiwiY3VycmVudFZpZGVvUG9zaXRpb24iLCJyZXBzIiwic2V0cyIsIndlaWdodCIsImF1dGhvciIsImZpbHRlciIsImZldGNoRm9sbG93aW5nIiwiZm9sbG93UmVxdWVzdHNSZWYiLCJmb2xsb3dSZXF1ZXN0cyIsImZyb21Vc2VyIiwiZGlzcGxheU5hbWUiLCJ0b1VzZXIiLCJzdGF0dXMiLCJmZXRjaEZvbGxvd2VycyIsImdldFVzZXJJZEJ5VXNlcm5hbWUiLCJlbXB0eSIsImdldEFsbFVzZXJzIiwicHJvZmlsZUltYWdlVVJMIiwiZ2V0VXNlckJ5VXNlcm5hbWUiLCJ1c2VyRGF0YSIsImZldGNoVXNlcnNXaXRoVmlkZW9zVXBsb2FkZWQiLCJzb3J0IiwiTWF0aCIsInJhbmRvbSIsInVzZXJTZXJ2aWNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/api/firebase/user/service.ts\n");

/***/ }),

/***/ "./src/api/firebase/user/types.ts":
/*!****************************************!*\
  !*** ./src/api/firebase/user/types.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BodyWeight: () => (/* binding */ BodyWeight),\n/* harmony export */   ContentCreatorType: () => (/* binding */ ContentCreatorType),\n/* harmony export */   FitnessCreatorWhy: () => (/* binding */ FitnessCreatorWhy),\n/* harmony export */   Gender: () => (/* binding */ Gender),\n/* harmony export */   OnboardingPayoutState: () => (/* binding */ OnboardingPayoutState),\n/* harmony export */   OnboardingStatus: () => (/* binding */ OnboardingStatus),\n/* harmony export */   ProfileImage: () => (/* binding */ ProfileImage),\n/* harmony export */   ShortUser: () => (/* binding */ ShortUser),\n/* harmony export */   SubscriptionPlatform: () => (/* binding */ SubscriptionPlatform),\n/* harmony export */   SubscriptionType: () => (/* binding */ SubscriptionType),\n/* harmony export */   User: () => (/* binding */ User),\n/* harmony export */   UserLevel: () => (/* binding */ UserLevel),\n/* harmony export */   WorkoutGoal: () => (/* binding */ WorkoutGoal)\n/* harmony export */ });\n/* harmony import */ var _utils_formatDate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../utils/formatDate */ \"./src/utils/formatDate.ts\");\n// src/api/firebase/user/types.ts\n\nclass ProfileImage {\n    constructor(data){\n        this.profileImageURL = data.profileImageURL || \"\";\n        this.imageOffsetWidth = data.imageOffsetWidth || 0;\n        this.imageOffsetHeight = data.imageOffsetHeight || 0;\n    }\n    toDictionary() {\n        return {\n            profileImageURL: this.profileImageURL,\n            imageOffsetWidth: this.imageOffsetWidth,\n            imageOffsetHeight: this.imageOffsetHeight\n        };\n    }\n}\nclass User {\n    constructor(data){\n        this.level = \"novice\";\n        this.id = data.id || \"\";\n        this.displayName = data.displayName || \"\";\n        this.email = data.email || \"\";\n        this.username = data.username || \"\";\n        this.homeGym = data.homeGym || null;\n        this.encouragement = data.encouragement || [];\n        this.birthdate = (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_0__.convertFirestoreTimestamp)(data.birthdate) || null;\n        this.gender = data.gender || null;\n        this.selfDisclosedGender = data.selfDisclosedGender || \"\";\n        this.height = data.height || null;\n        this.location = data.location || null;\n        this.bio = data.bio || \"\";\n        this.fcmToken = data.fcmToken || \"\";\n        this.workoutBuddy = data.workoutBuddy || \"\";\n        this.workoutBuddyUser = data.workoutBuddyUser || null;\n        this.additionalGoals = data.additionalGoals || \"\";\n        this.blockedUsers = data.blockedUsers || [];\n        this.level = data.level || \"novice\";\n        this.goal = data.goal || [];\n        this.bodyWeight = Array.isArray(data.bodyWeight) ? data.bodyWeight.map((weight)=>new BodyWeight(weight)) : [];\n        this.macros = data.macros || {};\n        this.profileImage = new ProfileImage(data.profileImage || {});\n        this.registrationComplete = data.registrationComplete || false;\n        this.creator = data.creator || null;\n        this.subscriptionType = data.subscriptionType || \"Unsubscribed\";\n        this.subscriptionPlatform = data.subscriptionPlatform || \"web\";\n        this.referrer = data.referrer || \"\";\n        this.isCurrentlyActive = data.isCurrentlyActive || false;\n        this.videoCount = data.videoCount || 0;\n        this.createdAt = (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_0__.convertFirestoreTimestamp)(data.createdAt) || null;\n        this.updatedAt = (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_0__.convertFirestoreTimestamp)(data.updatedAt) || null;\n    }\n    toDictionary() {\n        const userDict = {\n            id: this.id,\n            displayName: this.displayName,\n            email: this.email,\n            username: this.username,\n            homeGym: this.homeGym,\n            encouragement: this.encouragement,\n            birthdate: this.birthdate ? (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_0__.dateToUnixTimestamp)(this.birthdate) : null,\n            gender: this.gender,\n            selfDisclosedGender: this.selfDisclosedGender,\n            height: this.height,\n            location: this.location,\n            bio: this.bio,\n            fcmToken: this.fcmToken,\n            workoutBuddy: this.workoutBuddy,\n            workoutBuddyUser: this.workoutBuddyUser,\n            additionalGoals: this.additionalGoals,\n            blockedUsers: this.blockedUsers,\n            level: this.level,\n            goal: this.goal,\n            bodyWeight: this.bodyWeight,\n            macros: this.macros,\n            profileImage: this.profileImage.toDictionary(),\n            registrationComplete: this.registrationComplete,\n            creator: this.creator,\n            subscriptionType: this.subscriptionType,\n            subscriptionPlatform: this.subscriptionPlatform,\n            referrer: this.referrer,\n            isCurrentlyActive: this.isCurrentlyActive,\n            videoCount: this.videoCount,\n            createdAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_0__.dateToUnixTimestamp)(this.createdAt),\n            updatedAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_0__.dateToUnixTimestamp)(this.updatedAt)\n        };\n        return userDict;\n    }\n    toShortUser() {\n        return new ShortUser({\n            id: this.id,\n            displayName: this.displayName,\n            email: this.email,\n            fcmToken: this.fcmToken,\n            username: this.username,\n            level: this.level,\n            videoCount: this.videoCount,\n            profileImage: this.profileImage\n        });\n    }\n}\nvar SubscriptionType;\n(function(SubscriptionType) {\n    SubscriptionType[\"unsubscribed\"] = \"Unsubscribed\";\n    SubscriptionType[\"beta\"] = \"Beta User\";\n    SubscriptionType[\"monthly\"] = \"Monthly Subscriber\";\n    SubscriptionType[\"annual\"] = \"Annual Subscriber\";\n    SubscriptionType[\"sweatEquityPartner\"] = \"Sweat Equity Partner\";\n    SubscriptionType[\"executivePartner\"] = \"Executive Partner\";\n})(SubscriptionType || (SubscriptionType = {}));\nvar UserLevel;\n(function(UserLevel) {\n    UserLevel[\"Novice\"] = \"novice\";\n    UserLevel[\"Intermediate\"] = \"intermediate\";\n    UserLevel[\"Expert\"] = \"expert\";\n})(UserLevel || (UserLevel = {}));\nvar WorkoutGoal;\n(function(WorkoutGoal) {\n    WorkoutGoal[\"LoseWeight\"] = \"Lose weight\";\n    WorkoutGoal[\"GainWeight\"] = \"Gain muscle mass\";\n    WorkoutGoal[\"ToneUp\"] = \"Tone up\";\n    WorkoutGoal[\"GeneralFitness\"] = \"General Fitness\";\n})(WorkoutGoal || (WorkoutGoal = {}));\nclass ShortUser {\n    constructor(data){\n        this.id = data.id || \"\";\n        this.displayName = data.displayName || \"\";\n        this.email = data.email || \"\";\n        this.fcmToken = data.fcmToken || null;\n        this.username = data.username || \"\";\n        this.level = data.level || \"novice\";\n        this.videoCount = data.videoCount || 0;\n        this.profileImage = data.profileImage ? new ProfileImage(data.profileImage) : new ProfileImage({});\n    }\n    // Static factory method to create from Firestore data\n    static fromFirestore(data) {\n        return new ShortUser(data);\n    }\n    // Convert to dictionary for Firestore\n    toDictionary() {\n        return {\n            id: this.id,\n            displayName: this.displayName,\n            email: this.email,\n            fcmToken: this.fcmToken,\n            username: this.username,\n            level: this.level,\n            videoCount: this.videoCount,\n            profileImage: this.profileImage.toDictionary()\n        };\n    }\n    // Helper method to create from User object\n    static fromUser(user) {\n        return new ShortUser({\n            id: user.id,\n            displayName: user.displayName,\n            email: user.email,\n            fcmToken: user.fcmToken,\n            username: user.username,\n            level: user.level,\n            videoCount: user.videoCount,\n            profileImage: user.profileImage\n        });\n    }\n}\nvar Gender;\n(function(Gender) {\n    Gender[\"Woman\"] = \"woman\";\n    Gender[\"Man\"] = \"man\";\n    Gender[\"SelfDescribe\"] = \"I'd rather self describe\";\n})(Gender || (Gender = {}));\nvar SubscriptionPlatform;\n(function(SubscriptionPlatform) {\n    SubscriptionPlatform[\"iOS\"] = \"ios\";\n    SubscriptionPlatform[\"Web\"] = \"web\";\n    SubscriptionPlatform[\"Android\"] = \"android\";\n})(SubscriptionPlatform || (SubscriptionPlatform = {}));\nvar ContentCreatorType;\n(function(ContentCreatorType) {\n    ContentCreatorType[\"PersonalTrainer\"] = \"personal_trainer\";\n    ContentCreatorType[\"FitnessEnthusiast\"] = \"fitness_enthusiast\";\n})(ContentCreatorType || (ContentCreatorType = {}));\nvar FitnessCreatorWhy;\n(function(FitnessCreatorWhy) {\n    FitnessCreatorWhy[\"InspireOthers\"] = \"inspire_others\";\n    FitnessCreatorWhy[\"BuildCommunity\"] = \"build_community\";\n})(FitnessCreatorWhy || (FitnessCreatorWhy = {}));\nvar OnboardingPayoutState;\n(function(OnboardingPayoutState) {\n    OnboardingPayoutState[\"Introduction\"] = \"introduction\";\n    OnboardingPayoutState[\"InProgress\"] = \"in_progress\";\n    OnboardingPayoutState[\"Complete\"] = \"complete\";\n})(OnboardingPayoutState || (OnboardingPayoutState = {}));\nvar OnboardingStatus;\n(function(OnboardingStatus) {\n    OnboardingStatus[\"NotStarted\"] = \"not_started\";\n    OnboardingStatus[\"InProgress\"] = \"in_progress\";\n    OnboardingStatus[\"Completed\"] = \"completed\";\n})(OnboardingStatus || (OnboardingStatus = {}));\nclass BodyWeight {\n    constructor(data){\n        const now = Date.now() / 1000;\n        this.id = data.id || crypto.randomUUID();\n        this.oldWeight = data.oldWeight || 0;\n        this.newWeight = data.newWeight || 0;\n        this.frontUrl = data.frontUrl || \"\";\n        this.backUrl = data.backUrl || \"\";\n        this.sideUrl = data.sideUrl || \"\";\n        this.createdAt = (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_0__.convertFirestoreTimestamp)(data.createdAt);\n        this.updatedAt = (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_0__.convertFirestoreTimestamp)(data.updatedAt);\n    }\n    toDictionary() {\n        return {\n            oldWeight: this.oldWeight,\n            newWeight: this.newWeight,\n            frontUrl: this.frontUrl,\n            backUrl: this.backUrl,\n            sideUrl: this.sideUrl,\n            createdAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_0__.dateToUnixTimestamp)(this.createdAt),\n            updatedAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_0__.dateToUnixTimestamp)(this.updatedAt)\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYXBpL2ZpcmViYXNlL3VzZXIvdHlwZXMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxpQ0FBaUM7QUFDMEQ7QUEwQnBGLE1BQU1FO0lBS1hDLFlBQVlDLElBQVMsQ0FBRTtRQUNyQixJQUFJLENBQUNDLGVBQWUsR0FBR0QsS0FBS0MsZUFBZSxJQUFJO1FBQy9DLElBQUksQ0FBQ0MsZ0JBQWdCLEdBQUdGLEtBQUtFLGdCQUFnQixJQUFJO1FBQ2pELElBQUksQ0FBQ0MsaUJBQWlCLEdBQUdILEtBQUtHLGlCQUFpQixJQUFJO0lBQ3JEO0lBRUFDLGVBQXVDO1FBQ3JDLE9BQU87WUFDTEgsaUJBQWlCLElBQUksQ0FBQ0EsZUFBZTtZQUNyQ0Msa0JBQWtCLElBQUksQ0FBQ0EsZ0JBQWdCO1lBQ3ZDQyxtQkFBbUIsSUFBSSxDQUFDQSxpQkFBaUI7UUFDM0M7SUFDRjtBQUNGO0FBRU8sTUFBTUU7SUFpQ1hOLFlBQVlDLElBQVMsQ0FBRTthQWZ2Qk07UUFnQkUsSUFBSSxDQUFDQyxFQUFFLEdBQUdQLEtBQUtPLEVBQUUsSUFBSTtRQUNyQixJQUFJLENBQUNDLFdBQVcsR0FBR1IsS0FBS1EsV0FBVyxJQUFJO1FBQ3ZDLElBQUksQ0FBQ0MsS0FBSyxHQUFHVCxLQUFLUyxLQUFLLElBQUk7UUFDM0IsSUFBSSxDQUFDQyxRQUFRLEdBQUdWLEtBQUtVLFFBQVEsSUFBSTtRQUNqQyxJQUFJLENBQUNDLE9BQU8sR0FBR1gsS0FBS1csT0FBTyxJQUFJO1FBQy9CLElBQUksQ0FBQ0MsYUFBYSxHQUFHWixLQUFLWSxhQUFhLElBQUksRUFBRTtRQUM3QyxJQUFJLENBQUNDLFNBQVMsR0FBR2pCLDRFQUF5QkEsQ0FBQ0ksS0FBS2EsU0FBUyxLQUFLO1FBQzlELElBQUksQ0FBQ0MsTUFBTSxHQUFHZCxLQUFLYyxNQUFNLElBQUk7UUFDN0IsSUFBSSxDQUFDQyxtQkFBbUIsR0FBR2YsS0FBS2UsbUJBQW1CLElBQUk7UUFDdkQsSUFBSSxDQUFDQyxNQUFNLEdBQUdoQixLQUFLZ0IsTUFBTSxJQUFJO1FBQzdCLElBQUksQ0FBQ0MsUUFBUSxHQUFHakIsS0FBS2lCLFFBQVEsSUFBSTtRQUNqQyxJQUFJLENBQUNDLEdBQUcsR0FBR2xCLEtBQUtrQixHQUFHLElBQUk7UUFDdkIsSUFBSSxDQUFDQyxRQUFRLEdBQUduQixLQUFLbUIsUUFBUSxJQUFJO1FBQ2pDLElBQUksQ0FBQ0MsWUFBWSxHQUFHcEIsS0FBS29CLFlBQVksSUFBSTtRQUN6QyxJQUFJLENBQUNDLGdCQUFnQixHQUFHckIsS0FBS3FCLGdCQUFnQixJQUFJO1FBQ2pELElBQUksQ0FBQ0MsZUFBZSxHQUFHdEIsS0FBS3NCLGVBQWUsSUFBSTtRQUMvQyxJQUFJLENBQUNDLFlBQVksR0FBR3ZCLEtBQUt1QixZQUFZLElBQUksRUFBRTtRQUMzQyxJQUFJLENBQUNqQixLQUFLLEdBQUdOLEtBQUtNLEtBQUs7UUFDdkIsSUFBSSxDQUFDa0IsSUFBSSxHQUFHeEIsS0FBS3dCLElBQUksSUFBSSxFQUFFO1FBQzNCLElBQUksQ0FBQ0MsVUFBVSxHQUFHQyxNQUFNQyxPQUFPLENBQUMzQixLQUFLeUIsVUFBVSxJQUMzQ3pCLEtBQUt5QixVQUFVLENBQUNHLEdBQUcsQ0FBQyxDQUFDQyxTQUFnQixJQUFJQyxXQUFXRCxXQUNwRCxFQUFFO1FBQ04sSUFBSSxDQUFDRSxNQUFNLEdBQUcvQixLQUFLK0IsTUFBTSxJQUFJLENBQUM7UUFDOUIsSUFBSSxDQUFDQyxZQUFZLEdBQUcsSUFBSWxDLGFBQWFFLEtBQUtnQyxZQUFZLElBQUksQ0FBQztRQUMzRCxJQUFJLENBQUNDLG9CQUFvQixHQUFHakMsS0FBS2lDLG9CQUFvQixJQUFJO1FBQ3pELElBQUksQ0FBQ0MsT0FBTyxHQUFHbEMsS0FBS2tDLE9BQU8sSUFBSTtRQUMvQixJQUFJLENBQUNDLGdCQUFnQixHQUFHbkMsS0FBS21DLGdCQUFnQjtRQUM3QyxJQUFJLENBQUNDLG9CQUFvQixHQUFHcEMsS0FBS29DLG9CQUFvQjtRQUNyRCxJQUFJLENBQUNDLFFBQVEsR0FBR3JDLEtBQUtxQyxRQUFRLElBQUk7UUFDakMsSUFBSSxDQUFDQyxpQkFBaUIsR0FBR3RDLEtBQUtzQyxpQkFBaUIsSUFBSTtRQUNuRCxJQUFJLENBQUNDLFVBQVUsR0FBR3ZDLEtBQUt1QyxVQUFVLElBQUk7UUFDckMsSUFBSSxDQUFDQyxTQUFTLEdBQUc1Qyw0RUFBeUJBLENBQUNJLEtBQUt3QyxTQUFTLEtBQUs7UUFDOUQsSUFBSSxDQUFDQyxTQUFTLEdBQUc3Qyw0RUFBeUJBLENBQUNJLEtBQUt5QyxTQUFTLEtBQUs7SUFDaEU7SUFFQXJDLGVBQW9DO1FBQ2xDLE1BQU1zQyxXQUFnQztZQUNwQ25DLElBQUksSUFBSSxDQUFDQSxFQUFFO1lBQ1hDLGFBQWEsSUFBSSxDQUFDQSxXQUFXO1lBQzdCQyxPQUFPLElBQUksQ0FBQ0EsS0FBSztZQUNqQkMsVUFBVSxJQUFJLENBQUNBLFFBQVE7WUFDdkJDLFNBQVMsSUFBSSxDQUFDQSxPQUFPO1lBQ3JCQyxlQUFlLElBQUksQ0FBQ0EsYUFBYTtZQUNqQ0MsV0FBVyxJQUFJLENBQUNBLFNBQVMsR0FBR2hCLHNFQUFtQkEsQ0FBQyxJQUFJLENBQUNnQixTQUFTLElBQUk7WUFDbEVDLFFBQVEsSUFBSSxDQUFDQSxNQUFNO1lBQ25CQyxxQkFBcUIsSUFBSSxDQUFDQSxtQkFBbUI7WUFDN0NDLFFBQVEsSUFBSSxDQUFDQSxNQUFNO1lBQ25CQyxVQUFVLElBQUksQ0FBQ0EsUUFBUTtZQUN2QkMsS0FBSyxJQUFJLENBQUNBLEdBQUc7WUFDYkMsVUFBVSxJQUFJLENBQUNBLFFBQVE7WUFDdkJDLGNBQWMsSUFBSSxDQUFDQSxZQUFZO1lBQy9CQyxrQkFBa0IsSUFBSSxDQUFDQSxnQkFBZ0I7WUFDdkNDLGlCQUFpQixJQUFJLENBQUNBLGVBQWU7WUFDckNDLGNBQWMsSUFBSSxDQUFDQSxZQUFZO1lBQy9CakIsT0FBTyxJQUFJLENBQUNBLEtBQUs7WUFDakJrQixNQUFNLElBQUksQ0FBQ0EsSUFBSTtZQUNmQyxZQUFZLElBQUksQ0FBQ0EsVUFBVTtZQUMzQk0sUUFBUSxJQUFJLENBQUNBLE1BQU07WUFDbkJDLGNBQWMsSUFBSSxDQUFDQSxZQUFZLENBQUM1QixZQUFZO1lBQzVDNkIsc0JBQXNCLElBQUksQ0FBQ0Esb0JBQW9CO1lBQy9DQyxTQUFTLElBQUksQ0FBQ0EsT0FBTztZQUNyQkMsa0JBQWtCLElBQUksQ0FBQ0EsZ0JBQWdCO1lBQ3ZDQyxzQkFBc0IsSUFBSSxDQUFDQSxvQkFBb0I7WUFDL0NDLFVBQVUsSUFBSSxDQUFDQSxRQUFRO1lBQ3ZCQyxtQkFBbUIsSUFBSSxDQUFDQSxpQkFBaUI7WUFDekNDLFlBQVksSUFBSSxDQUFDQSxVQUFVO1lBQzNCQyxXQUFXM0Msc0VBQW1CQSxDQUFDLElBQUksQ0FBQzJDLFNBQVM7WUFDN0NDLFdBQVc1QyxzRUFBbUJBLENBQUMsSUFBSSxDQUFDNEMsU0FBUztRQUMvQztRQUVBLE9BQU9DO0lBQ1Q7SUFFQUMsY0FBeUI7UUFDdkIsT0FBTyxJQUFJQyxVQUFVO1lBQ25CckMsSUFBSSxJQUFJLENBQUNBLEVBQUU7WUFDWEMsYUFBYSxJQUFJLENBQUNBLFdBQVc7WUFDN0JDLE9BQU8sSUFBSSxDQUFDQSxLQUFLO1lBQ2pCVSxVQUFVLElBQUksQ0FBQ0EsUUFBUTtZQUN2QlQsVUFBVSxJQUFJLENBQUNBLFFBQVE7WUFDdkJKLE9BQU8sSUFBSSxDQUFDQSxLQUFLO1lBQ2pCaUMsWUFBWSxJQUFJLENBQUNBLFVBQVU7WUFDM0JQLGNBQWMsSUFBSSxDQUFDQSxZQUFZO1FBQ2pDO0lBQ0Q7QUFDSDs7VUFTYWE7Ozs7Ozs7R0FBQUEscUJBQUFBOztVQVNBQzs7OztHQUFBQSxjQUFBQTs7VUFNQUM7Ozs7O0dBQUFBLGdCQUFBQTtBQVlMLE1BQU1IO0lBVVo3QyxZQUFZQyxJQUFTLENBQUU7UUFDckIsSUFBSSxDQUFDTyxFQUFFLEdBQUdQLEtBQUtPLEVBQUUsSUFBSTtRQUNyQixJQUFJLENBQUNDLFdBQVcsR0FBR1IsS0FBS1EsV0FBVyxJQUFJO1FBQ3ZDLElBQUksQ0FBQ0MsS0FBSyxHQUFHVCxLQUFLUyxLQUFLLElBQUk7UUFDM0IsSUFBSSxDQUFDVSxRQUFRLEdBQUduQixLQUFLbUIsUUFBUSxJQUFJO1FBQ2pDLElBQUksQ0FBQ1QsUUFBUSxHQUFHVixLQUFLVSxRQUFRLElBQUk7UUFDakMsSUFBSSxDQUFDSixLQUFLLEdBQUdOLEtBQUtNLEtBQUs7UUFDdkIsSUFBSSxDQUFDaUMsVUFBVSxHQUFHdkMsS0FBS3VDLFVBQVUsSUFBSTtRQUNyQyxJQUFJLENBQUNQLFlBQVksR0FBR2hDLEtBQUtnQyxZQUFZLEdBQUcsSUFBSWxDLGFBQWFFLEtBQUtnQyxZQUFZLElBQUksSUFBSWxDLGFBQWEsQ0FBQztJQUNsRztJQUVBLHNEQUFzRDtJQUN0RCxPQUFPa0QsY0FBY2hELElBQVMsRUFBYTtRQUN6QyxPQUFPLElBQUk0QyxVQUFVNUM7SUFDdkI7SUFFQSxzQ0FBc0M7SUFDdENJLGVBQXVDO1FBQ3JDLE9BQU87WUFDTEcsSUFBSSxJQUFJLENBQUNBLEVBQUU7WUFDWEMsYUFBYSxJQUFJLENBQUNBLFdBQVc7WUFDN0JDLE9BQU8sSUFBSSxDQUFDQSxLQUFLO1lBQ2pCVSxVQUFVLElBQUksQ0FBQ0EsUUFBUTtZQUN2QlQsVUFBVSxJQUFJLENBQUNBLFFBQVE7WUFDdkJKLE9BQU8sSUFBSSxDQUFDQSxLQUFLO1lBQ2pCaUMsWUFBWSxJQUFJLENBQUNBLFVBQVU7WUFDM0JQLGNBQWMsSUFBSSxDQUFDQSxZQUFZLENBQUM1QixZQUFZO1FBQzlDO0lBQ0Y7SUFFQSwyQ0FBMkM7SUFDM0MsT0FBTzZDLFNBQVNDLElBQVUsRUFBYTtRQUNyQyxPQUFPLElBQUlOLFVBQVU7WUFDbkJyQyxJQUFJMkMsS0FBSzNDLEVBQUU7WUFDWEMsYUFBYTBDLEtBQUsxQyxXQUFXO1lBQzdCQyxPQUFPeUMsS0FBS3pDLEtBQUs7WUFDakJVLFVBQVUrQixLQUFLL0IsUUFBUTtZQUN2QlQsVUFBVXdDLEtBQUt4QyxRQUFRO1lBQ3ZCSixPQUFPNEMsS0FBSzVDLEtBQUs7WUFDakJpQyxZQUFZVyxLQUFLWCxVQUFVO1lBQzNCUCxjQUFja0IsS0FBS2xCLFlBQVk7UUFDakM7SUFDRjtBQUNGOztVQUVhbUI7Ozs7R0FBQUEsV0FBQUE7O1VBb0JBQzs7OztHQUFBQSx5QkFBQUE7O1VBMEJBQzs7O0dBQUFBLHVCQUFBQTs7VUFNQUM7OztHQUFBQSxzQkFBQUE7O1VBS0FDOzs7O0dBQUFBLDBCQUFBQTs7VUFNQUM7Ozs7R0FBQUEscUJBQUFBO0FBTUwsTUFBTTFCO0lBVVYvQixZQUFZQyxJQUF5QixDQUFFO1FBQ3JDLE1BQU15RCxNQUFNQyxLQUFLRCxHQUFHLEtBQUs7UUFDekIsSUFBSSxDQUFDbEQsRUFBRSxHQUFHUCxLQUFLTyxFQUFFLElBQUlvRCxPQUFPQyxVQUFVO1FBQ3RDLElBQUksQ0FBQ0MsU0FBUyxHQUFHN0QsS0FBSzZELFNBQVMsSUFBSTtRQUNuQyxJQUFJLENBQUNDLFNBQVMsR0FBRzlELEtBQUs4RCxTQUFTLElBQUk7UUFDbkMsSUFBSSxDQUFDQyxRQUFRLEdBQUcvRCxLQUFLK0QsUUFBUSxJQUFJO1FBQ2pDLElBQUksQ0FBQ0MsT0FBTyxHQUFHaEUsS0FBS2dFLE9BQU8sSUFBSTtRQUMvQixJQUFJLENBQUNDLE9BQU8sR0FBR2pFLEtBQUtpRSxPQUFPLElBQUk7UUFDL0IsSUFBSSxDQUFDekIsU0FBUyxHQUFHNUMsNEVBQXlCQSxDQUFDSSxLQUFLd0MsU0FBUztRQUN6RCxJQUFJLENBQUNDLFNBQVMsR0FBRzdDLDRFQUF5QkEsQ0FBQ0ksS0FBS3lDLFNBQVM7SUFDM0Q7SUFFQXJDLGVBQW9DO1FBQ2xDLE9BQU87WUFDTHlELFdBQVcsSUFBSSxDQUFDQSxTQUFTO1lBQ3pCQyxXQUFXLElBQUksQ0FBQ0EsU0FBUztZQUN6QkMsVUFBVSxJQUFJLENBQUNBLFFBQVE7WUFDdkJDLFNBQVMsSUFBSSxDQUFDQSxPQUFPO1lBQ3JCQyxTQUFTLElBQUksQ0FBQ0EsT0FBTztZQUNyQnpCLFdBQVczQyxzRUFBbUJBLENBQUMsSUFBSSxDQUFDMkMsU0FBUztZQUM3Q0MsV0FBVzVDLHNFQUFtQkEsQ0FBQyxJQUFJLENBQUM0QyxTQUFTO1FBQy9DO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL215LWFwcC8uL3NyYy9hcGkvZmlyZWJhc2UvdXNlci90eXBlcy50cz9kOWMzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9hcGkvZmlyZWJhc2UvdXNlci90eXBlcy50c1xuaW1wb3J0IHsgY29udmVydEZpcmVzdG9yZVRpbWVzdGFtcCwgZGF0ZVRvVW5peFRpbWVzdGFtcCB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2Zvcm1hdERhdGUnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFVzZXJTZXJ2aWNlIHtcbiAgICB1cGRhdGVVc2VyOiAodXNlcklkOiBzdHJpbmcsIHVzZXI6IFVzZXIpID0+IFByb21pc2U8dm9pZD47XG4gICAgZmV0Y2hVc2VyRnJvbUZpcmVzdG9yZTogKHVzZXJJZDogc3RyaW5nKSA9PiBQcm9taXNlPFVzZXI+O1xuICAgIGZldGNoVXNlcnNXaXRoVmlkZW9zVXBsb2FkZWQ6ICgpID0+IFByb21pc2U8VXNlcltdPjtcbiAgICBjdXJyZW50VXNlcjogVXNlciB8IG51bGw7XG59XG5cbi8vIEFkZCB0byBleGlzdGluZyBpbnRlcmZhY2VzXG5leHBvcnQgaW50ZXJmYWNlIEZvbGxvd1JlcXVlc3Qge1xuICBmcm9tVXNlcjoge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgdXNlcm5hbWU6IHN0cmluZztcbiAgICBkaXNwbGF5TmFtZTogc3RyaW5nO1xuICB9O1xuICB0b1VzZXI6IHtcbiAgICBpZDogc3RyaW5nO1xuICAgIHVzZXJuYW1lOiBzdHJpbmc7XG4gICAgZGlzcGxheU5hbWU6IHN0cmluZztcbiAgfTtcbiAgc3RhdHVzOiBzdHJpbmc7XG4gIGNyZWF0ZWRBdDogRGF0ZTtcbiAgdXBkYXRlZEF0OiBEYXRlXG59XG5cbmV4cG9ydCBjbGFzcyBQcm9maWxlSW1hZ2Uge1xuICBwcm9maWxlSW1hZ2VVUkw6IHN0cmluZztcbiAgaW1hZ2VPZmZzZXRXaWR0aDogbnVtYmVyO1xuICBpbWFnZU9mZnNldEhlaWdodDogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKGRhdGE6IGFueSkge1xuICAgIHRoaXMucHJvZmlsZUltYWdlVVJMID0gZGF0YS5wcm9maWxlSW1hZ2VVUkwgfHwgJyc7XG4gICAgdGhpcy5pbWFnZU9mZnNldFdpZHRoID0gZGF0YS5pbWFnZU9mZnNldFdpZHRoIHx8IDA7XG4gICAgdGhpcy5pbWFnZU9mZnNldEhlaWdodCA9IGRhdGEuaW1hZ2VPZmZzZXRIZWlnaHQgfHwgMDtcbiAgfVxuXG4gIHRvRGljdGlvbmFyeSgpOiB7IFtrZXk6IHN0cmluZ106IGFueSB9IHtcbiAgICByZXR1cm4ge1xuICAgICAgcHJvZmlsZUltYWdlVVJMOiB0aGlzLnByb2ZpbGVJbWFnZVVSTCxcbiAgICAgIGltYWdlT2Zmc2V0V2lkdGg6IHRoaXMuaW1hZ2VPZmZzZXRXaWR0aCxcbiAgICAgIGltYWdlT2Zmc2V0SGVpZ2h0OiB0aGlzLmltYWdlT2Zmc2V0SGVpZ2h0XG4gICAgfTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVXNlciB7XG4gIGlkOiBzdHJpbmc7XG4gIGRpc3BsYXlOYW1lOiBzdHJpbmc7XG4gIGVtYWlsOiBzdHJpbmc7XG4gIHVzZXJuYW1lOiBzdHJpbmc7XG4gIGhvbWVHeW0/OiBHeW07XG4gIGVuY291cmFnZW1lbnQ/OiBFbmNvdXJhZ2VtZW50W107XG4gIGJpcnRoZGF0ZT86IERhdGU7XG4gIGdlbmRlcj86IEdlbmRlcjtcbiAgc2VsZkRpc2Nsb3NlZEdlbmRlcj86IHN0cmluZztcbiAgaGVpZ2h0PzogVXNlckhlaWdodDtcbiAgbG9jYXRpb24/OiBMb2NhdGlvbjtcbiAgYmlvOiBzdHJpbmc7XG4gIGZjbVRva2VuPzogc3RyaW5nO1xuICB3b3Jrb3V0QnVkZHk/OiBzdHJpbmc7XG4gIHdvcmtvdXRCdWRkeVVzZXI/OiBTaG9ydFVzZXI7XG4gIGFkZGl0aW9uYWxHb2Fsczogc3RyaW5nO1xuICBibG9ja2VkVXNlcnM6IHN0cmluZ1tdO1xuICBsZXZlbDogVXNlckxldmVsID0gVXNlckxldmVsLk5vdmljZTtcbiAgZ29hbDogV29ya291dEdvYWxbXTtcbiAgYm9keVdlaWdodDogQm9keVdlaWdodFtdO1xuICBtYWNyb3M6IFJlY29yZDxzdHJpbmcsIE1hY3JvUmVjb21tZW5kYXRpb25zPjtcbiAgcHJvZmlsZUltYWdlOiBQcm9maWxlSW1hZ2U7XG4gIHJlZ2lzdHJhdGlvbkNvbXBsZXRlOiBib29sZWFuO1xuICBjcmVhdG9yPzogQ3JlYXRvcjtcbiAgc3Vic2NyaXB0aW9uVHlwZTogU3Vic2NyaXB0aW9uVHlwZTtcbiAgc3Vic2NyaXB0aW9uUGxhdGZvcm06IFN1YnNjcmlwdGlvblBsYXRmb3JtO1xuICByZWZlcnJlcj86IHN0cmluZztcbiAgaXNDdXJyZW50bHlBY3RpdmU6IGJvb2xlYW47XG4gIHZpZGVvQ291bnQ6IG51bWJlcjtcbiAgY3JlYXRlZEF0OiBEYXRlO1xuICB1cGRhdGVkQXQ6IERhdGU7XG5cbiAgY29uc3RydWN0b3IoZGF0YTogYW55KSB7XG4gICAgdGhpcy5pZCA9IGRhdGEuaWQgfHwgJyc7XG4gICAgdGhpcy5kaXNwbGF5TmFtZSA9IGRhdGEuZGlzcGxheU5hbWUgfHwgJyc7XG4gICAgdGhpcy5lbWFpbCA9IGRhdGEuZW1haWwgfHwgJyc7XG4gICAgdGhpcy51c2VybmFtZSA9IGRhdGEudXNlcm5hbWUgfHwgJyc7XG4gICAgdGhpcy5ob21lR3ltID0gZGF0YS5ob21lR3ltIHx8IG51bGw7XG4gICAgdGhpcy5lbmNvdXJhZ2VtZW50ID0gZGF0YS5lbmNvdXJhZ2VtZW50IHx8IFtdO1xuICAgIHRoaXMuYmlydGhkYXRlID0gY29udmVydEZpcmVzdG9yZVRpbWVzdGFtcChkYXRhLmJpcnRoZGF0ZSkgfHwgbnVsbDtcbiAgICB0aGlzLmdlbmRlciA9IGRhdGEuZ2VuZGVyIHx8IG51bGw7XG4gICAgdGhpcy5zZWxmRGlzY2xvc2VkR2VuZGVyID0gZGF0YS5zZWxmRGlzY2xvc2VkR2VuZGVyIHx8ICcnO1xuICAgIHRoaXMuaGVpZ2h0ID0gZGF0YS5oZWlnaHQgfHwgbnVsbDtcbiAgICB0aGlzLmxvY2F0aW9uID0gZGF0YS5sb2NhdGlvbiB8fCBudWxsO1xuICAgIHRoaXMuYmlvID0gZGF0YS5iaW8gfHwgJyc7XG4gICAgdGhpcy5mY21Ub2tlbiA9IGRhdGEuZmNtVG9rZW4gfHwgJyc7XG4gICAgdGhpcy53b3Jrb3V0QnVkZHkgPSBkYXRhLndvcmtvdXRCdWRkeSB8fCAnJztcbiAgICB0aGlzLndvcmtvdXRCdWRkeVVzZXIgPSBkYXRhLndvcmtvdXRCdWRkeVVzZXIgfHwgbnVsbDtcbiAgICB0aGlzLmFkZGl0aW9uYWxHb2FscyA9IGRhdGEuYWRkaXRpb25hbEdvYWxzIHx8ICcnO1xuICAgIHRoaXMuYmxvY2tlZFVzZXJzID0gZGF0YS5ibG9ja2VkVXNlcnMgfHwgW107XG4gICAgdGhpcy5sZXZlbCA9IGRhdGEubGV2ZWwgfHwgVXNlckxldmVsLk5vdmljZTtcbiAgICB0aGlzLmdvYWwgPSBkYXRhLmdvYWwgfHwgW107XG4gICAgdGhpcy5ib2R5V2VpZ2h0ID0gQXJyYXkuaXNBcnJheShkYXRhLmJvZHlXZWlnaHQpXG4gICAgICA/IGRhdGEuYm9keVdlaWdodC5tYXAoKHdlaWdodDogYW55KSA9PiBuZXcgQm9keVdlaWdodCh3ZWlnaHQpKVxuICAgICAgOiBbXTtcbiAgICB0aGlzLm1hY3JvcyA9IGRhdGEubWFjcm9zIHx8IHt9O1xuICAgIHRoaXMucHJvZmlsZUltYWdlID0gbmV3IFByb2ZpbGVJbWFnZShkYXRhLnByb2ZpbGVJbWFnZSB8fCB7fSk7XG4gICAgdGhpcy5yZWdpc3RyYXRpb25Db21wbGV0ZSA9IGRhdGEucmVnaXN0cmF0aW9uQ29tcGxldGUgfHwgZmFsc2U7XG4gICAgdGhpcy5jcmVhdG9yID0gZGF0YS5jcmVhdG9yIHx8IG51bGw7XG4gICAgdGhpcy5zdWJzY3JpcHRpb25UeXBlID0gZGF0YS5zdWJzY3JpcHRpb25UeXBlIHx8IFN1YnNjcmlwdGlvblR5cGUudW5zdWJzY3JpYmVkO1xuICAgIHRoaXMuc3Vic2NyaXB0aW9uUGxhdGZvcm0gPSBkYXRhLnN1YnNjcmlwdGlvblBsYXRmb3JtIHx8IFN1YnNjcmlwdGlvblBsYXRmb3JtLldlYjtcbiAgICB0aGlzLnJlZmVycmVyID0gZGF0YS5yZWZlcnJlciB8fCAnJztcbiAgICB0aGlzLmlzQ3VycmVudGx5QWN0aXZlID0gZGF0YS5pc0N1cnJlbnRseUFjdGl2ZSB8fCBmYWxzZTtcbiAgICB0aGlzLnZpZGVvQ291bnQgPSBkYXRhLnZpZGVvQ291bnQgfHwgMDtcbiAgICB0aGlzLmNyZWF0ZWRBdCA9IGNvbnZlcnRGaXJlc3RvcmVUaW1lc3RhbXAoZGF0YS5jcmVhdGVkQXQpIHx8IG51bGw7XG4gICAgdGhpcy51cGRhdGVkQXQgPSBjb252ZXJ0RmlyZXN0b3JlVGltZXN0YW1wKGRhdGEudXBkYXRlZEF0KSB8fCBudWxsO1xuICB9XG5cbiAgdG9EaWN0aW9uYXJ5KCk6IFJlY29yZDxzdHJpbmcsIGFueT4ge1xuICAgIGNvbnN0IHVzZXJEaWN0OiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge1xuICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICBkaXNwbGF5TmFtZTogdGhpcy5kaXNwbGF5TmFtZSxcbiAgICAgIGVtYWlsOiB0aGlzLmVtYWlsLFxuICAgICAgdXNlcm5hbWU6IHRoaXMudXNlcm5hbWUsXG4gICAgICBob21lR3ltOiB0aGlzLmhvbWVHeW0sXG4gICAgICBlbmNvdXJhZ2VtZW50OiB0aGlzLmVuY291cmFnZW1lbnQsXG4gICAgICBiaXJ0aGRhdGU6IHRoaXMuYmlydGhkYXRlID8gZGF0ZVRvVW5peFRpbWVzdGFtcCh0aGlzLmJpcnRoZGF0ZSkgOiBudWxsLFxuICAgICAgZ2VuZGVyOiB0aGlzLmdlbmRlcixcbiAgICAgIHNlbGZEaXNjbG9zZWRHZW5kZXI6IHRoaXMuc2VsZkRpc2Nsb3NlZEdlbmRlcixcbiAgICAgIGhlaWdodDogdGhpcy5oZWlnaHQsXG4gICAgICBsb2NhdGlvbjogdGhpcy5sb2NhdGlvbixcbiAgICAgIGJpbzogdGhpcy5iaW8sXG4gICAgICBmY21Ub2tlbjogdGhpcy5mY21Ub2tlbixcbiAgICAgIHdvcmtvdXRCdWRkeTogdGhpcy53b3Jrb3V0QnVkZHksXG4gICAgICB3b3Jrb3V0QnVkZHlVc2VyOiB0aGlzLndvcmtvdXRCdWRkeVVzZXIsXG4gICAgICBhZGRpdGlvbmFsR29hbHM6IHRoaXMuYWRkaXRpb25hbEdvYWxzLFxuICAgICAgYmxvY2tlZFVzZXJzOiB0aGlzLmJsb2NrZWRVc2VycyxcbiAgICAgIGxldmVsOiB0aGlzLmxldmVsLFxuICAgICAgZ29hbDogdGhpcy5nb2FsLFxuICAgICAgYm9keVdlaWdodDogdGhpcy5ib2R5V2VpZ2h0LFxuICAgICAgbWFjcm9zOiB0aGlzLm1hY3JvcyxcbiAgICAgIHByb2ZpbGVJbWFnZTogdGhpcy5wcm9maWxlSW1hZ2UudG9EaWN0aW9uYXJ5KCksXG4gICAgICByZWdpc3RyYXRpb25Db21wbGV0ZTogdGhpcy5yZWdpc3RyYXRpb25Db21wbGV0ZSxcbiAgICAgIGNyZWF0b3I6IHRoaXMuY3JlYXRvcixcbiAgICAgIHN1YnNjcmlwdGlvblR5cGU6IHRoaXMuc3Vic2NyaXB0aW9uVHlwZSxcbiAgICAgIHN1YnNjcmlwdGlvblBsYXRmb3JtOiB0aGlzLnN1YnNjcmlwdGlvblBsYXRmb3JtLFxuICAgICAgcmVmZXJyZXI6IHRoaXMucmVmZXJyZXIsXG4gICAgICBpc0N1cnJlbnRseUFjdGl2ZTogdGhpcy5pc0N1cnJlbnRseUFjdGl2ZSxcbiAgICAgIHZpZGVvQ291bnQ6IHRoaXMudmlkZW9Db3VudCxcbiAgICAgIGNyZWF0ZWRBdDogZGF0ZVRvVW5peFRpbWVzdGFtcCh0aGlzLmNyZWF0ZWRBdCksXG4gICAgICB1cGRhdGVkQXQ6IGRhdGVUb1VuaXhUaW1lc3RhbXAodGhpcy51cGRhdGVkQXQpLFxuICAgIH07XG5cbiAgICByZXR1cm4gdXNlckRpY3Q7XG4gIH1cblxuICB0b1Nob3J0VXNlcigpOiBTaG9ydFVzZXIge1xuICAgIHJldHVybiBuZXcgU2hvcnRVc2VyKHtcbiAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgZGlzcGxheU5hbWU6IHRoaXMuZGlzcGxheU5hbWUsXG4gICAgICBlbWFpbDogdGhpcy5lbWFpbCwgXG4gICAgICBmY21Ub2tlbjogdGhpcy5mY21Ub2tlbixcbiAgICAgIHVzZXJuYW1lOiB0aGlzLnVzZXJuYW1lLFxuICAgICAgbGV2ZWw6IHRoaXMubGV2ZWwsXG4gICAgICB2aWRlb0NvdW50OiB0aGlzLnZpZGVvQ291bnQsXG4gICAgICBwcm9maWxlSW1hZ2U6IHRoaXMucHJvZmlsZUltYWdlXG4gICAgfSlcbiAgIH1cbn1cbiBcbiBleHBvcnQgaW50ZXJmYWNlIE1hY3JvUmVjb21tZW5kYXRpb25zIHtcbiAgIGNhbG9yaWVzOiBudW1iZXI7XG4gICBwcm90ZWluOiBudW1iZXI7XG4gICBjYXJiczogbnVtYmVyO1xuICAgZmF0OiBudW1iZXI7XG4gfVxuIFxuIGV4cG9ydCBlbnVtIFN1YnNjcmlwdGlvblR5cGUge1xuICAgdW5zdWJzY3JpYmVkID0gXCJVbnN1YnNjcmliZWRcIixcbiAgIGJldGEgPSBcIkJldGEgVXNlclwiLFxuICAgbW9udGhseSA9IFwiTW9udGhseSBTdWJzY3JpYmVyXCIsXG4gICBhbm51YWwgPSBcIkFubnVhbCBTdWJzY3JpYmVyXCIsXG4gICBzd2VhdEVxdWl0eVBhcnRuZXIgPSBcIlN3ZWF0IEVxdWl0eSBQYXJ0bmVyXCIsXG4gICBleGVjdXRpdmVQYXJ0bmVyID0gXCJFeGVjdXRpdmUgUGFydG5lclwiLFxuIH1cbiBcbiBleHBvcnQgZW51bSBVc2VyTGV2ZWwge1xuICAgTm92aWNlID0gXCJub3ZpY2VcIixcbiAgIEludGVybWVkaWF0ZSA9IFwiaW50ZXJtZWRpYXRlXCIsXG4gICBFeHBlcnQgPSBcImV4cGVydFwiLFxuIH1cbiBcbiBleHBvcnQgZW51bSBXb3Jrb3V0R29hbCB7XG4gICBMb3NlV2VpZ2h0ID0gXCJMb3NlIHdlaWdodFwiLFxuICAgR2FpbldlaWdodCA9IFwiR2FpbiBtdXNjbGUgbWFzc1wiLFxuICAgVG9uZVVwID0gXCJUb25lIHVwXCIsXG4gICBHZW5lcmFsRml0bmVzcyA9IFwiR2VuZXJhbCBGaXRuZXNzXCIsXG4gfVxuIFxuIGV4cG9ydCBpbnRlcmZhY2UgVXNlckhlaWdodCB7XG4gICBmZWV0OiBudW1iZXI7XG4gICBpbmNoZXM6IG51bWJlcjtcbiB9XG4gXG4gZXhwb3J0IGNsYXNzIFNob3J0VXNlciB7XG4gIGlkOiBzdHJpbmc7XG4gIGRpc3BsYXlOYW1lOiBzdHJpbmc7XG4gIGVtYWlsOiBzdHJpbmc7XG4gIGZjbVRva2VuPzogc3RyaW5nIHwgbnVsbDtcbiAgdXNlcm5hbWU6IHN0cmluZztcbiAgbGV2ZWw6IFVzZXJMZXZlbDtcbiAgdmlkZW9Db3VudDogbnVtYmVyO1xuICBwcm9maWxlSW1hZ2U6IFByb2ZpbGVJbWFnZTtcblxuICBjb25zdHJ1Y3RvcihkYXRhOiBhbnkpIHtcbiAgICB0aGlzLmlkID0gZGF0YS5pZCB8fCAnJztcbiAgICB0aGlzLmRpc3BsYXlOYW1lID0gZGF0YS5kaXNwbGF5TmFtZSB8fCAnJztcbiAgICB0aGlzLmVtYWlsID0gZGF0YS5lbWFpbCB8fCAnJztcbiAgICB0aGlzLmZjbVRva2VuID0gZGF0YS5mY21Ub2tlbiB8fCBudWxsO1xuICAgIHRoaXMudXNlcm5hbWUgPSBkYXRhLnVzZXJuYW1lIHx8ICcnO1xuICAgIHRoaXMubGV2ZWwgPSBkYXRhLmxldmVsIHx8IFVzZXJMZXZlbC5Ob3ZpY2U7XG4gICAgdGhpcy52aWRlb0NvdW50ID0gZGF0YS52aWRlb0NvdW50IHx8IDA7XG4gICAgdGhpcy5wcm9maWxlSW1hZ2UgPSBkYXRhLnByb2ZpbGVJbWFnZSA/IG5ldyBQcm9maWxlSW1hZ2UoZGF0YS5wcm9maWxlSW1hZ2UpIDogbmV3IFByb2ZpbGVJbWFnZSh7fSk7XG4gIH1cblxuICAvLyBTdGF0aWMgZmFjdG9yeSBtZXRob2QgdG8gY3JlYXRlIGZyb20gRmlyZXN0b3JlIGRhdGFcbiAgc3RhdGljIGZyb21GaXJlc3RvcmUoZGF0YTogYW55KTogU2hvcnRVc2VyIHtcbiAgICByZXR1cm4gbmV3IFNob3J0VXNlcihkYXRhKTtcbiAgfVxuXG4gIC8vIENvbnZlcnQgdG8gZGljdGlvbmFyeSBmb3IgRmlyZXN0b3JlXG4gIHRvRGljdGlvbmFyeSgpOiB7IFtrZXk6IHN0cmluZ106IGFueSB9IHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICBkaXNwbGF5TmFtZTogdGhpcy5kaXNwbGF5TmFtZSxcbiAgICAgIGVtYWlsOiB0aGlzLmVtYWlsLFxuICAgICAgZmNtVG9rZW46IHRoaXMuZmNtVG9rZW4sXG4gICAgICB1c2VybmFtZTogdGhpcy51c2VybmFtZSxcbiAgICAgIGxldmVsOiB0aGlzLmxldmVsLFxuICAgICAgdmlkZW9Db3VudDogdGhpcy52aWRlb0NvdW50LFxuICAgICAgcHJvZmlsZUltYWdlOiB0aGlzLnByb2ZpbGVJbWFnZS50b0RpY3Rpb25hcnkoKVxuICAgIH07XG4gIH1cblxuICAvLyBIZWxwZXIgbWV0aG9kIHRvIGNyZWF0ZSBmcm9tIFVzZXIgb2JqZWN0XG4gIHN0YXRpYyBmcm9tVXNlcih1c2VyOiBVc2VyKTogU2hvcnRVc2VyIHtcbiAgICByZXR1cm4gbmV3IFNob3J0VXNlcih7XG4gICAgICBpZDogdXNlci5pZCxcbiAgICAgIGRpc3BsYXlOYW1lOiB1c2VyLmRpc3BsYXlOYW1lLFxuICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICBmY21Ub2tlbjogdXNlci5mY21Ub2tlbixcbiAgICAgIHVzZXJuYW1lOiB1c2VyLnVzZXJuYW1lLFxuICAgICAgbGV2ZWw6IHVzZXIubGV2ZWwsXG4gICAgICB2aWRlb0NvdW50OiB1c2VyLnZpZGVvQ291bnQsXG4gICAgICBwcm9maWxlSW1hZ2U6IHVzZXIucHJvZmlsZUltYWdlXG4gICAgfSk7XG4gIH1cbn1cbiBcbiBleHBvcnQgZW51bSBHZW5kZXIge1xuICAgV29tYW4gPSBcIndvbWFuXCIsXG4gICBNYW4gPSBcIm1hblwiLFxuICAgU2VsZkRlc2NyaWJlID0gXCJJJ2QgcmF0aGVyIHNlbGYgZGVzY3JpYmVcIixcbiB9XG4gXG4gZXhwb3J0IGludGVyZmFjZSBFbmNvdXJhZ2VtZW50IHtcbiAgIGZyb21Vc2VyOiBTaG9ydFVzZXI7XG4gICB0b1VzZXI6IFNob3J0VXNlcjtcbiAgIGNyZWF0ZWRBdDogRGF0ZTtcbiB9XG4gXG4gXG4gZXhwb3J0IGludGVyZmFjZSBHeW0ge1xuICAgaWQ6IHN0cmluZztcbiAgIG5hbWU6IHN0cmluZztcbiAgIGFkZHJlc3M6IHN0cmluZztcbiAgIGxvY2F0aW9uOiB7IGxhdGl0dWRlOiBudW1iZXI7IGxvbmdpdHVkZTogbnVtYmVyIH07XG4gfVxuIFxuIGV4cG9ydCBlbnVtIFN1YnNjcmlwdGlvblBsYXRmb3JtIHtcbiAgIGlPUyA9IFwiaW9zXCIsXG4gICBXZWIgPSBcIndlYlwiLFxuICAgQW5kcm9pZCA9IFwiYW5kcm9pZFwiLFxuIH1cbiBcbiBleHBvcnQgaW50ZXJmYWNlIENyZWF0b3Ige1xuICAgaWQ6IHN0cmluZztcbiAgIGluc3RhZ3JhbUhhbmRsZT86IHN0cmluZztcbiAgIHR3aXR0ZXJIYW5kbGU/OiBzdHJpbmc7XG4gICB5b3V0dWJlVXJsPzogc3RyaW5nO1xuICAgdHlwZT86IENvbnRlbnRDcmVhdG9yVHlwZVtdO1xuICAgd2h5PzogRml0bmVzc0NyZWF0b3JXaHlbXTtcbiAgIG9uYm9hcmRpbmdQYXlvdXRTdGF0ZT86IE9uYm9hcmRpbmdQYXlvdXRTdGF0ZTtcbiAgIG9uYm9hcmRpbmdTdGF0dXM/OiBPbmJvYXJkaW5nU3RhdHVzO1xuICAgaXNUcmFpbmVyPzogYm9vbGVhbjtcbiAgIGRpZ2l0YWxTaWduYXR1cmVzPzogc3RyaW5nW107XG4gICBhZGRpdGlvbmFsRmVlZGJhY2s/OiBzdHJpbmc7XG4gICBhY2NlcHRHZW5lcmFsVGVybXM/OiBib29sZWFuO1xuICAgYWNjZXB0U3dlYXRFcXVpdHlQYXJ0bmVyc2hpcD86IGJvb2xlYW47XG4gICBhY2NlcHRDb2RlT2ZDb25kdWN0PzogYm9vbGVhbjtcbiAgIGFjY2VwdEV4ZWN1dGl2ZVRlcm1zPzogYm9vbGVhbjtcbiAgIGNyZWF0ZWRBdD86IERhdGU7XG4gICB1cGRhdGVkQXQ/OiBEYXRlO1xuIH1cbiBcbiBleHBvcnQgZW51bSBDb250ZW50Q3JlYXRvclR5cGUge1xuICAgUGVyc29uYWxUcmFpbmVyID0gXCJwZXJzb25hbF90cmFpbmVyXCIsXG4gICBGaXRuZXNzRW50aHVzaWFzdCA9IFwiZml0bmVzc19lbnRodXNpYXN0XCIsXG5cbiB9XG4gXG4gZXhwb3J0IGVudW0gRml0bmVzc0NyZWF0b3JXaHkge1xuICAgSW5zcGlyZU90aGVycyA9IFwiaW5zcGlyZV9vdGhlcnNcIixcbiAgIEJ1aWxkQ29tbXVuaXR5ID0gXCJidWlsZF9jb21tdW5pdHlcIixcbiB9XG4gXG4gZXhwb3J0IGVudW0gT25ib2FyZGluZ1BheW91dFN0YXRlIHtcbiAgIEludHJvZHVjdGlvbiA9IFwiaW50cm9kdWN0aW9uXCIsXG4gICBJblByb2dyZXNzID0gXCJpbl9wcm9ncmVzc1wiLFxuICAgQ29tcGxldGUgPSBcImNvbXBsZXRlXCIsXG4gfVxuIFxuIGV4cG9ydCBlbnVtIE9uYm9hcmRpbmdTdGF0dXMge1xuICAgTm90U3RhcnRlZCA9IFwibm90X3N0YXJ0ZWRcIixcbiAgIEluUHJvZ3Jlc3MgPSBcImluX3Byb2dyZXNzXCIsXG4gICBDb21wbGV0ZWQgPSBcImNvbXBsZXRlZFwiLFxuIH1cblxuIGV4cG9ydCBjbGFzcyBCb2R5V2VpZ2h0IHtcbiAgICBpZDogc3RyaW5nO1xuICAgIG9sZFdlaWdodDogbnVtYmVyO1xuICAgIG5ld1dlaWdodDogbnVtYmVyO1xuICAgIGZyb250VXJsPzogc3RyaW5nO1xuICAgIGJhY2tVcmw/OiBzdHJpbmc7XG4gICAgc2lkZVVybD86IHN0cmluZztcbiAgICBjcmVhdGVkQXQ6IERhdGU7XG4gICAgdXBkYXRlZEF0OiBEYXRlO1xuICBcbiAgICBjb25zdHJ1Y3RvcihkYXRhOiBQYXJ0aWFsPEJvZHlXZWlnaHQ+KSB7XG4gICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpIC8gMTAwMDtcbiAgICAgIHRoaXMuaWQgPSBkYXRhLmlkIHx8IGNyeXB0by5yYW5kb21VVUlEKCk7XG4gICAgICB0aGlzLm9sZFdlaWdodCA9IGRhdGEub2xkV2VpZ2h0IHx8IDA7XG4gICAgICB0aGlzLm5ld1dlaWdodCA9IGRhdGEubmV3V2VpZ2h0IHx8IDA7XG4gICAgICB0aGlzLmZyb250VXJsID0gZGF0YS5mcm9udFVybCB8fCBcIlwiO1xuICAgICAgdGhpcy5iYWNrVXJsID0gZGF0YS5iYWNrVXJsIHx8IFwiXCI7XG4gICAgICB0aGlzLnNpZGVVcmwgPSBkYXRhLnNpZGVVcmwgfHwgXCJcIjtcbiAgICAgIHRoaXMuY3JlYXRlZEF0ID0gY29udmVydEZpcmVzdG9yZVRpbWVzdGFtcChkYXRhLmNyZWF0ZWRBdCk7XG4gICAgICB0aGlzLnVwZGF0ZWRBdCA9IGNvbnZlcnRGaXJlc3RvcmVUaW1lc3RhbXAoZGF0YS51cGRhdGVkQXQpO1xuICAgIH1cbiAgXG4gICAgdG9EaWN0aW9uYXJ5KCk6IFJlY29yZDxzdHJpbmcsIGFueT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgb2xkV2VpZ2h0OiB0aGlzLm9sZFdlaWdodCxcbiAgICAgICAgbmV3V2VpZ2h0OiB0aGlzLm5ld1dlaWdodCxcbiAgICAgICAgZnJvbnRVcmw6IHRoaXMuZnJvbnRVcmwsXG4gICAgICAgIGJhY2tVcmw6IHRoaXMuYmFja1VybCxcbiAgICAgICAgc2lkZVVybDogdGhpcy5zaWRlVXJsLFxuICAgICAgICBjcmVhdGVkQXQ6IGRhdGVUb1VuaXhUaW1lc3RhbXAodGhpcy5jcmVhdGVkQXQpLFxuICAgICAgICB1cGRhdGVkQXQ6IGRhdGVUb1VuaXhUaW1lc3RhbXAodGhpcy51cGRhdGVkQXQpXG4gICAgICB9O1xuICAgIH1cbiAgfSJdLCJuYW1lcyI6WyJjb252ZXJ0RmlyZXN0b3JlVGltZXN0YW1wIiwiZGF0ZVRvVW5peFRpbWVzdGFtcCIsIlByb2ZpbGVJbWFnZSIsImNvbnN0cnVjdG9yIiwiZGF0YSIsInByb2ZpbGVJbWFnZVVSTCIsImltYWdlT2Zmc2V0V2lkdGgiLCJpbWFnZU9mZnNldEhlaWdodCIsInRvRGljdGlvbmFyeSIsIlVzZXIiLCJsZXZlbCIsImlkIiwiZGlzcGxheU5hbWUiLCJlbWFpbCIsInVzZXJuYW1lIiwiaG9tZUd5bSIsImVuY291cmFnZW1lbnQiLCJiaXJ0aGRhdGUiLCJnZW5kZXIiLCJzZWxmRGlzY2xvc2VkR2VuZGVyIiwiaGVpZ2h0IiwibG9jYXRpb24iLCJiaW8iLCJmY21Ub2tlbiIsIndvcmtvdXRCdWRkeSIsIndvcmtvdXRCdWRkeVVzZXIiLCJhZGRpdGlvbmFsR29hbHMiLCJibG9ja2VkVXNlcnMiLCJnb2FsIiwiYm9keVdlaWdodCIsIkFycmF5IiwiaXNBcnJheSIsIm1hcCIsIndlaWdodCIsIkJvZHlXZWlnaHQiLCJtYWNyb3MiLCJwcm9maWxlSW1hZ2UiLCJyZWdpc3RyYXRpb25Db21wbGV0ZSIsImNyZWF0b3IiLCJzdWJzY3JpcHRpb25UeXBlIiwic3Vic2NyaXB0aW9uUGxhdGZvcm0iLCJyZWZlcnJlciIsImlzQ3VycmVudGx5QWN0aXZlIiwidmlkZW9Db3VudCIsImNyZWF0ZWRBdCIsInVwZGF0ZWRBdCIsInVzZXJEaWN0IiwidG9TaG9ydFVzZXIiLCJTaG9ydFVzZXIiLCJTdWJzY3JpcHRpb25UeXBlIiwiVXNlckxldmVsIiwiV29ya291dEdvYWwiLCJmcm9tRmlyZXN0b3JlIiwiZnJvbVVzZXIiLCJ1c2VyIiwiR2VuZGVyIiwiU3Vic2NyaXB0aW9uUGxhdGZvcm0iLCJDb250ZW50Q3JlYXRvclR5cGUiLCJGaXRuZXNzQ3JlYXRvcldoeSIsIk9uYm9hcmRpbmdQYXlvdXRTdGF0ZSIsIk9uYm9hcmRpbmdTdGF0dXMiLCJub3ciLCJEYXRlIiwiY3J5cHRvIiwicmFuZG9tVVVJRCIsIm9sZFdlaWdodCIsIm5ld1dlaWdodCIsImZyb250VXJsIiwiYmFja1VybCIsInNpZGVVcmwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/api/firebase/user/types.ts\n");

/***/ }),

/***/ "./src/api/firebase/workout/index.ts":
/*!*******************************************!*\
  !*** ./src/api/firebase/workout/index.ts ***!
  \*******************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   workoutService: () => (/* reexport safe */ _service__WEBPACK_IMPORTED_MODULE_0__.workoutService)\n/* harmony export */ });\n/* harmony import */ var _service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./service */ \"./src/api/firebase/workout/service.ts\");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./types */ \"./src/api/firebase/workout/types.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_service__WEBPACK_IMPORTED_MODULE_0__, _types__WEBPACK_IMPORTED_MODULE_1__]);\n([_service__WEBPACK_IMPORTED_MODULE_0__, _types__WEBPACK_IMPORTED_MODULE_1__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _types__WEBPACK_IMPORTED_MODULE_1__) if([\"default\",\"workoutService\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _types__WEBPACK_IMPORTED_MODULE_1__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n// src/api/firebase/workout/index.ts\n\n// If you want to export the singleton instance\n// Or if you want to export the class (if you prefer constructing a new instance):\n// export { WorkoutService } from './WorkoutService';\n // Re-export all the domain types from `types.ts`\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYXBpL2ZpcmViYXNlL3dvcmtvdXQvaW5kZXgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQUEsb0NBQW9DO0FBRU87QUFDM0MsK0NBQStDO0FBRS9DLGtGQUFrRjtBQUNsRixxREFBcUQ7QUFFN0IsQ0FDeEIsaURBQWlEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktYXBwLy4vc3JjL2FwaS9maXJlYmFzZS93b3Jrb3V0L2luZGV4LnRzP2Q2NmUiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2FwaS9maXJlYmFzZS93b3Jrb3V0L2luZGV4LnRzXG5cbmV4cG9ydCB7IHdvcmtvdXRTZXJ2aWNlIH0gZnJvbSAnLi9zZXJ2aWNlJzsgXG4vLyBJZiB5b3Ugd2FudCB0byBleHBvcnQgdGhlIHNpbmdsZXRvbiBpbnN0YW5jZVxuXG4vLyBPciBpZiB5b3Ugd2FudCB0byBleHBvcnQgdGhlIGNsYXNzIChpZiB5b3UgcHJlZmVyIGNvbnN0cnVjdGluZyBhIG5ldyBpbnN0YW5jZSk6XG4vLyBleHBvcnQgeyBXb3Jrb3V0U2VydmljZSB9IGZyb20gJy4vV29ya291dFNlcnZpY2UnO1xuXG5leHBvcnQgKiBmcm9tICcuL3R5cGVzJzsgXG4vLyBSZS1leHBvcnQgYWxsIHRoZSBkb21haW4gdHlwZXMgZnJvbSBgdHlwZXMudHNgIl0sIm5hbWVzIjpbIndvcmtvdXRTZXJ2aWNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/api/firebase/workout/index.ts\n");

/***/ }),

/***/ "./src/api/firebase/workout/service.ts":
/*!*********************************************!*\
  !*** ./src/api/firebase/workout/service.ts ***!
  \*********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   workoutService: () => (/* binding */ workoutService)\n/* harmony export */ });\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/firestore */ \"firebase/firestore\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config */ \"./src/api/firebase/config.ts\");\n/* harmony import */ var _user__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../user */ \"./src/api/firebase/user/index.ts\");\n/* harmony import */ var _exercise_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../exercise/types */ \"./src/api/firebase/exercise/types.ts\");\n/* harmony import */ var _exercise_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../exercise/service */ \"./src/api/firebase/exercise/service.ts\");\n/* harmony import */ var _user_types__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../user/types */ \"./src/api/firebase/user/types.ts\");\n/* harmony import */ var _workout_types__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../api/firebase/workout/types */ \"./src/api/firebase/workout/types.ts\");\n/* harmony import */ var _barrel_optimize_names_format_date_fns__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=format!=!date-fns */ \"__barrel_optimize__?names=format!=!./node_modules/date-fns/index.js\");\n/* harmony import */ var _utils_timestamp__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../utils/timestamp */ \"./src/utils/timestamp.ts\");\n/* harmony import */ var _utils_formatDate__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../utils/formatDate */ \"./src/utils/formatDate.ts\");\n/* harmony import */ var _redux_store__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../redux/store */ \"./src/redux/store.ts\");\n/* harmony import */ var _redux_workoutSlice__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../redux/workoutSlice */ \"./src/redux/workoutSlice.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([firebase_firestore__WEBPACK_IMPORTED_MODULE_0__, _config__WEBPACK_IMPORTED_MODULE_1__, _user__WEBPACK_IMPORTED_MODULE_2__, _exercise_types__WEBPACK_IMPORTED_MODULE_3__, _exercise_service__WEBPACK_IMPORTED_MODULE_4__, _workout_types__WEBPACK_IMPORTED_MODULE_6__, _redux_store__WEBPACK_IMPORTED_MODULE_9__, _redux_workoutSlice__WEBPACK_IMPORTED_MODULE_10__]);\n([firebase_firestore__WEBPACK_IMPORTED_MODULE_0__, _config__WEBPACK_IMPORTED_MODULE_1__, _user__WEBPACK_IMPORTED_MODULE_2__, _exercise_types__WEBPACK_IMPORTED_MODULE_3__, _exercise_service__WEBPACK_IMPORTED_MODULE_4__, _workout_types__WEBPACK_IMPORTED_MODULE_6__, _redux_store__WEBPACK_IMPORTED_MODULE_9__, _redux_workoutSlice__WEBPACK_IMPORTED_MODULE_10__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n// src/api/firebase/workout/service.ts\n\n\n\n\n\n\n\n\n\n // Adjust the import path\n\n\n\n\nclass WorkoutService {\n    // Replace getters/setters to use Redux\n    get currentWorkout() {\n        return _redux_store__WEBPACK_IMPORTED_MODULE_9__.store.getState().workout.currentWorkout;\n    }\n    set currentWorkout(workout) {\n        _redux_store__WEBPACK_IMPORTED_MODULE_9__.store.dispatch((0,_redux_workoutSlice__WEBPACK_IMPORTED_MODULE_10__.setCurrentWorkout)(workout));\n    }\n    get currentWorkoutLogs() {\n        return _redux_store__WEBPACK_IMPORTED_MODULE_9__.store.getState().workout.currentExerciseLogs;\n    }\n    set currentWorkoutLogs(logs) {\n        _redux_store__WEBPACK_IMPORTED_MODULE_9__.store.dispatch((0,_redux_workoutSlice__WEBPACK_IMPORTED_MODULE_10__.setCurrentExerciseLogs)(logs));\n    }\n    get currentWorkoutSummary() {\n        return _redux_store__WEBPACK_IMPORTED_MODULE_9__.store.getState().workout.workoutSummary;\n    }\n    set currentWorkoutSummary(workoutSummary) {\n        _redux_store__WEBPACK_IMPORTED_MODULE_9__.store.dispatch((0,_redux_workoutSlice__WEBPACK_IMPORTED_MODULE_10__.setWorkoutSummary)(workoutSummary));\n    }\n    generateId() {\n        return (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"workouts\")).id;\n    }\n    async fetchWorkoutSummary(userId, workoutId, summaryId) {\n        try {\n            console.log(\"Fetching workout summary:\", {\n                userId,\n                workoutId,\n                summaryId\n            });\n            // Assuming summaries are stored in a 'workoutSummaries' collection\n            const summaryRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", userId, \"workoutSummary\", summaryId);\n            const summaryDoc = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(summaryRef);\n            if (!summaryDoc.exists()) {\n                console.log(\"Summary document not found\");\n                return null;\n            }\n            const summaryData = summaryDoc.data();\n            console.log(\"Found summary data:\", summaryData);\n            return new _workout_types__WEBPACK_IMPORTED_MODULE_6__.WorkoutSummary(summaryData);\n        } catch (error) {\n            console.error(\"Error fetching workout summary:\", error);\n            return null;\n        }\n    }\n    // Update the formatWorkoutAndInitializeLogs function\n    async formatWorkoutAndInitializeLogs(exerciseDetails, workoutAuthor) {\n        const workId = this.generateId(); // Use this.generateId() since it's a class method\n        const exerciseReferences = [];\n        const exerciseLogs = [];\n        // Ensure exercise details are valid before processing\n        const validExerciseDetails = exerciseDetails.filter((detail)=>detail?.exercise && detail.exercise.id);\n        validExerciseDetails.forEach((detail, index)=>{\n            if (detail.exercise.id == null) {\n                return;\n            }\n            // Create the category first\n            const category = {\n                type: detail.category?.type === \"weight-training\" ? \"weight-training\" : \"cardio\",\n                details: detail.category?.type === \"weight-training\" ? {\n                    sets: detail.category?.details?.sets ?? 3,\n                    reps: detail.category?.details?.reps ?? [\n                        \"12\"\n                    ],\n                    weight: detail.category?.details?.weight ?? 0,\n                    screenTime: detail.category?.details?.screenTime ?? 0,\n                    selectedVideo: detail.category?.details?.selectedVideo ?? null\n                } : {\n                    duration: detail.category?.details?.duration ?? 60,\n                    bpm: detail.category?.details?.bpm ?? 140,\n                    calories: detail.category?.details?.calories ?? 0,\n                    screenTime: detail.category?.details?.screenTime ?? 0,\n                    selectedVideo: detail.category?.details?.selectedVideo ?? null\n                }\n            };\n            console.log(\"Category being used:\", category); // Debug log\n            // Create exercise instance with our new category\n            const exerciseInstance = new _exercise_types__WEBPACK_IMPORTED_MODULE_3__.Exercise({\n                ...detail.exercise,\n                id: detail.exercise.id || workoutService.generateId(),\n                name: detail.exercise.name || \"\",\n                author: detail.exercise.author || {\n                    userId: workoutAuthor || _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser?.id,\n                    username: workoutAuthor || _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser?.username\n                },\n                description: detail.exercise.description || \"\",\n                category: category,\n                primaryBodyParts: detail.exercise.primaryBodyParts || [],\n                secondaryBodyParts: detail.exercise.secondaryBodyParts || [],\n                tags: detail.exercise.tags || [],\n                videos: detail.exercise.videos || [],\n                createdAt: detail.exercise.createdAt || new Date(),\n                updatedAt: detail.exercise.updatedAt || new Date()\n            });\n            // Create exercise reference\n            const exerciseRef = {\n                exercise: exerciseInstance,\n                groupId: detail.groupId || 0\n            };\n            exerciseReferences.push(exerciseRef);\n            // Create logs using the same category details\n            const sets = category.details?.sets ?? 3;\n            const reps = category.details?.reps ?? [\n                \"12\"\n            ];\n            const weight = category.details?.weight ?? 0;\n            // Create logs for each set with validated data\n            const setsLogs = Array.from({\n                length: sets\n            }, ()=>new _workout_types__WEBPACK_IMPORTED_MODULE_6__.RepsAndWeightLog({\n                    reps: parseInt(reps[0] || \"12\", 10),\n                    weight: weight || 0\n                }));\n            // Create exercise log with validated data\n            const exerciseLogId = _exercise_service__WEBPACK_IMPORTED_MODULE_4__.exerciseService.generateExerciseLogID(workId, _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser?.id || \"anonymous\");\n            const log = new _exercise_types__WEBPACK_IMPORTED_MODULE_3__.ExerciseLog({\n                id: exerciseLogId,\n                workoutId: workId,\n                userId: _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser?.id || \"anonymous\",\n                exercise: exerciseInstance,\n                logs: setsLogs,\n                feedback: \"\",\n                note: detail.notes || \"\",\n                isSplit: detail.isSplit || false,\n                logSubmitted: false,\n                logIsEditing: false,\n                isCompleted: false,\n                order: index + 1,\n                createdAt: new Date(),\n                updatedAt: new Date(),\n                completedAt: new Date()\n            });\n            exerciseLogs.push(log);\n        });\n        // Create workout with validated data\n        const newWorkout = new _workout_types__WEBPACK_IMPORTED_MODULE_6__.Workout({\n            id: workId,\n            roundWorkoutId: \"\",\n            exercises: exerciseReferences,\n            logs: exerciseLogs,\n            title: \"\",\n            description: \"\",\n            duration: 0,\n            workoutRating: \"none\",\n            useAuthorContent: false,\n            isCompleted: false,\n            workoutStatus: \"archived\",\n            author: _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser?.id || \"PulseAI\",\n            createdAt: new Date(),\n            updatedAt: new Date(),\n            zone: _workout_types__WEBPACK_IMPORTED_MODULE_6__.Workout.determineWorkoutZone(exerciseReferences) || \"full\"\n        });\n        return {\n            workout: newWorkout,\n            exerciseLogs\n        };\n    }\n    async getUserById(userId) {\n        try {\n            const userDoc = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", userId));\n            if (!userDoc.exists()) {\n                throw new Error(\"User not found\");\n            }\n            return new _user_types__WEBPACK_IMPORTED_MODULE_5__.User({\n                id: userDoc.id,\n                ...userDoc.data()\n            });\n        } catch (error) {\n            console.error(\"Error getting user by ID:\", error);\n            throw error;\n        }\n    }\n    // In WorkoutService\n    async revertAuthorFormat(workoutId, authorId) {\n        if (!_user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser?.id) throw new Error(\"No user signed in\");\n        const workoutRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser.id, \"MyCreatedWorkouts\", workoutId);\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.updateDoc)(workoutRef, {\n            author: authorId\n        });\n    }\n    async updateWorkout(workout) {\n        if (!_user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser?.id) {\n            throw new Error(\"No user is signed in\");\n        }\n        try {\n            const workoutRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser.id, \"MyCreatedWorkouts\", workout.id);\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)(workoutRef, workout.toDictionary(), {\n                merge: true\n            });\n            // Update logs if they exist\n            if (workout.logs && workout.logs.length > 0) {\n                const batch = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.writeBatch)(_config__WEBPACK_IMPORTED_MODULE_1__.db);\n                const logsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(workoutRef, \"logs\");\n                workout.logs.forEach((log)=>{\n                    const logRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(logsRef, log.id);\n                    batch.set(logRef, log.toDictionary(), {\n                        merge: true\n                    });\n                });\n                await batch.commit();\n            }\n        } catch (error) {\n            console.error(\"Error updating workout:\", error);\n            throw error;\n        }\n    }\n    /**\n   * Fetch the user's current workout (either QueuedUp or InProgress).\n   */ async fetchCurrentWorkout(userId) {\n        const session = await this.fetchCurrentWorkoutSession(userId);\n        return session.workout;\n    }\n    async getAllSweatlists(userId) {\n        if (!userId) {\n            throw new Error(\"User ID is required\");\n        }\n        // Reference to the user's workout collection\n        const workoutsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", userId, \"MyCreatedWorkouts\");\n        try {\n            // Fetch exercises with videos\n            const exercisesWithVideos = await this.fetchAndMapExercisesWithVideos();\n            // Query to fetch all workouts\n            const workoutsSnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(workoutsRef);\n            const workouts = [];\n            // Process each workout document\n            for (const workoutDoc of workoutsSnapshot.docs){\n                const workoutData = workoutDoc.data();\n                const workoutId = workoutDoc.id;\n                // Map the exercises in the workout to the full exercise objects with videos\n                const mappedExercises = (workoutData.exercises || []).map((exerciseRef)=>{\n                    const fullExercise = exercisesWithVideos.find((ex)=>ex.name === exerciseRef.exercise.name);\n                    console.log(\"This is the mapped exercise: \" + fullExercise);\n                    return {\n                        ...exerciseRef,\n                        exercise: fullExercise || exerciseRef\n                    };\n                });\n                // Parse workout data into the desired structure\n                const workout = new _workout_types__WEBPACK_IMPORTED_MODULE_6__.Workout({\n                    id: workoutData.id || \"\",\n                    roundWorkoutId: workoutData.roundWorkoutId || \"\",\n                    collectionId: workoutData.collectionId,\n                    exercises: mappedExercises,\n                    challenge: workoutData.challenge,\n                    logs: [],\n                    title: workoutData.title || \"\",\n                    description: workoutData.description || \"\",\n                    duration: workoutData.duration || 0,\n                    workoutRating: workoutData.workoutRating,\n                    useAuthorContent: workoutData.useAuthorContent || false,\n                    isCompleted: workoutData.isCompleted || false,\n                    workoutStatus: workoutData.workoutStatus || \"notStarted\",\n                    startTime: workoutData.startTime ? new Date(workoutData.startTime) : undefined,\n                    order: workoutData.order,\n                    author: workoutData.author || userId,\n                    createdAt: workoutData.createdAt ? new Date(workoutData.createdAt) : new Date(),\n                    updatedAt: workoutData.updatedAt ? new Date(workoutData.updatedAt) : new Date(),\n                    zone: workoutData.zone || \"FULL_BODY\"\n                });\n                // Fetch and process logs\n                const logsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", userId, \"MyCreatedWorkouts\", workoutId, \"logs\");\n                const logsSnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(logsRef);\n                workout.logs = logsSnapshot.docs.map((logDoc)=>({\n                        ...logDoc.data(),\n                        id: logDoc.id\n                    }));\n                workouts.push(workout);\n            }\n            return workouts;\n        } catch (error) {\n            const firestoreError = error;\n            console.error(\"Error fetching sweatlists:\", firestoreError.message);\n            throw new Error(\"Failed to fetch sweatlists\");\n        }\n    }\n    async getUserChallengesByChallengeId(challengeId) {\n        const userChallengesRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"user-challenge\");\n        const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(userChallengesRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"challengeId\", \"==\", challengeId));\n        try {\n            const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n            const userChallenges = snapshot.docs.map((doc)=>{\n                const data = doc.data();\n                return new _workout_types__WEBPACK_IMPORTED_MODULE_6__.UserChallenge(data);\n            });\n            if (userChallenges.length > 0) {\n                return {\n                    userChallenges\n                };\n            } else {\n                return {\n                    userChallenges: [],\n                    error: \"No user challenges found for this challenge.\"\n                };\n            }\n        } catch (error) {\n            console.error(\"Error fetching user challenges by challengeId:\", error);\n            return {\n                userChallenges: [],\n                error: error instanceof Error ? error.message : \"Unknown error\"\n            };\n        }\n    }\n    /**\n   * Fetches workout summaries for a specific date.\n   * @param date - The date for which workout summaries are being fetched.\n   * @returns A promise resolving to an array of workout summaries.\n   * @throws If no user is signed in or if the Firestore query fails.\n   */ async fetchWorkoutSummaries(date) {\n        const currentUser = _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser;\n        if (!currentUser?.id) {\n            throw new Error(\"No user is signed in\");\n        }\n        // Format the date to match the format in Firestore ('MM-dd-yyyy')\n        const formattedDate = (0,_barrel_optimize_names_format_date_fns__WEBPACK_IMPORTED_MODULE_11__.format)(date, \"MM-dd-yyyy\");\n        // Reference to the user's workoutSummaries subcollection\n        const summariesRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", currentUser.id, \"workoutSummaries\");\n        // Create a query to filter documents by the specified date\n        const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(summariesRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"date\", \"==\", formattedDate));\n        try {\n            const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n            // Map the documents to an array of WorkoutSummary objects\n            return snapshot.docs.map((doc)=>({\n                    id: doc.id,\n                    ...doc.data()\n                }));\n        } catch (error) {\n            const firestoreError = error;\n            console.error(\"Error fetching workout summaries:\", firestoreError.message);\n            throw new Error(firestoreError.message);\n        }\n    }\n    async fetchAllWorkoutSummaries() {\n        const currentUser = _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser;\n        if (!currentUser?.id) {\n            throw new Error(\"No user is signed in\");\n        }\n        // Reference to the user's workoutSummaries subcollection\n        const summariesRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", currentUser.id, \"workoutSummary\");\n        // Query to retrieve all workout summaries, sorted by `createdAt` in ascending order\n        const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(summariesRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.orderBy)(\"createdAt\", \"asc\")); // Adjust field name based on your schema\n        try {\n            const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n            // Map the documents to an array of WorkoutSummary objects\n            return snapshot.docs.map((doc)=>({\n                    id: doc.id,\n                    ...doc.data()\n                }));\n        } catch (error) {\n            const firestoreError = error;\n            console.error(\"Error fetching all workout summaries:\", firestoreError.message);\n            throw new Error(firestoreError.message);\n        }\n    }\n    /**\n * Fetch user challenges by userId.\n * @param userId The ID of the user to fetch challenges for.\n * @returns A promise resolving to an array of user challenges.\n * @throws If the Firestore query fails.\n */ async fetchUserChallengesByUserId(userId) {\n        const userChallengesRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"user-challenge\");\n        const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(userChallengesRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"userId\", \"==\", userId));\n        try {\n            // console.log(`Fetching challenges for user ID: ${userId}`);\n            const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n            // console.log(`Total challenges fetched: ${snapshot.docs.length}`);\n            const userChallenges = snapshot.docs.map((doc)=>{\n                const data = doc.data();\n                // console.log(`Processing challenge with ID: ${doc.id}`, data);\n                return {\n                    id: doc.id,\n                    ...data,\n                    challenge: data.challenge ? new _workout_types__WEBPACK_IMPORTED_MODULE_6__.Challenge({\n                        id: data.challenge.id,\n                        title: data.challenge.title,\n                        subtitle: data.challenge.subtitle,\n                        participants: data.challenge.participants || [],\n                        status: data.challenge.status,\n                        startDate: data.challenge.startDate ? new Date(data.challenge.startDate) : new Date(),\n                        endDate: data.challenge.endDate ? new Date(data.challenge.endDate) : new Date(),\n                        createdAt: data.challenge.createdAt ? new Date(data.challenge.createdAt) : new Date(),\n                        updatedAt: data.challenge.updatedAt ? new Date(data.challenge.updatedAt) : new Date(),\n                        introVideos: (data.challenge.introVideos || []).map((v)=>new _workout_types__WEBPACK_IMPORTED_MODULE_6__.IntroVideo({\n                                id: v.id,\n                                userId: v.userId,\n                                videoUrl: v.videoUrl\n                            }))\n                    }) : undefined,\n                    createdAt: (0,_utils_timestamp__WEBPACK_IMPORTED_MODULE_7__.convertTimestamp)(data.createdAt),\n                    updatedAt: (0,_utils_timestamp__WEBPACK_IMPORTED_MODULE_7__.convertTimestamp)(data.updatedAt)\n                };\n            });\n            // console.log('All challenges after processing:', JSON.stringify(userChallenges, null, 2));\n            return userChallenges;\n        } catch (error) {\n            console.error(\"Error fetching user challenges by userId:\", error);\n            throw error;\n        }\n    }\n    async fetchCollectionWithSweatLists(collectionId) {\n        try {\n            // Fetch the collection\n            const collection = await this.getCollectionById(collectionId);\n            // Fetch sweat lists (workouts)\n            const sweatLists = [];\n            // Assuming collection has sweatlistIds with author and workout IDs\n            for (const sweatlistIdentifier of collection.sweatlistIds || []){\n                try {\n                    const [workout] = await this.fetchSavedWorkout(sweatlistIdentifier.sweatlistAuthorId, sweatlistIdentifier.id);\n                    if (workout) {\n                        sweatLists.push(workout);\n                    }\n                } catch (error) {\n                    console.error(`Error fetching workout ${sweatlistIdentifier.id}:`, error);\n                }\n            }\n            return {\n                collection,\n                sweatLists\n            };\n        } catch (error) {\n            console.error(\"Error fetching collection with sweat lists:\", error);\n            throw error;\n        }\n    }\n    async fetchSavedWorkout(userId, workoutId) {\n        try {\n            const workoutRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", userId, \"MyCreatedWorkouts\", workoutId);\n            const workoutSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(workoutRef);\n            if (!workoutSnap.exists()) {\n                return [\n                    null,\n                    null\n                ];\n            }\n            const workoutData = workoutSnap.data();\n            console.log(\"1. Raw workout data from DB:\", JSON.stringify({\n                exercises: workoutData.exercises?.map((ex)=>({\n                        name: ex.exercise.name,\n                        category: ex.exercise.category\n                    }))\n            }, null, 2));\n            const exercisesWithVideos = await this.fetchAndMapExercisesWithVideos();\n            // Map the exercises while preserving original data\n            const mappedExercises = (workoutData.exercises || []).map((exerciseRef)=>{\n                // Find matching exercise just for its videos\n                const exerciseNameLower = exerciseRef.exercise?.name?.toLowerCase().trim();\n                const matchingExercise = exercisesWithVideos.find((ex)=>ex.name.toLowerCase().trim() === exerciseNameLower);\n                // Create new Exercise using original data but add videos from matching exercise\n                return {\n                    ...exerciseRef,\n                    exercise: new _exercise_types__WEBPACK_IMPORTED_MODULE_3__.Exercise({\n                        ...exerciseRef.exercise,\n                        videos: matchingExercise?.videos || [],\n                        // Explicitly preserve the original category\n                        category: exerciseRef.exercise.category\n                    })\n                };\n            });\n            workoutData.exercises = mappedExercises;\n            const workout = new _workout_types__WEBPACK_IMPORTED_MODULE_6__.Workout({\n                id: workoutId,\n                ...workoutData\n            });\n            // Similarly for logs, preserve original exercise data\n            const logsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(workoutRef, \"logs\");\n            const logsSnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(logsRef);\n            const logs = logsSnapshot.docs.map((logDoc)=>{\n                const logData = logDoc.data();\n                const matchingExercise = exercisesWithVideos.find((ex)=>ex.name === logData.exercise.name);\n                console.log(\"Raw logData:\", logData, null, 2);\n                var exerciseWithVideo = new _exercise_types__WEBPACK_IMPORTED_MODULE_3__.Exercise({\n                    ...logData.exercise,\n                    videos: matchingExercise?.videos || []\n                });\n                console.log(\"Exercise with video:\", exerciseWithVideo, null, 2);\n                var exLog = new _exercise_types__WEBPACK_IMPORTED_MODULE_3__.ExerciseLog({\n                    id: logDoc.id,\n                    workoutId: workoutId,\n                    userId: userId,\n                    exercise: exerciseWithVideo,\n                    logs: logData.logs || [],\n                    feedback: logData.feedback || \"\",\n                    note: logData.note || \"\",\n                    recommendedWeight: logData.recommendedWeight || \"calculating...\",\n                    isSplit: logData.isSplit || false,\n                    isBodyWeight: logData.isBodyWeight || false,\n                    logSubmitted: logData.logSubmitted || false,\n                    logIsEditing: logData.logIsEditing || false,\n                    isCompleted: logData.isCompleted || false,\n                    order: logData.order || null,\n                    completedAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_8__.convertFirestoreTimestamp)(logData.completedAt),\n                    createdAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_8__.convertFirestoreTimestamp)(logData.createdAt),\n                    updatedAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_8__.convertFirestoreTimestamp)(logData.updatedAt)\n                });\n                console.log(\"Exercise log:\", exLog, null, 2);\n                return exLog;\n            });\n            workout.logs = logs;\n            return [\n                workout,\n                logs\n            ];\n        } catch (error) {\n            console.error(\"Error fetching saved workout:\", error);\n            throw error;\n        }\n    }\n    /**\n * Fetch user challenges by challengeId.\n * @param challengeId The ID of the challenge to fetch associated user challenges for.\n * @returns A promise resolving to an array of user challenges.\n * @throws If the Firestore query fails.\n */ async fetchUserChallengesByChallengeId(challengeId) {\n        const userChallengesRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"user-challenge\");\n        const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(userChallengesRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"challengeId\", \"==\", challengeId));\n        try {\n            // console.log(`Fetching user challenges for challenge ID: ${challengeId}`);\n            const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n            // console.log(`Total user challenges fetched: ${snapshot.docs.length}`);\n            const userChallenges = snapshot.docs.map((doc)=>{\n                const data = doc.data();\n                // console.log(`Processing user challenge with ID: ${doc.id}`, data);\n                return {\n                    id: doc.id,\n                    ...data,\n                    challenge: data.challenge ? new _workout_types__WEBPACK_IMPORTED_MODULE_6__.Challenge({\n                        id: data.challenge.id,\n                        title: data.challenge.title,\n                        subtitle: data.challenge.subtitle,\n                        participants: data.challenge.participants || [],\n                        status: data.challenge.status,\n                        startDate: data.challenge.startDate ? new Date(data.challenge.startDate) : new Date(),\n                        endDate: data.challenge.endDate ? new Date(data.challenge.endDate) : new Date(),\n                        createdAt: data.challenge.createdAt ? new Date(data.challenge.createdAt) : new Date(),\n                        updatedAt: data.challenge.updatedAt ? new Date(data.challenge.updatedAt) : new Date(),\n                        introVideos: (data.challenge.introVideos || []).map((v)=>new _workout_types__WEBPACK_IMPORTED_MODULE_6__.IntroVideo({\n                                id: v.id,\n                                userId: v.userId,\n                                videoUrl: v.videoUrl\n                            }))\n                    }) : undefined,\n                    createdAt: (0,_utils_timestamp__WEBPACK_IMPORTED_MODULE_7__.convertTimestamp)(data.createdAt),\n                    updatedAt: (0,_utils_timestamp__WEBPACK_IMPORTED_MODULE_7__.convertTimestamp)(data.updatedAt)\n                };\n            });\n            // console.log('All user challenges after processing:', JSON.stringify(userChallenges, null, 2));\n            return userChallenges;\n        } catch (error) {\n            console.error(\"Error fetching user challenges by challengeId:\", error);\n            throw error;\n        }\n    }\n    async getCollectionById(id) {\n        console.log(\"Fetching collection with id:\", id);\n        try {\n            const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"sweatlist-collection\", id);\n            const docSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(docRef);\n            if (docSnap.exists()) {\n                return new _workout_types__WEBPACK_IMPORTED_MODULE_6__.SweatlistCollection({\n                    id: docSnap.id,\n                    ...docSnap.data()\n                });\n            } else {\n                throw new Error(\"Collection not found\");\n            }\n        } catch (error) {\n            console.error(\"Error getting collection by ID:\", error);\n            throw error;\n        }\n    }\n    // In WorkoutService class\n    async getCollectionsByIds(collectionIds) {\n        try {\n            // Use Promise.all to fetch all collections in parallel\n            const collections = await Promise.all(collectionIds.map(async (id)=>{\n                try {\n                    const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"sweatlist-collection\", id);\n                    const docSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(docRef);\n                    if (docSnap.exists()) {\n                        return new _workout_types__WEBPACK_IMPORTED_MODULE_6__.SweatlistCollection({\n                            id: docSnap.id,\n                            ...docSnap.data()\n                        });\n                    }\n                    return null;\n                } catch (error) {\n                    console.error(`Error fetching collection ${id}:`, error);\n                    return null;\n                }\n            }));\n            // Filter out any null values from failed fetches\n            return collections.filter((collection)=>collection !== null);\n        } catch (error) {\n            console.error(\"Error fetching collections:\", error);\n            throw error;\n        }\n    }\n    async fetchCollections(userId) {\n        if (!userId) {\n            throw new Error(\"User ID is required\");\n        }\n        try {\n            const collectionsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"sweatlist-collection\");\n            // Query for records where ownerId is an array that contains the userId.\n            const qArray = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(collectionsRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"ownerId\", \"array-contains\", userId));\n            const snapshotArray = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(qArray);\n            const collectionsFromArray = snapshotArray.docs.map((doc)=>{\n                const data = {\n                    id: doc.id,\n                    ...doc.data()\n                };\n                return new _workout_types__WEBPACK_IMPORTED_MODULE_6__.SweatlistCollection(data);\n            });\n            console.log(\"The array collections\", collectionsFromArray);\n            // Query for records where ownerId is a string equal to the userId.\n            const qString = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(collectionsRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"ownerId\", \"==\", userId));\n            const snapshotString = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(qString);\n            const collectionsFromString = snapshotString.docs.map((doc)=>{\n                const data = {\n                    id: doc.id,\n                    ...doc.data()\n                };\n                return new _workout_types__WEBPACK_IMPORTED_MODULE_6__.SweatlistCollection(data);\n            });\n            console.log(\"The string collections\", collectionsFromString);\n            // Combine both arrays and remove duplicates (if any) based on the collection id.\n            const combined = [\n                ...collectionsFromArray,\n                ...collectionsFromString\n            ];\n            const uniqueCollections = new Map();\n            combined.forEach((collection)=>{\n                uniqueCollections.set(collection.id, collection);\n            });\n            return Array.from(uniqueCollections.values());\n        } catch (error) {\n            console.error(\"Error fetching sweatlists:\", error);\n            throw error;\n        }\n    }\n    /**\n   * Fetch user challenges by userId and filter for active challenges.\n   * @returns A promise resolving to an array of active challenges.\n   * @throws If no user is signed in or if the Firestore query fails.\n   */ async fetchActiveChallenges() {\n        const currentUser = _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser;\n        if (!currentUser?.id) {\n            throw new Error(\"No user is signed in\");\n        }\n        const userChallengesRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"user-challenge\");\n        const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(userChallengesRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"userId\", \"==\", currentUser.id));\n        try {\n            // console.log(`Fetching challenges for user ID: ${currentUser.id}`);\n            const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n            // console.log(`Total challenges fetched: ${snapshot.docs.length}`);\n            const allChallenges = snapshot.docs.map((doc)=>{\n                const data = doc.data();\n                // console.log(`Processing challenge with ID: ${doc.id}`, data);\n                // Use the Challenge constructor to parse the challenge data\n                // console.log(\"date before format: \" + convertFirestoreTimestamp(data.challenge.startDate));\n                const challenge = data.challenge ? new _workout_types__WEBPACK_IMPORTED_MODULE_6__.Challenge({\n                    id: data.challenge.id,\n                    title: data.challenge.title,\n                    subtitle: data.challenge.subtitle,\n                    participants: data.challenge.participants || [],\n                    status: data.challenge.status,\n                    startDate: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_8__.convertFirestoreTimestamp)(data.challenge.startDate),\n                    endDate: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_8__.convertFirestoreTimestamp)(data.challenge.endDate),\n                    createdAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_8__.convertFirestoreTimestamp)(data.challenge.createdAt),\n                    updatedAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_8__.convertFirestoreTimestamp)(data.challenge.updatedAt),\n                    introVideos: (data.challenge.introVideos || []).map((v)=>new _workout_types__WEBPACK_IMPORTED_MODULE_6__.IntroVideo({\n                            id: v.id,\n                            userId: v.userId,\n                            videoUrl: v.videoUrl\n                        }))\n                }) : undefined;\n                return {\n                    id: doc.id,\n                    ...data,\n                    challenge,\n                    createdAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_8__.convertFirestoreTimestamp)(data.createdAt),\n                    updatedAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_8__.convertFirestoreTimestamp)(data.updatedAt)\n                };\n            });\n            // console.log('All challenges after processing:', JSON.stringify(allChallenges, null, 2));\n            // Filter for active challenges (endDate > current date)\n            const activeChallenges = allChallenges.filter((userChallenge)=>{\n                const endDate = userChallenge.challenge?.endDate;\n                // console.log(\n                //   `Evaluating challenge ID: ${userChallenge.id}, End Date: ${endDate}, Current Date: ${new Date()}`\n                // );\n                return endDate && endDate > new Date();\n            });\n            // console.log(`Total active challenges: ${activeChallenges.length}`, activeChallenges);\n            return activeChallenges;\n        } catch (error) {\n            console.error(\"Error fetching active challenges:\", error);\n            throw error;\n        }\n    }\n    /**\n   * Fetch user challenges by userId.\n   * @returns A promise resolving to an array of challenges.\n   * @throws If no user is signed in or if the Firestore query fails.\n   */ async fetchUserChallenges() {\n        const currentUser = _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser;\n        if (!currentUser?.id) {\n            throw new Error(\"No user is signed in\");\n        }\n        // Reference to the user-challenge collection\n        const userChallengesRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"user-challenge\");\n        // Query challenges where userId matches the current user's ID\n        const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(userChallengesRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"userId\", \"==\", currentUser.id));\n        try {\n            const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n            // Map documents to an array of Challenge objects\n            return snapshot.docs.map((doc)=>new _workout_types__WEBPACK_IMPORTED_MODULE_6__.UserChallenge({\n                    id: doc.id,\n                    ...doc.data()\n                }));\n        } catch (error) {\n            console.error(\"Error fetching user challenges:\", error);\n            throw new Error(\"Failed to fetch user challenges\");\n        }\n    }\n    //update the workout summary,\n    async updateWorkoutSummary({ userId, workoutId, summary }) {\n        if (!userId) {\n            throw new Error(\"No user ID provided\");\n        }\n        try {\n            const summaryRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", userId, \"workoutSummary\", summary.id);\n            // Update the updatedAt timestamp\n            summary.updatedAt = new Date();\n            // Use the toDictionary method to convert to Firestore format\n            const summaryData = summary.toDictionary();\n            console.log(\"Updating workout summary:\", {\n                path: `users/${userId}/workoutSummary/${summary.id}`,\n                data: summaryData\n            });\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)(summaryRef, summaryData, {\n                merge: true\n            });\n            console.log(\"Workout summary document updated successfully\");\n        } catch (error) {\n            console.error(\"Error updating workout summary:\", error);\n            throw error;\n        }\n    }\n    async updateWorkoutLogs({ userId, workoutId, logs }) {\n        try {\n            const workoutRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", userId, \"workoutSessions\", workoutId);\n            const logsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(workoutRef, \"logs\");\n            const batch = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.writeBatch)(_config__WEBPACK_IMPORTED_MODULE_1__.db);\n            logs.forEach((log)=>{\n                const logDocRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(logsRef, log.id);\n                batch.update(logDocRef, {\n                    ...log.toDictionary()\n                });\n            });\n            await batch.commit();\n        } catch (error) {\n            console.error(\"Error updating workout logs:\", error);\n            throw error;\n        }\n    }\n    // The cancelWorkout method  it deletes the workout session and summary (if any),\n    // cleans up the local state, and logs the cancellation.\n    async cancelWorkout(workout, workoutSummary) {\n        if (!_user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser?.id || !workout) {\n            throw new Error(\"User not authenticated.\");\n        }\n        try {\n            await this.deleteWorkoutSession(workout.id);\n            if (workoutSummary) {\n                await this.deleteWorkoutSummary(workoutSummary.id);\n            }\n            this.cleanUpWorkoutInProgress();\n            console.log(\"Workout canceled and cleaned up successfully.\");\n        } catch (error) {\n            console.error(\"Error canceling workout:\", error);\n            throw error;\n        }\n    }\n    // Deletes a workout session document and all its subcollection \"logs\"\n    async deleteWorkoutSession(workoutId) {\n        if (!_user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser?.id || !workoutId) {\n            throw new Error(\"User not authenticated.\");\n        }\n        const userId = _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser.id;\n        const workoutRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", userId, \"workoutSessions\", workoutId);\n        try {\n            // Delete all logs in the subcollection\n            const logsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(workoutRef, \"logs\");\n            const logsSnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(logsRef);\n            const batch = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.writeBatch)(_config__WEBPACK_IMPORTED_MODULE_1__.db);\n            logsSnapshot.docs.forEach((logDoc)=>{\n                batch.delete(logDoc.ref);\n            });\n            // Delete the main workout document\n            batch.delete(workoutRef);\n            await batch.commit();\n            console.log(\"Workout session and logs deleted successfully.\");\n        } catch (error) {\n            console.error(\"Error deleting workout session:\", error);\n            throw error;\n        }\n    }\n    // Deletes the workout summary document.\n    async deleteWorkoutSummary(workoutSummaryId) {\n        if (!workoutSummaryId || !_user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser?.id) {\n            return;\n        }\n        try {\n            const summaryRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser.id, \"workoutSummary\", workoutSummaryId);\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.deleteDoc)(summaryRef);\n            console.log(\"Workout summary deleted successfully.\");\n        } catch (error) {\n            console.error(\"Error deleting workout summary:\", error);\n            throw error;\n        }\n    }\n    // Clean up local storage and in-memory workout state.\n    cleanUpWorkoutInProgress() {\n        _redux_store__WEBPACK_IMPORTED_MODULE_9__.store.dispatch((0,_redux_workoutSlice__WEBPACK_IMPORTED_MODULE_10__.resetWorkoutState)());\n    }\n    /**\n   * Fetch the workout session from Firestore, returning { workout, logs }.\n   * Checks first for a QueuedUp session, then for InProgress.\n   */ async fetchCurrentWorkoutSession(userId) {\n        if (!userId) throw new Error(\"No user ID provided\");\n        const exerciseSnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"exercises\"));\n        const videoSnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"exerciseVideos\"));\n        const exerciseVideos = videoSnapshot.docs.map((doc)=>new _exercise_types__WEBPACK_IMPORTED_MODULE_3__.ExerciseVideo({\n                id: doc.id,\n                ...doc.data()\n            }));\n        const exercisesWithVideos = exerciseSnapshot.docs.map((doc)=>{\n            const exercise = new _exercise_types__WEBPACK_IMPORTED_MODULE_3__.Exercise({\n                id: doc.id,\n                ...doc.data()\n            });\n            const matchingVideos = exerciseVideos.filter((video)=>video.exercise.toLowerCase() === exercise.name.toLowerCase());\n            return new _exercise_types__WEBPACK_IMPORTED_MODULE_3__.Exercise({\n                ...exercise,\n                videos: matchingVideos\n            });\n        });\n        const workoutSessionsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", userId, \"workoutSessions\");\n        let q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(workoutSessionsRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"status\", \"==\", _workout_types__WEBPACK_IMPORTED_MODULE_6__.WorkoutStatus.QueuedUp));\n        let snap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n        if (!snap.empty) {\n            return this.processWorkoutSessionDocument(snap.docs[0], exercisesWithVideos);\n        }\n        q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(workoutSessionsRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"status\", \"==\", _workout_types__WEBPACK_IMPORTED_MODULE_6__.WorkoutStatus.InProgress));\n        snap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n        if (!snap.empty) {\n            return this.processWorkoutSessionDocument(snap.docs[0], exercisesWithVideos);\n        }\n        return {\n            workout: null,\n            logs: null\n        };\n    }\n    async fetchAndMapExercisesWithVideos() {\n        try {\n            // console.log('Starting fetchAndMapExercisesWithVideos');\n            // 1. Fetch all exercises \n            const exerciseSnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"exercises\"));\n            const exercises = exerciseSnapshot.docs.map((doc)=>new _exercise_types__WEBPACK_IMPORTED_MODULE_3__.Exercise({\n                    id: doc.id,\n                    ...doc.data()\n                }));\n            // console.log(`Fetched ${exercises.length} exercises`);\n            // 2. Fetch all videos\n            const videoSnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"exerciseVideos\"));\n            const exerciseVideos = videoSnapshot.docs.map((doc)=>new _exercise_types__WEBPACK_IMPORTED_MODULE_3__.ExerciseVideo({\n                    id: doc.id,\n                    ...doc.data()\n                }));\n            // console.log(`Fetched ${exerciseVideos.length} exercise videos`);\n            // 3. Map videos to exercises\n            const exercisesWithVideos = exercises.map((exercise)=>{\n                const matchingVideos = exerciseVideos.filter((video)=>video.exercise.toLowerCase() === exercise.name.toLowerCase());\n                return new _exercise_types__WEBPACK_IMPORTED_MODULE_3__.Exercise({\n                    ...exercise,\n                    videos: matchingVideos\n                });\n            });\n            // console.log('Finished mapping exercises with videos');\n            // console.log(`Total exercises with videos: ${exercisesWithVideos.length}`);\n            return exercisesWithVideos;\n        } catch (error) {\n            console.error(\"Error fetching and mapping exercises with videos:\", error);\n            throw error;\n        }\n    }\n    /**\n   * Helper to build the Workout object + any logs from the snapshot.\n   */ async fetchAllWorkoutSessions(userId) {\n        if (!userId) {\n            throw new Error(\"No user ID provided\");\n        }\n        try {\n            const exerciseSnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"exercises\"));\n            const exercises = exerciseSnapshot.docs.map((doc)=>new _exercise_types__WEBPACK_IMPORTED_MODULE_3__.Exercise({\n                    id: doc.id,\n                    ...doc.data()\n                }));\n            const videoSnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"exerciseVideos\"));\n            const exerciseVideos = videoSnapshot.docs.map((doc)=>new _exercise_types__WEBPACK_IMPORTED_MODULE_3__.ExerciseVideo({\n                    id: doc.id,\n                    ...doc.data()\n                }));\n            const exercisesWithVideos = exercises.map((exercise)=>{\n                const matchingVideos = exerciseVideos.filter((video)=>video.exercise.toLowerCase() === exercise.name.toLowerCase());\n                return new _exercise_types__WEBPACK_IMPORTED_MODULE_3__.Exercise({\n                    ...exercise,\n                    videos: matchingVideos\n                });\n            });\n            const workoutSessionsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", userId, \"workoutSessions\");\n            const snap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(workoutSessionsRef);\n            if (snap.empty) {\n                console.log(\"No workout sessions found for user\");\n                return [];\n            }\n            const sessions = await Promise.all(snap.docs.map(async (doc)=>{\n                const sessionData = await this.processWorkoutSessionDocument(doc, exercisesWithVideos);\n                if (sessionData.logs) {\n                    sessionData.logs.sort((a, b)=>{\n                        const orderA = a.order ?? 0;\n                        const orderB = b.order ?? 0;\n                        return orderA - orderB;\n                    });\n                }\n                return sessionData;\n            }));\n            return sessions;\n        } catch (error) {\n            console.error(\"Error fetching workout sessions:\", error);\n            throw error;\n        }\n    }\n    // Add the updateUserChallenge method\n    async updateUserChallenge(challenge) {\n        if (!_user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser?.id) {\n            throw new Error(\"No user is signed in\");\n        }\n        try {\n            const challengeRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"user-challenge\", challenge.id);\n            const challengeData = {\n                ...challenge,\n                updatedAt: new Date()\n            };\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)(challengeRef, challengeData, {\n                merge: true\n            });\n            console.log(\"User challenge updated successfully\");\n        } catch (error) {\n            console.error(\"Error updating user challenge:\", error);\n            throw error;\n        }\n    }\n    async updateCollection(collection) {\n        try {\n            const collRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"sweatlist-collection\");\n            // If collection.id is empty, generate a new doc ID and assign it.\n            if (!collection.id || collection.id.trim() === \"\") {\n                const newDocRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(collRef);\n                collection.id = newDocRef.id;\n            }\n            // Ensure the challenge id matches the collection id.\n            if (collection.challenge) {\n                collection.challenge.id = collection.id;\n            }\n            // Update the updatedAt field.\n            collection.updatedAt = new Date();\n            // Save the collection to Firestore.\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(collRef, collection.id), collection.toDictionary());\n            console.log(\"Collection updated successfully\");\n            return collection;\n        } catch (error) {\n            console.error(\"Error updating collection document:\", error);\n            throw new Error(\"Error while updating the collection\");\n        }\n    }\n    async processWorkoutSessionDocument(workoutDoc, exercisesWithVideos) {\n        const data = workoutDoc.data();\n        // Map exercises with their full data and videos\n        const mappedExercises = (data.exercises || []).map((exerciseRef)=>{\n            // Find matching exercise just for its videos\n            const exerciseNameLower = exerciseRef.exercise?.name?.toLowerCase().trim();\n            const matchingExercise = exercisesWithVideos.find((ex)=>ex.name.toLowerCase().trim() === exerciseNameLower);\n            // Create new Exercise using original data but add videos from matching exercise\n            return {\n                ...exerciseRef,\n                exercise: new _exercise_types__WEBPACK_IMPORTED_MODULE_3__.Exercise({\n                    ...exerciseRef.exercise,\n                    videos: matchingExercise?.videos || [],\n                    // Explicitly preserve the original category\n                    category: exerciseRef.exercise.category\n                })\n            };\n        });\n        // Create the workout with mapped exercises\n        const workout = new _workout_types__WEBPACK_IMPORTED_MODULE_6__.Workout({\n            id: workoutDoc.id,\n            roundWorkoutId: data.roundWorkoutId || \"\",\n            exercises: mappedExercises,\n            title: data.title || \"\",\n            description: data.description || \"\",\n            duration: data.duration || 0,\n            useAuthorContent: data.useAuthorContent || false,\n            isCompleted: data.isCompleted || false,\n            workoutStatus: data.workoutStatus || _workout_types__WEBPACK_IMPORTED_MODULE_6__.WorkoutStatus.Archived,\n            author: data.author || \"\",\n            createdAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_8__.convertFirestoreTimestamp)(data.createdAt),\n            updatedAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_8__.convertFirestoreTimestamp)(data.updatedAt),\n            startTime: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_8__.convertFirestoreTimestamp)(data.startTime),\n            collectionId: data.collectionId,\n            challenge: data.challenge,\n            logs: (data.logs || []).map((logData)=>{\n                // Map logs with full exercises\n                const exerciseNameLower = logData.exercise?.name?.toLowerCase().trim();\n                const fullExercise = exercisesWithVideos.find((ex)=>ex.name.toLowerCase().trim() === exerciseNameLower);\n                return {\n                    ...logData,\n                    exercise: fullExercise || logData.exercise\n                };\n            }),\n            workoutRating: data.workoutRating,\n            order: data.order,\n            zone: data.zone || _workout_types__WEBPACK_IMPORTED_MODULE_6__.BodyZone.FullBody\n        });\n        // Fetch logs from subcollection\n        const logsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(workoutDoc.ref, \"logs\");\n        const logsSnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(logsRef);\n        const logs = logsSnapshot.docs.map((logDoc)=>{\n            const logData = logDoc.data();\n            // Find the corresponding mapped exercise that we already processed\n            const matchingMappedExercise = mappedExercises.find((ex)=>ex.exercise.name.toLowerCase().trim() === logData.exercise?.name?.toLowerCase().trim());\n            const preparedLogData = {\n                ...logData,\n                id: logDoc.id,\n                workoutId: workout.id,\n                // Use the exercise from our mapped exercises which already has the correct category and videos\n                exercise: matchingMappedExercise?.exercise || logData.exercise,\n                createdAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_8__.convertFirestoreTimestamp)(logData.createdAt),\n                updatedAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_8__.convertFirestoreTimestamp)(logData.updatedAt)\n            };\n            return new _exercise_types__WEBPACK_IMPORTED_MODULE_3__.ExerciseLog(preparedLogData);\n        });\n        return {\n            workout,\n            logs\n        };\n    }\n    async saveWorkoutSession({ userId, workout, logs }) {\n        if (!userId) throw new Error(\"No user ID provided\");\n        try {\n            console.log(\"Incoming logs:\", logs.map((log)=>({\n                    name: log.exercise.name,\n                    category: log.exercise.category,\n                    originalType: log.exercise.category?.type\n                })));\n            const currentDate = new Date();\n            const cleanWorkout = new _workout_types__WEBPACK_IMPORTED_MODULE_6__.Workout({\n                ...workout,\n                roundWorkoutId: `${workout.id}-${currentDate.getTime()}`,\n                workoutStatus: _workout_types__WEBPACK_IMPORTED_MODULE_6__.WorkoutStatus.QueuedUp,\n                createdAt: currentDate,\n                updatedAt: currentDate,\n                startTime: currentDate,\n                logs: []\n            });\n            const workoutSessionRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", userId, \"workoutSessions\"));\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)(workoutSessionRef, cleanWorkout.toDictionary());\n            const logsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(workoutSessionRef, \"logs\");\n            const logBatch = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.writeBatch)(_config__WEBPACK_IMPORTED_MODULE_1__.db);\n            logs.forEach((log, index)=>{\n                const logDocRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(logsRef, `${log.id}-${currentDate.getTime()}`);\n                console.log(`Processing log ${index}:`, {\n                    name: log.exercise.name,\n                    originalCategory: log.exercise.category,\n                    originalType: log.exercise.category?.type\n                });\n                // Preserve the category structure\n                const exerciseWithCategory = {\n                    ...log.exercise.toDictionary(),\n                    category: log.exercise.category?.type === \"weight-training\" ? {\n                        type: \"weight-training\",\n                        details: {\n                            sets: log.exercise.category.details?.sets || 3,\n                            reps: log.exercise.category.details?.reps || [\n                                \"12\"\n                            ],\n                            weight: log.exercise.category.details?.weight || 0,\n                            screenTime: log.exercise.category.details?.screenTime || 0,\n                            selectedVideo: log.exercise.category.details?.selectedVideo || null\n                        }\n                    } : {\n                        type: \"cardio\",\n                        details: {\n                            duration: log.exercise.category?.details?.duration || 60,\n                            bpm: log.exercise.category?.details?.bpm || 140,\n                            calories: log.exercise.category?.details?.calories || 0,\n                            screenTime: log.exercise.category?.details?.screenTime || 0,\n                            selectedVideo: log.exercise.category?.details?.selectedVideo || null\n                        }\n                    }\n                };\n                console.log(`Saving exercise with category:`, exerciseWithCategory.category);\n                logBatch.set(logDocRef, {\n                    id: logDocRef.id,\n                    workoutId: workoutSessionRef.id,\n                    exercise: exerciseWithCategory,\n                    order: index,\n                    createdAt: currentDate.getTime(),\n                    updatedAt: currentDate.getTime(),\n                    logSubmitted: false,\n                    isCompleted: false\n                });\n            });\n            await logBatch.commit();\n            return cleanWorkout;\n        } catch (error) {\n            console.error(\"Error saving workout session:\", error);\n            throw error;\n        }\n    }\n    /**\n   * Example \"join challenge\" method using the client SDK (no admin privileges).\n   * This creates a doc in `user-challenge` with the userId, challengeId, etc.\n   */ async joinChallenge({ username, challengeId }) {\n        // 1) Make sure we have a signed-in user\n        const currentUser = _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser;\n        if (!currentUser) {\n            throw new Error(\"No user is signed in\");\n        }\n        // 2) Find the user doc by username\n        const usersRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\");\n        const userQuery = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(usersRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"username\", \"==\", username));\n        const userSnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(userQuery);\n        if (userSnapshot.empty) {\n            throw new Error(\"User not found\");\n        }\n        const userDoc = userSnapshot.docs[0];\n        const userData = userDoc.data();\n        const userId = userDoc.id;\n        // 3) Check if the challenge doc exists\n        const challengeRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"sweatlist-collection\", challengeId);\n        const challengeSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(challengeRef);\n        if (!challengeSnap.exists()) {\n            throw new Error(\"Challenge not found\");\n        }\n        const challenge = challengeSnap.data();\n        // 4) Build new user-challenge document\n        const userChallengeId = `${challengeId}-${userId}-${Date.now()}`;\n        const userChallengeData = {\n            id: userChallengeId,\n            challenge: challenge,\n            challengeId,\n            userId,\n            fcmToken: userData.fcmToken || \"\",\n            profileImage: userData.profileImage || {},\n            progress: 0,\n            completedWorkouts: [],\n            isCompleted: false,\n            uid: userId,\n            location: userData.location || null,\n            city: \"\",\n            country: \"\",\n            timezone: \"\",\n            username,\n            joinDate: new Date(),\n            createdAt: new Date(),\n            updatedAt: new Date(),\n            pulsePoints: {\n                baseCompletion: 0,\n                firstCompletion: 0,\n                streakBonus: 0,\n                checkInBonus: 0,\n                effortRating: 0,\n                chatParticipation: 0,\n                locationCheckin: 0,\n                contentEngagement: 0,\n                encouragementSent: 0,\n                encouragementReceived: 0\n            },\n            currentStreak: 0,\n            encouragedUsers: [],\n            encouragedByUsers: [],\n            checkIns: []\n        };\n        // 5) Store user-challenge doc\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"user-challenge\", userChallengeId), userChallengeData);\n    }\n}\nconst workoutService = new WorkoutService();\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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eEJoUCxJQUFJOE87WUFDSmhJLFdBQVdBO1lBQ1hRO1lBQ0FwSDtZQUNBK08sVUFBVUwsU0FBU0ssUUFBUSxJQUFJO1lBQy9CQyxjQUFjTixTQUFTTSxZQUFZLElBQUksQ0FBQztZQUN4Q0MsVUFBVTtZQUNWQyxtQkFBbUIsRUFBRTtZQUNyQmxMLGFBQWE7WUFDYm1MLEtBQUtuUDtZQUNMb1AsVUFBVVYsU0FBU1UsUUFBUSxJQUFJO1lBQy9CQyxNQUFNO1lBQ05DLFNBQVM7WUFDVEMsVUFBVTtZQUNWaE47WUFDQWlOLFVBQVUsSUFBSTFNO1lBQ2RELFdBQVcsSUFBSUM7WUFDZkMsV0FBVyxJQUFJRDtZQUNmMk0sYUFBYTtnQkFDWEMsZ0JBQWdCO2dCQUNoQkMsaUJBQWlCO2dCQUNqQkMsYUFBYTtnQkFDYkMsY0FBYztnQkFDZEMsY0FBYztnQkFDZEMsbUJBQW1CO2dCQUNuQkMsaUJBQWlCO2dCQUNqQkMsbUJBQW1CO2dCQUNuQkMsbUJBQW1CO2dCQUNuQkMsdUJBQXVCO1lBQ3pCO1lBQ0FDLGVBQWU7WUFDZkMsaUJBQWlCLEVBQUU7WUFDbkJDLG1CQUFtQixFQUFFO1lBQ3JCQyxVQUFVLEVBQUU7UUFDZDtRQUVBLDhCQUE4QjtRQUM5QixNQUFNL1MsMERBQU1BLENBQUNSLHVEQUFHQSxDQUFDVyx1Q0FBRUEsRUFBRSxrQkFBa0JpUixrQkFBa0JFO0lBQzNEO0FBQ0Y7QUFFTyxNQUFNM00saUJBQWlCLElBQUloRCxpQkFBaUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1hcHAvLi9zcmMvYXBpL2ZpcmViYXNlL3dvcmtvdXQvc2VydmljZS50cz9jNWUyIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9hcGkvZmlyZWJhc2Uvd29ya291dC9zZXJ2aWNlLnRzXG5pbXBvcnQge1xuICBjb2xsZWN0aW9uLFxuICBkb2MsXG4gIGdldERvY3MsXG4gIGdldERvYyxcbiAgdXBkYXRlRG9jLFxuICBxdWVyeSxcbiAgd2hlcmUsXG4gIG9yZGVyQnksIFxuICBEb2N1bWVudERhdGEsXG4gIFF1ZXJ5RG9jdW1lbnRTbmFwc2hvdCxcbiAgY29sbGVjdGlvbiBhcyBmc0NvbGxlY3Rpb24sXG4gIHNldERvYyxcbiAgZGVsZXRlRG9jLFxuICB3cml0ZUJhdGNoXG59IGZyb20gJ2ZpcmViYXNlL2ZpcmVzdG9yZSc7XG5cbmltcG9ydCB7IGRiIH0gZnJvbSAnLi4vY29uZmlnJztcbmltcG9ydCB7IHVzZXJTZXJ2aWNlIH0gZnJvbSAnLi4vdXNlcic7XG5pbXBvcnQgeyBcbiAgRXhlcmNpc2VMb2csIFxuICBFeGVyY2lzZUNhdGVnb3J5LCBcbiAgRXhlcmNpc2UsIFxuICBCb2R5UGFydCwgXG4gIEV4ZXJjaXNlVmlkZW8sIFxuICBFeGVyY2lzZUF1dGhvciwgXG4gIEV4ZXJjaXNlVmlkZW9WaXNpYmlsaXR5LCBcbiAgRXhlcmNpc2VEZXRhaWwsIFxuICBFeGVyY2lzZVJlZmVyZW5jZSB9IGZyb20gJy4uL2V4ZXJjaXNlL3R5cGVzJztcbmltcG9ydCB7IGV4ZXJjaXNlU2VydmljZSB9IGZyb20gJy4uL2V4ZXJjaXNlL3NlcnZpY2UnO1xuaW1wb3J0IHsgUHJvZmlsZUltYWdlLCBVc2VyIH0gZnJvbSAnLi4vdXNlci90eXBlcydcbmltcG9ydCB7IFdvcmtvdXQsIFdvcmtvdXRTdW1tYXJ5LCBCb2R5Wm9uZSwgSW50cm9WaWRlbywgUmVwc0FuZFdlaWdodExvZywgV29ya291dFJhdGluZyB9IGZyb20gJy4uL3dvcmtvdXQvdHlwZXMnO1xuaW1wb3J0IHsgV29ya291dFN0YXR1cywgU3dlYXRsaXN0Q29sbGVjdGlvbiB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgZm9ybWF0IH0gZnJvbSAnZGF0ZS1mbnMnOyBcbmltcG9ydCB7IGNvbnZlcnRUaW1lc3RhbXAsIHNlcnZlclRpbWVzdGFtcCB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL3RpbWVzdGFtcCc7IC8vIEFkanVzdCB0aGUgaW1wb3J0IHBhdGhcbmltcG9ydCB7IGNvbnZlcnRGaXJlc3RvcmVUaW1lc3RhbXAgfSBmcm9tICcuLi8uLi8uLi91dGlscy9mb3JtYXREYXRlJztcbmltcG9ydCB7IENoYWxsZW5nZSwgQ2hhbGxlbmdlU3RhdHVzLCBVc2VyQ2hhbGxlbmdlIH0gZnJvbSAnLi4vLi4vLi4vYXBpL2ZpcmViYXNlL3dvcmtvdXQvdHlwZXMnO1xuXG5pbXBvcnQgeyBzdG9yZSB9IGZyb20gJy4uLy4uLy4uL3JlZHV4L3N0b3JlJztcbmltcG9ydCB7IHNldEN1cnJlbnRXb3Jrb3V0LCBzZXRDdXJyZW50RXhlcmNpc2VMb2dzLCByZXNldFdvcmtvdXRTdGF0ZSwgc2V0V29ya291dFN1bW1hcnkgfSBmcm9tICcuLi8uLi8uLi9yZWR1eC93b3Jrb3V0U2xpY2UnO1xuXG5cbmludGVyZmFjZSBGaXJlc3RvcmVFcnJvciB7XG4gIGNvZGU6IHN0cmluZztcbiAgbWVzc2FnZTogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIHN0YWNrPzogc3RyaW5nO1xufVxuXG5jbGFzcyBXb3Jrb3V0U2VydmljZSB7XG5cbi8vIFJlcGxhY2UgZ2V0dGVycy9zZXR0ZXJzIHRvIHVzZSBSZWR1eFxuICBnZXQgY3VycmVudFdvcmtvdXQoKTogV29ya291dCB8IG51bGwge1xuICAgIHJldHVybiBzdG9yZS5nZXRTdGF0ZSgpLndvcmtvdXQuY3VycmVudFdvcmtvdXQ7XG4gIH1cblxuICBzZXQgY3VycmVudFdvcmtvdXQod29ya291dDogV29ya291dCB8IG51bGwpIHtcbiAgICBzdG9yZS5kaXNwYXRjaChzZXRDdXJyZW50V29ya291dCh3b3Jrb3V0KSk7XG4gIH1cblxuICBnZXQgY3VycmVudFdvcmtvdXRMb2dzKCk6IEV4ZXJjaXNlTG9nW10ge1xuICAgIHJldHVybiBzdG9yZS5nZXRTdGF0ZSgpLndvcmtvdXQuY3VycmVudEV4ZXJjaXNlTG9ncztcbiAgfVxuXG4gIHNldCBjdXJyZW50V29ya291dExvZ3MobG9nczogRXhlcmNpc2VMb2dbXSkge1xuICAgIHN0b3JlLmRpc3BhdGNoKHNldEN1cnJlbnRFeGVyY2lzZUxvZ3MobG9ncykpO1xuICB9XG5cbiAgZ2V0IGN1cnJlbnRXb3Jrb3V0U3VtbWFyeSgpOiBXb3Jrb3V0U3VtbWFyeSB8IG51bGwge1xuICAgIHJldHVybiBzdG9yZS5nZXRTdGF0ZSgpLndvcmtvdXQud29ya291dFN1bW1hcnk7XG4gIH1cblxuICBzZXQgY3VycmVudFdvcmtvdXRTdW1tYXJ5KHdvcmtvdXRTdW1tYXJ5OiBXb3Jrb3V0U3VtbWFyeSkge1xuICAgIHN0b3JlLmRpc3BhdGNoKHNldFdvcmtvdXRTdW1tYXJ5KHdvcmtvdXRTdW1tYXJ5KSk7XG4gIH1cblxuICAgZ2VuZXJhdGVJZCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBkb2MoY29sbGVjdGlvbihkYiwgJ3dvcmtvdXRzJykpLmlkO1xuICB9XG5cbiAgYXN5bmMgZmV0Y2hXb3Jrb3V0U3VtbWFyeShcbiAgICB1c2VySWQ6IHN0cmluZyxcbiAgICB3b3Jrb3V0SWQ6IHN0cmluZyxcbiAgICBzdW1tYXJ5SWQ6IHN0cmluZ1xuICApOiBQcm9taXNlPFdvcmtvdXRTdW1tYXJ5IHwgbnVsbD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZygnRmV0Y2hpbmcgd29ya291dCBzdW1tYXJ5OicsIHsgdXNlcklkLCB3b3Jrb3V0SWQsIHN1bW1hcnlJZCB9KTtcbiAgICAgIFxuICAgICAgLy8gQXNzdW1pbmcgc3VtbWFyaWVzIGFyZSBzdG9yZWQgaW4gYSAnd29ya291dFN1bW1hcmllcycgY29sbGVjdGlvblxuICAgICAgY29uc3Qgc3VtbWFyeVJlZiA9IGRvYyhkYiwgJ3VzZXJzJywgdXNlcklkLCAnd29ya291dFN1bW1hcnknLCBzdW1tYXJ5SWQpO1xuICAgICAgY29uc3Qgc3VtbWFyeURvYyA9IGF3YWl0IGdldERvYyhzdW1tYXJ5UmVmKTtcbiAgXG4gICAgICBpZiAoIXN1bW1hcnlEb2MuZXhpc3RzKCkpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1N1bW1hcnkgZG9jdW1lbnQgbm90IGZvdW5kJyk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICBcbiAgICAgIGNvbnN0IHN1bW1hcnlEYXRhID0gc3VtbWFyeURvYy5kYXRhKCk7XG4gICAgICBjb25zb2xlLmxvZygnRm91bmQgc3VtbWFyeSBkYXRhOicsIHN1bW1hcnlEYXRhKTtcbiAgXG4gICAgICByZXR1cm4gbmV3IFdvcmtvdXRTdW1tYXJ5KHN1bW1hcnlEYXRhKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgd29ya291dCBzdW1tYXJ5OicsIGVycm9yKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gICAgLy8gVXBkYXRlIHRoZSBmb3JtYXRXb3Jrb3V0QW5kSW5pdGlhbGl6ZUxvZ3MgZnVuY3Rpb25cbiAgYXN5bmMgZm9ybWF0V29ya291dEFuZEluaXRpYWxpemVMb2dzKFxuICAgICAgZXhlcmNpc2VEZXRhaWxzOiBFeGVyY2lzZURldGFpbFtdLFxuICAgICAgd29ya291dEF1dGhvcj86IHN0cmluZ1xuICAgICk6IFByb21pc2U8eyB3b3Jrb3V0OiBXb3Jrb3V0OyBleGVyY2lzZUxvZ3M6IEV4ZXJjaXNlTG9nW10gfT4ge1xuICAgICAgY29uc3Qgd29ya0lkID0gdGhpcy5nZW5lcmF0ZUlkKCk7IC8vIFVzZSB0aGlzLmdlbmVyYXRlSWQoKSBzaW5jZSBpdCdzIGEgY2xhc3MgbWV0aG9kXG4gICAgICBjb25zdCBleGVyY2lzZVJlZmVyZW5jZXM6IEV4ZXJjaXNlUmVmZXJlbmNlW10gPSBbXTtcbiAgICAgIGNvbnN0IGV4ZXJjaXNlTG9nczogRXhlcmNpc2VMb2dbXSA9IFtdO1xuXG4gIC8vIEVuc3VyZSBleGVyY2lzZSBkZXRhaWxzIGFyZSB2YWxpZCBiZWZvcmUgcHJvY2Vzc2luZ1xuICBjb25zdCB2YWxpZEV4ZXJjaXNlRGV0YWlscyA9IGV4ZXJjaXNlRGV0YWlscy5maWx0ZXIoZGV0YWlsID0+IGRldGFpbD8uZXhlcmNpc2UgJiYgZGV0YWlsLmV4ZXJjaXNlLmlkKTtcblxuICB2YWxpZEV4ZXJjaXNlRGV0YWlscy5mb3JFYWNoKChkZXRhaWwsIGluZGV4KSA9PiB7XG4gICAgaWYgKGRldGFpbC5leGVyY2lzZS5pZCA9PSBudWxsKSB7IHJldHVybiB9XG5cbiAgICAvLyBDcmVhdGUgdGhlIGNhdGVnb3J5IGZpcnN0XG4gICAgY29uc3QgY2F0ZWdvcnkgPSB7XG4gICAgICB0eXBlOiBkZXRhaWwuY2F0ZWdvcnk/LnR5cGUgPT09ICd3ZWlnaHQtdHJhaW5pbmcnIFxuICAgICAgICA/ICd3ZWlnaHQtdHJhaW5pbmcnXG4gICAgICAgIDogJ2NhcmRpbycsXG4gICAgICBkZXRhaWxzOiBkZXRhaWwuY2F0ZWdvcnk/LnR5cGUgPT09ICd3ZWlnaHQtdHJhaW5pbmcnIFxuICAgICAgICA/IHtcbiAgICAgICAgICAgIHNldHM6IGRldGFpbC5jYXRlZ29yeT8uZGV0YWlscz8uc2V0cyA/PyAzLFxuICAgICAgICAgICAgcmVwczogZGV0YWlsLmNhdGVnb3J5Py5kZXRhaWxzPy5yZXBzID8/IFsnMTInXSxcbiAgICAgICAgICAgIHdlaWdodDogZGV0YWlsLmNhdGVnb3J5Py5kZXRhaWxzPy53ZWlnaHQgPz8gMCxcbiAgICAgICAgICAgIHNjcmVlblRpbWU6IGRldGFpbC5jYXRlZ29yeT8uZGV0YWlscz8uc2NyZWVuVGltZSA/PyAwLFxuICAgICAgICAgICAgc2VsZWN0ZWRWaWRlbzogZGV0YWlsLmNhdGVnb3J5Py5kZXRhaWxzPy5zZWxlY3RlZFZpZGVvID8/IG51bGxcbiAgICAgICAgICB9XG4gICAgICAgIDoge1xuICAgICAgICAgICAgZHVyYXRpb246IGRldGFpbC5jYXRlZ29yeT8uZGV0YWlscz8uZHVyYXRpb24gPz8gNjAsXG4gICAgICAgICAgICBicG06IGRldGFpbC5jYXRlZ29yeT8uZGV0YWlscz8uYnBtID8/IDE0MCxcbiAgICAgICAgICAgIGNhbG9yaWVzOiBkZXRhaWwuY2F0ZWdvcnk/LmRldGFpbHM/LmNhbG9yaWVzID8/IDAsXG4gICAgICAgICAgICBzY3JlZW5UaW1lOiBkZXRhaWwuY2F0ZWdvcnk/LmRldGFpbHM/LnNjcmVlblRpbWUgPz8gMCxcbiAgICAgICAgICAgIHNlbGVjdGVkVmlkZW86IGRldGFpbC5jYXRlZ29yeT8uZGV0YWlscz8uc2VsZWN0ZWRWaWRlbyA/PyBudWxsXG4gICAgICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zb2xlLmxvZyhcIkNhdGVnb3J5IGJlaW5nIHVzZWQ6XCIsIGNhdGVnb3J5KTsgLy8gRGVidWcgbG9nXG5cbiAgICAvLyBDcmVhdGUgZXhlcmNpc2UgaW5zdGFuY2Ugd2l0aCBvdXIgbmV3IGNhdGVnb3J5XG4gICAgY29uc3QgZXhlcmNpc2VJbnN0YW5jZSA9IG5ldyBFeGVyY2lzZSh7XG4gICAgICAuLi5kZXRhaWwuZXhlcmNpc2UsXG4gICAgICBpZDogZGV0YWlsLmV4ZXJjaXNlLmlkIHx8IHdvcmtvdXRTZXJ2aWNlLmdlbmVyYXRlSWQoKSxcbiAgICAgIG5hbWU6IGRldGFpbC5leGVyY2lzZS5uYW1lIHx8ICcnLFxuICAgICAgYXV0aG9yOiBkZXRhaWwuZXhlcmNpc2UuYXV0aG9yIHx8IHtcbiAgICAgICAgdXNlcklkOiB3b3Jrb3V0QXV0aG9yIHx8IHVzZXJTZXJ2aWNlLmN1cnJlbnRVc2VyPy5pZCxcbiAgICAgICAgdXNlcm5hbWU6IHdvcmtvdXRBdXRob3IgfHwgdXNlclNlcnZpY2UuY3VycmVudFVzZXI/LnVzZXJuYW1lXG4gICAgICB9LFxuICAgICAgZGVzY3JpcHRpb246IGRldGFpbC5leGVyY2lzZS5kZXNjcmlwdGlvbiB8fCAnJyxcbiAgICAgIGNhdGVnb3J5OiBjYXRlZ29yeSwgIC8vIFVzZSBvdXIgbmV3IGNhdGVnb3J5IG9iamVjdFxuICAgICAgcHJpbWFyeUJvZHlQYXJ0czogZGV0YWlsLmV4ZXJjaXNlLnByaW1hcnlCb2R5UGFydHMgfHwgW10sXG4gICAgICBzZWNvbmRhcnlCb2R5UGFydHM6IGRldGFpbC5leGVyY2lzZS5zZWNvbmRhcnlCb2R5UGFydHMgfHwgW10sXG4gICAgICB0YWdzOiBkZXRhaWwuZXhlcmNpc2UudGFncyB8fCBbXSxcbiAgICAgIHZpZGVvczogZGV0YWlsLmV4ZXJjaXNlLnZpZGVvcyB8fCBbXSxcbiAgICAgIGNyZWF0ZWRBdDogZGV0YWlsLmV4ZXJjaXNlLmNyZWF0ZWRBdCB8fCBuZXcgRGF0ZSgpLFxuICAgICAgdXBkYXRlZEF0OiBkZXRhaWwuZXhlcmNpc2UudXBkYXRlZEF0IHx8IG5ldyBEYXRlKClcbiAgICB9KTtcblxuICAgIC8vIENyZWF0ZSBleGVyY2lzZSByZWZlcmVuY2VcbiAgICBjb25zdCBleGVyY2lzZVJlZjogRXhlcmNpc2VSZWZlcmVuY2UgPSB7XG4gICAgICBleGVyY2lzZTogZXhlcmNpc2VJbnN0YW5jZSxcbiAgICAgIGdyb3VwSWQ6IGRldGFpbC5ncm91cElkIHx8IDBcbiAgICB9O1xuICAgIGV4ZXJjaXNlUmVmZXJlbmNlcy5wdXNoKGV4ZXJjaXNlUmVmKTtcblxuICAgIC8vIENyZWF0ZSBsb2dzIHVzaW5nIHRoZSBzYW1lIGNhdGVnb3J5IGRldGFpbHNcbiAgICBjb25zdCBzZXRzID0gY2F0ZWdvcnkuZGV0YWlscz8uc2V0cyA/PyAzO1xuICAgIGNvbnN0IHJlcHMgPSBjYXRlZ29yeS5kZXRhaWxzPy5yZXBzID8/IFsnMTInXTtcbiAgICBjb25zdCB3ZWlnaHQgPSBjYXRlZ29yeS5kZXRhaWxzPy53ZWlnaHQgPz8gMDtcblxuICAgIC8vIENyZWF0ZSBsb2dzIGZvciBlYWNoIHNldCB3aXRoIHZhbGlkYXRlZCBkYXRhXG4gICAgY29uc3Qgc2V0c0xvZ3MgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiBzZXRzIH0sICgpID0+IFxuICAgICAgbmV3IFJlcHNBbmRXZWlnaHRMb2coe1xuICAgICAgICByZXBzOiBwYXJzZUludChyZXBzWzBdIHx8ICcxMicsIDEwKSxcbiAgICAgICAgd2VpZ2h0OiB3ZWlnaHQgfHwgMFxuICAgICAgfSlcbiAgICApO1xuXG4gICAgLy8gQ3JlYXRlIGV4ZXJjaXNlIGxvZyB3aXRoIHZhbGlkYXRlZCBkYXRhXG4gICAgY29uc3QgZXhlcmNpc2VMb2dJZCA9IGV4ZXJjaXNlU2VydmljZS5nZW5lcmF0ZUV4ZXJjaXNlTG9nSUQoXG4gICAgICB3b3JrSWQsXG4gICAgICB1c2VyU2VydmljZS5jdXJyZW50VXNlcj8uaWQgfHwgJ2Fub255bW91cydcbiAgICApO1xuXG4gICAgY29uc3QgbG9nID0gbmV3IEV4ZXJjaXNlTG9nKHtcbiAgICAgIGlkOiBleGVyY2lzZUxvZ0lkLFxuICAgICAgd29ya291dElkOiB3b3JrSWQsXG4gICAgICB1c2VySWQ6IHVzZXJTZXJ2aWNlLmN1cnJlbnRVc2VyPy5pZCB8fCAnYW5vbnltb3VzJyxcbiAgICAgIGV4ZXJjaXNlOiBleGVyY2lzZUluc3RhbmNlLFxuICAgICAgbG9nczogc2V0c0xvZ3MsXG4gICAgICBmZWVkYmFjazogJycsXG4gICAgICBub3RlOiBkZXRhaWwubm90ZXMgfHwgJycsXG4gICAgICBpc1NwbGl0OiBkZXRhaWwuaXNTcGxpdCB8fCBmYWxzZSxcbiAgICAgIGxvZ1N1Ym1pdHRlZDogZmFsc2UsXG4gICAgICBsb2dJc0VkaXRpbmc6IGZhbHNlLFxuICAgICAgaXNDb21wbGV0ZWQ6IGZhbHNlLFxuICAgICAgb3JkZXI6IGluZGV4ICsgMSxcbiAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgIGNvbXBsZXRlZEF0OiBuZXcgRGF0ZSgpXG4gICAgfSk7XG4gICAgXG4gICAgZXhlcmNpc2VMb2dzLnB1c2gobG9nKTtcbiAgfSk7XG5cbiAgLy8gQ3JlYXRlIHdvcmtvdXQgd2l0aCB2YWxpZGF0ZWQgZGF0YVxuICBjb25zdCBuZXdXb3Jrb3V0ID0gbmV3IFdvcmtvdXQoe1xuICAgIGlkOiB3b3JrSWQsXG4gICAgcm91bmRXb3Jrb3V0SWQ6ICcnLFxuICAgIGV4ZXJjaXNlczogZXhlcmNpc2VSZWZlcmVuY2VzLFxuICAgIGxvZ3M6IGV4ZXJjaXNlTG9ncyxcbiAgICB0aXRsZTogJycsXG4gICAgZGVzY3JpcHRpb246ICcnLFxuICAgIGR1cmF0aW9uOiAwLFxuICAgIHdvcmtvdXRSYXRpbmc6ICdub25lJyBhcyBXb3Jrb3V0UmF0aW5nLFxuICAgIHVzZUF1dGhvckNvbnRlbnQ6IGZhbHNlLFxuICAgIGlzQ29tcGxldGVkOiBmYWxzZSxcbiAgICB3b3Jrb3V0U3RhdHVzOiAnYXJjaGl2ZWQnIGFzIFdvcmtvdXRTdGF0dXMsXG4gICAgYXV0aG9yOiB1c2VyU2VydmljZS5jdXJyZW50VXNlcj8uaWQgfHwgJ1B1bHNlQUknLFxuICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgem9uZTogV29ya291dC5kZXRlcm1pbmVXb3Jrb3V0Wm9uZShleGVyY2lzZVJlZmVyZW5jZXMpIHx8ICdmdWxsJyBhcyBCb2R5Wm9uZVxuICB9KTtcblxuICByZXR1cm4geyB3b3Jrb3V0OiBuZXdXb3Jrb3V0LCBleGVyY2lzZUxvZ3MgfTtcblxufVxuXG4gIGFzeW5jIGdldFVzZXJCeUlkKHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxVc2VyPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVzZXJEb2MgPSBhd2FpdCBnZXREb2MoZG9jKGRiLCAndXNlcnMnLCB1c2VySWQpKTtcbiAgICAgIGlmICghdXNlckRvYy5leGlzdHMoKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VzZXIgbm90IGZvdW5kJyk7XG4gICAgICB9XG4gIFxuICAgICAgcmV0dXJuIG5ldyBVc2VyKHtcbiAgICAgICAgaWQ6IHVzZXJEb2MuaWQsXG4gICAgICAgIC4uLnVzZXJEb2MuZGF0YSgpIFxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgdXNlciBieSBJRDonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvLyBJbiBXb3Jrb3V0U2VydmljZVxuICBhc3luYyByZXZlcnRBdXRob3JGb3JtYXQod29ya291dElkOiBzdHJpbmcsIGF1dGhvcklkOiBzdHJpbmcpIHtcbiAgICBpZiAoIXVzZXJTZXJ2aWNlLmN1cnJlbnRVc2VyPy5pZCkgdGhyb3cgbmV3IEVycm9yKCdObyB1c2VyIHNpZ25lZCBpbicpO1xuICAgIFxuICAgIGNvbnN0IHdvcmtvdXRSZWYgPSBkb2MoZGIsICd1c2VycycsIHVzZXJTZXJ2aWNlLmN1cnJlbnRVc2VyLmlkLCAnTXlDcmVhdGVkV29ya291dHMnLCB3b3Jrb3V0SWQpO1xuICAgIGF3YWl0IHVwZGF0ZURvYyh3b3Jrb3V0UmVmLCB7XG4gICAgICBhdXRob3I6IGF1dGhvcklkXG4gICAgfSk7XG4gICB9XG5cbmFzeW5jIHVwZGF0ZVdvcmtvdXQod29ya291dDogV29ya291dCk6IFByb21pc2U8dm9pZD4ge1xuICBpZiAoIXVzZXJTZXJ2aWNlLmN1cnJlbnRVc2VyPy5pZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignTm8gdXNlciBpcyBzaWduZWQgaW4nKTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3Qgd29ya291dFJlZiA9IGRvYyhkYiwgJ3VzZXJzJywgdXNlclNlcnZpY2UuY3VycmVudFVzZXIuaWQsICdNeUNyZWF0ZWRXb3Jrb3V0cycsIHdvcmtvdXQuaWQpO1xuICAgIGF3YWl0IHNldERvYyh3b3Jrb3V0UmVmLCB3b3Jrb3V0LnRvRGljdGlvbmFyeSgpLCB7IG1lcmdlOiB0cnVlIH0pO1xuXG4gICAgLy8gVXBkYXRlIGxvZ3MgaWYgdGhleSBleGlzdFxuICAgIGlmICh3b3Jrb3V0LmxvZ3MgJiYgd29ya291dC5sb2dzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGJhdGNoID0gd3JpdGVCYXRjaChkYik7XG4gICAgICBjb25zdCBsb2dzUmVmID0gY29sbGVjdGlvbih3b3Jrb3V0UmVmLCAnbG9ncycpO1xuXG4gICAgICB3b3Jrb3V0LmxvZ3MuZm9yRWFjaChsb2cgPT4ge1xuICAgICAgICBjb25zdCBsb2dSZWYgPSBkb2MobG9nc1JlZiwgbG9nLmlkKTtcbiAgICAgICAgYmF0Y2guc2V0KGxvZ1JlZiwgbG9nLnRvRGljdGlvbmFyeSgpLCB7IG1lcmdlOiB0cnVlIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIGF3YWl0IGJhdGNoLmNvbW1pdCgpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyB3b3Jrb3V0OicsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuXG4gIC8qKlxuICAgKiBGZXRjaCB0aGUgdXNlcidzIGN1cnJlbnQgd29ya291dCAoZWl0aGVyIFF1ZXVlZFVwIG9yIEluUHJvZ3Jlc3MpLlxuICAgKi9cbiAgYXN5bmMgZmV0Y2hDdXJyZW50V29ya291dCh1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8V29ya291dCB8IG51bGw+IHtcbiAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgdGhpcy5mZXRjaEN1cnJlbnRXb3Jrb3V0U2Vzc2lvbih1c2VySWQpO1xuICAgIHJldHVybiBzZXNzaW9uLndvcmtvdXQ7XG4gIH1cblxuICBhc3luYyBnZXRBbGxTd2VhdGxpc3RzKHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxXb3Jrb3V0W10+IHtcbiAgICBpZiAoIXVzZXJJZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdVc2VyIElEIGlzIHJlcXVpcmVkJyk7XG4gICAgfVxuICBcbiAgICAvLyBSZWZlcmVuY2UgdG8gdGhlIHVzZXIncyB3b3Jrb3V0IGNvbGxlY3Rpb25cbiAgICBjb25zdCB3b3Jrb3V0c1JlZiA9IGNvbGxlY3Rpb24oZGIsICd1c2VycycsIHVzZXJJZCwgJ015Q3JlYXRlZFdvcmtvdXRzJyk7XG4gIFxuICAgIHRyeSB7XG4gICAgICAvLyBGZXRjaCBleGVyY2lzZXMgd2l0aCB2aWRlb3NcbiAgICAgIGNvbnN0IGV4ZXJjaXNlc1dpdGhWaWRlb3MgPSBhd2FpdCB0aGlzLmZldGNoQW5kTWFwRXhlcmNpc2VzV2l0aFZpZGVvcygpO1xuICBcbiAgICAgIC8vIFF1ZXJ5IHRvIGZldGNoIGFsbCB3b3Jrb3V0c1xuICAgICAgY29uc3Qgd29ya291dHNTbmFwc2hvdCA9IGF3YWl0IGdldERvY3Mod29ya291dHNSZWYpO1xuICAgICAgY29uc3Qgd29ya291dHM6IFdvcmtvdXRbXSA9IFtdO1xuICBcbiAgICAgIC8vIFByb2Nlc3MgZWFjaCB3b3Jrb3V0IGRvY3VtZW50XG4gICAgICBmb3IgKGNvbnN0IHdvcmtvdXREb2Mgb2Ygd29ya291dHNTbmFwc2hvdC5kb2NzKSB7XG4gICAgICAgIGNvbnN0IHdvcmtvdXREYXRhID0gd29ya291dERvYy5kYXRhKCk7XG4gICAgICAgIGNvbnN0IHdvcmtvdXRJZCA9IHdvcmtvdXREb2MuaWQ7XG4gIFxuICAgICAgICAvLyBNYXAgdGhlIGV4ZXJjaXNlcyBpbiB0aGUgd29ya291dCB0byB0aGUgZnVsbCBleGVyY2lzZSBvYmplY3RzIHdpdGggdmlkZW9zXG4gICAgICAgIGNvbnN0IG1hcHBlZEV4ZXJjaXNlcyA9ICh3b3Jrb3V0RGF0YS5leGVyY2lzZXMgfHwgW10pLm1hcCgoZXhlcmNpc2VSZWY6IGFueSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGZ1bGxFeGVyY2lzZSA9IGV4ZXJjaXNlc1dpdGhWaWRlb3MuZmluZChleCA9PiBleC5uYW1lID09PSBleGVyY2lzZVJlZi5leGVyY2lzZS5uYW1lKTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIlRoaXMgaXMgdGhlIG1hcHBlZCBleGVyY2lzZTogXCIgKyBmdWxsRXhlcmNpc2UpO1xuXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLmV4ZXJjaXNlUmVmLFxuICAgICAgICAgICAgZXhlcmNpc2U6IGZ1bGxFeGVyY2lzZSB8fCBleGVyY2lzZVJlZlxuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuXG4gIFxuICAgICAgICAvLyBQYXJzZSB3b3Jrb3V0IGRhdGEgaW50byB0aGUgZGVzaXJlZCBzdHJ1Y3R1cmVcbiAgICAgICAgY29uc3Qgd29ya291dCA9IG5ldyBXb3Jrb3V0KHtcbiAgICAgICAgICBpZDogd29ya291dERhdGEuaWQgfHwgJycsXG4gICAgICAgICAgcm91bmRXb3Jrb3V0SWQ6IHdvcmtvdXREYXRhLnJvdW5kV29ya291dElkIHx8ICcnLFxuICAgICAgICAgIGNvbGxlY3Rpb25JZDogd29ya291dERhdGEuY29sbGVjdGlvbklkLFxuICAgICAgICAgIGV4ZXJjaXNlczogbWFwcGVkRXhlcmNpc2VzLFxuICAgICAgICAgIGNoYWxsZW5nZTogd29ya291dERhdGEuY2hhbGxlbmdlLFxuICAgICAgICAgIGxvZ3M6IFtdLFxuICAgICAgICAgIHRpdGxlOiB3b3Jrb3V0RGF0YS50aXRsZSB8fCAnJyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogd29ya291dERhdGEuZGVzY3JpcHRpb24gfHwgJycsXG4gICAgICAgICAgZHVyYXRpb246IHdvcmtvdXREYXRhLmR1cmF0aW9uIHx8IDAsXG4gICAgICAgICAgd29ya291dFJhdGluZzogd29ya291dERhdGEud29ya291dFJhdGluZyxcbiAgICAgICAgICB1c2VBdXRob3JDb250ZW50OiB3b3Jrb3V0RGF0YS51c2VBdXRob3JDb250ZW50IHx8IGZhbHNlLFxuICAgICAgICAgIGlzQ29tcGxldGVkOiB3b3Jrb3V0RGF0YS5pc0NvbXBsZXRlZCB8fCBmYWxzZSxcbiAgICAgICAgICB3b3Jrb3V0U3RhdHVzOiB3b3Jrb3V0RGF0YS53b3Jrb3V0U3RhdHVzIHx8ICdub3RTdGFydGVkJyxcbiAgICAgICAgICBzdGFydFRpbWU6IHdvcmtvdXREYXRhLnN0YXJ0VGltZSA/IG5ldyBEYXRlKHdvcmtvdXREYXRhLnN0YXJ0VGltZSkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgb3JkZXI6IHdvcmtvdXREYXRhLm9yZGVyLFxuICAgICAgICAgIGF1dGhvcjogd29ya291dERhdGEuYXV0aG9yIHx8IHVzZXJJZCxcbiAgICAgICAgICBjcmVhdGVkQXQ6IHdvcmtvdXREYXRhLmNyZWF0ZWRBdCA/IG5ldyBEYXRlKHdvcmtvdXREYXRhLmNyZWF0ZWRBdCkgOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgIHVwZGF0ZWRBdDogd29ya291dERhdGEudXBkYXRlZEF0ID8gbmV3IERhdGUod29ya291dERhdGEudXBkYXRlZEF0KSA6IG5ldyBEYXRlKCksXG4gICAgICAgICAgem9uZTogd29ya291dERhdGEuem9uZSB8fCAnRlVMTF9CT0RZJyxcbiAgICAgICAgfSk7ICAgICAgICBcbiAgXG4gICAgICAgIC8vIEZldGNoIGFuZCBwcm9jZXNzIGxvZ3NcbiAgICAgICAgY29uc3QgbG9nc1JlZiA9IGNvbGxlY3Rpb24oZGIsICd1c2VycycsIHVzZXJJZCwgJ015Q3JlYXRlZFdvcmtvdXRzJywgd29ya291dElkLCAnbG9ncycpO1xuICAgICAgICBjb25zdCBsb2dzU25hcHNob3QgPSBhd2FpdCBnZXREb2NzKGxvZ3NSZWYpO1xuICAgICAgICB3b3Jrb3V0LmxvZ3MgPSBsb2dzU25hcHNob3QuZG9jcy5tYXAoKGxvZ0RvYykgPT4gKHtcbiAgICAgICAgICAuLi5sb2dEb2MuZGF0YSgpLFxuICAgICAgICAgIGlkOiBsb2dEb2MuaWQsXG4gICAgICAgIH0pKSBhcyBFeGVyY2lzZUxvZ1tdO1xuICBcbiAgICAgICAgd29ya291dHMucHVzaCh3b3Jrb3V0KTtcbiAgICAgIH1cbiAgXG4gICAgICByZXR1cm4gd29ya291dHM7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnN0IGZpcmVzdG9yZUVycm9yID0gZXJyb3IgYXMgRmlyZXN0b3JlRXJyb3I7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBzd2VhdGxpc3RzOicsIGZpcmVzdG9yZUVycm9yLm1lc3NhZ2UpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gZmV0Y2ggc3dlYXRsaXN0cycpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGdldFVzZXJDaGFsbGVuZ2VzQnlDaGFsbGVuZ2VJZChjaGFsbGVuZ2VJZDogc3RyaW5nKTogUHJvbWlzZTx7IHVzZXJDaGFsbGVuZ2VzOiBVc2VyQ2hhbGxlbmdlW107IGVycm9yPzogc3RyaW5nIH0+IHtcbiAgICBjb25zdCB1c2VyQ2hhbGxlbmdlc1JlZiA9IGNvbGxlY3Rpb24oZGIsICd1c2VyLWNoYWxsZW5nZScpO1xuICAgIGNvbnN0IHEgPSBxdWVyeSh1c2VyQ2hhbGxlbmdlc1JlZiwgd2hlcmUoJ2NoYWxsZW5nZUlkJywgJz09JywgY2hhbGxlbmdlSWQpKTtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBnZXREb2NzKHEpO1xuICAgICAgY29uc3QgdXNlckNoYWxsZW5nZXM6IFVzZXJDaGFsbGVuZ2VbXSA9IHNuYXBzaG90LmRvY3MubWFwKChkb2M6IERvY3VtZW50RGF0YSkgPT4ge1xuICAgICAgICBjb25zdCBkYXRhID0gZG9jLmRhdGEoKTtcbiAgICAgICAgcmV0dXJuIG5ldyBVc2VyQ2hhbGxlbmdlKGRhdGEpO1xuICAgICAgfSk7XG4gICAgICBpZiAodXNlckNoYWxsZW5nZXMubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4geyB1c2VyQ2hhbGxlbmdlcyB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHsgdXNlckNoYWxsZW5nZXM6IFtdLCBlcnJvcjogJ05vIHVzZXIgY2hhbGxlbmdlcyBmb3VuZCBmb3IgdGhpcyBjaGFsbGVuZ2UuJyB9O1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyB1c2VyIGNoYWxsZW5nZXMgYnkgY2hhbGxlbmdlSWQ6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIHsgdXNlckNoYWxsZW5nZXM6IFtdLCBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcicgfTtcbiAgICB9XG4gIH1cbiAgXG4gIC8qKlxuICAgKiBGZXRjaGVzIHdvcmtvdXQgc3VtbWFyaWVzIGZvciBhIHNwZWNpZmljIGRhdGUuXG4gICAqIEBwYXJhbSBkYXRlIC0gVGhlIGRhdGUgZm9yIHdoaWNoIHdvcmtvdXQgc3VtbWFyaWVzIGFyZSBiZWluZyBmZXRjaGVkLlxuICAgKiBAcmV0dXJucyBBIHByb21pc2UgcmVzb2x2aW5nIHRvIGFuIGFycmF5IG9mIHdvcmtvdXQgc3VtbWFyaWVzLlxuICAgKiBAdGhyb3dzIElmIG5vIHVzZXIgaXMgc2lnbmVkIGluIG9yIGlmIHRoZSBGaXJlc3RvcmUgcXVlcnkgZmFpbHMuXG4gICAqL1xuICBhc3luYyBmZXRjaFdvcmtvdXRTdW1tYXJpZXMoZGF0ZTogRGF0ZSk6IFByb21pc2U8V29ya291dFN1bW1hcnlbXT4ge1xuICAgIGNvbnN0IGN1cnJlbnRVc2VyID0gdXNlclNlcnZpY2UuY3VycmVudFVzZXI7XG4gICAgaWYgKCFjdXJyZW50VXNlcj8uaWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gdXNlciBpcyBzaWduZWQgaW4nKTtcbiAgICB9XG5cbiAgICAvLyBGb3JtYXQgdGhlIGRhdGUgdG8gbWF0Y2ggdGhlIGZvcm1hdCBpbiBGaXJlc3RvcmUgKCdNTS1kZC15eXl5JylcbiAgICBjb25zdCBmb3JtYXR0ZWREYXRlID0gZm9ybWF0KGRhdGUsICdNTS1kZC15eXl5Jyk7XG5cbiAgICAvLyBSZWZlcmVuY2UgdG8gdGhlIHVzZXIncyB3b3Jrb3V0U3VtbWFyaWVzIHN1YmNvbGxlY3Rpb25cbiAgICBjb25zdCBzdW1tYXJpZXNSZWYgPSBjb2xsZWN0aW9uKGRiLCAndXNlcnMnLCBjdXJyZW50VXNlci5pZCwgJ3dvcmtvdXRTdW1tYXJpZXMnKTtcblxuICAgIC8vIENyZWF0ZSBhIHF1ZXJ5IHRvIGZpbHRlciBkb2N1bWVudHMgYnkgdGhlIHNwZWNpZmllZCBkYXRlXG4gICAgY29uc3QgcSA9IHF1ZXJ5KHN1bW1hcmllc1JlZiwgd2hlcmUoJ2RhdGUnLCAnPT0nLCBmb3JtYXR0ZWREYXRlKSk7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBnZXREb2NzKHEpO1xuXG4gICAgICAvLyBNYXAgdGhlIGRvY3VtZW50cyB0byBhbiBhcnJheSBvZiBXb3Jrb3V0U3VtbWFyeSBvYmplY3RzXG4gICAgICByZXR1cm4gc25hcHNob3QuZG9jcy5tYXAoKGRvYzogRG9jdW1lbnREYXRhKTogV29ya291dFN1bW1hcnkgPT4gKHtcbiAgICAgICAgaWQ6IGRvYy5pZCxcbiAgICAgICAgLi4uZG9jLmRhdGEoKSxcbiAgICAgIH0pKTtcbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zdCBmaXJlc3RvcmVFcnJvciA9IGVycm9yIGFzIEZpcmVzdG9yZUVycm9yO1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgd29ya291dCBzdW1tYXJpZXM6JywgZmlyZXN0b3JlRXJyb3IubWVzc2FnZSk7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZmlyZXN0b3JlRXJyb3IubWVzc2FnZSk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZmV0Y2hBbGxXb3Jrb3V0U3VtbWFyaWVzKCk6IFByb21pc2U8V29ya291dFN1bW1hcnlbXT4ge1xuICAgIGNvbnN0IGN1cnJlbnRVc2VyID0gdXNlclNlcnZpY2UuY3VycmVudFVzZXI7XG4gICAgaWYgKCFjdXJyZW50VXNlcj8uaWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gdXNlciBpcyBzaWduZWQgaW4nKTtcbiAgICB9XG4gIFxuICAgIC8vIFJlZmVyZW5jZSB0byB0aGUgdXNlcidzIHdvcmtvdXRTdW1tYXJpZXMgc3ViY29sbGVjdGlvblxuICAgIGNvbnN0IHN1bW1hcmllc1JlZiA9IGNvbGxlY3Rpb24oZGIsICd1c2VycycsIGN1cnJlbnRVc2VyLmlkLCAnd29ya291dFN1bW1hcnknKTtcbiAgXG4gICAgLy8gUXVlcnkgdG8gcmV0cmlldmUgYWxsIHdvcmtvdXQgc3VtbWFyaWVzLCBzb3J0ZWQgYnkgYGNyZWF0ZWRBdGAgaW4gYXNjZW5kaW5nIG9yZGVyXG4gICAgY29uc3QgcSA9IHF1ZXJ5KHN1bW1hcmllc1JlZiwgb3JkZXJCeSgnY3JlYXRlZEF0JywgJ2FzYycpKTsgLy8gQWRqdXN0IGZpZWxkIG5hbWUgYmFzZWQgb24geW91ciBzY2hlbWFcbiAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhxKTtcbiAgXG4gICAgICAvLyBNYXAgdGhlIGRvY3VtZW50cyB0byBhbiBhcnJheSBvZiBXb3Jrb3V0U3VtbWFyeSBvYmplY3RzXG4gICAgICByZXR1cm4gc25hcHNob3QuZG9jcy5tYXAoKGRvYzogRG9jdW1lbnREYXRhKTogV29ya291dFN1bW1hcnkgPT4gKHtcbiAgICAgICAgaWQ6IGRvYy5pZCxcbiAgICAgICAgLi4uZG9jLmRhdGEoKSxcbiAgICAgIH0pKTtcbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zdCBmaXJlc3RvcmVFcnJvciA9IGVycm9yIGFzIEZpcmVzdG9yZUVycm9yO1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgYWxsIHdvcmtvdXQgc3VtbWFyaWVzOicsIGZpcmVzdG9yZUVycm9yLm1lc3NhZ2UpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGZpcmVzdG9yZUVycm9yLm1lc3NhZ2UpO1xuICAgIH1cbiAgfVxuXG5cbiAgLyoqXG4gKiBGZXRjaCB1c2VyIGNoYWxsZW5nZXMgYnkgdXNlcklkLlxuICogQHBhcmFtIHVzZXJJZCBUaGUgSUQgb2YgdGhlIHVzZXIgdG8gZmV0Y2ggY2hhbGxlbmdlcyBmb3IuXG4gKiBAcmV0dXJucyBBIHByb21pc2UgcmVzb2x2aW5nIHRvIGFuIGFycmF5IG9mIHVzZXIgY2hhbGxlbmdlcy5cbiAqIEB0aHJvd3MgSWYgdGhlIEZpcmVzdG9yZSBxdWVyeSBmYWlscy5cbiAqL1xuYXN5bmMgZmV0Y2hVc2VyQ2hhbGxlbmdlc0J5VXNlcklkKHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxVc2VyQ2hhbGxlbmdlW10+IHtcbiAgY29uc3QgdXNlckNoYWxsZW5nZXNSZWYgPSBjb2xsZWN0aW9uKGRiLCAndXNlci1jaGFsbGVuZ2UnKTtcbiAgY29uc3QgcSA9IHF1ZXJ5KHVzZXJDaGFsbGVuZ2VzUmVmLCB3aGVyZSgndXNlcklkJywgJz09JywgdXNlcklkKSk7XG5cbiAgdHJ5IHtcbiAgICAvLyBjb25zb2xlLmxvZyhgRmV0Y2hpbmcgY2hhbGxlbmdlcyBmb3IgdXNlciBJRDogJHt1c2VySWR9YCk7XG5cbiAgICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IGdldERvY3MocSk7XG5cbiAgICAvLyBjb25zb2xlLmxvZyhgVG90YWwgY2hhbGxlbmdlcyBmZXRjaGVkOiAke3NuYXBzaG90LmRvY3MubGVuZ3RofWApO1xuXG4gICAgY29uc3QgdXNlckNoYWxsZW5nZXMgPSBzbmFwc2hvdC5kb2NzLm1hcCgoZG9jOiBEb2N1bWVudERhdGEpID0+IHtcbiAgICAgIGNvbnN0IGRhdGEgPSBkb2MuZGF0YSgpO1xuICAgICAgLy8gY29uc29sZS5sb2coYFByb2Nlc3NpbmcgY2hhbGxlbmdlIHdpdGggSUQ6ICR7ZG9jLmlkfWAsIGRhdGEpO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZDogZG9jLmlkLFxuICAgICAgICAuLi5kYXRhLFxuICAgICAgICBjaGFsbGVuZ2U6IGRhdGEuY2hhbGxlbmdlXG4gICAgICAgICAgPyBuZXcgQ2hhbGxlbmdlKHtcbiAgICAgICAgICAgICAgaWQ6IGRhdGEuY2hhbGxlbmdlLmlkLFxuICAgICAgICAgICAgICB0aXRsZTogZGF0YS5jaGFsbGVuZ2UudGl0bGUsXG4gICAgICAgICAgICAgIHN1YnRpdGxlOiBkYXRhLmNoYWxsZW5nZS5zdWJ0aXRsZSxcbiAgICAgICAgICAgICAgcGFydGljaXBhbnRzOiBkYXRhLmNoYWxsZW5nZS5wYXJ0aWNpcGFudHMgfHwgW10sXG4gICAgICAgICAgICAgIHN0YXR1czogZGF0YS5jaGFsbGVuZ2Uuc3RhdHVzIGFzIENoYWxsZW5nZVN0YXR1cyxcbiAgICAgICAgICAgICAgc3RhcnREYXRlOiBkYXRhLmNoYWxsZW5nZS5zdGFydERhdGUgPyBuZXcgRGF0ZShkYXRhLmNoYWxsZW5nZS5zdGFydERhdGUpIDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgZW5kRGF0ZTogZGF0YS5jaGFsbGVuZ2UuZW5kRGF0ZSA/IG5ldyBEYXRlKGRhdGEuY2hhbGxlbmdlLmVuZERhdGUpIDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgY3JlYXRlZEF0OiBkYXRhLmNoYWxsZW5nZS5jcmVhdGVkQXQgPyBuZXcgRGF0ZShkYXRhLmNoYWxsZW5nZS5jcmVhdGVkQXQpIDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgdXBkYXRlZEF0OiBkYXRhLmNoYWxsZW5nZS51cGRhdGVkQXQgPyBuZXcgRGF0ZShkYXRhLmNoYWxsZW5nZS51cGRhdGVkQXQpIDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgaW50cm9WaWRlb3M6IChkYXRhLmNoYWxsZW5nZS5pbnRyb1ZpZGVvcyB8fCBbXSkubWFwKCh2OiBhbnkpID0+IFxuICAgICAgICAgICAgICAgIG5ldyBJbnRyb1ZpZGVvKHtcbiAgICAgICAgICAgICAgICAgIGlkOiB2LmlkLFxuICAgICAgICAgICAgICAgICAgdXNlcklkOiB2LnVzZXJJZCxcbiAgICAgICAgICAgICAgICAgIHZpZGVvVXJsOiB2LnZpZGVvVXJsXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgY3JlYXRlZEF0OiBjb252ZXJ0VGltZXN0YW1wKGRhdGEuY3JlYXRlZEF0KSxcbiAgICAgICAgdXBkYXRlZEF0OiBjb252ZXJ0VGltZXN0YW1wKGRhdGEudXBkYXRlZEF0KSxcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvLyBjb25zb2xlLmxvZygnQWxsIGNoYWxsZW5nZXMgYWZ0ZXIgcHJvY2Vzc2luZzonLCBKU09OLnN0cmluZ2lmeSh1c2VyQ2hhbGxlbmdlcywgbnVsbCwgMikpO1xuXG4gICAgcmV0dXJuIHVzZXJDaGFsbGVuZ2VzO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHVzZXIgY2hhbGxlbmdlcyBieSB1c2VySWQ6JywgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbmFzeW5jIGZldGNoQ29sbGVjdGlvbldpdGhTd2VhdExpc3RzKGNvbGxlY3Rpb25JZDogc3RyaW5nKTogUHJvbWlzZTx7IGNvbGxlY3Rpb246IGFueSwgc3dlYXRMaXN0czogV29ya291dFtdIH0+IHtcbiAgdHJ5IHtcbiAgICAvLyBGZXRjaCB0aGUgY29sbGVjdGlvblxuICAgIGNvbnN0IGNvbGxlY3Rpb24gPSBhd2FpdCB0aGlzLmdldENvbGxlY3Rpb25CeUlkKGNvbGxlY3Rpb25JZCk7XG5cbiAgICAvLyBGZXRjaCBzd2VhdCBsaXN0cyAod29ya291dHMpXG4gICAgY29uc3Qgc3dlYXRMaXN0czogV29ya291dFtdID0gW107XG4gICAgXG4gICAgLy8gQXNzdW1pbmcgY29sbGVjdGlvbiBoYXMgc3dlYXRsaXN0SWRzIHdpdGggYXV0aG9yIGFuZCB3b3Jrb3V0IElEc1xuICAgIGZvciAoY29uc3Qgc3dlYXRsaXN0SWRlbnRpZmllciBvZiBjb2xsZWN0aW9uLnN3ZWF0bGlzdElkcyB8fCBbXSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgW3dvcmtvdXRdID0gYXdhaXQgdGhpcy5mZXRjaFNhdmVkV29ya291dChcbiAgICAgICAgICBzd2VhdGxpc3RJZGVudGlmaWVyLnN3ZWF0bGlzdEF1dGhvcklkLCBcbiAgICAgICAgICBzd2VhdGxpc3RJZGVudGlmaWVyLmlkXG4gICAgICAgICk7XG4gICAgICAgIFxuICAgICAgICBpZiAod29ya291dCkge1xuICAgICAgICAgIHN3ZWF0TGlzdHMucHVzaCh3b3Jrb3V0KTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgZmV0Y2hpbmcgd29ya291dCAke3N3ZWF0bGlzdElkZW50aWZpZXIuaWR9OmAsIGVycm9yKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4geyBjb2xsZWN0aW9uLCBzd2VhdExpc3RzIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgY29sbGVjdGlvbiB3aXRoIHN3ZWF0IGxpc3RzOicsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuXG5hc3luYyBmZXRjaFNhdmVkV29ya291dCh1c2VySWQ6IHN0cmluZywgd29ya291dElkOiBzdHJpbmcpOiBQcm9taXNlPFtXb3Jrb3V0IHwgbnVsbCwgRXhlcmNpc2VMb2dbXSB8IG51bGxdPiB7XG4gIHRyeSB7XG4gICAgY29uc3Qgd29ya291dFJlZiA9IGRvYyhkYiwgJ3VzZXJzJywgdXNlcklkLCAnTXlDcmVhdGVkV29ya291dHMnLCB3b3Jrb3V0SWQpO1xuICAgIGNvbnN0IHdvcmtvdXRTbmFwID0gYXdhaXQgZ2V0RG9jKHdvcmtvdXRSZWYpO1xuICAgIFxuICAgIGlmICghd29ya291dFNuYXAuZXhpc3RzKCkpIHtcbiAgICAgIHJldHVybiBbbnVsbCwgbnVsbF07XG4gICAgfVxuXG4gICAgY29uc3Qgd29ya291dERhdGEgPSB3b3Jrb3V0U25hcC5kYXRhKCk7XG4gICAgY29uc29sZS5sb2coXCIxLiBSYXcgd29ya291dCBkYXRhIGZyb20gREI6XCIsIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIGV4ZXJjaXNlczogd29ya291dERhdGEuZXhlcmNpc2VzPy5tYXAoKGV4OiBhbnkpID0+ICh7XG4gICAgICAgIG5hbWU6IGV4LmV4ZXJjaXNlLm5hbWUsXG4gICAgICAgIGNhdGVnb3J5OiBleC5leGVyY2lzZS5jYXRlZ29yeVxuICAgICAgfSkpXG4gICAgfSwgbnVsbCwgMikpO1xuXG4gICAgY29uc3QgZXhlcmNpc2VzV2l0aFZpZGVvcyA9IGF3YWl0IHRoaXMuZmV0Y2hBbmRNYXBFeGVyY2lzZXNXaXRoVmlkZW9zKCk7XG5cbiAgICAvLyBNYXAgdGhlIGV4ZXJjaXNlcyB3aGlsZSBwcmVzZXJ2aW5nIG9yaWdpbmFsIGRhdGFcbiAgICBjb25zdCBtYXBwZWRFeGVyY2lzZXMgPSAod29ya291dERhdGEuZXhlcmNpc2VzIHx8IFtdKS5tYXAoKGV4ZXJjaXNlUmVmOiBhbnkpID0+IHtcbiAgICAgIC8vIEZpbmQgbWF0Y2hpbmcgZXhlcmNpc2UganVzdCBmb3IgaXRzIHZpZGVvc1xuICAgICAgY29uc3QgZXhlcmNpc2VOYW1lTG93ZXIgPSBleGVyY2lzZVJlZi5leGVyY2lzZT8ubmFtZT8udG9Mb3dlckNhc2UoKS50cmltKCk7XG4gICAgICBjb25zdCBtYXRjaGluZ0V4ZXJjaXNlID0gZXhlcmNpc2VzV2l0aFZpZGVvcy5maW5kKFxuICAgICAgICBleCA9PiBleC5uYW1lLnRvTG93ZXJDYXNlKCkudHJpbSgpID09PSBleGVyY2lzZU5hbWVMb3dlclxuICAgICAgKTtcblxuICAgICAgLy8gQ3JlYXRlIG5ldyBFeGVyY2lzZSB1c2luZyBvcmlnaW5hbCBkYXRhIGJ1dCBhZGQgdmlkZW9zIGZyb20gbWF0Y2hpbmcgZXhlcmNpc2VcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLmV4ZXJjaXNlUmVmLFxuICAgICAgICBleGVyY2lzZTogbmV3IEV4ZXJjaXNlKHtcbiAgICAgICAgICAuLi5leGVyY2lzZVJlZi5leGVyY2lzZSxcbiAgICAgICAgICB2aWRlb3M6IG1hdGNoaW5nRXhlcmNpc2U/LnZpZGVvcyB8fCBbXSxcbiAgICAgICAgICAvLyBFeHBsaWNpdGx5IHByZXNlcnZlIHRoZSBvcmlnaW5hbCBjYXRlZ29yeVxuICAgICAgICAgIGNhdGVnb3J5OiBleGVyY2lzZVJlZi5leGVyY2lzZS5jYXRlZ29yeVxuICAgICAgICB9KVxuICAgICAgfTtcbiAgICB9KTtcblxuICAgIHdvcmtvdXREYXRhLmV4ZXJjaXNlcyA9IG1hcHBlZEV4ZXJjaXNlcztcbiAgICBjb25zdCB3b3Jrb3V0ID0gbmV3IFdvcmtvdXQoe1xuICAgICAgaWQ6IHdvcmtvdXRJZCxcbiAgICAgIC4uLndvcmtvdXREYXRhXG4gICAgfSk7XG5cbiAgIFxuICAgIC8vIFNpbWlsYXJseSBmb3IgbG9ncywgcHJlc2VydmUgb3JpZ2luYWwgZXhlcmNpc2UgZGF0YVxuICAgIGNvbnN0IGxvZ3NSZWYgPSBjb2xsZWN0aW9uKHdvcmtvdXRSZWYsICdsb2dzJyk7XG4gICAgY29uc3QgbG9nc1NuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhsb2dzUmVmKTtcblxuICAgXG4gICAgY29uc3QgbG9nczogRXhlcmNpc2VMb2dbXSA9IGxvZ3NTbmFwc2hvdC5kb2NzLm1hcChsb2dEb2MgPT4ge1xuICAgICAgY29uc3QgbG9nRGF0YSA9IGxvZ0RvYy5kYXRhKCk7XG4gICAgICBjb25zdCBtYXRjaGluZ0V4ZXJjaXNlID0gZXhlcmNpc2VzV2l0aFZpZGVvcy5maW5kKGV4ID0+IGV4Lm5hbWUgPT09IGxvZ0RhdGEuZXhlcmNpc2UubmFtZSk7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKFwiUmF3IGxvZ0RhdGE6XCIsIGxvZ0RhdGEsIG51bGwsIDIpO1xuICAgICAgdmFyIGV4ZXJjaXNlV2l0aFZpZGVvID0gbmV3IEV4ZXJjaXNlKHtcbiAgICAgICAgLi4ubG9nRGF0YS5leGVyY2lzZSxcbiAgICAgICAgdmlkZW9zOiBtYXRjaGluZ0V4ZXJjaXNlPy52aWRlb3MgfHwgW11cbiAgICAgIH0pXG5cbiAgICAgIGNvbnNvbGUubG9nKFwiRXhlcmNpc2Ugd2l0aCB2aWRlbzpcIiwgZXhlcmNpc2VXaXRoVmlkZW8sIG51bGwsIDIpO1xuXG4gICAgICB2YXIgZXhMb2cgPSBuZXcgRXhlcmNpc2VMb2coe1xuICAgICAgICBpZDogbG9nRG9jLmlkLFxuICAgICAgICB3b3Jrb3V0SWQ6IHdvcmtvdXRJZCxcbiAgICAgICAgdXNlcklkOiB1c2VySWQsXG4gICAgICAgIGV4ZXJjaXNlOiBleGVyY2lzZVdpdGhWaWRlbyxcbiAgICAgICAgbG9nczogbG9nRGF0YS5sb2dzIHx8IFtdLFxuICAgICAgICBmZWVkYmFjazogbG9nRGF0YS5mZWVkYmFjayB8fCAnJyxcbiAgICAgICAgbm90ZTogbG9nRGF0YS5ub3RlIHx8ICcnLFxuICAgICAgICByZWNvbW1lbmRlZFdlaWdodDogbG9nRGF0YS5yZWNvbW1lbmRlZFdlaWdodCB8fCAnY2FsY3VsYXRpbmcuLi4nLFxuICAgICAgICBpc1NwbGl0OiBsb2dEYXRhLmlzU3BsaXQgfHwgZmFsc2UsXG4gICAgICAgIGlzQm9keVdlaWdodDogbG9nRGF0YS5pc0JvZHlXZWlnaHQgfHwgZmFsc2UsXG4gICAgICAgIGxvZ1N1Ym1pdHRlZDogbG9nRGF0YS5sb2dTdWJtaXR0ZWQgfHwgZmFsc2UsXG4gICAgICAgIGxvZ0lzRWRpdGluZzogbG9nRGF0YS5sb2dJc0VkaXRpbmcgfHwgZmFsc2UsXG4gICAgICAgIGlzQ29tcGxldGVkOiBsb2dEYXRhLmlzQ29tcGxldGVkIHx8IGZhbHNlLFxuICAgICAgICBvcmRlcjogbG9nRGF0YS5vcmRlciB8fCBudWxsLFxuICAgICAgICBjb21wbGV0ZWRBdDogY29udmVydEZpcmVzdG9yZVRpbWVzdGFtcChsb2dEYXRhLmNvbXBsZXRlZEF0KSxcbiAgICAgICAgY3JlYXRlZEF0OiBjb252ZXJ0RmlyZXN0b3JlVGltZXN0YW1wKGxvZ0RhdGEuY3JlYXRlZEF0KSxcbiAgICAgICAgdXBkYXRlZEF0OiBjb252ZXJ0RmlyZXN0b3JlVGltZXN0YW1wKGxvZ0RhdGEudXBkYXRlZEF0KVxuICAgICAgfSk7XG5cbiAgICAgIGNvbnNvbGUubG9nKFwiRXhlcmNpc2UgbG9nOlwiLCBleExvZywgbnVsbCwgMik7XG4gICAgICBcbiAgICAgIHJldHVybiBleExvZ1xuICAgIH0pO1xuXG5cbiAgICB3b3Jrb3V0LmxvZ3MgPSBsb2dzO1xuICAgIHJldHVybiBbd29ya291dCwgbG9nc107XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgc2F2ZWQgd29ya291dDonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxuLyoqXG4gKiBGZXRjaCB1c2VyIGNoYWxsZW5nZXMgYnkgY2hhbGxlbmdlSWQuXG4gKiBAcGFyYW0gY2hhbGxlbmdlSWQgVGhlIElEIG9mIHRoZSBjaGFsbGVuZ2UgdG8gZmV0Y2ggYXNzb2NpYXRlZCB1c2VyIGNoYWxsZW5nZXMgZm9yLlxuICogQHJldHVybnMgQSBwcm9taXNlIHJlc29sdmluZyB0byBhbiBhcnJheSBvZiB1c2VyIGNoYWxsZW5nZXMuXG4gKiBAdGhyb3dzIElmIHRoZSBGaXJlc3RvcmUgcXVlcnkgZmFpbHMuXG4gKi9cbmFzeW5jIGZldGNoVXNlckNoYWxsZW5nZXNCeUNoYWxsZW5nZUlkKGNoYWxsZW5nZUlkOiBzdHJpbmcpOiBQcm9taXNlPFVzZXJDaGFsbGVuZ2VbXT4ge1xuICBjb25zdCB1c2VyQ2hhbGxlbmdlc1JlZiA9IGNvbGxlY3Rpb24oZGIsICd1c2VyLWNoYWxsZW5nZScpO1xuICBjb25zdCBxID0gcXVlcnkodXNlckNoYWxsZW5nZXNSZWYsIHdoZXJlKCdjaGFsbGVuZ2VJZCcsICc9PScsIGNoYWxsZW5nZUlkKSk7XG5cbiAgdHJ5IHtcbiAgICAvLyBjb25zb2xlLmxvZyhgRmV0Y2hpbmcgdXNlciBjaGFsbGVuZ2VzIGZvciBjaGFsbGVuZ2UgSUQ6ICR7Y2hhbGxlbmdlSWR9YCk7XG5cbiAgICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IGdldERvY3MocSk7XG5cbiAgICAvLyBjb25zb2xlLmxvZyhgVG90YWwgdXNlciBjaGFsbGVuZ2VzIGZldGNoZWQ6ICR7c25hcHNob3QuZG9jcy5sZW5ndGh9YCk7XG5cbiAgICBjb25zdCB1c2VyQ2hhbGxlbmdlcyA9IHNuYXBzaG90LmRvY3MubWFwKChkb2M6IERvY3VtZW50RGF0YSkgPT4ge1xuICAgICAgY29uc3QgZGF0YSA9IGRvYy5kYXRhKCk7XG4gICAgICAvLyBjb25zb2xlLmxvZyhgUHJvY2Vzc2luZyB1c2VyIGNoYWxsZW5nZSB3aXRoIElEOiAke2RvYy5pZH1gLCBkYXRhKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IGRvYy5pZCxcbiAgICAgICAgLi4uZGF0YSxcbiAgICAgICAgY2hhbGxlbmdlOiBkYXRhLmNoYWxsZW5nZVxuICAgICAgICAgID8gbmV3IENoYWxsZW5nZSh7XG4gICAgICAgICAgICAgIGlkOiBkYXRhLmNoYWxsZW5nZS5pZCxcbiAgICAgICAgICAgICAgdGl0bGU6IGRhdGEuY2hhbGxlbmdlLnRpdGxlLFxuICAgICAgICAgICAgICBzdWJ0aXRsZTogZGF0YS5jaGFsbGVuZ2Uuc3VidGl0bGUsXG4gICAgICAgICAgICAgIHBhcnRpY2lwYW50czogZGF0YS5jaGFsbGVuZ2UucGFydGljaXBhbnRzIHx8IFtdLFxuICAgICAgICAgICAgICBzdGF0dXM6IGRhdGEuY2hhbGxlbmdlLnN0YXR1cyBhcyBDaGFsbGVuZ2VTdGF0dXMsXG4gICAgICAgICAgICAgIHN0YXJ0RGF0ZTogZGF0YS5jaGFsbGVuZ2Uuc3RhcnREYXRlID8gbmV3IERhdGUoZGF0YS5jaGFsbGVuZ2Uuc3RhcnREYXRlKSA6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgIGVuZERhdGU6IGRhdGEuY2hhbGxlbmdlLmVuZERhdGUgPyBuZXcgRGF0ZShkYXRhLmNoYWxsZW5nZS5lbmREYXRlKSA6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgIGNyZWF0ZWRBdDogZGF0YS5jaGFsbGVuZ2UuY3JlYXRlZEF0ID8gbmV3IERhdGUoZGF0YS5jaGFsbGVuZ2UuY3JlYXRlZEF0KSA6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgIHVwZGF0ZWRBdDogZGF0YS5jaGFsbGVuZ2UudXBkYXRlZEF0ID8gbmV3IERhdGUoZGF0YS5jaGFsbGVuZ2UudXBkYXRlZEF0KSA6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgIGludHJvVmlkZW9zOiAoZGF0YS5jaGFsbGVuZ2UuaW50cm9WaWRlb3MgfHwgW10pLm1hcCgodjogYW55KSA9PiBcbiAgICAgICAgICAgICAgICBuZXcgSW50cm9WaWRlbyh7XG4gICAgICAgICAgICAgICAgICBpZDogdi5pZCxcbiAgICAgICAgICAgICAgICAgIHVzZXJJZDogdi51c2VySWQsXG4gICAgICAgICAgICAgICAgICB2aWRlb1VybDogdi52aWRlb1VybFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgIGNyZWF0ZWRBdDogY29udmVydFRpbWVzdGFtcChkYXRhLmNyZWF0ZWRBdCksXG4gICAgICAgIHVwZGF0ZWRBdDogY29udmVydFRpbWVzdGFtcChkYXRhLnVwZGF0ZWRBdCksXG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLy8gY29uc29sZS5sb2coJ0FsbCB1c2VyIGNoYWxsZW5nZXMgYWZ0ZXIgcHJvY2Vzc2luZzonLCBKU09OLnN0cmluZ2lmeSh1c2VyQ2hhbGxlbmdlcywgbnVsbCwgMikpO1xuXG4gICAgcmV0dXJuIHVzZXJDaGFsbGVuZ2VzO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHVzZXIgY2hhbGxlbmdlcyBieSBjaGFsbGVuZ2VJZDonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxuYXN5bmMgZ2V0Q29sbGVjdGlvbkJ5SWQoaWQ6IHN0cmluZyk6IFByb21pc2U8U3dlYXRsaXN0Q29sbGVjdGlvbj4ge1xuICBjb25zb2xlLmxvZyhcIkZldGNoaW5nIGNvbGxlY3Rpb24gd2l0aCBpZDpcIiwgaWQpO1xuICB0cnkge1xuICAgIGNvbnN0IGRvY1JlZiA9IGRvYyhkYiwgXCJzd2VhdGxpc3QtY29sbGVjdGlvblwiLCBpZCk7XG4gICAgY29uc3QgZG9jU25hcCA9IGF3YWl0IGdldERvYyhkb2NSZWYpO1xuICAgIGlmIChkb2NTbmFwLmV4aXN0cygpKSB7XG4gICAgICByZXR1cm4gbmV3IFN3ZWF0bGlzdENvbGxlY3Rpb24oe1xuICAgICAgICBpZDogZG9jU25hcC5pZCxcbiAgICAgICAgLi4uZG9jU25hcC5kYXRhKClcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb2xsZWN0aW9uIG5vdCBmb3VuZFwiKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGdldHRpbmcgY29sbGVjdGlvbiBieSBJRDpcIiwgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbi8vIEluIFdvcmtvdXRTZXJ2aWNlIGNsYXNzXG5hc3luYyBnZXRDb2xsZWN0aW9uc0J5SWRzKGNvbGxlY3Rpb25JZHM6IHN0cmluZ1tdKTogUHJvbWlzZTxTd2VhdGxpc3RDb2xsZWN0aW9uW10+IHtcbiAgdHJ5IHtcbiAgICAvLyBVc2UgUHJvbWlzZS5hbGwgdG8gZmV0Y2ggYWxsIGNvbGxlY3Rpb25zIGluIHBhcmFsbGVsXG4gICAgY29uc3QgY29sbGVjdGlvbnMgPSBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgIGNvbGxlY3Rpb25JZHMubWFwKGFzeW5jIChpZCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IGRvY1JlZiA9IGRvYyhkYiwgXCJzd2VhdGxpc3QtY29sbGVjdGlvblwiLCBpZCk7XG4gICAgICAgICAgY29uc3QgZG9jU25hcCA9IGF3YWl0IGdldERvYyhkb2NSZWYpO1xuICAgICAgICAgIGlmIChkb2NTbmFwLmV4aXN0cygpKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFN3ZWF0bGlzdENvbGxlY3Rpb24oe1xuICAgICAgICAgICAgICBpZDogZG9jU25hcC5pZCxcbiAgICAgICAgICAgICAgLi4uZG9jU25hcC5kYXRhKClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBmZXRjaGluZyBjb2xsZWN0aW9uICR7aWR9OmAsIGVycm9yKTtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICApO1xuXG4gICAgLy8gRmlsdGVyIG91dCBhbnkgbnVsbCB2YWx1ZXMgZnJvbSBmYWlsZWQgZmV0Y2hlc1xuICAgIHJldHVybiBjb2xsZWN0aW9ucy5maWx0ZXIoKGNvbGxlY3Rpb24pOiBjb2xsZWN0aW9uIGlzIFN3ZWF0bGlzdENvbGxlY3Rpb24gPT4gY29sbGVjdGlvbiAhPT0gbnVsbCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGZldGNoaW5nIGNvbGxlY3Rpb25zOlwiLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxuICBcbmFzeW5jIGZldGNoQ29sbGVjdGlvbnModXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPFN3ZWF0bGlzdENvbGxlY3Rpb25bXT4ge1xuICBpZiAoIXVzZXJJZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignVXNlciBJRCBpcyByZXF1aXJlZCcpO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBjb2xsZWN0aW9uc1JlZiA9IGZzQ29sbGVjdGlvbihkYiwgXCJzd2VhdGxpc3QtY29sbGVjdGlvblwiKTtcblxuICAgIC8vIFF1ZXJ5IGZvciByZWNvcmRzIHdoZXJlIG93bmVySWQgaXMgYW4gYXJyYXkgdGhhdCBjb250YWlucyB0aGUgdXNlcklkLlxuICAgIGNvbnN0IHFBcnJheSA9IHF1ZXJ5KGNvbGxlY3Rpb25zUmVmLCB3aGVyZShcIm93bmVySWRcIiwgXCJhcnJheS1jb250YWluc1wiLCB1c2VySWQpKTtcbiAgICBjb25zdCBzbmFwc2hvdEFycmF5ID0gYXdhaXQgZ2V0RG9jcyhxQXJyYXkpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25zRnJvbUFycmF5OiBTd2VhdGxpc3RDb2xsZWN0aW9uW10gPSBzbmFwc2hvdEFycmF5LmRvY3MubWFwKChkb2M6IFF1ZXJ5RG9jdW1lbnRTbmFwc2hvdDxEb2N1bWVudERhdGE+KSA9PiB7XG4gICAgICBjb25zdCBkYXRhID0geyBpZDogZG9jLmlkLCAuLi5kb2MuZGF0YSgpIH07XG4gICAgICByZXR1cm4gbmV3IFN3ZWF0bGlzdENvbGxlY3Rpb24oZGF0YSk7XG4gICAgfSk7XG5cbiAgICBjb25zb2xlLmxvZyhcIlRoZSBhcnJheSBjb2xsZWN0aW9uc1wiLCBjb2xsZWN0aW9uc0Zyb21BcnJheSk7XG5cbiAgICAvLyBRdWVyeSBmb3IgcmVjb3JkcyB3aGVyZSBvd25lcklkIGlzIGEgc3RyaW5nIGVxdWFsIHRvIHRoZSB1c2VySWQuXG4gICAgY29uc3QgcVN0cmluZyA9IHF1ZXJ5KGNvbGxlY3Rpb25zUmVmLCB3aGVyZShcIm93bmVySWRcIiwgXCI9PVwiLCB1c2VySWQpKTtcbiAgICBjb25zdCBzbmFwc2hvdFN0cmluZyA9IGF3YWl0IGdldERvY3MocVN0cmluZyk7XG4gICAgY29uc3QgY29sbGVjdGlvbnNGcm9tU3RyaW5nOiBTd2VhdGxpc3RDb2xsZWN0aW9uW10gPSBzbmFwc2hvdFN0cmluZy5kb2NzLm1hcCgoZG9jOiBRdWVyeURvY3VtZW50U25hcHNob3Q8RG9jdW1lbnREYXRhPikgPT4ge1xuICAgICAgY29uc3QgZGF0YSA9IHsgaWQ6IGRvYy5pZCwgLi4uZG9jLmRhdGEoKSB9O1xuICAgICAgcmV0dXJuIG5ldyBTd2VhdGxpc3RDb2xsZWN0aW9uKGRhdGEpO1xuICAgIH0pO1xuXG4gICAgY29uc29sZS5sb2coXCJUaGUgc3RyaW5nIGNvbGxlY3Rpb25zXCIsIGNvbGxlY3Rpb25zRnJvbVN0cmluZyk7XG5cblxuICAgIC8vIENvbWJpbmUgYm90aCBhcnJheXMgYW5kIHJlbW92ZSBkdXBsaWNhdGVzIChpZiBhbnkpIGJhc2VkIG9uIHRoZSBjb2xsZWN0aW9uIGlkLlxuICAgIGNvbnN0IGNvbWJpbmVkID0gWy4uLmNvbGxlY3Rpb25zRnJvbUFycmF5LCAuLi5jb2xsZWN0aW9uc0Zyb21TdHJpbmddO1xuICAgIGNvbnN0IHVuaXF1ZUNvbGxlY3Rpb25zID0gbmV3IE1hcDxzdHJpbmcsIFN3ZWF0bGlzdENvbGxlY3Rpb24+KCk7XG4gICAgY29tYmluZWQuZm9yRWFjaChjb2xsZWN0aW9uID0+IHtcbiAgICAgIHVuaXF1ZUNvbGxlY3Rpb25zLnNldChjb2xsZWN0aW9uLmlkLCBjb2xsZWN0aW9uKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBBcnJheS5mcm9tKHVuaXF1ZUNvbGxlY3Rpb25zLnZhbHVlcygpKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgc3dlYXRsaXN0czpcIiwgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cblxuXG4gICAgLyoqXG4gICAqIEZldGNoIHVzZXIgY2hhbGxlbmdlcyBieSB1c2VySWQgYW5kIGZpbHRlciBmb3IgYWN0aXZlIGNoYWxsZW5nZXMuXG4gICAqIEByZXR1cm5zIEEgcHJvbWlzZSByZXNvbHZpbmcgdG8gYW4gYXJyYXkgb2YgYWN0aXZlIGNoYWxsZW5nZXMuXG4gICAqIEB0aHJvd3MgSWYgbm8gdXNlciBpcyBzaWduZWQgaW4gb3IgaWYgdGhlIEZpcmVzdG9yZSBxdWVyeSBmYWlscy5cbiAgICovXG4gICAgYXN5bmMgZmV0Y2hBY3RpdmVDaGFsbGVuZ2VzKCk6IFByb21pc2U8VXNlckNoYWxsZW5nZVtdPiB7XG4gICAgICBjb25zdCBjdXJyZW50VXNlciA9IHVzZXJTZXJ2aWNlLmN1cnJlbnRVc2VyO1xuICAgICAgaWYgKCFjdXJyZW50VXNlcj8uaWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyB1c2VyIGlzIHNpZ25lZCBpbicpO1xuICAgICAgfVxuICAgIFxuICAgICAgY29uc3QgdXNlckNoYWxsZW5nZXNSZWYgPSBjb2xsZWN0aW9uKGRiLCAndXNlci1jaGFsbGVuZ2UnKTtcbiAgICAgIGNvbnN0IHEgPSBxdWVyeSh1c2VyQ2hhbGxlbmdlc1JlZiwgd2hlcmUoJ3VzZXJJZCcsICc9PScsIGN1cnJlbnRVc2VyLmlkKSk7XG4gICAgXG4gICAgICB0cnkge1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhgRmV0Y2hpbmcgY2hhbGxlbmdlcyBmb3IgdXNlciBJRDogJHtjdXJyZW50VXNlci5pZH1gKTtcbiAgICBcbiAgICAgICAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBnZXREb2NzKHEpO1xuICAgIFxuICAgICAgICAvLyBjb25zb2xlLmxvZyhgVG90YWwgY2hhbGxlbmdlcyBmZXRjaGVkOiAke3NuYXBzaG90LmRvY3MubGVuZ3RofWApO1xuICAgIFxuICAgICAgICBjb25zdCBhbGxDaGFsbGVuZ2VzID0gc25hcHNob3QuZG9jcy5tYXAoKGRvYzogRG9jdW1lbnREYXRhKSA9PiB7XG4gICAgICAgICAgY29uc3QgZGF0YSA9IGRvYy5kYXRhKCk7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2coYFByb2Nlc3NpbmcgY2hhbGxlbmdlIHdpdGggSUQ6ICR7ZG9jLmlkfWAsIGRhdGEpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFVzZSB0aGUgQ2hhbGxlbmdlIGNvbnN0cnVjdG9yIHRvIHBhcnNlIHRoZSBjaGFsbGVuZ2UgZGF0YVxuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiZGF0ZSBiZWZvcmUgZm9ybWF0OiBcIiArIGNvbnZlcnRGaXJlc3RvcmVUaW1lc3RhbXAoZGF0YS5jaGFsbGVuZ2Uuc3RhcnREYXRlKSk7XG5cbiAgICAgICAgICBjb25zdCBjaGFsbGVuZ2UgPSBkYXRhLmNoYWxsZW5nZVxuICAgICAgICAgICAgPyBuZXcgQ2hhbGxlbmdlKHtcbiAgICAgICAgICAgICAgICBpZDogZGF0YS5jaGFsbGVuZ2UuaWQsXG4gICAgICAgICAgICAgICAgdGl0bGU6IGRhdGEuY2hhbGxlbmdlLnRpdGxlLFxuICAgICAgICAgICAgICAgIHN1YnRpdGxlOiBkYXRhLmNoYWxsZW5nZS5zdWJ0aXRsZSxcbiAgICAgICAgICAgICAgICBwYXJ0aWNpcGFudHM6IGRhdGEuY2hhbGxlbmdlLnBhcnRpY2lwYW50cyB8fCBbXSxcbiAgICAgICAgICAgICAgICBzdGF0dXM6IGRhdGEuY2hhbGxlbmdlLnN0YXR1cyBhcyBDaGFsbGVuZ2VTdGF0dXMsXG4gICAgICAgICAgICAgICAgc3RhcnREYXRlOiBjb252ZXJ0RmlyZXN0b3JlVGltZXN0YW1wKGRhdGEuY2hhbGxlbmdlLnN0YXJ0RGF0ZSksXG4gICAgICAgICAgICAgICAgZW5kRGF0ZTogY29udmVydEZpcmVzdG9yZVRpbWVzdGFtcChkYXRhLmNoYWxsZW5nZS5lbmREYXRlKSxcbiAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IGNvbnZlcnRGaXJlc3RvcmVUaW1lc3RhbXAoZGF0YS5jaGFsbGVuZ2UuY3JlYXRlZEF0KSxcbiAgICAgICAgICAgICAgICB1cGRhdGVkQXQ6IGNvbnZlcnRGaXJlc3RvcmVUaW1lc3RhbXAoZGF0YS5jaGFsbGVuZ2UudXBkYXRlZEF0KSxcbiAgICAgICAgICAgICAgICBpbnRyb1ZpZGVvczogKGRhdGEuY2hhbGxlbmdlLmludHJvVmlkZW9zIHx8IFtdKS5tYXAoKHY6IGFueSkgPT4gXG4gICAgICAgICAgICAgICAgICBuZXcgSW50cm9WaWRlbyh7XG4gICAgICAgICAgICAgICAgICAgIGlkOiB2LmlkLFxuICAgICAgICAgICAgICAgICAgICB1c2VySWQ6IHYudXNlcklkLFxuICAgICAgICAgICAgICAgICAgICB2aWRlb1VybDogdi52aWRlb1VybFxuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpZDogZG9jLmlkLFxuICAgICAgICAgICAgLi4uZGF0YSxcbiAgICAgICAgICAgIGNoYWxsZW5nZSxcbiAgICAgICAgICAgIGNyZWF0ZWRBdDogY29udmVydEZpcmVzdG9yZVRpbWVzdGFtcChkYXRhLmNyZWF0ZWRBdCksXG4gICAgICAgICAgICB1cGRhdGVkQXQ6IGNvbnZlcnRGaXJlc3RvcmVUaW1lc3RhbXAoZGF0YS51cGRhdGVkQXQpLFxuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgIFxuICAgICAgICAvLyBjb25zb2xlLmxvZygnQWxsIGNoYWxsZW5nZXMgYWZ0ZXIgcHJvY2Vzc2luZzonLCBKU09OLnN0cmluZ2lmeShhbGxDaGFsbGVuZ2VzLCBudWxsLCAyKSk7XG4gICAgXG4gICAgICAgIC8vIEZpbHRlciBmb3IgYWN0aXZlIGNoYWxsZW5nZXMgKGVuZERhdGUgPiBjdXJyZW50IGRhdGUpXG4gICAgICAgIGNvbnN0IGFjdGl2ZUNoYWxsZW5nZXMgPSBhbGxDaGFsbGVuZ2VzLmZpbHRlcih1c2VyQ2hhbGxlbmdlID0+IHtcbiAgICAgICAgICBjb25zdCBlbmREYXRlID0gdXNlckNoYWxsZW5nZS5jaGFsbGVuZ2U/LmVuZERhdGU7XG4gICAgXG4gICAgICAgICAgLy8gY29uc29sZS5sb2coXG4gICAgICAgICAgLy8gICBgRXZhbHVhdGluZyBjaGFsbGVuZ2UgSUQ6ICR7dXNlckNoYWxsZW5nZS5pZH0sIEVuZCBEYXRlOiAke2VuZERhdGV9LCBDdXJyZW50IERhdGU6ICR7bmV3IERhdGUoKX1gXG4gICAgICAgICAgLy8gKTtcbiAgICBcbiAgICAgICAgICByZXR1cm4gZW5kRGF0ZSAmJiBlbmREYXRlID4gbmV3IERhdGUoKTtcbiAgICAgICAgfSk7XG4gICAgXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGBUb3RhbCBhY3RpdmUgY2hhbGxlbmdlczogJHthY3RpdmVDaGFsbGVuZ2VzLmxlbmd0aH1gLCBhY3RpdmVDaGFsbGVuZ2VzKTtcbiAgICBcbiAgICAgICAgcmV0dXJuIGFjdGl2ZUNoYWxsZW5nZXM7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBhY3RpdmUgY2hhbGxlbmdlczonLCBlcnJvcik7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuICAgIH1cbiAgICBcblxuICAvKipcbiAgICogRmV0Y2ggdXNlciBjaGFsbGVuZ2VzIGJ5IHVzZXJJZC5cbiAgICogQHJldHVybnMgQSBwcm9taXNlIHJlc29sdmluZyB0byBhbiBhcnJheSBvZiBjaGFsbGVuZ2VzLlxuICAgKiBAdGhyb3dzIElmIG5vIHVzZXIgaXMgc2lnbmVkIGluIG9yIGlmIHRoZSBGaXJlc3RvcmUgcXVlcnkgZmFpbHMuXG4gICAqL1xuICBhc3luYyBmZXRjaFVzZXJDaGFsbGVuZ2VzKCk6IFByb21pc2U8VXNlckNoYWxsZW5nZVtdPiB7XG4gICAgY29uc3QgY3VycmVudFVzZXIgPSB1c2VyU2VydmljZS5jdXJyZW50VXNlcjtcbiAgICBpZiAoIWN1cnJlbnRVc2VyPy5pZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyB1c2VyIGlzIHNpZ25lZCBpbicpO1xuICAgIH1cblxuICAgIC8vIFJlZmVyZW5jZSB0byB0aGUgdXNlci1jaGFsbGVuZ2UgY29sbGVjdGlvblxuICAgIGNvbnN0IHVzZXJDaGFsbGVuZ2VzUmVmID0gY29sbGVjdGlvbihkYiwgJ3VzZXItY2hhbGxlbmdlJyk7XG5cbiAgICAvLyBRdWVyeSBjaGFsbGVuZ2VzIHdoZXJlIHVzZXJJZCBtYXRjaGVzIHRoZSBjdXJyZW50IHVzZXIncyBJRFxuICAgIGNvbnN0IHEgPSBxdWVyeSh1c2VyQ2hhbGxlbmdlc1JlZiwgd2hlcmUoJ3VzZXJJZCcsICc9PScsIGN1cnJlbnRVc2VyLmlkKSk7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBnZXREb2NzKHEpO1xuXG4gICAgICAvLyBNYXAgZG9jdW1lbnRzIHRvIGFuIGFycmF5IG9mIENoYWxsZW5nZSBvYmplY3RzXG4gICAgICByZXR1cm4gc25hcHNob3QuZG9jcy5tYXAoKGRvYzogRG9jdW1lbnREYXRhKSA9PiBuZXcgVXNlckNoYWxsZW5nZSh7XG4gICAgICAgIGlkOiBkb2MuaWQsXG4gICAgICAgIC4uLmRvYy5kYXRhKCksXG4gICAgICB9KSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHVzZXIgY2hhbGxlbmdlczonLCBlcnJvcik7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCB1c2VyIGNoYWxsZW5nZXMnKTtcbiAgICB9XG4gIH1cbiAgXG4gIC8vdXBkYXRlIHRoZSB3b3Jrb3V0IHN1bW1hcnksXG4gIGFzeW5jIHVwZGF0ZVdvcmtvdXRTdW1tYXJ5KHtcbiAgICB1c2VySWQsXG4gICAgd29ya291dElkLFxuICAgIHN1bW1hcnlcbiAgfToge1xuICAgIHVzZXJJZDogc3RyaW5nLFxuICAgIHdvcmtvdXRJZDogc3RyaW5nLFxuICAgIHN1bW1hcnk6IFdvcmtvdXRTdW1tYXJ5XG4gIH0pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoIXVzZXJJZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyB1c2VyIElEIHByb3ZpZGVkJyk7XG4gICAgfVxuICBcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc3VtbWFyeVJlZiA9IGRvYyhkYiwgJ3VzZXJzJywgdXNlcklkLCAnd29ya291dFN1bW1hcnknLCBzdW1tYXJ5LmlkKTtcblxuICAgICAgLy8gVXBkYXRlIHRoZSB1cGRhdGVkQXQgdGltZXN0YW1wXG4gICAgICBzdW1tYXJ5LnVwZGF0ZWRBdCA9IG5ldyBEYXRlKCk7XG5cbiAgICAgIC8vIFVzZSB0aGUgdG9EaWN0aW9uYXJ5IG1ldGhvZCB0byBjb252ZXJ0IHRvIEZpcmVzdG9yZSBmb3JtYXRcbiAgICAgIGNvbnN0IHN1bW1hcnlEYXRhID0gc3VtbWFyeS50b0RpY3Rpb25hcnkoKTtcblxuICAgICAgY29uc29sZS5sb2coJ1VwZGF0aW5nIHdvcmtvdXQgc3VtbWFyeTonLCB7XG4gICAgICAgIHBhdGg6IGB1c2Vycy8ke3VzZXJJZH0vd29ya291dFN1bW1hcnkvJHtzdW1tYXJ5LmlkfWAsXG4gICAgICAgIGRhdGE6IHN1bW1hcnlEYXRhXG4gICAgICB9KTtcblxuICAgICAgYXdhaXQgc2V0RG9jKHN1bW1hcnlSZWYsIHN1bW1hcnlEYXRhLCB7IG1lcmdlOiB0cnVlIH0pO1xuICAgICAgY29uc29sZS5sb2coJ1dvcmtvdXQgc3VtbWFyeSBkb2N1bWVudCB1cGRhdGVkIHN1Y2Nlc3NmdWxseScpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyB3b3Jrb3V0IHN1bW1hcnk6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgdXBkYXRlV29ya291dExvZ3Moe1xuICAgIHVzZXJJZCxcbiAgICB3b3Jrb3V0SWQsIFxuICAgIGxvZ3NcbiAgfToge1xuICAgIHVzZXJJZDogc3RyaW5nLFxuICAgIHdvcmtvdXRJZDogc3RyaW5nLCBcbiAgICBsb2dzOiBFeGVyY2lzZUxvZ1tdXG4gIH0pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgd29ya291dFJlZiA9IGRvYyhkYiwgJ3VzZXJzJywgdXNlcklkLCAnd29ya291dFNlc3Npb25zJywgd29ya291dElkKTtcbiAgICAgIGNvbnN0IGxvZ3NSZWYgPSBjb2xsZWN0aW9uKHdvcmtvdXRSZWYsICdsb2dzJyk7XG4gICAgICBjb25zdCBiYXRjaCA9IHdyaXRlQmF0Y2goZGIpO1xuICAgICAgXG4gICAgICBsb2dzLmZvckVhY2gobG9nID0+IHtcbiAgICAgICAgY29uc3QgbG9nRG9jUmVmID0gZG9jKGxvZ3NSZWYsIGxvZy5pZCk7XG4gICAgICAgIGJhdGNoLnVwZGF0ZShsb2dEb2NSZWYsIHtcbiAgICAgICAgICAuLi5sb2cudG9EaWN0aW9uYXJ5KClcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgXG4gICAgICBhd2FpdCBiYXRjaC5jb21taXQoKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgd29ya291dCBsb2dzOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8vIFRoZSBjYW5jZWxXb3Jrb3V0IG1ldGhvZCDigJMgaXQgZGVsZXRlcyB0aGUgd29ya291dCBzZXNzaW9uIGFuZCBzdW1tYXJ5IChpZiBhbnkpLFxuLy8gY2xlYW5zIHVwIHRoZSBsb2NhbCBzdGF0ZSwgYW5kIGxvZ3MgdGhlIGNhbmNlbGxhdGlvbi5cbmFzeW5jIGNhbmNlbFdvcmtvdXQod29ya291dDogV29ya291dCB8IG51bGwsIHdvcmtvdXRTdW1tYXJ5OiBXb3Jrb3V0U3VtbWFyeSB8IG51bGwpOiBQcm9taXNlPHZvaWQ+IHtcbiAgaWYgKCF1c2VyU2VydmljZS5jdXJyZW50VXNlcj8uaWQgfHwgIXdvcmtvdXQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJVc2VyIG5vdCBhdXRoZW50aWNhdGVkLlwiKTtcbiAgfVxuXG4gIHRyeSB7ICAgIFxuICAgICAgYXdhaXQgdGhpcy5kZWxldGVXb3Jrb3V0U2Vzc2lvbih3b3Jrb3V0LmlkKTtcbiAgICAgIGlmICh3b3Jrb3V0U3VtbWFyeSkge1xuICAgICAgICBhd2FpdCB0aGlzLmRlbGV0ZVdvcmtvdXRTdW1tYXJ5KHdvcmtvdXRTdW1tYXJ5LmlkKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgdGhpcy5jbGVhblVwV29ya291dEluUHJvZ3Jlc3MoKTtcbiAgICAgIGNvbnNvbGUubG9nKFwiV29ya291dCBjYW5jZWxlZCBhbmQgY2xlYW5lZCB1cCBzdWNjZXNzZnVsbHkuXCIpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBjYW5jZWxpbmcgd29ya291dDpcIiwgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59XG4gIFxuLy8gRGVsZXRlcyBhIHdvcmtvdXQgc2Vzc2lvbiBkb2N1bWVudCBhbmQgYWxsIGl0cyBzdWJjb2xsZWN0aW9uIFwibG9nc1wiXG5hc3luYyBkZWxldGVXb3Jrb3V0U2Vzc2lvbih3b3Jrb3V0SWQ6IHN0cmluZyB8IG51bGwpOiBQcm9taXNlPHZvaWQ+IHtcbiAgaWYgKCF1c2VyU2VydmljZS5jdXJyZW50VXNlcj8uaWQgfHwgIXdvcmtvdXRJZCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlVzZXIgbm90IGF1dGhlbnRpY2F0ZWQuXCIpO1xuICB9XG4gIGNvbnN0IHVzZXJJZCA9IHVzZXJTZXJ2aWNlLmN1cnJlbnRVc2VyLmlkO1xuICBjb25zdCB3b3Jrb3V0UmVmID0gZG9jKGRiLCBcInVzZXJzXCIsIHVzZXJJZCwgXCJ3b3Jrb3V0U2Vzc2lvbnNcIiwgd29ya291dElkKTtcbiAgXG4gIHRyeSB7XG4gICAgLy8gRGVsZXRlIGFsbCBsb2dzIGluIHRoZSBzdWJjb2xsZWN0aW9uXG4gICAgY29uc3QgbG9nc1JlZiA9IGNvbGxlY3Rpb24od29ya291dFJlZiwgXCJsb2dzXCIpO1xuICAgIGNvbnN0IGxvZ3NTbmFwc2hvdCA9IGF3YWl0IGdldERvY3MobG9nc1JlZik7XG4gICAgY29uc3QgYmF0Y2ggPSB3cml0ZUJhdGNoKGRiKTtcbiAgICBcbiAgICBsb2dzU25hcHNob3QuZG9jcy5mb3JFYWNoKChsb2dEb2MpID0+IHtcbiAgICAgIGJhdGNoLmRlbGV0ZShsb2dEb2MucmVmKTtcbiAgICB9KTtcbiAgICBcbiAgICAvLyBEZWxldGUgdGhlIG1haW4gd29ya291dCBkb2N1bWVudFxuICAgIGJhdGNoLmRlbGV0ZSh3b3Jrb3V0UmVmKTtcbiAgICBcbiAgICBhd2FpdCBiYXRjaC5jb21taXQoKTtcbiAgICBjb25zb2xlLmxvZyhcIldvcmtvdXQgc2Vzc2lvbiBhbmQgbG9ncyBkZWxldGVkIHN1Y2Nlc3NmdWxseS5cIik7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGRlbGV0aW5nIHdvcmtvdXQgc2Vzc2lvbjpcIiwgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbiAgLy8gRGVsZXRlcyB0aGUgd29ya291dCBzdW1tYXJ5IGRvY3VtZW50LlxuICBhc3luYyBkZWxldGVXb3Jrb3V0U3VtbWFyeSh3b3Jrb3V0U3VtbWFyeUlkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoIXdvcmtvdXRTdW1tYXJ5SWQgfHwgIXVzZXJTZXJ2aWNlLmN1cnJlbnRVc2VyPy5pZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc3VtbWFyeVJlZiA9IGRvYyhkYiwgXCJ1c2Vyc1wiLCB1c2VyU2VydmljZS5jdXJyZW50VXNlci5pZCwgXCJ3b3Jrb3V0U3VtbWFyeVwiLCB3b3Jrb3V0U3VtbWFyeUlkKTtcbiAgICAgIGF3YWl0IGRlbGV0ZURvYyhzdW1tYXJ5UmVmKTtcbiAgICAgIGNvbnNvbGUubG9nKFwiV29ya291dCBzdW1tYXJ5IGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5LlwiKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGRlbGV0aW5nIHdvcmtvdXQgc3VtbWFyeTpcIiwgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLy8gQ2xlYW4gdXAgbG9jYWwgc3RvcmFnZSBhbmQgaW4tbWVtb3J5IHdvcmtvdXQgc3RhdGUuXG4gICAgY2xlYW5VcFdvcmtvdXRJblByb2dyZXNzKCk6IHZvaWQge1xuICAgICAgc3RvcmUuZGlzcGF0Y2gocmVzZXRXb3Jrb3V0U3RhdGUoKSk7XG4gICAgfVxuICAgICAgXG4gIFxuICAvKipcbiAgICogRmV0Y2ggdGhlIHdvcmtvdXQgc2Vzc2lvbiBmcm9tIEZpcmVzdG9yZSwgcmV0dXJuaW5nIHsgd29ya291dCwgbG9ncyB9LlxuICAgKiBDaGVja3MgZmlyc3QgZm9yIGEgUXVldWVkVXAgc2Vzc2lvbiwgdGhlbiBmb3IgSW5Qcm9ncmVzcy5cbiAgICovXG4gIGFzeW5jIGZldGNoQ3VycmVudFdvcmtvdXRTZXNzaW9uKHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTx7XG4gICAgd29ya291dDogV29ya291dCB8IG51bGw7XG4gICAgbG9nczogRXhlcmNpc2VMb2dbXSB8IG51bGw7XG4gICB9PiB7XG4gICAgaWYgKCF1c2VySWQpIHRocm93IG5ldyBFcnJvcignTm8gdXNlciBJRCBwcm92aWRlZCcpO1xuICAgXG4gICAgY29uc3QgZXhlcmNpc2VTbmFwc2hvdCA9IGF3YWl0IGdldERvY3MoY29sbGVjdGlvbihkYiwgJ2V4ZXJjaXNlcycpKTtcbiAgICBjb25zdCB2aWRlb1NuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhjb2xsZWN0aW9uKGRiLCAnZXhlcmNpc2VWaWRlb3MnKSk7XG4gICBcbiAgICBjb25zdCBleGVyY2lzZVZpZGVvcyA9IHZpZGVvU25hcHNob3QuZG9jcy5tYXAoKGRvYykgPT4gXG4gICAgICBuZXcgRXhlcmNpc2VWaWRlbyh7XG4gICAgICAgIGlkOiBkb2MuaWQsXG4gICAgICAgIC4uLmRvYy5kYXRhKClcbiAgICAgIH0pXG4gICAgKTtcbiAgIFxuICAgIGNvbnN0IGV4ZXJjaXNlc1dpdGhWaWRlb3MgPSBleGVyY2lzZVNuYXBzaG90LmRvY3MubWFwKGRvYyA9PiB7XG4gICAgICBjb25zdCBleGVyY2lzZSA9IG5ldyBFeGVyY2lzZSh7XG4gICAgICAgIGlkOiBkb2MuaWQsXG4gICAgICAgIC4uLmRvYy5kYXRhKClcbiAgICAgIH0pO1xuICAgXG4gICAgICBjb25zdCBtYXRjaGluZ1ZpZGVvcyA9IGV4ZXJjaXNlVmlkZW9zLmZpbHRlcihcbiAgICAgICAgKHZpZGVvKSA9PiB2aWRlby5leGVyY2lzZS50b0xvd2VyQ2FzZSgpID09PSBleGVyY2lzZS5uYW1lLnRvTG93ZXJDYXNlKClcbiAgICAgICk7XG4gICBcbiAgICAgIHJldHVybiBuZXcgRXhlcmNpc2Uoe1xuICAgICAgICAuLi5leGVyY2lzZSxcbiAgICAgICAgdmlkZW9zOiBtYXRjaGluZ1ZpZGVvc1xuICAgICAgfSk7XG4gICAgfSk7XG4gICBcbiAgICBjb25zdCB3b3Jrb3V0U2Vzc2lvbnNSZWYgPSBjb2xsZWN0aW9uKGRiLCAndXNlcnMnLCB1c2VySWQsICd3b3Jrb3V0U2Vzc2lvbnMnKTtcbiAgIFxuICAgIGxldCBxID0gcXVlcnkod29ya291dFNlc3Npb25zUmVmLCB3aGVyZSgnc3RhdHVzJywgJz09JywgV29ya291dFN0YXR1cy5RdWV1ZWRVcCkpO1xuICAgIGxldCBzbmFwID0gYXdhaXQgZ2V0RG9jcyhxKTtcbiAgIFxuICAgIGlmICghc25hcC5lbXB0eSkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvY2Vzc1dvcmtvdXRTZXNzaW9uRG9jdW1lbnQoc25hcC5kb2NzWzBdLCBleGVyY2lzZXNXaXRoVmlkZW9zKTtcbiAgICB9XG4gICBcbiAgICBxID0gcXVlcnkod29ya291dFNlc3Npb25zUmVmLCB3aGVyZSgnc3RhdHVzJywgJz09JywgV29ya291dFN0YXR1cy5JblByb2dyZXNzKSk7XG4gICAgc25hcCA9IGF3YWl0IGdldERvY3MocSk7XG4gICBcbiAgICBpZiAoIXNuYXAuZW1wdHkpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb2Nlc3NXb3Jrb3V0U2Vzc2lvbkRvY3VtZW50KHNuYXAuZG9jc1swXSwgZXhlcmNpc2VzV2l0aFZpZGVvcyk7XG4gICAgfVxuICAgXG4gICAgcmV0dXJuIHsgd29ya291dDogbnVsbCwgbG9nczogbnVsbCB9O1xuICAgfVxuXG4gIHByaXZhdGUgYXN5bmMgZmV0Y2hBbmRNYXBFeGVyY2lzZXNXaXRoVmlkZW9zKCk6IFByb21pc2U8RXhlcmNpc2VbXT4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBjb25zb2xlLmxvZygnU3RhcnRpbmcgZmV0Y2hBbmRNYXBFeGVyY2lzZXNXaXRoVmlkZW9zJyk7XG4gIFxuICAgICAgLy8gMS4gRmV0Y2ggYWxsIGV4ZXJjaXNlcyBcbiAgICAgIGNvbnN0IGV4ZXJjaXNlU25hcHNob3QgPSBhd2FpdCBnZXREb2NzKGNvbGxlY3Rpb24oZGIsICdleGVyY2lzZXMnKSk7XG4gICAgICBjb25zdCBleGVyY2lzZXMgPSBleGVyY2lzZVNuYXBzaG90LmRvY3MubWFwKChkb2MpID0+IFxuICAgICAgICBuZXcgRXhlcmNpc2Uoe1xuICAgICAgICAgIGlkOiBkb2MuaWQsXG4gICAgICAgICAgLi4uZG9jLmRhdGEoKVxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKGBGZXRjaGVkICR7ZXhlcmNpc2VzLmxlbmd0aH0gZXhlcmNpc2VzYCk7XG4gIFxuICAgICAgLy8gMi4gRmV0Y2ggYWxsIHZpZGVvc1xuICAgICAgY29uc3QgdmlkZW9TbmFwc2hvdCA9IGF3YWl0IGdldERvY3MoY29sbGVjdGlvbihkYiwgJ2V4ZXJjaXNlVmlkZW9zJykpO1xuICAgICAgY29uc3QgZXhlcmNpc2VWaWRlb3MgPSB2aWRlb1NuYXBzaG90LmRvY3MubWFwKChkb2MpID0+IFxuICAgICAgICBuZXcgRXhlcmNpc2VWaWRlbyh7XG4gICAgICAgICAgaWQ6IGRvYy5pZCxcbiAgICAgICAgICAuLi5kb2MuZGF0YSgpXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgICAgLy8gY29uc29sZS5sb2coYEZldGNoZWQgJHtleGVyY2lzZVZpZGVvcy5sZW5ndGh9IGV4ZXJjaXNlIHZpZGVvc2ApO1xuICBcbiAgICAgIC8vIDMuIE1hcCB2aWRlb3MgdG8gZXhlcmNpc2VzXG4gICAgICBjb25zdCBleGVyY2lzZXNXaXRoVmlkZW9zID0gZXhlcmNpc2VzLm1hcChleGVyY2lzZSA9PiB7XG4gICAgICAgIGNvbnN0IG1hdGNoaW5nVmlkZW9zID0gZXhlcmNpc2VWaWRlb3MuZmlsdGVyKFxuICAgICAgICAgICh2aWRlbykgPT4gdmlkZW8uZXhlcmNpc2UudG9Mb3dlckNhc2UoKSA9PT0gZXhlcmNpc2UubmFtZS50b0xvd2VyQ2FzZSgpXG4gICAgICAgICk7XG4gICAgICAgXG4gICAgICAgIHJldHVybiBuZXcgRXhlcmNpc2Uoe1xuICAgICAgICAgIC4uLmV4ZXJjaXNlLFxuICAgICAgICAgIHZpZGVvczogbWF0Y2hpbmdWaWRlb3NcbiAgICAgICAgfSk7XG4gICAgICAgfSk7XG4gIFxuICAgICAgLy8gY29uc29sZS5sb2coJ0ZpbmlzaGVkIG1hcHBpbmcgZXhlcmNpc2VzIHdpdGggdmlkZW9zJyk7XG4gICAgICAvLyBjb25zb2xlLmxvZyhgVG90YWwgZXhlcmNpc2VzIHdpdGggdmlkZW9zOiAke2V4ZXJjaXNlc1dpdGhWaWRlb3MubGVuZ3RofWApO1xuICAgICAgICBcbiAgICAgIHJldHVybiBleGVyY2lzZXNXaXRoVmlkZW9zO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBhbmQgbWFwcGluZyBleGVyY2lzZXMgd2l0aCB2aWRlb3M6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEhlbHBlciB0byBidWlsZCB0aGUgV29ya291dCBvYmplY3QgKyBhbnkgbG9ncyBmcm9tIHRoZSBzbmFwc2hvdC5cbiAgICovXG4gIGFzeW5jIGZldGNoQWxsV29ya291dFNlc3Npb25zKHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTx7XG4gICAgd29ya291dDogV29ya291dCB8IG51bGw7XG4gICAgbG9nczogRXhlcmNpc2VMb2dbXSB8IG51bGw7XG4gICB9W10+IHtcbiAgICBpZiAoIXVzZXJJZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyB1c2VyIElEIHByb3ZpZGVkJyk7XG4gICAgfVxuICAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGV4ZXJjaXNlU25hcHNob3QgPSBhd2FpdCBnZXREb2NzKGNvbGxlY3Rpb24oZGIsICdleGVyY2lzZXMnKSk7XG4gICAgICBjb25zdCBleGVyY2lzZXMgPSBleGVyY2lzZVNuYXBzaG90LmRvY3MubWFwKChkb2MpID0+IFxuICAgICAgICBuZXcgRXhlcmNpc2Uoe1xuICAgICAgICAgIGlkOiBkb2MuaWQsXG4gICAgICAgICAgLi4uZG9jLmRhdGEoKVxuICAgICAgICB9KVxuICAgICAgKTtcbiAgXG4gICAgICBjb25zdCB2aWRlb1NuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhjb2xsZWN0aW9uKGRiLCAnZXhlcmNpc2VWaWRlb3MnKSk7XG4gICAgICBjb25zdCBleGVyY2lzZVZpZGVvcyA9IHZpZGVvU25hcHNob3QuZG9jcy5tYXAoKGRvYykgPT4gXG4gICAgICAgIG5ldyBFeGVyY2lzZVZpZGVvKHtcbiAgICAgICAgICBpZDogZG9jLmlkLFxuICAgICAgICAgIC4uLmRvYy5kYXRhKClcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICBcbiAgICAgIGNvbnN0IGV4ZXJjaXNlc1dpdGhWaWRlb3MgPSBleGVyY2lzZXMubWFwKGV4ZXJjaXNlID0+IHtcbiAgICAgICAgY29uc3QgbWF0Y2hpbmdWaWRlb3MgPSBleGVyY2lzZVZpZGVvcy5maWx0ZXIoXG4gICAgICAgICAgKHZpZGVvKSA9PiB2aWRlby5leGVyY2lzZS50b0xvd2VyQ2FzZSgpID09PSBleGVyY2lzZS5uYW1lLnRvTG93ZXJDYXNlKClcbiAgICAgICAgKTtcbiAgIFxuICAgICAgICByZXR1cm4gbmV3IEV4ZXJjaXNlKHtcbiAgICAgICAgICAuLi5leGVyY2lzZSxcbiAgICAgICAgICB2aWRlb3M6IG1hdGNoaW5nVmlkZW9zXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICBcbiAgICAgIGNvbnN0IHdvcmtvdXRTZXNzaW9uc1JlZiA9IGNvbGxlY3Rpb24oZGIsICd1c2VycycsIHVzZXJJZCwgJ3dvcmtvdXRTZXNzaW9ucycpO1xuICAgICAgY29uc3Qgc25hcCA9IGF3YWl0IGdldERvY3Mod29ya291dFNlc3Npb25zUmVmKTtcbiAgIFxuICAgICAgaWYgKHNuYXAuZW1wdHkpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ05vIHdvcmtvdXQgc2Vzc2lvbnMgZm91bmQgZm9yIHVzZXInKTtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgXG4gICAgICBjb25zdCBzZXNzaW9ucyA9IGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICBzbmFwLmRvY3MubWFwKGFzeW5jIChkb2MpID0+IHtcbiAgICAgICAgICBjb25zdCBzZXNzaW9uRGF0YSA9IGF3YWl0IHRoaXMucHJvY2Vzc1dvcmtvdXRTZXNzaW9uRG9jdW1lbnQoXG4gICAgICAgICAgICBkb2MsIFxuICAgICAgICAgICAgZXhlcmNpc2VzV2l0aFZpZGVvc1xuICAgICAgICAgICk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKHNlc3Npb25EYXRhLmxvZ3MpIHtcbiAgICAgICAgICAgIHNlc3Npb25EYXRhLmxvZ3Muc29ydCgoYSwgYikgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBvcmRlckEgPSBhLm9yZGVyID8/IDA7XG4gICAgICAgICAgICAgIGNvbnN0IG9yZGVyQiA9IGIub3JkZXIgPz8gMDtcbiAgICAgICAgICAgICAgcmV0dXJuIG9yZGVyQSAtIG9yZGVyQjtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgIFxuICAgICAgICAgIHJldHVybiBzZXNzaW9uRGF0YTtcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICBcbiAgICAgIHJldHVybiBzZXNzaW9ucztcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgd29ya291dCBzZXNzaW9uczonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gICB9XG5cbiAgIC8vIEFkZCB0aGUgdXBkYXRlVXNlckNoYWxsZW5nZSBtZXRob2RcbiAgYXN5bmMgdXBkYXRlVXNlckNoYWxsZW5nZShjaGFsbGVuZ2U6IFVzZXJDaGFsbGVuZ2UpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoIXVzZXJTZXJ2aWNlLmN1cnJlbnRVc2VyPy5pZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHVzZXIgaXMgc2lnbmVkIGluJyk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgY2hhbGxlbmdlUmVmID0gZG9jKGRiLCAndXNlci1jaGFsbGVuZ2UnLCBjaGFsbGVuZ2UuaWQpO1xuICAgICAgICBjb25zdCBjaGFsbGVuZ2VEYXRhID0ge1xuICAgICAgICAgICAgLi4uY2hhbGxlbmdlLFxuICAgICAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpXG4gICAgICAgIH07XG5cbiAgICAgICAgYXdhaXQgc2V0RG9jKGNoYWxsZW5nZVJlZiwgY2hhbGxlbmdlRGF0YSwgeyBtZXJnZTogdHJ1ZSB9KTtcbiAgICAgICAgY29uc29sZS5sb2coJ1VzZXIgY2hhbGxlbmdlIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgdXNlciBjaGFsbGVuZ2U6JywgZXJyb3IpO1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICBhc3luYyB1cGRhdGVDb2xsZWN0aW9uKGNvbGxlY3Rpb246IFN3ZWF0bGlzdENvbGxlY3Rpb24pOiBQcm9taXNlPFN3ZWF0bGlzdENvbGxlY3Rpb24+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29sbFJlZiA9IGZzQ29sbGVjdGlvbihkYiwgXCJzd2VhdGxpc3QtY29sbGVjdGlvblwiKTtcbiAgXG4gICAgICAvLyBJZiBjb2xsZWN0aW9uLmlkIGlzIGVtcHR5LCBnZW5lcmF0ZSBhIG5ldyBkb2MgSUQgYW5kIGFzc2lnbiBpdC5cbiAgICAgIGlmICghY29sbGVjdGlvbi5pZCB8fCBjb2xsZWN0aW9uLmlkLnRyaW0oKSA9PT0gXCJcIikge1xuICAgICAgICBjb25zdCBuZXdEb2NSZWYgPSBkb2MoY29sbFJlZik7XG4gICAgICAgIGNvbGxlY3Rpb24uaWQgPSBuZXdEb2NSZWYuaWQ7XG4gICAgICB9XG4gIFxuICAgICAgLy8gRW5zdXJlIHRoZSBjaGFsbGVuZ2UgaWQgbWF0Y2hlcyB0aGUgY29sbGVjdGlvbiBpZC5cbiAgICAgIGlmIChjb2xsZWN0aW9uLmNoYWxsZW5nZSkge1xuICAgICAgICBjb2xsZWN0aW9uLmNoYWxsZW5nZS5pZCA9IGNvbGxlY3Rpb24uaWQ7XG4gICAgICB9XG4gIFxuICAgICAgLy8gVXBkYXRlIHRoZSB1cGRhdGVkQXQgZmllbGQuXG4gICAgICBjb2xsZWN0aW9uLnVwZGF0ZWRBdCA9IG5ldyBEYXRlKCk7XG4gIFxuICAgICAgLy8gU2F2ZSB0aGUgY29sbGVjdGlvbiB0byBGaXJlc3RvcmUuXG4gICAgICBhd2FpdCBzZXREb2MoZG9jKGNvbGxSZWYsIGNvbGxlY3Rpb24uaWQpLCBjb2xsZWN0aW9uLnRvRGljdGlvbmFyeSgpKTtcbiAgICAgIGNvbnNvbGUubG9nKFwiQ29sbGVjdGlvbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseVwiKTtcbiAgICAgIHJldHVybiBjb2xsZWN0aW9uO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgdXBkYXRpbmcgY29sbGVjdGlvbiBkb2N1bWVudDpcIiwgZXJyb3IpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXJyb3Igd2hpbGUgdXBkYXRpbmcgdGhlIGNvbGxlY3Rpb25cIik7XG4gICAgfVxuICB9XG4gIFxuICBwcml2YXRlIGFzeW5jIHByb2Nlc3NXb3Jrb3V0U2Vzc2lvbkRvY3VtZW50KFxuICAgIHdvcmtvdXREb2M6IFF1ZXJ5RG9jdW1lbnRTbmFwc2hvdDxEb2N1bWVudERhdGE+LFxuICAgIGV4ZXJjaXNlc1dpdGhWaWRlb3M6IEV4ZXJjaXNlW11cbiAgKTogUHJvbWlzZTx7IHdvcmtvdXQ6IFdvcmtvdXQ7IGxvZ3M6IEV4ZXJjaXNlTG9nW10gfT4ge1xuICAgIGNvbnN0IGRhdGEgPSB3b3Jrb3V0RG9jLmRhdGEoKTtcblxuICAgIC8vIE1hcCBleGVyY2lzZXMgd2l0aCB0aGVpciBmdWxsIGRhdGEgYW5kIHZpZGVvc1xuICAgIGNvbnN0IG1hcHBlZEV4ZXJjaXNlcyA9IChkYXRhLmV4ZXJjaXNlcyB8fCBbXSkubWFwKChleGVyY2lzZVJlZjogYW55KSA9PiB7XG4gICAgICAvLyBGaW5kIG1hdGNoaW5nIGV4ZXJjaXNlIGp1c3QgZm9yIGl0cyB2aWRlb3NcbiAgICAgIGNvbnN0IGV4ZXJjaXNlTmFtZUxvd2VyID0gZXhlcmNpc2VSZWYuZXhlcmNpc2U/Lm5hbWU/LnRvTG93ZXJDYXNlKCkudHJpbSgpO1xuICAgICAgY29uc3QgbWF0Y2hpbmdFeGVyY2lzZSA9IGV4ZXJjaXNlc1dpdGhWaWRlb3MuZmluZChcbiAgICAgICAgZXggPT4gZXgubmFtZS50b0xvd2VyQ2FzZSgpLnRyaW0oKSA9PT0gZXhlcmNpc2VOYW1lTG93ZXJcbiAgICAgICk7XG5cbiAgICAgIC8vIENyZWF0ZSBuZXcgRXhlcmNpc2UgdXNpbmcgb3JpZ2luYWwgZGF0YSBidXQgYWRkIHZpZGVvcyBmcm9tIG1hdGNoaW5nIGV4ZXJjaXNlXG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5leGVyY2lzZVJlZixcbiAgICAgICAgZXhlcmNpc2U6IG5ldyBFeGVyY2lzZSh7XG4gICAgICAgICAgLi4uZXhlcmNpc2VSZWYuZXhlcmNpc2UsXG4gICAgICAgICAgdmlkZW9zOiBtYXRjaGluZ0V4ZXJjaXNlPy52aWRlb3MgfHwgW10sXG4gICAgICAgICAgLy8gRXhwbGljaXRseSBwcmVzZXJ2ZSB0aGUgb3JpZ2luYWwgY2F0ZWdvcnlcbiAgICAgICAgICBjYXRlZ29yeTogZXhlcmNpc2VSZWYuZXhlcmNpc2UuY2F0ZWdvcnlcbiAgICAgICAgfSlcbiAgICAgIH07XG4gICAgfSk7XG4gIFxuXG4gICAgLy8gQ3JlYXRlIHRoZSB3b3Jrb3V0IHdpdGggbWFwcGVkIGV4ZXJjaXNlc1xuICAgIGNvbnN0IHdvcmtvdXQgPSBuZXcgV29ya291dCh7XG4gICAgICBpZDogd29ya291dERvYy5pZCxcbiAgICAgIHJvdW5kV29ya291dElkOiBkYXRhLnJvdW5kV29ya291dElkIHx8ICcnLFxuICAgICAgZXhlcmNpc2VzOiBtYXBwZWRFeGVyY2lzZXMsXG4gICAgICB0aXRsZTogZGF0YS50aXRsZSB8fCAnJyxcbiAgICAgIGRlc2NyaXB0aW9uOiBkYXRhLmRlc2NyaXB0aW9uIHx8ICcnLFxuICAgICAgZHVyYXRpb246IGRhdGEuZHVyYXRpb24gfHwgMCxcbiAgICAgIHVzZUF1dGhvckNvbnRlbnQ6IGRhdGEudXNlQXV0aG9yQ29udGVudCB8fCBmYWxzZSxcbiAgICAgIGlzQ29tcGxldGVkOiBkYXRhLmlzQ29tcGxldGVkIHx8IGZhbHNlLFxuICAgICAgd29ya291dFN0YXR1czogZGF0YS53b3Jrb3V0U3RhdHVzIHx8IFdvcmtvdXRTdGF0dXMuQXJjaGl2ZWQsXG4gICAgICBhdXRob3I6IGRhdGEuYXV0aG9yIHx8ICcnLFxuICAgICAgY3JlYXRlZEF0OiBjb252ZXJ0RmlyZXN0b3JlVGltZXN0YW1wKGRhdGEuY3JlYXRlZEF0KSxcbiAgICAgIHVwZGF0ZWRBdDogY29udmVydEZpcmVzdG9yZVRpbWVzdGFtcChkYXRhLnVwZGF0ZWRBdCksXG4gICAgICBzdGFydFRpbWU6IGNvbnZlcnRGaXJlc3RvcmVUaW1lc3RhbXAoZGF0YS5zdGFydFRpbWUpLFxuICAgICAgY29sbGVjdGlvbklkOiBkYXRhLmNvbGxlY3Rpb25JZCxcbiAgICAgIGNoYWxsZW5nZTogZGF0YS5jaGFsbGVuZ2UsXG4gICAgICBsb2dzOiAoZGF0YS5sb2dzIHx8IFtdKS5tYXAoKGxvZ0RhdGE6IGFueSkgPT4ge1xuICAgICAgICAvLyBNYXAgbG9ncyB3aXRoIGZ1bGwgZXhlcmNpc2VzXG4gICAgICAgIGNvbnN0IGV4ZXJjaXNlTmFtZUxvd2VyID0gbG9nRGF0YS5leGVyY2lzZT8ubmFtZT8udG9Mb3dlckNhc2UoKS50cmltKCk7XG4gICAgICAgIGNvbnN0IGZ1bGxFeGVyY2lzZSA9IGV4ZXJjaXNlc1dpdGhWaWRlb3MuZmluZChcbiAgICAgICAgICBleCA9PiBleC5uYW1lLnRvTG93ZXJDYXNlKCkudHJpbSgpID09PSBleGVyY2lzZU5hbWVMb3dlclxuICAgICAgICApO1xuICBcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5sb2dEYXRhLFxuICAgICAgICAgIGV4ZXJjaXNlOiBmdWxsRXhlcmNpc2UgfHwgbG9nRGF0YS5leGVyY2lzZVxuICAgICAgICB9O1xuICAgICAgfSksXG4gICAgICB3b3Jrb3V0UmF0aW5nOiBkYXRhLndvcmtvdXRSYXRpbmcsXG4gICAgICBvcmRlcjogZGF0YS5vcmRlcixcbiAgICAgIHpvbmU6IGRhdGEuem9uZSB8fCBCb2R5Wm9uZS5GdWxsQm9keVxuICAgIH0pO1xuICBcbiAgICAvLyBGZXRjaCBsb2dzIGZyb20gc3ViY29sbGVjdGlvblxuICAgIGNvbnN0IGxvZ3NSZWYgPSBjb2xsZWN0aW9uKHdvcmtvdXREb2MucmVmLCAnbG9ncycpO1xuICAgIGNvbnN0IGxvZ3NTbmFwc2hvdCA9IGF3YWl0IGdldERvY3MobG9nc1JlZik7XG4gICAgXG4gICAgY29uc3QgbG9nczogRXhlcmNpc2VMb2dbXSA9IGxvZ3NTbmFwc2hvdC5kb2NzLm1hcChsb2dEb2MgPT4ge1xuICAgICAgY29uc3QgbG9nRGF0YSA9IGxvZ0RvYy5kYXRhKCk7XG4gICAgICBcbiAgICAgIC8vIEZpbmQgdGhlIGNvcnJlc3BvbmRpbmcgbWFwcGVkIGV4ZXJjaXNlIHRoYXQgd2UgYWxyZWFkeSBwcm9jZXNzZWRcbiAgICAgIGNvbnN0IG1hdGNoaW5nTWFwcGVkRXhlcmNpc2UgPSBtYXBwZWRFeGVyY2lzZXMuZmluZChcbiAgICAgICAgKGV4OiBFeGVyY2lzZVJlZmVyZW5jZSkgPT4gZXguZXhlcmNpc2UubmFtZS50b0xvd2VyQ2FzZSgpLnRyaW0oKSA9PT0gbG9nRGF0YS5leGVyY2lzZT8ubmFtZT8udG9Mb3dlckNhc2UoKS50cmltKClcbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IHByZXBhcmVkTG9nRGF0YSA9IHtcbiAgICAgICAgLi4ubG9nRGF0YSxcbiAgICAgICAgaWQ6IGxvZ0RvYy5pZCxcbiAgICAgICAgd29ya291dElkOiB3b3Jrb3V0LmlkLFxuICAgICAgICAvLyBVc2UgdGhlIGV4ZXJjaXNlIGZyb20gb3VyIG1hcHBlZCBleGVyY2lzZXMgd2hpY2ggYWxyZWFkeSBoYXMgdGhlIGNvcnJlY3QgY2F0ZWdvcnkgYW5kIHZpZGVvc1xuICAgICAgICBleGVyY2lzZTogbWF0Y2hpbmdNYXBwZWRFeGVyY2lzZT8uZXhlcmNpc2UgfHwgbG9nRGF0YS5leGVyY2lzZSxcbiAgICAgICAgY3JlYXRlZEF0OiBjb252ZXJ0RmlyZXN0b3JlVGltZXN0YW1wKGxvZ0RhdGEuY3JlYXRlZEF0KSxcbiAgICAgICAgdXBkYXRlZEF0OiBjb252ZXJ0RmlyZXN0b3JlVGltZXN0YW1wKGxvZ0RhdGEudXBkYXRlZEF0KVxuICAgICAgfTtcblxuICAgICAgcmV0dXJuIG5ldyBFeGVyY2lzZUxvZyhwcmVwYXJlZExvZ0RhdGEpO1xuICAgIH0pO1xuICBcbiAgICByZXR1cm4geyB3b3Jrb3V0LCBsb2dzIH07XG4gIH1cblxuICBhc3luYyBzYXZlV29ya291dFNlc3Npb24oe1xuICAgIHVzZXJJZCxcbiAgICB3b3Jrb3V0LFxuICAgIGxvZ3NcbiAgfToge1xuICAgIHVzZXJJZDogc3RyaW5nLFxuICAgIHdvcmtvdXQ6IFdvcmtvdXQsXG4gICAgbG9nczogRXhlcmNpc2VMb2dbXVxuICB9KTogUHJvbWlzZTxXb3Jrb3V0IHwgbnVsbD4ge1xuICAgIGlmICghdXNlcklkKSB0aHJvdyBuZXcgRXJyb3IoJ05vIHVzZXIgSUQgcHJvdmlkZWQnKTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZygnSW5jb21pbmcgbG9nczonLCBsb2dzLm1hcChsb2cgPT4gKHtcbiAgICAgICAgbmFtZTogbG9nLmV4ZXJjaXNlLm5hbWUsXG4gICAgICAgIGNhdGVnb3J5OiBsb2cuZXhlcmNpc2UuY2F0ZWdvcnksXG4gICAgICAgIG9yaWdpbmFsVHlwZTogbG9nLmV4ZXJjaXNlLmNhdGVnb3J5Py50eXBlXG4gICAgICB9KSkpO1xuXG4gICAgICBjb25zdCBjdXJyZW50RGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICBcbiAgICAgIGNvbnN0IGNsZWFuV29ya291dCA9IG5ldyBXb3Jrb3V0KHtcbiAgICAgICAgLi4ud29ya291dCxcbiAgICAgICAgcm91bmRXb3Jrb3V0SWQ6IGAke3dvcmtvdXQuaWR9LSR7Y3VycmVudERhdGUuZ2V0VGltZSgpfWAsXG4gICAgICAgIHdvcmtvdXRTdGF0dXM6IFdvcmtvdXRTdGF0dXMuUXVldWVkVXAsXG4gICAgICAgIGNyZWF0ZWRBdDogY3VycmVudERhdGUsXG4gICAgICAgIHVwZGF0ZWRBdDogY3VycmVudERhdGUsXG4gICAgICAgIHN0YXJ0VGltZTogY3VycmVudERhdGUsXG4gICAgICAgIGxvZ3M6IFtdXG4gICAgICB9KTtcblxuICAgICAgY29uc3Qgd29ya291dFNlc3Npb25SZWYgPSBkb2MoY29sbGVjdGlvbihkYiwgJ3VzZXJzJywgdXNlcklkLCAnd29ya291dFNlc3Npb25zJykpO1xuICAgICAgYXdhaXQgc2V0RG9jKHdvcmtvdXRTZXNzaW9uUmVmLCBjbGVhbldvcmtvdXQudG9EaWN0aW9uYXJ5KCkpO1xuXG4gICAgICBjb25zdCBsb2dzUmVmID0gY29sbGVjdGlvbih3b3Jrb3V0U2Vzc2lvblJlZiwgJ2xvZ3MnKTtcbiAgICAgIGNvbnN0IGxvZ0JhdGNoID0gd3JpdGVCYXRjaChkYik7XG5cbiAgICAgIGxvZ3MuZm9yRWFjaCgobG9nLCBpbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBsb2dEb2NSZWYgPSBkb2MobG9nc1JlZiwgYCR7bG9nLmlkfS0ke2N1cnJlbnREYXRlLmdldFRpbWUoKX1gKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKGBQcm9jZXNzaW5nIGxvZyAke2luZGV4fTpgLCB7XG4gICAgICAgICAgbmFtZTogbG9nLmV4ZXJjaXNlLm5hbWUsXG4gICAgICAgICAgb3JpZ2luYWxDYXRlZ29yeTogbG9nLmV4ZXJjaXNlLmNhdGVnb3J5LFxuICAgICAgICAgIG9yaWdpbmFsVHlwZTogbG9nLmV4ZXJjaXNlLmNhdGVnb3J5Py50eXBlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFByZXNlcnZlIHRoZSBjYXRlZ29yeSBzdHJ1Y3R1cmVcbiAgICAgICAgY29uc3QgZXhlcmNpc2VXaXRoQ2F0ZWdvcnkgPSB7XG4gICAgICAgICAgLi4ubG9nLmV4ZXJjaXNlLnRvRGljdGlvbmFyeSgpLFxuICAgICAgICAgIGNhdGVnb3J5OiBsb2cuZXhlcmNpc2UuY2F0ZWdvcnk/LnR5cGUgPT09ICd3ZWlnaHQtdHJhaW5pbmcnIFxuICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3dlaWdodC10cmFpbmluZycsXG4gICAgICAgICAgICAgICAgZGV0YWlsczoge1xuICAgICAgICAgICAgICAgICAgc2V0czogbG9nLmV4ZXJjaXNlLmNhdGVnb3J5LmRldGFpbHM/LnNldHMgfHwgMyxcbiAgICAgICAgICAgICAgICAgIHJlcHM6IGxvZy5leGVyY2lzZS5jYXRlZ29yeS5kZXRhaWxzPy5yZXBzIHx8IFsnMTInXSxcbiAgICAgICAgICAgICAgICAgIHdlaWdodDogbG9nLmV4ZXJjaXNlLmNhdGVnb3J5LmRldGFpbHM/LndlaWdodCB8fCAwLFxuICAgICAgICAgICAgICAgICAgc2NyZWVuVGltZTogbG9nLmV4ZXJjaXNlLmNhdGVnb3J5LmRldGFpbHM/LnNjcmVlblRpbWUgfHwgMCxcbiAgICAgICAgICAgICAgICAgIHNlbGVjdGVkVmlkZW86IGxvZy5leGVyY2lzZS5jYXRlZ29yeS5kZXRhaWxzPy5zZWxlY3RlZFZpZGVvIHx8IG51bGxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdjYXJkaW8nLFxuICAgICAgICAgICAgICAgIGRldGFpbHM6IHtcbiAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBsb2cuZXhlcmNpc2UuY2F0ZWdvcnk/LmRldGFpbHM/LmR1cmF0aW9uIHx8IDYwLFxuICAgICAgICAgICAgICAgICAgYnBtOiBsb2cuZXhlcmNpc2UuY2F0ZWdvcnk/LmRldGFpbHM/LmJwbSB8fCAxNDAsXG4gICAgICAgICAgICAgICAgICBjYWxvcmllczogbG9nLmV4ZXJjaXNlLmNhdGVnb3J5Py5kZXRhaWxzPy5jYWxvcmllcyB8fCAwLFxuICAgICAgICAgICAgICAgICAgc2NyZWVuVGltZTogbG9nLmV4ZXJjaXNlLmNhdGVnb3J5Py5kZXRhaWxzPy5zY3JlZW5UaW1lIHx8IDAsXG4gICAgICAgICAgICAgICAgICBzZWxlY3RlZFZpZGVvOiBsb2cuZXhlcmNpc2UuY2F0ZWdvcnk/LmRldGFpbHM/LnNlbGVjdGVkVmlkZW8gfHwgbnVsbFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnNvbGUubG9nKGBTYXZpbmcgZXhlcmNpc2Ugd2l0aCBjYXRlZ29yeTpgLCBleGVyY2lzZVdpdGhDYXRlZ29yeS5jYXRlZ29yeSk7XG5cbiAgICAgICAgbG9nQmF0Y2guc2V0KGxvZ0RvY1JlZiwge1xuICAgICAgICAgIGlkOiBsb2dEb2NSZWYuaWQsXG4gICAgICAgICAgd29ya291dElkOiB3b3Jrb3V0U2Vzc2lvblJlZi5pZCxcbiAgICAgICAgICBleGVyY2lzZTogZXhlcmNpc2VXaXRoQ2F0ZWdvcnksXG4gICAgICAgICAgb3JkZXI6IGluZGV4LFxuICAgICAgICAgIGNyZWF0ZWRBdDogY3VycmVudERhdGUuZ2V0VGltZSgpLFxuICAgICAgICAgIHVwZGF0ZWRBdDogY3VycmVudERhdGUuZ2V0VGltZSgpLFxuICAgICAgICAgIGxvZ1N1Ym1pdHRlZDogZmFsc2UsXG4gICAgICAgICAgaXNDb21wbGV0ZWQ6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgfSk7IFxuXG4gICAgICBhd2FpdCBsb2dCYXRjaC5jb21taXQoKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIGNsZWFuV29ya291dDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIHdvcmtvdXQgc2Vzc2lvbjonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRXhhbXBsZSBcImpvaW4gY2hhbGxlbmdlXCIgbWV0aG9kIHVzaW5nIHRoZSBjbGllbnQgU0RLIChubyBhZG1pbiBwcml2aWxlZ2VzKS5cbiAgICogVGhpcyBjcmVhdGVzIGEgZG9jIGluIGB1c2VyLWNoYWxsZW5nZWAgd2l0aCB0aGUgdXNlcklkLCBjaGFsbGVuZ2VJZCwgZXRjLlxuICAgKi9cbiAgYXN5bmMgam9pbkNoYWxsZW5nZSh7XG4gICAgdXNlcm5hbWUsXG4gICAgY2hhbGxlbmdlSWRcbiAgfToge1xuICAgIHVzZXJuYW1lOiBzdHJpbmc7XG4gICAgY2hhbGxlbmdlSWQ6IHN0cmluZztcbiAgfSk6IFByb21pc2U8dm9pZD4ge1xuICAgIC8vIDEpIE1ha2Ugc3VyZSB3ZSBoYXZlIGEgc2lnbmVkLWluIHVzZXJcbiAgICBjb25zdCBjdXJyZW50VXNlciA9IHVzZXJTZXJ2aWNlLmN1cnJlbnRVc2VyO1xuICAgIGlmICghY3VycmVudFVzZXIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gdXNlciBpcyBzaWduZWQgaW4nKTtcbiAgICB9XG5cbiAgICAvLyAyKSBGaW5kIHRoZSB1c2VyIGRvYyBieSB1c2VybmFtZVxuICAgIGNvbnN0IHVzZXJzUmVmID0gY29sbGVjdGlvbihkYiwgJ3VzZXJzJyk7XG4gICAgY29uc3QgdXNlclF1ZXJ5ID0gcXVlcnkodXNlcnNSZWYsIHdoZXJlKCd1c2VybmFtZScsICc9PScsIHVzZXJuYW1lKSk7XG4gICAgY29uc3QgdXNlclNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyh1c2VyUXVlcnkpO1xuXG4gICAgaWYgKHVzZXJTbmFwc2hvdC5lbXB0eSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdVc2VyIG5vdCBmb3VuZCcpO1xuICAgIH1cblxuICAgIGNvbnN0IHVzZXJEb2MgPSB1c2VyU25hcHNob3QuZG9jc1swXTtcbiAgICBjb25zdCB1c2VyRGF0YSA9IHVzZXJEb2MuZGF0YSgpO1xuICAgIGNvbnN0IHVzZXJJZCA9IHVzZXJEb2MuaWQ7XG5cbiAgICAvLyAzKSBDaGVjayBpZiB0aGUgY2hhbGxlbmdlIGRvYyBleGlzdHNcbiAgICBjb25zdCBjaGFsbGVuZ2VSZWYgPSBkb2MoZGIsICdzd2VhdGxpc3QtY29sbGVjdGlvbicsIGNoYWxsZW5nZUlkKTtcbiAgICBjb25zdCBjaGFsbGVuZ2VTbmFwID0gYXdhaXQgZ2V0RG9jKGNoYWxsZW5nZVJlZik7XG5cbiAgICBpZiAoIWNoYWxsZW5nZVNuYXAuZXhpc3RzKCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2hhbGxlbmdlIG5vdCBmb3VuZCcpO1xuICAgIH1cblxuICAgIGNvbnN0IGNoYWxsZW5nZSA9IGNoYWxsZW5nZVNuYXAuZGF0YSgpO1xuXG4gICAgLy8gNCkgQnVpbGQgbmV3IHVzZXItY2hhbGxlbmdlIGRvY3VtZW50XG4gICAgY29uc3QgdXNlckNoYWxsZW5nZUlkID0gYCR7Y2hhbGxlbmdlSWR9LSR7dXNlcklkfS0ke0RhdGUubm93KCl9YDtcbiAgICBjb25zdCB1c2VyQ2hhbGxlbmdlRGF0YSA9IHtcbiAgICAgIGlkOiB1c2VyQ2hhbGxlbmdlSWQsXG4gICAgICBjaGFsbGVuZ2U6IGNoYWxsZW5nZSxcbiAgICAgIGNoYWxsZW5nZUlkLFxuICAgICAgdXNlcklkLFxuICAgICAgZmNtVG9rZW46IHVzZXJEYXRhLmZjbVRva2VuIHx8ICcnLFxuICAgICAgcHJvZmlsZUltYWdlOiB1c2VyRGF0YS5wcm9maWxlSW1hZ2UgfHwge30sXG4gICAgICBwcm9ncmVzczogMCxcbiAgICAgIGNvbXBsZXRlZFdvcmtvdXRzOiBbXSxcbiAgICAgIGlzQ29tcGxldGVkOiBmYWxzZSxcbiAgICAgIHVpZDogdXNlcklkLFxuICAgICAgbG9jYXRpb246IHVzZXJEYXRhLmxvY2F0aW9uIHx8IG51bGwsXG4gICAgICBjaXR5OiAnJyxcbiAgICAgIGNvdW50cnk6ICcnLFxuICAgICAgdGltZXpvbmU6ICcnLFxuICAgICAgdXNlcm5hbWUsXG4gICAgICBqb2luRGF0ZTogbmV3IERhdGUoKSxcbiAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgIHB1bHNlUG9pbnRzOiB7XG4gICAgICAgIGJhc2VDb21wbGV0aW9uOiAwLFxuICAgICAgICBmaXJzdENvbXBsZXRpb246IDAsXG4gICAgICAgIHN0cmVha0JvbnVzOiAwLFxuICAgICAgICBjaGVja0luQm9udXM6IDAsXG4gICAgICAgIGVmZm9ydFJhdGluZzogMCxcbiAgICAgICAgY2hhdFBhcnRpY2lwYXRpb246IDAsXG4gICAgICAgIGxvY2F0aW9uQ2hlY2tpbjogMCxcbiAgICAgICAgY29udGVudEVuZ2FnZW1lbnQ6IDAsXG4gICAgICAgIGVuY291cmFnZW1lbnRTZW50OiAwLFxuICAgICAgICBlbmNvdXJhZ2VtZW50UmVjZWl2ZWQ6IDBcbiAgICAgIH0sXG4gICAgICBjdXJyZW50U3RyZWFrOiAwLFxuICAgICAgZW5jb3VyYWdlZFVzZXJzOiBbXSxcbiAgICAgIGVuY291cmFnZWRCeVVzZXJzOiBbXSxcbiAgICAgIGNoZWNrSW5zOiBbXVxuICAgIH07XG5cbiAgICAvLyA1KSBTdG9yZSB1c2VyLWNoYWxsZW5nZSBkb2NcbiAgICBhd2FpdCBzZXREb2MoZG9jKGRiLCAndXNlci1jaGFsbGVuZ2UnLCB1c2VyQ2hhbGxlbmdlSWQpLCB1c2VyQ2hhbGxlbmdlRGF0YSk7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHdvcmtvdXRTZXJ2aWNlID0gbmV3IFdvcmtvdXRTZXJ2aWNlKCk7Il0sIm5hbWVzIjpbImNvbGxlY3Rpb24iLCJkb2MiLCJnZXREb2NzIiwiZ2V0RG9jIiwidXBkYXRlRG9jIiwicXVlcnkiLCJ3aGVyZSIsIm9yZGVyQnkiLCJmc0NvbGxlY3Rpb24iLCJzZXREb2MiLCJkZWxldGVEb2MiLCJ3cml0ZUJhdGNoIiwiZGIiLCJ1c2VyU2VydmljZSIsIkV4ZXJjaXNlTG9nIiwiRXhlcmNpc2UiLCJFeGVyY2lzZVZpZGVvIiwiZXhlcmNpc2VTZXJ2aWNlIiwiVXNlciIsIldvcmtvdXQiLCJXb3Jrb3V0U3VtbWFyeSIsIkJvZHlab25lIiwiSW50cm9WaWRlbyIsIlJlcHNBbmRXZWlnaHRMb2ciLCJXb3Jrb3V0U3RhdHVzIiwiU3dlYXRsaXN0Q29sbGVjdGlvbiIsImZvcm1hdCIsImNvbnZlcnRUaW1lc3RhbXAiLCJjb252ZXJ0RmlyZXN0b3JlVGltZXN0YW1wIiwiQ2hhbGxlbmdlIiwiVXNlckNoYWxsZW5nZSIsInN0b3JlIiwic2V0Q3VycmVudFdvcmtvdXQiLCJzZXRDdXJyZW50RXhlcmNpc2VMb2dzIiwicmVzZXRXb3Jrb3V0U3RhdGUiLCJzZXRXb3Jrb3V0U3VtbWFyeSIsIldvcmtvdXRTZXJ2aWNlIiwiY3VycmVudFdvcmtvdXQiLCJnZXRTdGF0ZSIsIndvcmtvdXQiLCJkaXNwYXRjaCIsImN1cnJlbnRXb3Jrb3V0TG9ncyIsImN1cnJlbnRFeGVyY2lzZUxvZ3MiLCJsb2dzIiwiY3VycmVudFdvcmtvdXRTdW1tYXJ5Iiwid29ya291dFN1bW1hcnkiLCJnZW5lcmF0ZUlkIiwiaWQiLCJmZXRjaFdvcmtvdXRTdW1tYXJ5IiwidXNlcklkIiwid29ya291dElkIiwic3VtbWFyeUlkIiwiY29uc29sZSIsImxvZyIsInN1bW1hcnlSZWYiLCJzdW1tYXJ5RG9jIiwiZXhpc3RzIiwic3VtbWFyeURhdGEiLCJkYXRhIiwiZXJyb3IiLCJmb3JtYXRXb3Jrb3V0QW5kSW5pdGlhbGl6ZUxvZ3MiLCJleGVyY2lzZURldGFpbHMiLCJ3b3Jrb3V0QXV0aG9yIiwid29ya0lkIiwiZXhlcmNpc2VSZWZlcmVuY2VzIiwiZXhlcmNpc2VMb2dzIiwidmFsaWRFeGVyY2lzZURldGFpbHMiLCJmaWx0ZXIiLCJkZXRhaWwiLCJleGVyY2lzZSIsImZvckVhY2giLCJpbmRleCIsImNhdGVnb3J5IiwidHlwZSIsImRldGFpbHMiLCJzZXRzIiwicmVwcyIsIndlaWdodCIsInNjcmVlblRpbWUiLCJzZWxlY3RlZFZpZGVvIiwiZHVyYXRpb24iLCJicG0iLCJjYWxvcmllcyIsImV4ZXJjaXNlSW5zdGFuY2UiLCJ3b3Jrb3V0U2VydmljZSIsIm5hbWUiLCJhdXRob3IiLCJjdXJyZW50VXNlciIsInVzZXJuYW1lIiwiZGVzY3JpcHRpb24iLCJwcmltYXJ5Qm9keVBhcnRzIiwic2Vjb25kYXJ5Qm9keVBhcnRzIiwidGFncyIsInZpZGVvcyIsImNyZWF0ZWRBdCIsIkRhdGUiLCJ1cGRhdGVkQXQiLCJleGVyY2lzZVJlZiIsImdyb3VwSWQiLCJwdXNoIiwic2V0c0xvZ3MiLCJBcnJheSIsImZyb20iLCJsZW5ndGgiLCJwYXJzZUludCIsImV4ZXJjaXNlTG9nSWQiLCJnZW5lcmF0ZUV4ZXJjaXNlTG9nSUQiLCJmZWVkYmFjayIsIm5vdGUiLCJub3RlcyIsImlzU3BsaXQiLCJsb2dTdWJtaXR0ZWQiLCJsb2dJc0VkaXRpbmciLCJpc0NvbXBsZXRlZCIsIm9yZGVyIiwiY29tcGxldGVkQXQiLCJuZXdXb3Jrb3V0Iiwicm91bmRXb3Jrb3V0SWQiLCJleGVyY2lzZXMiLCJ0aXRsZSIsIndvcmtvdXRSYXRpbmciLCJ1c2VBdXRob3JDb250ZW50Iiwid29ya291dFN0YXR1cyIsInpvbmUiLCJkZXRlcm1pbmVXb3Jrb3V0Wm9uZSIsImdldFVzZXJCeUlkIiwidXNlckRvYyIsIkVycm9yIiwicmV2ZXJ0QXV0aG9yRm9ybWF0IiwiYXV0aG9ySWQiLCJ3b3Jrb3V0UmVmIiwidXBkYXRlV29ya291dCIsInRvRGljdGlvbmFyeSIsIm1lcmdlIiwiYmF0Y2giLCJsb2dzUmVmIiwibG9nUmVmIiwic2V0IiwiY29tbWl0IiwiZmV0Y2hDdXJyZW50V29ya291dCIsInNlc3Npb24iLCJmZXRjaEN1cnJlbnRXb3Jrb3V0U2Vzc2lvbiIsImdldEFsbFN3ZWF0bGlzdHMiLCJ3b3Jrb3V0c1JlZiIsImV4ZXJjaXNlc1dpdGhWaWRlb3MiLCJmZXRjaEFuZE1hcEV4ZXJjaXNlc1dpdGhWaWRlb3MiLCJ3b3Jrb3V0c1NuYXBzaG90Iiwid29ya291dHMiLCJ3b3Jrb3V0RG9jIiwiZG9jcyIsIndvcmtvdXREYXRhIiwibWFwcGVkRXhlcmNpc2VzIiwibWFwIiwiZnVsbEV4ZXJjaXNlIiwiZmluZCIsImV4IiwiY29sbGVjdGlvbklkIiwiY2hhbGxlbmdlIiwic3RhcnRUaW1lIiwidW5kZWZpbmVkIiwibG9nc1NuYXBzaG90IiwibG9nRG9jIiwiZmlyZXN0b3JlRXJyb3IiLCJtZXNzYWdlIiwiZ2V0VXNlckNoYWxsZW5nZXNCeUNoYWxsZW5nZUlkIiwiY2hhbGxlbmdlSWQiLCJ1c2VyQ2hhbGxlbmdlc1JlZiIsInEiLCJzbmFwc2hvdCIsInVzZXJDaGFsbGVuZ2VzIiwiZmV0Y2hXb3Jrb3V0U3VtbWFyaWVzIiwiZGF0ZSIsImZvcm1hdHRlZERhdGUiLCJzdW1tYXJpZXNSZWYiLCJmZXRjaEFsbFdvcmtvdXRTdW1tYXJpZXMiLCJmZXRjaFVzZXJDaGFsbGVuZ2VzQnlVc2VySWQiLCJzdWJ0aXRsZSIsInBhcnRpY2lwYW50cyIsInN0YXR1cyIsInN0YXJ0RGF0ZSIsImVuZERhdGUiLCJpbnRyb1ZpZGVvcyIsInYiLCJ2aWRlb1VybCIsImZldGNoQ29sbGVjdGlvbldpdGhTd2VhdExpc3RzIiwiZ2V0Q29sbGVjdGlvbkJ5SWQiLCJzd2VhdExpc3RzIiwic3dlYXRsaXN0SWRlbnRpZmllciIsInN3ZWF0bGlzdElkcyIsImZldGNoU2F2ZWRXb3Jrb3V0Iiwic3dlYXRsaXN0QXV0aG9ySWQiLCJ3b3Jrb3V0U25hcCIsIkpTT04iLCJzdHJpbmdpZnkiLCJleGVyY2lzZU5hbWVMb3dlciIsInRvTG93ZXJDYXNlIiwidHJpbSIsIm1hdGNoaW5nRXhlcmNpc2UiLCJsb2dEYXRhIiwiZXhlcmNpc2VXaXRoVmlkZW8iLCJleExvZyIsInJlY29tbWVuZGVkV2VpZ2h0IiwiaXNCb2R5V2VpZ2h0IiwiZmV0Y2hVc2VyQ2hhbGxlbmdlc0J5Q2hhbGxlbmdlSWQiLCJkb2NSZWYiLCJkb2NTbmFwIiwiZ2V0Q29sbGVjdGlvbnNCeUlkcyIsImNvbGxlY3Rpb25JZHMiLCJjb2xsZWN0aW9ucyIsIlByb21pc2UiLCJhbGwiLCJmZXRjaENvbGxlY3Rpb25zIiwiY29sbGVjdGlvbnNSZWYiLCJxQXJyYXkiLCJzbmFwc2hvdEFycmF5IiwiY29sbGVjdGlvbnNGcm9tQXJyYXkiLCJxU3RyaW5nIiwic25hcHNob3RTdHJpbmciLCJjb2xsZWN0aW9uc0Zyb21TdHJpbmciLCJjb21iaW5lZCIsInVuaXF1ZUNvbGxlY3Rpb25zIiwiTWFwIiwidmFsdWVzIiwiZmV0Y2hBY3RpdmVDaGFsbGVuZ2VzIiwiYWxsQ2hhbGxlbmdlcyIsImFjdGl2ZUNoYWxsZW5nZXMiLCJ1c2VyQ2hhbGxlbmdlIiwiZmV0Y2hVc2VyQ2hhbGxlbmdlcyIsInVwZGF0ZVdvcmtvdXRTdW1tYXJ5Iiwic3VtbWFyeSIsInBhdGgiLCJ1cGRhdGVXb3Jrb3V0TG9ncyIsImxvZ0RvY1JlZiIsInVwZGF0ZSIsImNhbmNlbFdvcmtvdXQiLCJkZWxldGVXb3Jrb3V0U2Vzc2lvbiIsImRlbGV0ZVdvcmtvdXRTdW1tYXJ5IiwiY2xlYW5VcFdvcmtvdXRJblByb2dyZXNzIiwiZGVsZXRlIiwicmVmIiwid29ya291dFN1bW1hcnlJZCIsImV4ZXJjaXNlU25hcHNob3QiLCJ2aWRlb1NuYXBzaG90IiwiZXhlcmNpc2VWaWRlb3MiLCJtYXRjaGluZ1ZpZGVvcyIsInZpZGVvIiwid29ya291dFNlc3Npb25zUmVmIiwiUXVldWVkVXAiLCJzbmFwIiwiZW1wdHkiLCJwcm9jZXNzV29ya291dFNlc3Npb25Eb2N1bWVudCIsIkluUHJvZ3Jlc3MiLCJmZXRjaEFsbFdvcmtvdXRTZXNzaW9ucyIsInNlc3Npb25zIiwic2Vzc2lvbkRhdGEiLCJzb3J0IiwiYSIsImIiLCJvcmRlckEiLCJvcmRlckIiLCJ1cGRhdGVVc2VyQ2hhbGxlbmdlIiwiY2hhbGxlbmdlUmVmIiwiY2hhbGxlbmdlRGF0YSIsInVwZGF0ZUNvbGxlY3Rpb24iLCJjb2xsUmVmIiwibmV3RG9jUmVmIiwiQXJjaGl2ZWQiLCJGdWxsQm9keSIsIm1hdGNoaW5nTWFwcGVkRXhlcmNpc2UiLCJwcmVwYXJlZExvZ0RhdGEiLCJzYXZlV29ya291dFNlc3Npb24iLCJvcmlnaW5hbFR5cGUiLCJjdXJyZW50RGF0ZSIsImNsZWFuV29ya291dCIsImdldFRpbWUiLCJ3b3Jrb3V0U2Vzc2lvblJlZiIsImxvZ0JhdGNoIiwib3JpZ2luYWxDYXRlZ29yeSIsImV4ZXJjaXNlV2l0aENhdGVnb3J5Iiwiam9pbkNoYWxsZW5nZSIsInVzZXJzUmVmIiwidXNlclF1ZXJ5IiwidXNlclNuYXBzaG90IiwidXNlckRhdGEiLCJjaGFsbGVuZ2VTbmFwIiwidXNlckNoYWxsZW5nZUlkIiwibm93IiwidXNlckNoYWxsZW5nZURhdGEiLCJmY21Ub2tlbiIsInByb2ZpbGVJbWFnZSIsInByb2dyZXNzIiwiY29tcGxldGVkV29ya291dHMiLCJ1aWQiLCJsb2NhdGlvbiIsImNpdHkiLCJjb3VudHJ5IiwidGltZXpvbmUiLCJqb2luRGF0ZSIsInB1bHNlUG9pbnRzIiwiYmFzZUNvbXBsZXRpb24iLCJmaXJzdENvbXBsZXRpb24iLCJzdHJlYWtCb251cyIsImNoZWNrSW5Cb251cyIsImVmZm9ydFJhdGluZyIsImNoYXRQYXJ0aWNpcGF0aW9uIiwibG9jYXRpb25DaGVja2luIiwiY29udGVudEVuZ2FnZW1lbnQiLCJlbmNvdXJhZ2VtZW50U2VudCIsImVuY291cmFnZW1lbnRSZWNlaXZlZCIsImN1cnJlbnRTdHJlYWsiLCJlbmNvdXJhZ2VkVXNlcnMiLCJlbmNvdXJhZ2VkQnlVc2VycyIsImNoZWNrSW5zIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/api/firebase/workout/service.ts\n");

/***/ }),

/***/ "./src/api/firebase/workout/types.ts":
/*!*******************************************!*\
  !*** ./src/api/firebase/workout/types.ts ***!
  \*******************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BodyZone: () => (/* binding */ BodyZone),\n/* harmony export */   Challenge: () => (/* binding */ Challenge),\n/* harmony export */   ChallengeStatus: () => (/* binding */ ChallengeStatus),\n/* harmony export */   CheckIn: () => (/* binding */ CheckIn),\n/* harmony export */   Encouragement: () => (/* binding */ Encouragement),\n/* harmony export */   IntroVideo: () => (/* binding */ IntroVideo),\n/* harmony export */   PulsePoints: () => (/* binding */ PulsePoints),\n/* harmony export */   ReferralChain: () => (/* binding */ ReferralChain),\n/* harmony export */   RepsAndWeightLog: () => (/* binding */ RepsAndWeightLog),\n/* harmony export */   SweatlistCollection: () => (/* binding */ SweatlistCollection),\n/* harmony export */   SweatlistType: () => (/* binding */ SweatlistType),\n/* harmony export */   UserChallenge: () => (/* binding */ UserChallenge),\n/* harmony export */   Workout: () => (/* binding */ Workout),\n/* harmony export */   WorkoutRating: () => (/* binding */ WorkoutRating),\n/* harmony export */   WorkoutStatus: () => (/* binding */ WorkoutStatus),\n/* harmony export */   WorkoutSummary: () => (/* binding */ WorkoutSummary),\n/* harmony export */   WorkoutType: () => (/* binding */ WorkoutType)\n/* harmony export */ });\n/* harmony import */ var _exercise_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../exercise/types */ \"./src/api/firebase/exercise/types.ts\");\n/* harmony import */ var _utils_formatDate__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../utils/formatDate */ \"./src/utils/formatDate.ts\");\n/* harmony import */ var _workout_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../workout/service */ \"./src/api/firebase/workout/service.ts\");\n/* harmony import */ var _user__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../user */ \"./src/api/firebase/user/index.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_exercise_types__WEBPACK_IMPORTED_MODULE_0__, _workout_service__WEBPACK_IMPORTED_MODULE_2__, _user__WEBPACK_IMPORTED_MODULE_3__]);\n([_exercise_types__WEBPACK_IMPORTED_MODULE_0__, _workout_service__WEBPACK_IMPORTED_MODULE_2__, _user__WEBPACK_IMPORTED_MODULE_3__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\nclass CheckIn {\n    constructor(data){\n        this.id = data.id || \"\";\n        this.userId = data.userId || \"\";\n        this.workoutId = data.workoutId || \"\";\n        this.photoUrl = data.photoUrl || \"\";\n        this.videoUrl = data.videoUrl || \"\";\n        // If createdAt is a Unix timestamp in seconds, convert it to a Date\n        this.createdAt = data.createdAt ? typeof data.createdAt === \"number\" ? new Date(data.createdAt * 1000) : new Date(data.createdAt) : new Date();\n    }\n    toDictionary() {\n        return {\n            id: this.id,\n            userId: this.userId,\n            workoutId: this.workoutId,\n            photoUrl: this.photoUrl,\n            videoUrl: this.videoUrl,\n            createdAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_1__.dateToUnixTimestamp)(this.createdAt)\n        };\n    }\n}\nvar WorkoutStatus;\n(function(WorkoutStatus) {\n    WorkoutStatus[\"QueuedUp\"] = \"queuedUp\";\n    WorkoutStatus[\"InProgress\"] = \"inProgress\";\n    WorkoutStatus[\"Complete\"] = \"complete\";\n    WorkoutStatus[\"Archived\"] = \"archived\";\n})(WorkoutStatus || (WorkoutStatus = {}));\nvar WorkoutType;\n(function(WorkoutType) {\n    WorkoutType[\"UpperBody\"] = \"Upper Body\";\n    WorkoutType[\"LowerBody\"] = \"Lower Body\";\n    WorkoutType[\"Core\"] = \"Core\";\n    WorkoutType[\"FullBody\"] = \"Full Body\";\n})(WorkoutType || (WorkoutType = {}));\nvar WorkoutRating;\n(function(WorkoutRating) {\n    WorkoutRating[\"TooHard\"] = \"Too Hard\";\n    WorkoutRating[\"TooEasy\"] = \"Too Easy\";\n    WorkoutRating[\"JustRight\"] = \"Just Right\";\n})(WorkoutRating || (WorkoutRating = {}));\nvar BodyZone;\n(function(BodyZone) {\n    BodyZone[\"LowerBody\"] = \"Lower Body\";\n    BodyZone[\"UpperBody\"] = \"Upper Body\";\n    BodyZone[\"FullBody\"] = \"Full Body\";\n    BodyZone[\"Core\"] = \"Core\";\n})(BodyZone || (BodyZone = {}));\nclass RepsAndWeightLog {\n    constructor(data){\n        this.reps = data.reps || 0;\n        this.weight = data.weight || 0;\n        this.leftReps = data.leftReps || 0;\n        this.leftWeight = data.leftWeight || 0;\n        this.isSplit = data.isSplit || false;\n        this.isBodyWeight = data.isBodyWeight || false;\n        this.duration = data.duration || 0;\n        this.calories = data.calories || 0;\n        this.bpm = data.bpm || 0;\n    }\n    toDictionary() {\n        return {\n            reps: this.reps,\n            weight: this.weight,\n            leftReps: this.leftReps,\n            leftWeight: this.leftWeight,\n            isSplit: this.isSplit,\n            isBodyWeight: this.isBodyWeight,\n            duration: this.duration,\n            calories: this.calories,\n            bpm: this.bpm\n        };\n    }\n}\n// WorkoutClass.ts\nclass Workout {\n    constructor(data){\n        // For string fields, default to empty string if not provided.\n        this.id = data.id !== undefined ? data.id : \"\";\n        this.roundWorkoutId = data.roundWorkoutId !== undefined ? data.roundWorkoutId : \"\";\n        this.title = data.title !== undefined ? data.title : \"\";\n        this.description = data.description !== undefined ? data.description : \"\";\n        // For numeric fields, default to 0.\n        this.duration = data.duration !== undefined ? data.duration : 0;\n        // For boolean fields, default to false.\n        this.useAuthorContent = data.useAuthorContent !== undefined ? data.useAuthorContent : false;\n        this.isCompleted = data.isCompleted !== undefined ? data.isCompleted : false;\n        // For enum fields (workoutStatus, workoutRating), you can either default to a specific value or null.\n        this.workoutStatus = data.workoutStatus !== undefined ? data.workoutStatus : \"archived\";\n        this.workoutRating = data.workoutRating !== undefined ? data.workoutRating : null;\n        // For arrays, default to an empty array.\n        this.exercises = data.exercises !== undefined ? data.exercises : [];\n        // For optional objects, default to null if missing.\n        this.challenge = data.challenge !== undefined ? data.challenge : null;\n        this.logs = data.logs !== undefined ? data.logs : null;\n        this.collectionId = data.collectionId !== undefined ? data.collectionId : null;\n        // For dates, if the field exists and is a Date, use it; otherwise default to null (or new Date() for createdAt/updatedAt)\n        this.startTime = data.startTime ? (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_1__.convertFirestoreTimestamp)(data.startTime) : null;\n        this.assignedDate = data.assignedDate ? (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_1__.convertFirestoreTimestamp)(data.assignedDate) : null;\n        this.createdAt = data.createdAt ? (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_1__.convertFirestoreTimestamp)(data.createdAt) : new Date();\n        this.updatedAt = data.updatedAt ? (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_1__.convertFirestoreTimestamp)(data.updatedAt) : new Date();\n        // For order, default to null if not provided.\n        this.order = data.order !== undefined ? data.order : null;\n        // In Workout constructor:\n        if (data.author?.username) {\n            this.author = data.author.userId;\n            _workout_service__WEBPACK_IMPORTED_MODULE_2__.workoutService.revertAuthorFormat(this.id, this.author);\n        } else {\n            this.author = data.author;\n        }\n        // For zone, default to FullBody (or any other default you prefer)\n        this.zone = data.zone !== undefined ? data.zone : \"Full Body\";\n    }\n    get isTimedWorkout() {\n        if (!this.logs) return false;\n        return this.logs.some((log)=>{\n            if (log.exercise.category.type === \"weight-training\") {\n                return log.exercise.category.details?.screenTime !== 0;\n            } else if (log.exercise.category.type === \"cardio\") {\n                return log.exercise.category.details?.screenTime !== 0;\n            }\n            return false;\n        });\n    }\n    fetchPrimaryBodyParts() {\n        return this.exercises.flatMap((exerciseRef)=>exerciseRef.exercise.primaryBodyParts);\n    }\n    fetchSecondaryBodyParts() {\n        return this.exercises.flatMap((exerciseRef)=>exerciseRef.exercise.secondaryBodyParts);\n    }\n    static estimatedDuration(exercises) {\n        let totalTimeSeconds = 0;\n        let restTimeSeconds = 0;\n        let hasScreenTimeExercises = false;\n        for (const exerciseLog of exercises){\n            const exercise = exerciseLog.exercise;\n            const screenTime = exercise?.category?.details?.screenTime;\n            if (screenTime && screenTime > 0) {\n                totalTimeSeconds += screenTime;\n                hasScreenTimeExercises = true;\n            } else if (exercise?.category?.type === \"cardio\") {\n                const duration = exercise.category.details?.duration || 0;\n                totalTimeSeconds += duration * 60;\n            } else {\n                totalTimeSeconds += 8 * 60; // 8 minutes\n                restTimeSeconds += 60; // 1 minute rest\n            }\n        }\n        // Only add warmup/cooldown for non-screenTime exercises\n        if (!hasScreenTimeExercises) {\n            totalTimeSeconds += 10 * 60; // 10 minutes warmup/cooldown\n        }\n        const totalSeconds = totalTimeSeconds + restTimeSeconds;\n        // For screenTime exercises, convert to minutes with one decimal place\n        if (hasScreenTimeExercises) {\n            const minutes = totalSeconds / 60;\n            console.log(\"Final duration in minutes:\", minutes);\n            return Math.ceil(minutes * 10) / 10; // Round to 1 decimal place\n        }\n        // For non-screenTime exercises, round to nearest 5\n        const totalMinutes = Math.round(totalSeconds / 60);\n        return Math.round(totalMinutes / 5) * 5;\n    }\n    static determineWorkoutZone(exercises) {\n        const bodyPartsInvolved = new Set();\n        for (const exerciseRef of exercises){\n            for (const bodyPart of exerciseRef.exercise.primaryBodyParts || [\n                exerciseRef.exercise.primaryBodyParts\n            ]){\n                bodyPartsInvolved.add(bodyPart);\n            }\n        }\n        const upperBodyParts = new Set([\n            _exercise_types__WEBPACK_IMPORTED_MODULE_0__.BodyPart.Chest,\n            _exercise_types__WEBPACK_IMPORTED_MODULE_0__.BodyPart.Shoulders,\n            _exercise_types__WEBPACK_IMPORTED_MODULE_0__.BodyPart.Biceps,\n            _exercise_types__WEBPACK_IMPORTED_MODULE_0__.BodyPart.Triceps,\n            _exercise_types__WEBPACK_IMPORTED_MODULE_0__.BodyPart.Traps,\n            _exercise_types__WEBPACK_IMPORTED_MODULE_0__.BodyPart.Lats,\n            _exercise_types__WEBPACK_IMPORTED_MODULE_0__.BodyPart.Forearms\n        ]);\n        const lowerBodyParts = new Set([\n            _exercise_types__WEBPACK_IMPORTED_MODULE_0__.BodyPart.Hamstrings,\n            _exercise_types__WEBPACK_IMPORTED_MODULE_0__.BodyPart.Glutes,\n            _exercise_types__WEBPACK_IMPORTED_MODULE_0__.BodyPart.Quadriceps,\n            _exercise_types__WEBPACK_IMPORTED_MODULE_0__.BodyPart.Calves\n        ]);\n        const coreParts = new Set([\n            _exercise_types__WEBPACK_IMPORTED_MODULE_0__.BodyPart.Abs,\n            _exercise_types__WEBPACK_IMPORTED_MODULE_0__.BodyPart.Lowerback\n        ]);\n        const hasCommonElements = (set1, set2)=>{\n            return Array.from(set1).some((item)=>set2.has(item));\n        };\n        const hasUpperBody = hasCommonElements(bodyPartsInvolved, upperBodyParts);\n        const hasLowerBody = hasCommonElements(bodyPartsInvolved, lowerBodyParts);\n        const hasCore = hasCommonElements(bodyPartsInvolved, coreParts);\n        if (hasUpperBody && hasLowerBody && hasCore || hasUpperBody && hasLowerBody) {\n            return \"Full Body\";\n        } else if (hasUpperBody && hasCore || hasUpperBody) {\n            return \"Upper Body\";\n        } else if (hasLowerBody && hasCore || hasLowerBody) {\n            return \"Lower Body\";\n        } else if (hasCore) {\n            return \"Core\";\n        } else {\n            return \"Full Body\";\n        }\n    }\n    findUndefinedValues(obj, path = \"\") {\n        const undefinedPaths = [];\n        function recursiveCheck(current, currentPath) {\n            if (current === undefined) {\n                undefinedPaths.push(currentPath);\n                return;\n            }\n            if (current === null || typeof current !== \"object\") {\n                return;\n            }\n            if (Array.isArray(current)) {\n                current.forEach((item, index)=>{\n                    recursiveCheck(item, `${currentPath}[${index}]`);\n                });\n                return;\n            }\n            Object.entries(current).forEach(([key, value])=>{\n                const newPath = currentPath ? `${currentPath}.${key}` : key;\n                if (value === undefined) {\n                    undefinedPaths.push(newPath);\n                } else {\n                    recursiveCheck(value, newPath);\n                }\n            });\n        }\n        recursiveCheck(obj, path);\n        return undefinedPaths;\n    }\n    checkForUndefined(data, label = \"Data\") {\n        const undefinedPaths = this.findUndefinedValues(data);\n        if (undefinedPaths.length > 0) {\n            console.error(` Found undefined values in ${label}:`);\n            undefinedPaths.forEach((path)=>{\n                console.error(`  - ${path}`);\n            });\n            return false;\n        }\n        return true;\n    }\n    toDictionary() {\n        const data = {\n            id: this.id,\n            exercises: this.exercises.map((ex)=>({\n                    exercise: ex.exercise.toDictionary(),\n                    groupId: ex.groupId\n                })),\n            logs: this.logs ? this.logs.map((log)=>log.toDictionary()) : [],\n            title: this.title,\n            description: this.description,\n            zone: this.zone,\n            duration: this.duration,\n            workoutRating: this.workoutRating,\n            useAuthorContent: this.useAuthorContent,\n            isCompleted: this.isCompleted,\n            workoutStatus: this.workoutStatus,\n            author: this.author,\n            createdAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_1__.dateToUnixTimestamp)(this.createdAt),\n            updatedAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_1__.dateToUnixTimestamp)(this.updatedAt),\n            assignedDate: this.assignedDate ? (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_1__.dateToUnixTimestamp)(this.assignedDate) : null,\n            startTime: this.startTime ? (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_1__.dateToUnixTimestamp)(this.startTime) : null,\n            order: this.order || null,\n            collectionId: this.collectionId || null,\n            challenge: this.challenge || null\n        };\n        // Validate data before returning\n        if (!this.checkForUndefined(data, \"Workout Dictionary\")) {\n            throw new Error(\"Workout contains undefined values\");\n        }\n        return data;\n    }\n}\nclass WorkoutSummary {\n    constructor(data){\n        this.duration = 0 // Changed to number to match iOS\n        ;\n        this.id = data.id || \"\";\n        this.workoutId = data.workoutId || \"\";\n        this.userId = data.userId || \"\";\n        this.roundWorkoutId = data.roundWorkoutId || \"\";\n        this.exercises = Array.isArray(data.exercises) ? data.exercises.map((ex)=>new _exercise_types__WEBPACK_IMPORTED_MODULE_0__.ExerciseLog(ex)) : [];\n        this.bodyParts = Array.isArray(data.bodyParts) ? data.bodyParts : [];\n        this.secondaryBodyParts = Array.isArray(data.secondaryBodyParts) ? data.secondaryBodyParts : [];\n        this.workoutTitle = data.workoutTitle || \"\";\n        this.caloriesBurned = data.caloriesBurned || 0;\n        this.workoutRating = data.workoutRating;\n        this.exercisesCompleted = Array.isArray(data.exercisesCompleted) ? data.exercisesCompleted.map((ex)=>new _exercise_types__WEBPACK_IMPORTED_MODULE_0__.ExerciseLog(ex)) : [];\n        this.aiInsight = data.aiInsight || \"\";\n        this.recommendations = Array.isArray(data.recommendations) ? data.recommendations : [];\n        this.gifURLs = data.gifURLs;\n        this.recommendedWork = data.recommendedWork;\n        this.pulsePoints = data.pulsePoints ? new PulsePoints(data.pulsePoints) : new PulsePoints({});\n        this.isCompleted = data.isCompleted || false;\n        this.startTime = (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_1__.convertFirestoreTimestamp)(data.startTime);\n        this.createdAt = (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_1__.convertFirestoreTimestamp)(data.createdAt);\n        this.updatedAt = (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_1__.convertFirestoreTimestamp)(data.updatedAt);\n        // Handle completedAt similar to iOS\n        if (data.completedAt) {\n            const completedAtTimestamp = data.completedAt;\n            if (completedAtTimestamp === 0) {\n                // Set to 72 minutes from createdAt like in iOS\n                const completedDate = new Date(this.createdAt);\n                completedDate.setMinutes(completedDate.getMinutes() + 72);\n                this.completedAt = completedDate;\n            } else {\n                this.completedAt = (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_1__.convertFirestoreTimestamp)(data.completedAt);\n            }\n        } else {\n            this.completedAt = null;\n        }\n        this.duration = this.calculateDuration();\n    }\n    calculateDuration() {\n        if (!this.completedAt) return 0;\n        const durationInSeconds = (this.completedAt.getTime() - this.createdAt.getTime()) / 1000;\n        // Round to the nearest minute like in iOS\n        return Math.round((durationInSeconds + 30) / 60);\n    }\n    determineWorkoutType() {\n        // Create sets of body parts for each category\n        const upperBodyParts = new Set([\n            _exercise_types__WEBPACK_IMPORTED_MODULE_0__.BodyPart.Chest,\n            _exercise_types__WEBPACK_IMPORTED_MODULE_0__.BodyPart.Shoulders,\n            _exercise_types__WEBPACK_IMPORTED_MODULE_0__.BodyPart.Biceps,\n            _exercise_types__WEBPACK_IMPORTED_MODULE_0__.BodyPart.Triceps,\n            _exercise_types__WEBPACK_IMPORTED_MODULE_0__.BodyPart.Traps,\n            _exercise_types__WEBPACK_IMPORTED_MODULE_0__.BodyPart.Lats,\n            _exercise_types__WEBPACK_IMPORTED_MODULE_0__.BodyPart.Forearms\n        ]);\n        const lowerBodyParts = new Set([\n            _exercise_types__WEBPACK_IMPORTED_MODULE_0__.BodyPart.Hamstrings,\n            _exercise_types__WEBPACK_IMPORTED_MODULE_0__.BodyPart.Glutes,\n            _exercise_types__WEBPACK_IMPORTED_MODULE_0__.BodyPart.Quadriceps,\n            _exercise_types__WEBPACK_IMPORTED_MODULE_0__.BodyPart.Calves\n        ]);\n        const coreParts = new Set([\n            _exercise_types__WEBPACK_IMPORTED_MODULE_0__.BodyPart.Abs,\n            _exercise_types__WEBPACK_IMPORTED_MODULE_0__.BodyPart.Lowerback\n        ]);\n        // Get all body parts involved in the workout\n        const bodyPartsInvolved = new Set();\n        this.exercises.forEach((log)=>{\n            log.exercise.primaryBodyParts.forEach((part)=>bodyPartsInvolved.add(part));\n        });\n        // Check which areas are targeted\n        const hasUpperBody = Array.from(bodyPartsInvolved).some((part)=>upperBodyParts.has(part));\n        const hasLowerBody = Array.from(bodyPartsInvolved).some((part)=>lowerBodyParts.has(part));\n        const hasCore = Array.from(bodyPartsInvolved).some((part)=>coreParts.has(part));\n        // Determine workout type using the same logic as iOS\n        if (hasUpperBody && hasLowerBody && hasCore || hasUpperBody && hasLowerBody) {\n            return \"Full Body\";\n        } else if (hasUpperBody && hasCore || hasUpperBody) {\n            return \"Upper Body\";\n        } else if (hasLowerBody && hasCore || hasLowerBody) {\n            return \"Lower Body\";\n        } else if (hasCore) {\n            return \"Core\";\n        }\n        return \"Full Body\"; // Default return like iOS\n    }\n    fetchTotalWeightLifted(user) {\n        return this.exercisesCompleted.reduce((total, exercise)=>{\n            return total + exercise.fetchTotalWeightLifted(user);\n        }, 0);\n    }\n    fetchTotalWorkScore(user, workoutId, workoutSummaries) {\n        return this.exercisesCompleted.reduce((total, exercise)=>{\n            if (exercise.logSubmitted) {\n                return total + exercise.calculateWorkScore(user, workoutId, workoutSummaries);\n            }\n            return total;\n        }, 0);\n    }\n    fetchPreviousWorkScore(user, workoutId, summaries) {\n        const currentWorkoutType = this.determineWorkoutType();\n        // Find the most recent matching summary\n        const matchingSummary = summaries.filter((s)=>s.determineWorkoutType() === currentWorkoutType).sort((a, b)=>b.createdAt.getTime() - a.createdAt.getTime()).find((s)=>s.workoutId !== this.workoutId);\n        if (matchingSummary) {\n            // Fix: Pass summaries as the third argument and use proper addition\n            return matchingSummary.exercisesCompleted.reduce((total, exercise)=>total + exercise.calculateWorkScore(user, workoutId, summaries), 0); // Start with 0 as initial value\n        }\n        return 0;\n    }\n    createTotalWorkString(user, workoutId, workoutSummaries) {\n        const totalWork = this.fetchTotalWorkScore(user, workoutId, workoutSummaries);\n        return totalWork.toString();\n    }\n    toDictionary() {\n        const dict = {\n            id: this.id,\n            workoutId: this.workoutId,\n            userId: this.userId,\n            roundWorkoutId: this.roundWorkoutId,\n            exercises: this.exercises.map((ex)=>ex.toDictionary()),\n            bodyParts: this.bodyParts,\n            secondaryBodyParts: this.secondaryBodyParts,\n            workoutTitle: this.workoutTitle,\n            caloriesBurned: this.caloriesBurned,\n            workoutRating: this.workoutRating?.toString() || \"\",\n            exercisesCompleted: this.exercisesCompleted.map((ex)=>ex.toDictionary()),\n            aiInsight: this.aiInsight,\n            recommendations: this.recommendations,\n            recommendedWork: this.recommendedWork || \"\",\n            pulsePoints: this.pulsePoints.toDictionary(),\n            isCompleted: this.isCompleted,\n            startTime: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_1__.dateToUnixTimestamp)(this.startTime),\n            createdAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_1__.dateToUnixTimestamp)(this.createdAt),\n            updatedAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_1__.dateToUnixTimestamp)(this.updatedAt),\n            completedAt: this.completedAt ? (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_1__.dateToUnixTimestamp)(this.completedAt) : 0\n        };\n        if (this.gifURLs) {\n            dict.gifURLs = this.gifURLs;\n        }\n        return dict;\n    }\n}\nvar SweatlistType;\n(function(SweatlistType) {\n    SweatlistType[\"Together\"] = \"together\";\n    SweatlistType[\"Solo\"] = \"solo\";\n    SweatlistType[\"Locked\"] = \"locked\";\n})(SweatlistType || (SweatlistType = {}));\nclass ReferralChain {\n    constructor(data){\n        this.originalHostId = data.originalHostId || \"\";\n        this.sharedBy = data.sharedBy || \"\";\n    }\n    toDictionary() {\n        return {\n            originalHostId: this.originalHostId,\n            sharedBy: this.sharedBy\n        };\n    }\n    static fromFirestore(data) {\n        return new ReferralChain(data);\n    }\n}\n// Main SweatlistCollection interface\nclass SweatlistCollection {\n    constructor(data){\n        this.id = data.id;\n        this.title = data.title || \"\";\n        this.subtitle = data.subtitle || \"\";\n        this.pin = data.pin || null;\n        this.challenge = data.challenge ? new Challenge(data.challenge) : null;\n        this.sweatlistIds = (data.sweatlistIds || []).map((item)=>({\n                id: item.id || \"\",\n                sweatlistAuthorId: item.sweatlistAuthorId || \"\",\n                sweatlistName: item.sweatlistName || \"\",\n                order: item.order || 0\n            }));\n        // If ownerId is not an array, wrap it in an array.\n        if (Array.isArray(data.ownerId)) {\n            this.ownerId = data.ownerId;\n        } else if (data.ownerId) {\n            this.ownerId = [\n                data.ownerId\n            ];\n        } else {\n            this.ownerId = [];\n        }\n        this.privacy = this.challenge ? \"together\" : \"solo\";\n        this.participants = (data.participants || []).map((participant)=>participant || \"\");\n        this.createdAt = (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_1__.convertFirestoreTimestamp)(data.createdAt);\n        this.updatedAt = (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_1__.convertFirestoreTimestamp)(data.updatedAt);\n    }\n    toDictionary() {\n        return {\n            id: this.id,\n            title: this.title,\n            subtitle: this.subtitle,\n            pin: this.pin,\n            challenge: this.challenge ? this.challenge.toDictionary() : null,\n            sweatlistIds: this.sweatlistIds.map((item)=>({\n                    id: item.id,\n                    sweatlistAuthorId: item.sweatlistAuthorId,\n                    order: item.order\n                })),\n            ownerId: this.ownerId,\n            privacy: this.privacy,\n            createdAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_1__.dateToUnixTimestamp)(this.createdAt),\n            updatedAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_1__.dateToUnixTimestamp)(this.updatedAt)\n        };\n    }\n    isPublished() {\n        if (!this.challenge) return false;\n        return this.challenge.status === \"published\";\n    }\n}\nclass ProfileImage {\n    constructor(data){\n        this.profileImageURL = data.profileImageURL || \"\";\n        this.thumbnailURL = data.thumbnailURL || \"\";\n    }\n    toDictionary() {\n        return {\n            profileImageURL: this.profileImageURL,\n            thumbnailURL: this.thumbnailURL || null\n        };\n    }\n    static fromFirestore(data) {\n        return new ProfileImage(data);\n    }\n}\nclass UserLocation {\n    constructor(data){\n        this.latitude = data.latitude || 0;\n        this.longitude = data.longitude || 0;\n    }\n    toDictionary() {\n        return {\n            latitude: this.latitude,\n            longitude: this.longitude\n        };\n    }\n    static fromFirestore(data) {\n        return new UserLocation(data);\n    }\n}\nclass PulsePoints {\n    constructor(data){\n        this.baseCompletion = data.baseCompletion ?? 0;\n        this.firstCompletion = data.firstCompletion ?? 0;\n        this.streakBonus = data.streakBonus ?? 0;\n        this.checkInBonus = data.checkInBonus ?? 0;\n        this.effortRating = data.effortRating ?? 0;\n        this.chatParticipation = data.chatParticipation ?? 0;\n        this.locationCheckin = data.locationCheckin ?? 0;\n        this.contentEngagement = data.contentEngagement ?? 0;\n        this.encouragementSent = data.encouragementSent ?? 0;\n        this.encouragementReceived = data.encouragementReceived ?? 0;\n        this.cumulativeStreakBonus = data.cumulativeStreakBonus ?? 0;\n    }\n    get totalStackPoints() {\n        return this.baseCompletion + this.firstCompletion + this.streakBonus + this.checkInBonus + this.effortRating;\n    }\n    get totalCommunityPoints() {\n        return this.chatParticipation + this.locationCheckin + this.contentEngagement + this.encouragementSent + this.encouragementReceived;\n    }\n    get totalPoints() {\n        return this.totalStackPoints + this.totalCommunityPoints + this.cumulativeStreakBonus;\n    }\n    toDictionary() {\n        return {\n            baseCompletion: this.baseCompletion,\n            firstCompletion: this.firstCompletion,\n            streakBonus: this.streakBonus,\n            checkInBonus: this.checkInBonus,\n            effortRating: this.effortRating,\n            chatParticipation: this.chatParticipation,\n            locationCheckin: this.locationCheckin,\n            contentEngagement: this.contentEngagement,\n            encouragementSent: this.encouragementSent,\n            encouragementReceived: this.encouragementReceived,\n            cumulativeStreakBonus: this.cumulativeStreakBonus,\n            totalStackPoints: this.totalStackPoints,\n            totalCommunityPoints: this.totalCommunityPoints,\n            totalPoints: this.totalPoints\n        };\n    }\n}\nclass Encouragement {\n    constructor(data){\n        // If data is passed as already constructed ShortUser objects\n        if (data.fromUser instanceof _user__WEBPACK_IMPORTED_MODULE_3__.ShortUser && data.toUser instanceof _user__WEBPACK_IMPORTED_MODULE_3__.ShortUser) {\n            this.fromUser = data.fromUser;\n            this.toUser = data.toUser;\n            this.createdAt = data.createdAt instanceof Date ? data.createdAt : new Date();\n        } else {\n            const fromUserData = data.fromUser || {};\n            this.fromUser = new _user__WEBPACK_IMPORTED_MODULE_3__.ShortUser(fromUserData);\n            const toUserData = data.toUser || {};\n            this.toUser = new _user__WEBPACK_IMPORTED_MODULE_3__.ShortUser(toUserData);\n            this.createdAt = (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_1__.convertFirestoreTimestamp)(data.createdAt);\n        }\n    }\n    // Static method to create from separate parameters\n    static create(fromUser, toUser, createdAt) {\n        return new Encouragement({\n            fromUser,\n            toUser,\n            createdAt\n        });\n    }\n    // Convert to dictionary for Firestore\n    toDictionary() {\n        return {\n            fromUser: this.fromUser.toDictionary(),\n            toUser: this.toUser.toDictionary(),\n            createdAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_1__.dateToUnixTimestamp)(this.createdAt)\n        };\n    }\n}\n// Types for user in challenge\nclass UserChallenge {\n    constructor(data){\n        this.id = data.id;\n        this.challenge = data.challenge ? new Challenge(data.challenge) : undefined;\n        this.challengeId = data.challengeId || \"\";\n        this.userId = data.userId || \"\";\n        this.fcmToken = data.fcmToken || \"\"; // Added\n        this.username = data.username || \"\";\n        this.profileImage = data.profileImage ? new ProfileImage(data.profileImage) : undefined;\n        this.progress = data.progress ?? 0;\n        this.referralChain = data.referralChain ? new ReferralChain(data.referralChain) : new ReferralChain({\n            originalHostId: \"\",\n            sharedBy: \"\"\n        });\n        this.completedWorkouts = Array.isArray(data.completedWorkouts) ? data.completedWorkouts.map((cw)=>({\n                id: cw.id || \"\",\n                workoutId: cw.workoutId || \"\",\n                completedAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_1__.convertFirestoreTimestamp)(cw.completedAt)\n            })) : [];\n        this.isCompleted = data.isCompleted ?? false;\n        this.uid = data.uid || \"\"; // Added\n        this.location = data.location ? new UserLocation(data.location) : undefined;\n        this.city = data.city || \"\";\n        this.country = data.country || \"\";\n        this.timezone = data.timezone || \"\";\n        this.joinDate = (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_1__.convertFirestoreTimestamp)(data.joinDate);\n        this.isCurrentlyActive = data.isCurrentlyActive ?? false; // Added\n        this.createdAt = (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_1__.convertFirestoreTimestamp)(data.createdAt);\n        this.updatedAt = (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_1__.convertFirestoreTimestamp)(data.updatedAt);\n        this.pulsePoints = data.pulsePoints ? new PulsePoints(data.pulsePoints) : new PulsePoints({});\n        this.currentStreak = data.currentStreak ?? 0;\n        this.longestStreak = this.calculateLongestStreak(); // Added\n        this.encouragedUsers = Array.isArray(data.encouragedUsers) ? data.encouragedUsers.map((d)=>new Encouragement(d)) : [];\n        this.encouragedByUsers = Array.isArray(data.encouragedByUsers) ? data.encouragedByUsers.map((d)=>new Encouragement(d)) : [];\n        this.checkIns = Array.isArray(data.checkIns) ? data.checkIns.map((d)=>new CheckIn(d)) : [];\n    }\n    // Add calculateLongestStreak method\n    calculateLongestStreak() {\n        if (!this.completedWorkouts.length) return 0;\n        let currentStreak = 1;\n        let maxStreak = 1;\n        const sortedWorkouts = [\n            ...this.completedWorkouts\n        ].sort((a, b)=>a.completedAt.getTime() - b.completedAt.getTime());\n        for(let i = 1; i < sortedWorkouts.length; i++){\n            const prevDate = new Date(sortedWorkouts[i - 1].completedAt);\n            const currDate = new Date(sortedWorkouts[i].completedAt);\n            if (this.isNextDay(prevDate, currDate)) {\n                currentStreak++;\n                maxStreak = Math.max(maxStreak, currentStreak);\n            } else if (!this.isSameDay(prevDate, currDate)) {\n                currentStreak = 1;\n            }\n        }\n        return maxStreak;\n    }\n    isNextDay(date1, date2) {\n        const nextDay = new Date(date1);\n        nextDay.setDate(nextDay.getDate() + 1);\n        return this.isSameDay(nextDay, date2);\n    }\n    isSameDay(date1, date2) {\n        return date1.getFullYear() === date2.getFullYear() && date1.getMonth() === date2.getMonth() && date1.getDate() === date2.getDate();\n    }\n    toDictionary() {\n        return {\n            challenge: this.challenge ? this.challenge.toDictionary() : null,\n            challengeId: this.challengeId,\n            userId: this.userId,\n            fcmToken: this.fcmToken,\n            username: this.username,\n            profileImage: this.profileImage ? this.profileImage.toDictionary() : null,\n            progress: this.progress,\n            referralChain: this.referralChain.toDictionary(),\n            completedWorkouts: this.completedWorkouts.map((workout)=>({\n                    ...workout,\n                    completedAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_1__.dateToUnixTimestamp)(workout.completedAt)\n                })),\n            isCompleted: this.isCompleted,\n            uid: this.uid,\n            location: this.location ? this.location.toDictionary() : null,\n            city: this.city,\n            country: this.country,\n            timezone: this.timezone,\n            joinDate: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_1__.dateToUnixTimestamp)(this.joinDate),\n            isCurrentlyActive: this.isCurrentlyActive,\n            createdAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_1__.dateToUnixTimestamp)(this.createdAt),\n            updatedAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_1__.dateToUnixTimestamp)(this.updatedAt),\n            pulsePoints: this.pulsePoints.toDictionary(),\n            currentStreak: this.currentStreak,\n            longestStreak: this.longestStreak,\n            encouragedUsers: this.encouragedUsers.map((user)=>user.toDictionary()),\n            encouragedByUsers: this.encouragedByUsers.map((user)=>user.toDictionary()),\n            checkIns: this.checkIns.map((checkIn)=>checkIn.toDictionary())\n        };\n    }\n}\nvar ChallengeStatus;\n// Challenge status enum\n(function(ChallengeStatus) {\n    ChallengeStatus[\"Draft\"] = \"draft\";\n    ChallengeStatus[\"Published\"] = \"published\";\n    ChallengeStatus[\"Completed\"] = \"completed\";\n    ChallengeStatus[\"Cancelled\"] = \"cancelled\";\n})(ChallengeStatus || (ChallengeStatus = {}));\nclass IntroVideo {\n    constructor(data){\n        this.id = data.id;\n        this.userId = data.userId;\n        this.videoUrl = data.videoUrl;\n    }\n    toDictionary() {\n        return {\n            id: this.id,\n            userId: this.userId,\n            videoUrl: this.videoUrl\n        };\n    }\n}\nclass Challenge {\n    constructor(data){\n        this.id = data.id;\n        this.title = data.title;\n        this.subtitle = data.subtitle;\n        // Use an empty array if participants is missing.\n        this.participants = Array.isArray(data.participants) ? data.participants : [];\n        this.status = data.status;\n        console.log(\"Challenge start date\", (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_1__.convertFirestoreTimestamp)(data.startDate));\n        this.startDate = (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_1__.convertFirestoreTimestamp)(data.startDate);\n        this.endDate = (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_1__.convertFirestoreTimestamp)(data.endDate);\n        this.createdAt = (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_1__.convertFirestoreTimestamp)(data.createdAt);\n        this.updatedAt = (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_1__.convertFirestoreTimestamp)(data.updatedAt);\n        // Handle both old and new format for intro videos.\n        if (Array.isArray(data.introVideos)) {\n            this.introVideos = data.introVideos.map((video)=>new IntroVideo(video));\n        } else if (data.introVideoURL && Array.isArray(data.participants) && data.participants.length > 0) {\n            this.introVideos = [\n                new IntroVideo({\n                    id: \"1\",\n                    userId: data.participants[0].userId,\n                    videoUrl: data.introVideoURL\n                })\n            ];\n        } else {\n            this.introVideos = [];\n        }\n        this.durationInDays = this.calculateDurationInDays();\n    }\n    toDictionary() {\n        return {\n            id: this.id,\n            title: this.title,\n            subtitle: this.subtitle,\n            participants: this.participants.map((participant)=>({\n                    id: participant.id,\n                    challengeId: participant.challengeId,\n                    userId: participant.userId,\n                    username: participant.username,\n                    profileImage: participant.profileImage,\n                    progress: participant.progress,\n                    completedWorkouts: participant.completedWorkouts,\n                    isCompleted: participant.isCompleted,\n                    location: participant.location,\n                    city: participant.city,\n                    country: participant.country,\n                    timezone: participant.timezone,\n                    joinDate: participant.joinDate,\n                    createdAt: participant.createdAt,\n                    updatedAt: participant.updatedAt,\n                    pulsePoints: participant.pulsePoints,\n                    currentStreak: participant.currentStreak,\n                    encouragedUsers: participant.encouragedUsers,\n                    encouragedByUsers: participant.encouragedByUsers,\n                    checkIns: participant.checkIns\n                })),\n            status: this.status,\n            startDate: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_1__.dateToUnixTimestamp)(this.startDate),\n            endDate: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_1__.dateToUnixTimestamp)(this.endDate),\n            createdAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_1__.dateToUnixTimestamp)(this.createdAt),\n            updatedAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_1__.dateToUnixTimestamp)(this.updatedAt),\n            durationInDays: this.durationInDays,\n            introVideos: this.introVideos.map((video)=>video.toDictionary())\n        };\n    }\n    /**\n   * Calculates the duration in days between the startDate and endDate.\n   * @returns The number of days between the two dates.\n   */ calculateDurationInDays() {\n        const start = this.startDate?.valueOf();\n        const end = this.endDate?.valueOf();\n        if (!start || !end || isNaN(start) || isNaN(end)) {\n            throw new Error(\"Invalid startDate or endDate\");\n        }\n        const durationInMilliseconds = end - start;\n        return Math.ceil(durationInMilliseconds / (1000 * 60 * 60 * 24));\n    }\n    static toFirestoreObject(obj) {\n        if (obj === null || typeof obj !== \"object\") {\n            return obj;\n        }\n        if (obj instanceof Date) {\n            return obj;\n        }\n        if (Array.isArray(obj)) {\n            return obj.map((item)=>this.toFirestoreObject(item));\n        }\n        if (obj instanceof Challenge) {\n            return {\n                id: obj.id,\n                title: obj.title,\n                subtitle: obj.subtitle,\n                participants: obj.participants,\n                status: obj.status,\n                startDate: obj.startDate,\n                endDate: obj.endDate,\n                createdAt: obj.createdAt,\n                updatedAt: obj.updatedAt,\n                introVideos: obj.introVideos.map((video)=>({\n                        id: video.id,\n                        userId: video.userId,\n                        videoUrl: video.videoUrl\n                    }))\n            };\n        }\n        const plainObject = {};\n        for(const key in obj){\n            if (Object.prototype.hasOwnProperty.call(obj, key)) {\n                plainObject[key] = this.toFirestoreObject(obj[key]);\n            }\n        }\n        return plainObject;\n    }\n}\n\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUN1SixpQkFBaUIsQ0FBQ25LLEdBQUcsQ0FBQ1ksSUFBSTtZQUNwRDtRQUNGO1FBQ0EsT0FBT3dKO0lBQ1Q7QUFDRjtBQWdCcUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1hcHAvLi9zcmMvYXBpL2ZpcmViYXNlL3dvcmtvdXQvdHlwZXMudHM/YmQyNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFeGVyY2lzZVJlZmVyZW5jZSwgRXhlcmNpc2VMb2csIEV4ZXJjaXNlQXV0aG9yIH0gZnJvbSAnLi4vZXhlcmNpc2UvdHlwZXMnO1xuaW1wb3J0IHsgQm9keVBhcnQsIEV4ZXJjaXNlQ2F0ZWdvcnkgfSBmcm9tICcuLi9leGVyY2lzZS90eXBlcyc7XG5pbXBvcnQgeyBjb252ZXJ0RmlyZXN0b3JlVGltZXN0YW1wLCBkYXRlVG9Vbml4VGltZXN0YW1wIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvZm9ybWF0RGF0ZSc7XG5pbXBvcnQgeyB3b3Jrb3V0U2VydmljZSB9IGZyb20gJy4uL3dvcmtvdXQvc2VydmljZSc7XG5pbXBvcnQgeyBTaG9ydFVzZXIsIFVzZXIgfSBmcm9tICcuLi91c2VyJztcblxuZXhwb3J0IGNsYXNzIENoZWNrSW4ge1xuICBpZDogc3RyaW5nO1xuICB1c2VySWQ6IHN0cmluZztcbiAgd29ya291dElkOiBzdHJpbmc7XG4gIHBob3RvVXJsOiBzdHJpbmc7XG4gIHZpZGVvVXJsOiBzdHJpbmc7XG4gIGNyZWF0ZWRBdDogRGF0ZTtcblxuICBjb25zdHJ1Y3RvcihkYXRhOiBhbnkpIHtcbiAgICB0aGlzLmlkID0gZGF0YS5pZCB8fCAnJztcbiAgICB0aGlzLnVzZXJJZCA9IGRhdGEudXNlcklkIHx8ICcnO1xuICAgIHRoaXMud29ya291dElkID0gZGF0YS53b3Jrb3V0SWQgfHwgJyc7XG4gICAgdGhpcy5waG90b1VybCA9IGRhdGEucGhvdG9VcmwgfHwgJyc7XG4gICAgdGhpcy52aWRlb1VybCA9IGRhdGEudmlkZW9VcmwgfHwgJyc7XG4gICAgLy8gSWYgY3JlYXRlZEF0IGlzIGEgVW5peCB0aW1lc3RhbXAgaW4gc2Vjb25kcywgY29udmVydCBpdCB0byBhIERhdGVcbiAgICB0aGlzLmNyZWF0ZWRBdCA9IGRhdGEuY3JlYXRlZEF0XG4gICAgICA/ICh0eXBlb2YgZGF0YS5jcmVhdGVkQXQgPT09ICdudW1iZXInXG4gICAgICAgICAgPyBuZXcgRGF0ZShkYXRhLmNyZWF0ZWRBdCAqIDEwMDApXG4gICAgICAgICAgOiBuZXcgRGF0ZShkYXRhLmNyZWF0ZWRBdCkpXG4gICAgICA6IG5ldyBEYXRlKCk7XG4gIH1cblxuICB0b0RpY3Rpb25hcnkoKTogeyBba2V5OiBzdHJpbmddOiBhbnkgfSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgdXNlcklkOiB0aGlzLnVzZXJJZCxcbiAgICAgIHdvcmtvdXRJZDogdGhpcy53b3Jrb3V0SWQsXG4gICAgICBwaG90b1VybDogdGhpcy5waG90b1VybCxcbiAgICAgIHZpZGVvVXJsOiB0aGlzLnZpZGVvVXJsLFxuICAgICAgY3JlYXRlZEF0OiBkYXRlVG9Vbml4VGltZXN0YW1wKHRoaXMuY3JlYXRlZEF0KVxuICAgIH07XG4gIH1cbn1cblxuLy8gc3JjL3R5cGVzL1dvcmtvdXRUeXBlcy50c1xuZXhwb3J0IGVudW0gV29ya291dFN0YXR1cyB7XG4gIFF1ZXVlZFVwID0gJ3F1ZXVlZFVwJyxcbiAgSW5Qcm9ncmVzcyA9ICdpblByb2dyZXNzJyxcbiAgQ29tcGxldGUgPSAnY29tcGxldGUnLFxuICBBcmNoaXZlZCA9ICdhcmNoaXZlZCdcbn1cblxuZXhwb3J0IGVudW0gV29ya291dFR5cGUge1xuICBVcHBlckJvZHkgPSAnVXBwZXIgQm9keScsXG4gIExvd2VyQm9keSA9ICdMb3dlciBCb2R5JyxcbiAgQ29yZSA9ICdDb3JlJyxcbiAgRnVsbEJvZHkgPSAnRnVsbCBCb2R5J1xufVxuXG4vLyBzcmMvdHlwZXMvV29ya291dFR5cGVzLnRzXG5leHBvcnQgZW51bSBXb3Jrb3V0UmF0aW5nIHtcbiAgVG9vSGFyZCA9ICdUb28gSGFyZCcsXG4gIFRvb0Vhc3kgPSAnVG9vIEVhc3knLFxuICBKdXN0UmlnaHQgPSAnSnVzdCBSaWdodCdcbn1cblxuXG5leHBvcnQgZW51bSBCb2R5Wm9uZSB7XG4gIExvd2VyQm9keSA9IFwiTG93ZXIgQm9keVwiLFxuICBVcHBlckJvZHkgPSBcIlVwcGVyIEJvZHlcIixcbiAgRnVsbEJvZHkgPSBcIkZ1bGwgQm9keVwiLFxuICBDb3JlID0gXCJDb3JlXCJcblxufVxuICBcbmV4cG9ydCBjbGFzcyBSZXBzQW5kV2VpZ2h0TG9nIHtcbiAgcmVwczogbnVtYmVyO1xuICB3ZWlnaHQ6IG51bWJlcjtcbiAgbGVmdFJlcHM6IG51bWJlcjtcbiAgbGVmdFdlaWdodDogbnVtYmVyO1xuICBpc1NwbGl0OiBib29sZWFuO1xuICBpc0JvZHlXZWlnaHQ6IGJvb2xlYW47XG4gIGR1cmF0aW9uOiBudW1iZXI7XG4gIGNhbG9yaWVzOiBudW1iZXI7XG4gIGJwbTogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKGRhdGE6IGFueSkge1xuICAgIHRoaXMucmVwcyA9IGRhdGEucmVwcyB8fCAwO1xuICAgIHRoaXMud2VpZ2h0ID0gZGF0YS53ZWlnaHQgfHwgMDtcbiAgICB0aGlzLmxlZnRSZXBzID0gZGF0YS5sZWZ0UmVwcyB8fCAwO1xuICAgIHRoaXMubGVmdFdlaWdodCA9IGRhdGEubGVmdFdlaWdodCB8fCAwO1xuICAgIHRoaXMuaXNTcGxpdCA9IGRhdGEuaXNTcGxpdCB8fCBmYWxzZTtcbiAgICB0aGlzLmlzQm9keVdlaWdodCA9IGRhdGEuaXNCb2R5V2VpZ2h0IHx8IGZhbHNlO1xuICAgIHRoaXMuZHVyYXRpb24gPSBkYXRhLmR1cmF0aW9uIHx8IDA7XG4gICAgdGhpcy5jYWxvcmllcyA9IGRhdGEuY2Fsb3JpZXMgfHwgMDtcbiAgICB0aGlzLmJwbSA9IGRhdGEuYnBtIHx8IDA7XG4gIH1cblxuICB0b0RpY3Rpb25hcnkoKTogeyBba2V5OiBzdHJpbmddOiBhbnkgfSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlcHM6IHRoaXMucmVwcyxcbiAgICAgIHdlaWdodDogdGhpcy53ZWlnaHQsXG4gICAgICBsZWZ0UmVwczogdGhpcy5sZWZ0UmVwcyxcbiAgICAgIGxlZnRXZWlnaHQ6IHRoaXMubGVmdFdlaWdodCxcbiAgICAgIGlzU3BsaXQ6IHRoaXMuaXNTcGxpdCxcbiAgICAgIGlzQm9keVdlaWdodDogdGhpcy5pc0JvZHlXZWlnaHQsXG4gICAgICBkdXJhdGlvbjogdGhpcy5kdXJhdGlvbixcbiAgICAgIGNhbG9yaWVzOiB0aGlzLmNhbG9yaWVzLFxuICAgICAgYnBtOiB0aGlzLmJwbVxuICAgIH07XG4gIH1cbn1cblxuLy8gV29ya291dENsYXNzLnRzXG5cbmV4cG9ydCBjbGFzcyBXb3Jrb3V0IHtcbiAgaWQ6IHN0cmluZztcbiAgY29sbGVjdGlvbklkPzogc3RyaW5nW10gfCBudWxsO1xuICByb3VuZFdvcmtvdXRJZDogc3RyaW5nO1xuICBleGVyY2lzZXM6IEV4ZXJjaXNlUmVmZXJlbmNlW107XG4gIGNoYWxsZW5nZT86IENoYWxsZW5nZSB8IG51bGw7XG4gIGxvZ3M/OiBFeGVyY2lzZUxvZ1tdIHwgbnVsbDtcbiAgdGl0bGU6IHN0cmluZztcbiAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgZHVyYXRpb246IG51bWJlcjtcbiAgd29ya291dFJhdGluZz86IFdvcmtvdXRSYXRpbmcgfCBudWxsO1xuICB1c2VBdXRob3JDb250ZW50OiBib29sZWFuO1xuICBpc0NvbXBsZXRlZDogYm9vbGVhbjtcbiAgd29ya291dFN0YXR1czogV29ya291dFN0YXR1cztcbiAgc3RhcnRUaW1lPzogRGF0ZSB8IG51bGw7XG4gIG9yZGVyPzogbnVtYmVyIHwgbnVsbDtcbiAgYXV0aG9yOiBzdHJpbmc7XG4gIGFzc2lnbmVkRGF0ZT86IERhdGUgfCBudWxsO1xuICBjcmVhdGVkQXQ6IERhdGU7XG4gIHVwZGF0ZWRBdDogRGF0ZTtcbiAgem9uZTogQm9keVpvbmU7XG4gXG4gIGNvbnN0cnVjdG9yKGRhdGE6IGFueSkge1xuICAgIC8vIEZvciBzdHJpbmcgZmllbGRzLCBkZWZhdWx0IHRvIGVtcHR5IHN0cmluZyBpZiBub3QgcHJvdmlkZWQuXG4gICAgdGhpcy5pZCA9IGRhdGEuaWQgIT09IHVuZGVmaW5lZCA/IGRhdGEuaWQgOiAnJztcbiAgICB0aGlzLnJvdW5kV29ya291dElkID0gZGF0YS5yb3VuZFdvcmtvdXRJZCAhPT0gdW5kZWZpbmVkID8gZGF0YS5yb3VuZFdvcmtvdXRJZCA6ICcnO1xuICAgIHRoaXMudGl0bGUgPSBkYXRhLnRpdGxlICE9PSB1bmRlZmluZWQgPyBkYXRhLnRpdGxlIDogJyc7XG4gICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRhdGEuZGVzY3JpcHRpb24gIT09IHVuZGVmaW5lZCA/IGRhdGEuZGVzY3JpcHRpb24gOiAnJztcbiAgICBcbiAgICAvLyBGb3IgbnVtZXJpYyBmaWVsZHMsIGRlZmF1bHQgdG8gMC5cbiAgICB0aGlzLmR1cmF0aW9uID0gZGF0YS5kdXJhdGlvbiAhPT0gdW5kZWZpbmVkID8gZGF0YS5kdXJhdGlvbiA6IDA7XG4gICAgXG4gICAgLy8gRm9yIGJvb2xlYW4gZmllbGRzLCBkZWZhdWx0IHRvIGZhbHNlLlxuICAgIHRoaXMudXNlQXV0aG9yQ29udGVudCA9IGRhdGEudXNlQXV0aG9yQ29udGVudCAhPT0gdW5kZWZpbmVkID8gZGF0YS51c2VBdXRob3JDb250ZW50IDogZmFsc2U7XG4gICAgdGhpcy5pc0NvbXBsZXRlZCA9IGRhdGEuaXNDb21wbGV0ZWQgIT09IHVuZGVmaW5lZCA/IGRhdGEuaXNDb21wbGV0ZWQgOiBmYWxzZTtcbiAgICBcbiAgICAvLyBGb3IgZW51bSBmaWVsZHMgKHdvcmtvdXRTdGF0dXMsIHdvcmtvdXRSYXRpbmcpLCB5b3UgY2FuIGVpdGhlciBkZWZhdWx0IHRvIGEgc3BlY2lmaWMgdmFsdWUgb3IgbnVsbC5cbiAgICB0aGlzLndvcmtvdXRTdGF0dXMgPSBkYXRhLndvcmtvdXRTdGF0dXMgIT09IHVuZGVmaW5lZCA/IGRhdGEud29ya291dFN0YXR1cyA6IFdvcmtvdXRTdGF0dXMuQXJjaGl2ZWQ7XG4gICAgdGhpcy53b3Jrb3V0UmF0aW5nID0gZGF0YS53b3Jrb3V0UmF0aW5nICE9PSB1bmRlZmluZWQgPyBkYXRhLndvcmtvdXRSYXRpbmcgOiBudWxsO1xuICAgIFxuICAgIC8vIEZvciBhcnJheXMsIGRlZmF1bHQgdG8gYW4gZW1wdHkgYXJyYXkuXG4gICAgdGhpcy5leGVyY2lzZXMgPSBkYXRhLmV4ZXJjaXNlcyAhPT0gdW5kZWZpbmVkID8gZGF0YS5leGVyY2lzZXMgOiBbXTtcbiAgICBcbiAgICAvLyBGb3Igb3B0aW9uYWwgb2JqZWN0cywgZGVmYXVsdCB0byBudWxsIGlmIG1pc3NpbmcuXG4gICAgdGhpcy5jaGFsbGVuZ2UgPSBkYXRhLmNoYWxsZW5nZSAhPT0gdW5kZWZpbmVkID8gZGF0YS5jaGFsbGVuZ2UgOiBudWxsO1xuICAgIHRoaXMubG9ncyA9IGRhdGEubG9ncyAhPT0gdW5kZWZpbmVkID8gZGF0YS5sb2dzIDogbnVsbDtcbiAgICB0aGlzLmNvbGxlY3Rpb25JZCA9IGRhdGEuY29sbGVjdGlvbklkICE9PSB1bmRlZmluZWQgPyBkYXRhLmNvbGxlY3Rpb25JZCA6IG51bGw7XG4gICAgXG4gICAgLy8gRm9yIGRhdGVzLCBpZiB0aGUgZmllbGQgZXhpc3RzIGFuZCBpcyBhIERhdGUsIHVzZSBpdDsgb3RoZXJ3aXNlIGRlZmF1bHQgdG8gbnVsbCAob3IgbmV3IERhdGUoKSBmb3IgY3JlYXRlZEF0L3VwZGF0ZWRBdClcbiAgICB0aGlzLnN0YXJ0VGltZSA9IGRhdGEuc3RhcnRUaW1lID8gY29udmVydEZpcmVzdG9yZVRpbWVzdGFtcChkYXRhLnN0YXJ0VGltZSkgOiBudWxsO1xuICAgIHRoaXMuYXNzaWduZWREYXRlID0gZGF0YS5hc3NpZ25lZERhdGUgPyBjb252ZXJ0RmlyZXN0b3JlVGltZXN0YW1wKGRhdGEuYXNzaWduZWREYXRlKSA6IG51bGw7XG4gICAgdGhpcy5jcmVhdGVkQXQgPSBkYXRhLmNyZWF0ZWRBdCA/IGNvbnZlcnRGaXJlc3RvcmVUaW1lc3RhbXAoZGF0YS5jcmVhdGVkQXQpIDogbmV3IERhdGUoKTtcbiAgICB0aGlzLnVwZGF0ZWRBdCA9IGRhdGEudXBkYXRlZEF0ID8gY29udmVydEZpcmVzdG9yZVRpbWVzdGFtcChkYXRhLnVwZGF0ZWRBdCkgOiBuZXcgRGF0ZSgpO1xuICAgIFxuICAgIC8vIEZvciBvcmRlciwgZGVmYXVsdCB0byBudWxsIGlmIG5vdCBwcm92aWRlZC5cbiAgICB0aGlzLm9yZGVyID0gZGF0YS5vcmRlciAhPT0gdW5kZWZpbmVkID8gZGF0YS5vcmRlciA6IG51bGw7XG5cbiAgICAvLyBJbiBXb3Jrb3V0IGNvbnN0cnVjdG9yOlxuICAgIGlmIChkYXRhLmF1dGhvcj8udXNlcm5hbWUpIHtcbiAgICAgIHRoaXMuYXV0aG9yID0gZGF0YS5hdXRob3IudXNlcklkO1xuICAgICAgd29ya291dFNlcnZpY2UucmV2ZXJ0QXV0aG9yRm9ybWF0KHRoaXMuaWQsIHRoaXMuYXV0aG9yKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hdXRob3IgPSBkYXRhLmF1dGhvclxuICAgIH1cbiAgICAvLyBGb3Igem9uZSwgZGVmYXVsdCB0byBGdWxsQm9keSAob3IgYW55IG90aGVyIGRlZmF1bHQgeW91IHByZWZlcilcbiAgICB0aGlzLnpvbmUgPSBkYXRhLnpvbmUgIT09IHVuZGVmaW5lZCA/IGRhdGEuem9uZSA6IEJvZHlab25lLkZ1bGxCb2R5O1xuICB9XG5cbiAgZ2V0IGlzVGltZWRXb3Jrb3V0KCk6IGJvb2xlYW4ge1xuICAgIGlmICghdGhpcy5sb2dzKSByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIHRoaXMubG9ncy5zb21lKGxvZyA9PiB7XG4gICAgICBpZiAobG9nLmV4ZXJjaXNlLmNhdGVnb3J5LnR5cGUgPT09ICd3ZWlnaHQtdHJhaW5pbmcnKSB7XG4gICAgICAgIHJldHVybiBsb2cuZXhlcmNpc2UuY2F0ZWdvcnkuZGV0YWlscz8uc2NyZWVuVGltZSAhPT0gMDtcbiAgICAgIH0gZWxzZSBpZiAobG9nLmV4ZXJjaXNlLmNhdGVnb3J5LnR5cGUgPT09ICdjYXJkaW8nKSB7XG4gICAgICAgIHJldHVybiBsb2cuZXhlcmNpc2UuY2F0ZWdvcnkuZGV0YWlscz8uc2NyZWVuVGltZSAhPT0gMDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTtcbiAgfVxuXG4gIGZldGNoUHJpbWFyeUJvZHlQYXJ0cygpOiBCb2R5UGFydFtdIHtcbiAgICByZXR1cm4gdGhpcy5leGVyY2lzZXMuZmxhdE1hcChleGVyY2lzZVJlZiA9PiBleGVyY2lzZVJlZi5leGVyY2lzZS5wcmltYXJ5Qm9keVBhcnRzKTtcbiAgfVxuXG4gIGZldGNoU2Vjb25kYXJ5Qm9keVBhcnRzKCk6IEJvZHlQYXJ0W10ge1xuICAgIHJldHVybiB0aGlzLmV4ZXJjaXNlcy5mbGF0TWFwKGV4ZXJjaXNlUmVmID0+IGV4ZXJjaXNlUmVmLmV4ZXJjaXNlLnNlY29uZGFyeUJvZHlQYXJ0cyk7XG4gIH1cblxuICBzdGF0aWMgZXN0aW1hdGVkRHVyYXRpb24oZXhlcmNpc2VzOiBFeGVyY2lzZUxvZ1tdKTogbnVtYmVyIHtcbiAgICBsZXQgdG90YWxUaW1lU2Vjb25kcyA9IDA7XG4gICAgbGV0IHJlc3RUaW1lU2Vjb25kcyA9IDA7XG4gICAgbGV0IGhhc1NjcmVlblRpbWVFeGVyY2lzZXMgPSBmYWxzZTtcblxuICAgIGZvciAoY29uc3QgZXhlcmNpc2VMb2cgb2YgZXhlcmNpc2VzKSB7ICAgXG4gICAgICBjb25zdCBleGVyY2lzZSA9IGV4ZXJjaXNlTG9nLmV4ZXJjaXNlO1xuICAgICAgY29uc3Qgc2NyZWVuVGltZSA9IGV4ZXJjaXNlPy5jYXRlZ29yeT8uZGV0YWlscz8uc2NyZWVuVGltZTtcblxuICAgICAgaWYgKHNjcmVlblRpbWUgJiYgc2NyZWVuVGltZSA+IDApIHtcbiAgICAgICAgdG90YWxUaW1lU2Vjb25kcyArPSBzY3JlZW5UaW1lO1xuICAgICAgICBoYXNTY3JlZW5UaW1lRXhlcmNpc2VzID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAoZXhlcmNpc2U/LmNhdGVnb3J5Py50eXBlID09PSAnY2FyZGlvJykge1xuICAgICAgICBjb25zdCBkdXJhdGlvbiA9IGV4ZXJjaXNlLmNhdGVnb3J5LmRldGFpbHM/LmR1cmF0aW9uIHx8IDA7XG4gICAgICAgIHRvdGFsVGltZVNlY29uZHMgKz0gZHVyYXRpb24gKiA2MDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRvdGFsVGltZVNlY29uZHMgKz0gOCAqIDYwOyAvLyA4IG1pbnV0ZXNcbiAgICAgICAgcmVzdFRpbWVTZWNvbmRzICs9IDYwOyAgICAgIC8vIDEgbWludXRlIHJlc3RcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBPbmx5IGFkZCB3YXJtdXAvY29vbGRvd24gZm9yIG5vbi1zY3JlZW5UaW1lIGV4ZXJjaXNlc1xuICAgIGlmICghaGFzU2NyZWVuVGltZUV4ZXJjaXNlcykge1xuICAgICAgdG90YWxUaW1lU2Vjb25kcyArPSAxMCAqIDYwOyAvLyAxMCBtaW51dGVzIHdhcm11cC9jb29sZG93blxuICAgIH1cblxuICAgIGNvbnN0IHRvdGFsU2Vjb25kcyA9IHRvdGFsVGltZVNlY29uZHMgKyByZXN0VGltZVNlY29uZHM7XG4gICAgXG4gICAgLy8gRm9yIHNjcmVlblRpbWUgZXhlcmNpc2VzLCBjb252ZXJ0IHRvIG1pbnV0ZXMgd2l0aCBvbmUgZGVjaW1hbCBwbGFjZVxuICAgIGlmIChoYXNTY3JlZW5UaW1lRXhlcmNpc2VzKSB7XG4gICAgICBjb25zdCBtaW51dGVzID0gdG90YWxTZWNvbmRzIC8gNjA7XG4gICAgICBjb25zb2xlLmxvZygnRmluYWwgZHVyYXRpb24gaW4gbWludXRlczonLCBtaW51dGVzKTtcbiAgICAgIHJldHVybiBNYXRoLmNlaWwobWludXRlcyAqIDEwKSAvIDEwOyAvLyBSb3VuZCB0byAxIGRlY2ltYWwgcGxhY2VcbiAgICB9XG4gICAgXG4gICAgLy8gRm9yIG5vbi1zY3JlZW5UaW1lIGV4ZXJjaXNlcywgcm91bmQgdG8gbmVhcmVzdCA1XG4gICAgY29uc3QgdG90YWxNaW51dGVzID0gTWF0aC5yb3VuZCh0b3RhbFNlY29uZHMgLyA2MCk7XG4gICAgcmV0dXJuIE1hdGgucm91bmQodG90YWxNaW51dGVzIC8gNSkgKiA1O1xuICB9XG5cbiAgc3RhdGljIGRldGVybWluZVdvcmtvdXRab25lKGV4ZXJjaXNlczogRXhlcmNpc2VSZWZlcmVuY2VbXSk6IEJvZHlab25lIHtcbiAgICBjb25zdCBib2R5UGFydHNJbnZvbHZlZCA9IG5ldyBTZXQ8Qm9keVBhcnQ+KCk7XG5cbiAgICBmb3IgKGNvbnN0IGV4ZXJjaXNlUmVmIG9mIGV4ZXJjaXNlcykge1xuICAgICAgZm9yIChjb25zdCBib2R5UGFydCBvZiBleGVyY2lzZVJlZi5leGVyY2lzZS5wcmltYXJ5Qm9keVBhcnRzIHx8IFtleGVyY2lzZVJlZi5leGVyY2lzZS5wcmltYXJ5Qm9keVBhcnRzXSkge1xuICAgICAgICBib2R5UGFydHNJbnZvbHZlZC5hZGQoYm9keVBhcnQgYXMgQm9keVBhcnQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHVwcGVyQm9keVBhcnRzID0gbmV3IFNldChbXG4gICAgICBCb2R5UGFydC5DaGVzdCxcbiAgICAgIEJvZHlQYXJ0LlNob3VsZGVycyxcbiAgICAgIEJvZHlQYXJ0LkJpY2VwcyxcbiAgICAgIEJvZHlQYXJ0LlRyaWNlcHMsXG4gICAgICBCb2R5UGFydC5UcmFwcyxcbiAgICAgIEJvZHlQYXJ0LkxhdHMsXG4gICAgICBCb2R5UGFydC5Gb3JlYXJtcyxcbiAgICBdKTtcblxuICAgIGNvbnN0IGxvd2VyQm9keVBhcnRzID0gbmV3IFNldChbXG4gICAgICBCb2R5UGFydC5IYW1zdHJpbmdzLFxuICAgICAgQm9keVBhcnQuR2x1dGVzLFxuICAgICAgQm9keVBhcnQuUXVhZHJpY2VwcyxcbiAgICAgIEJvZHlQYXJ0LkNhbHZlcyxcbiAgICBdKTtcblxuICAgIGNvbnN0IGNvcmVQYXJ0cyA9IG5ldyBTZXQoW0JvZHlQYXJ0LkFicywgQm9keVBhcnQuTG93ZXJiYWNrXSk7XG5cbiAgICBjb25zdCBoYXNDb21tb25FbGVtZW50cyA9IChzZXQxOiBTZXQ8Qm9keVBhcnQ+LCBzZXQyOiBTZXQ8Qm9keVBhcnQ+KTogYm9vbGVhbiA9PiB7XG4gICAgICByZXR1cm4gQXJyYXkuZnJvbShzZXQxKS5zb21lKChpdGVtKSA9PiBzZXQyLmhhcyhpdGVtKSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhc1VwcGVyQm9keSA9IGhhc0NvbW1vbkVsZW1lbnRzKGJvZHlQYXJ0c0ludm9sdmVkLCB1cHBlckJvZHlQYXJ0cyk7XG4gICAgY29uc3QgaGFzTG93ZXJCb2R5ID0gaGFzQ29tbW9uRWxlbWVudHMoYm9keVBhcnRzSW52b2x2ZWQsIGxvd2VyQm9keVBhcnRzKTtcbiAgICBjb25zdCBoYXNDb3JlID0gaGFzQ29tbW9uRWxlbWVudHMoYm9keVBhcnRzSW52b2x2ZWQsIGNvcmVQYXJ0cyk7XG5cbiAgICBpZiAoKGhhc1VwcGVyQm9keSAmJiBoYXNMb3dlckJvZHkgJiYgaGFzQ29yZSkgfHwgKGhhc1VwcGVyQm9keSAmJiBoYXNMb3dlckJvZHkpKSB7XG4gICAgICByZXR1cm4gQm9keVpvbmUuRnVsbEJvZHk7XG4gICAgfSBlbHNlIGlmIChoYXNVcHBlckJvZHkgJiYgaGFzQ29yZSB8fCBoYXNVcHBlckJvZHkpIHtcbiAgICAgIHJldHVybiBCb2R5Wm9uZS5VcHBlckJvZHk7XG4gICAgfSBlbHNlIGlmIChoYXNMb3dlckJvZHkgJiYgaGFzQ29yZSB8fCBoYXNMb3dlckJvZHkpIHtcbiAgICAgIHJldHVybiBCb2R5Wm9uZS5Mb3dlckJvZHk7XG4gICAgfSBlbHNlIGlmIChoYXNDb3JlKSB7XG4gICAgICByZXR1cm4gQm9keVpvbmUuQ29yZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIEJvZHlab25lLkZ1bGxCb2R5O1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZmluZFVuZGVmaW5lZFZhbHVlcyhvYmo6IGFueSwgcGF0aDogc3RyaW5nID0gJycpOiBzdHJpbmdbXSB7XG4gICAgY29uc3QgdW5kZWZpbmVkUGF0aHM6IHN0cmluZ1tdID0gW107XG5cbiAgICBmdW5jdGlvbiByZWN1cnNpdmVDaGVjayhjdXJyZW50OiBhbnksIGN1cnJlbnRQYXRoOiBzdHJpbmcpIHtcbiAgICAgIGlmIChjdXJyZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdW5kZWZpbmVkUGF0aHMucHVzaChjdXJyZW50UGF0aCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGN1cnJlbnQgPT09IG51bGwgfHwgdHlwZW9mIGN1cnJlbnQgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY3VycmVudCkpIHtcbiAgICAgICAgY3VycmVudC5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgICAgIHJlY3Vyc2l2ZUNoZWNrKGl0ZW0sIGAke2N1cnJlbnRQYXRofVske2luZGV4fV1gKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgT2JqZWN0LmVudHJpZXMoY3VycmVudCkuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld1BhdGggPSBjdXJyZW50UGF0aCA/IGAke2N1cnJlbnRQYXRofS4ke2tleX1gIDoga2V5O1xuICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHVuZGVmaW5lZFBhdGhzLnB1c2gobmV3UGF0aCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVjdXJzaXZlQ2hlY2sodmFsdWUsIG5ld1BhdGgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZWN1cnNpdmVDaGVjayhvYmosIHBhdGgpO1xuICAgIHJldHVybiB1bmRlZmluZWRQYXRocztcbiAgfVxuXG4gIHByaXZhdGUgY2hlY2tGb3JVbmRlZmluZWQoZGF0YTogYW55LCBsYWJlbDogc3RyaW5nID0gJ0RhdGEnKTogYm9vbGVhbiB7XG4gICAgY29uc3QgdW5kZWZpbmVkUGF0aHMgPSB0aGlzLmZpbmRVbmRlZmluZWRWYWx1ZXMoZGF0YSk7XG4gICAgaWYgKHVuZGVmaW5lZFBhdGhzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYPCfmqggRm91bmQgdW5kZWZpbmVkIHZhbHVlcyBpbiAke2xhYmVsfTpgKTtcbiAgICAgIHVuZGVmaW5lZFBhdGhzLmZvckVhY2gocGF0aCA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYCAgLSAke3BhdGh9YCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICB0b0RpY3Rpb25hcnkoKTogeyBba2V5OiBzdHJpbmddOiBhbnkgfSB7XG4gICAgY29uc3QgZGF0YTogeyBba2V5OiBzdHJpbmddOiBhbnkgfSA9IHtcbiAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgZXhlcmNpc2VzOiB0aGlzLmV4ZXJjaXNlcy5tYXAoZXggPT4gKHtcbiAgICAgICAgZXhlcmNpc2U6IGV4LmV4ZXJjaXNlLnRvRGljdGlvbmFyeSgpLFxuICAgICAgICBncm91cElkOiBleC5ncm91cElkXG4gICAgICB9KSksXG4gICAgICBsb2dzOiB0aGlzLmxvZ3MgPyB0aGlzLmxvZ3MubWFwKGxvZyA9PiBsb2cudG9EaWN0aW9uYXJ5KCkpIDogW10sXG4gICAgICB0aXRsZTogdGhpcy50aXRsZSxcbiAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLmRlc2NyaXB0aW9uLFxuICAgICAgem9uZTogdGhpcy56b25lLFxuICAgICAgZHVyYXRpb246IHRoaXMuZHVyYXRpb24sXG4gICAgICB3b3Jrb3V0UmF0aW5nOiB0aGlzLndvcmtvdXRSYXRpbmcsXG4gICAgICB1c2VBdXRob3JDb250ZW50OiB0aGlzLnVzZUF1dGhvckNvbnRlbnQsXG4gICAgICBpc0NvbXBsZXRlZDogdGhpcy5pc0NvbXBsZXRlZCxcbiAgICAgIHdvcmtvdXRTdGF0dXM6IHRoaXMud29ya291dFN0YXR1cyxcbiAgICAgIGF1dGhvcjogdGhpcy5hdXRob3IsIC8vIEp1c3Qgc2F2ZSB0aGUgSURcbiAgICAgIGNyZWF0ZWRBdDogZGF0ZVRvVW5peFRpbWVzdGFtcCh0aGlzLmNyZWF0ZWRBdCksXG4gICAgICB1cGRhdGVkQXQ6IGRhdGVUb1VuaXhUaW1lc3RhbXAodGhpcy51cGRhdGVkQXQpLFxuICAgICAgYXNzaWduZWREYXRlOiB0aGlzLmFzc2lnbmVkRGF0ZSA/IGRhdGVUb1VuaXhUaW1lc3RhbXAodGhpcy5hc3NpZ25lZERhdGUpIDogbnVsbCxcbiAgICAgIHN0YXJ0VGltZTogdGhpcy5zdGFydFRpbWUgPyBkYXRlVG9Vbml4VGltZXN0YW1wKHRoaXMuc3RhcnRUaW1lKSA6IG51bGwsXG4gICAgICBvcmRlcjogdGhpcy5vcmRlciB8fCBudWxsLFxuICAgICAgY29sbGVjdGlvbklkOiB0aGlzLmNvbGxlY3Rpb25JZCB8fCBudWxsLFxuICAgICAgY2hhbGxlbmdlOiB0aGlzLmNoYWxsZW5nZSB8fCBudWxsXG4gICAgfTtcblxuICAgIC8vIFZhbGlkYXRlIGRhdGEgYmVmb3JlIHJldHVybmluZ1xuICAgIGlmICghdGhpcy5jaGVja0ZvclVuZGVmaW5lZChkYXRhLCAnV29ya291dCBEaWN0aW9uYXJ5JykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignV29ya291dCBjb250YWlucyB1bmRlZmluZWQgdmFsdWVzJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cbn1cblxuXG5leHBvcnQgY2xhc3MgV29ya291dFN1bW1hcnkge1xuICBpZDogc3RyaW5nO1xuICB3b3Jrb3V0SWQ6IHN0cmluZztcbiAgdXNlcklkOiBzdHJpbmc7XG4gIHJvdW5kV29ya291dElkOiBzdHJpbmc7XG4gIGV4ZXJjaXNlczogRXhlcmNpc2VMb2dbXTtcbiAgYm9keVBhcnRzOiBCb2R5UGFydFtdO1xuICBzZWNvbmRhcnlCb2R5UGFydHM6IEJvZHlQYXJ0W107XG4gIHdvcmtvdXRUaXRsZTogc3RyaW5nO1xuICBjYWxvcmllc0J1cm5lZDogbnVtYmVyO1xuICB3b3Jrb3V0UmF0aW5nPzogV29ya291dFJhdGluZyB8IG51bGw7XG4gIGV4ZXJjaXNlc0NvbXBsZXRlZDogRXhlcmNpc2VMb2dbXTtcbiAgYWlJbnNpZ2h0OiBzdHJpbmc7XG4gIHJlY29tbWVuZGF0aW9uczogc3RyaW5nW107XG4gIGdpZlVSTHM/OiBzdHJpbmdbXTtcbiAgcmVjb21tZW5kZWRXb3JrPzogbnVtYmVyO1xuICBwdWxzZVBvaW50czogUHVsc2VQb2ludHM7XG4gIGlzQ29tcGxldGVkOiBib29sZWFuO1xuICBzdGFydFRpbWU6IERhdGU7XG4gIGNyZWF0ZWRBdDogRGF0ZTtcbiAgdXBkYXRlZEF0OiBEYXRlO1xuICBjb21wbGV0ZWRBdD86IERhdGUgfCBudWxsO1xuICBkdXJhdGlvbjogbnVtYmVyID0gMDsgIC8vIENoYW5nZWQgdG8gbnVtYmVyIHRvIG1hdGNoIGlPU1xuXG4gIGNvbnN0cnVjdG9yKGRhdGE6IGFueSkge1xuICAgICAgdGhpcy5pZCA9IGRhdGEuaWQgfHwgJyc7XG4gICAgICB0aGlzLndvcmtvdXRJZCA9IGRhdGEud29ya291dElkIHx8ICcnO1xuICAgICAgdGhpcy51c2VySWQgPSBkYXRhLnVzZXJJZCB8fCAnJztcbiAgICAgIHRoaXMucm91bmRXb3Jrb3V0SWQgPSBkYXRhLnJvdW5kV29ya291dElkIHx8ICcnO1xuICAgICAgdGhpcy5leGVyY2lzZXMgPSBBcnJheS5pc0FycmF5KGRhdGEuZXhlcmNpc2VzKSBcbiAgICAgICAgICA/IGRhdGEuZXhlcmNpc2VzLm1hcCgoZXg6IGFueSkgPT4gbmV3IEV4ZXJjaXNlTG9nKGV4KSlcbiAgICAgICAgICA6IFtdO1xuICAgICAgdGhpcy5ib2R5UGFydHMgPSBBcnJheS5pc0FycmF5KGRhdGEuYm9keVBhcnRzKVxuICAgICAgICAgID8gZGF0YS5ib2R5UGFydHNcbiAgICAgICAgICA6IFtdO1xuICAgICAgdGhpcy5zZWNvbmRhcnlCb2R5UGFydHMgPSBBcnJheS5pc0FycmF5KGRhdGEuc2Vjb25kYXJ5Qm9keVBhcnRzKVxuICAgICAgICAgID8gZGF0YS5zZWNvbmRhcnlCb2R5UGFydHNcbiAgICAgICAgICA6IFtdO1xuICAgICAgdGhpcy53b3Jrb3V0VGl0bGUgPSBkYXRhLndvcmtvdXRUaXRsZSB8fCAnJztcbiAgICAgIHRoaXMuY2Fsb3JpZXNCdXJuZWQgPSBkYXRhLmNhbG9yaWVzQnVybmVkIHx8IDA7XG4gICAgICB0aGlzLndvcmtvdXRSYXRpbmcgPSBkYXRhLndvcmtvdXRSYXRpbmc7XG4gICAgICB0aGlzLmV4ZXJjaXNlc0NvbXBsZXRlZCA9IEFycmF5LmlzQXJyYXkoZGF0YS5leGVyY2lzZXNDb21wbGV0ZWQpXG4gICAgICAgICAgPyBkYXRhLmV4ZXJjaXNlc0NvbXBsZXRlZC5tYXAoKGV4OiBhbnkpID0+IG5ldyBFeGVyY2lzZUxvZyhleCkpXG4gICAgICAgICAgOiBbXTtcbiAgICAgIHRoaXMuYWlJbnNpZ2h0ID0gZGF0YS5haUluc2lnaHQgfHwgJyc7XG4gICAgICB0aGlzLnJlY29tbWVuZGF0aW9ucyA9IEFycmF5LmlzQXJyYXkoZGF0YS5yZWNvbW1lbmRhdGlvbnMpXG4gICAgICAgICAgPyBkYXRhLnJlY29tbWVuZGF0aW9uc1xuICAgICAgICAgIDogW107XG4gICAgICB0aGlzLmdpZlVSTHMgPSBkYXRhLmdpZlVSTHM7XG4gICAgICB0aGlzLnJlY29tbWVuZGVkV29yayA9IGRhdGEucmVjb21tZW5kZWRXb3JrO1xuICAgICAgdGhpcy5wdWxzZVBvaW50cyA9IGRhdGEucHVsc2VQb2ludHMgPyBuZXcgUHVsc2VQb2ludHMoZGF0YS5wdWxzZVBvaW50cykgOiBuZXcgUHVsc2VQb2ludHMoe30pO1xuICAgICAgdGhpcy5pc0NvbXBsZXRlZCA9IGRhdGEuaXNDb21wbGV0ZWQgfHwgZmFsc2U7XG4gICAgICB0aGlzLnN0YXJ0VGltZSA9IGNvbnZlcnRGaXJlc3RvcmVUaW1lc3RhbXAoZGF0YS5zdGFydFRpbWUpO1xuICAgICAgdGhpcy5jcmVhdGVkQXQgPSBjb252ZXJ0RmlyZXN0b3JlVGltZXN0YW1wKGRhdGEuY3JlYXRlZEF0KTtcbiAgICAgIHRoaXMudXBkYXRlZEF0ID0gY29udmVydEZpcmVzdG9yZVRpbWVzdGFtcChkYXRhLnVwZGF0ZWRBdCk7XG4gICAgICBcbiAgICAgIC8vIEhhbmRsZSBjb21wbGV0ZWRBdCBzaW1pbGFyIHRvIGlPU1xuICAgICAgaWYgKGRhdGEuY29tcGxldGVkQXQpIHtcbiAgICAgICAgICBjb25zdCBjb21wbGV0ZWRBdFRpbWVzdGFtcCA9IGRhdGEuY29tcGxldGVkQXQ7XG4gICAgICAgICAgaWYgKGNvbXBsZXRlZEF0VGltZXN0YW1wID09PSAwKSB7XG4gICAgICAgICAgICAgIC8vIFNldCB0byA3MiBtaW51dGVzIGZyb20gY3JlYXRlZEF0IGxpa2UgaW4gaU9TXG4gICAgICAgICAgICAgIGNvbnN0IGNvbXBsZXRlZERhdGUgPSBuZXcgRGF0ZSh0aGlzLmNyZWF0ZWRBdCk7XG4gICAgICAgICAgICAgIGNvbXBsZXRlZERhdGUuc2V0TWludXRlcyhjb21wbGV0ZWREYXRlLmdldE1pbnV0ZXMoKSArIDcyKTtcbiAgICAgICAgICAgICAgdGhpcy5jb21wbGV0ZWRBdCA9IGNvbXBsZXRlZERhdGU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy5jb21wbGV0ZWRBdCA9IGNvbnZlcnRGaXJlc3RvcmVUaW1lc3RhbXAoZGF0YS5jb21wbGV0ZWRBdCk7XG4gICAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmNvbXBsZXRlZEF0ID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgdGhpcy5kdXJhdGlvbiA9IHRoaXMuY2FsY3VsYXRlRHVyYXRpb24oKTtcbiAgfVxuXG4gIHByaXZhdGUgY2FsY3VsYXRlRHVyYXRpb24oKTogbnVtYmVyIHtcbiAgICAgIGlmICghdGhpcy5jb21wbGV0ZWRBdCkgcmV0dXJuIDA7XG4gICAgICBjb25zdCBkdXJhdGlvbkluU2Vjb25kcyA9ICh0aGlzLmNvbXBsZXRlZEF0LmdldFRpbWUoKSAtIHRoaXMuY3JlYXRlZEF0LmdldFRpbWUoKSkgLyAxMDAwO1xuICAgICAgLy8gUm91bmQgdG8gdGhlIG5lYXJlc3QgbWludXRlIGxpa2UgaW4gaU9TXG4gICAgICByZXR1cm4gTWF0aC5yb3VuZCgoZHVyYXRpb25JblNlY29uZHMgKyAzMCkgLyA2MCk7XG4gIH1cblxuICBkZXRlcm1pbmVXb3Jrb3V0VHlwZSgpOiBzdHJpbmcge1xuICAgICAgLy8gQ3JlYXRlIHNldHMgb2YgYm9keSBwYXJ0cyBmb3IgZWFjaCBjYXRlZ29yeVxuICAgICAgY29uc3QgdXBwZXJCb2R5UGFydHMgPSBuZXcgU2V0KFtcbiAgICAgICAgICBCb2R5UGFydC5DaGVzdCxcbiAgICAgICAgICBCb2R5UGFydC5TaG91bGRlcnMsXG4gICAgICAgICAgQm9keVBhcnQuQmljZXBzLFxuICAgICAgICAgIEJvZHlQYXJ0LlRyaWNlcHMsXG4gICAgICAgICAgQm9keVBhcnQuVHJhcHMsXG4gICAgICAgICAgQm9keVBhcnQuTGF0cyxcbiAgICAgICAgICBCb2R5UGFydC5Gb3JlYXJtc1xuICAgICAgXSk7XG4gICAgICBjb25zdCBsb3dlckJvZHlQYXJ0cyA9IG5ldyBTZXQoW1xuICAgICAgICAgIEJvZHlQYXJ0LkhhbXN0cmluZ3MsXG4gICAgICAgICAgQm9keVBhcnQuR2x1dGVzLFxuICAgICAgICAgIEJvZHlQYXJ0LlF1YWRyaWNlcHMsXG4gICAgICAgICAgQm9keVBhcnQuQ2FsdmVzXG4gICAgICBdKTtcbiAgICAgIGNvbnN0IGNvcmVQYXJ0cyA9IG5ldyBTZXQoW1xuICAgICAgICAgIEJvZHlQYXJ0LkFicyxcbiAgICAgICAgICBCb2R5UGFydC5Mb3dlcmJhY2tcbiAgICAgIF0pO1xuXG4gICAgICAvLyBHZXQgYWxsIGJvZHkgcGFydHMgaW52b2x2ZWQgaW4gdGhlIHdvcmtvdXRcbiAgICAgIGNvbnN0IGJvZHlQYXJ0c0ludm9sdmVkID0gbmV3IFNldDxCb2R5UGFydD4oKTtcbiAgICAgIHRoaXMuZXhlcmNpc2VzLmZvckVhY2gobG9nID0+IHtcbiAgICAgICAgICBsb2cuZXhlcmNpc2UucHJpbWFyeUJvZHlQYXJ0cy5mb3JFYWNoKHBhcnQgPT4gYm9keVBhcnRzSW52b2x2ZWQuYWRkKHBhcnQpKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBDaGVjayB3aGljaCBhcmVhcyBhcmUgdGFyZ2V0ZWRcbiAgICAgIGNvbnN0IGhhc1VwcGVyQm9keSA9IEFycmF5LmZyb20oYm9keVBhcnRzSW52b2x2ZWQpLnNvbWUocGFydCA9PiB1cHBlckJvZHlQYXJ0cy5oYXMocGFydCkpO1xuICAgICAgY29uc3QgaGFzTG93ZXJCb2R5ID0gQXJyYXkuZnJvbShib2R5UGFydHNJbnZvbHZlZCkuc29tZShwYXJ0ID0+IGxvd2VyQm9keVBhcnRzLmhhcyhwYXJ0KSk7XG4gICAgICBjb25zdCBoYXNDb3JlID0gQXJyYXkuZnJvbShib2R5UGFydHNJbnZvbHZlZCkuc29tZShwYXJ0ID0+IGNvcmVQYXJ0cy5oYXMocGFydCkpO1xuXG4gICAgICAvLyBEZXRlcm1pbmUgd29ya291dCB0eXBlIHVzaW5nIHRoZSBzYW1lIGxvZ2ljIGFzIGlPU1xuICAgICAgaWYgKChoYXNVcHBlckJvZHkgJiYgaGFzTG93ZXJCb2R5ICYmIGhhc0NvcmUpIHx8IChoYXNVcHBlckJvZHkgJiYgaGFzTG93ZXJCb2R5KSkge1xuICAgICAgICAgIHJldHVybiBXb3Jrb3V0VHlwZS5GdWxsQm9keTtcbiAgICAgIH0gZWxzZSBpZiAoaGFzVXBwZXJCb2R5ICYmIGhhc0NvcmUgfHwgaGFzVXBwZXJCb2R5KSB7XG4gICAgICAgICAgcmV0dXJuIFdvcmtvdXRUeXBlLlVwcGVyQm9keTtcbiAgICAgIH0gZWxzZSBpZiAoaGFzTG93ZXJCb2R5ICYmIGhhc0NvcmUgfHwgaGFzTG93ZXJCb2R5KSB7XG4gICAgICAgICAgcmV0dXJuIFdvcmtvdXRUeXBlLkxvd2VyQm9keTtcbiAgICAgIH0gZWxzZSBpZiAoaGFzQ29yZSkge1xuICAgICAgICAgIHJldHVybiBXb3Jrb3V0VHlwZS5Db3JlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFdvcmtvdXRUeXBlLkZ1bGxCb2R5OyAgLy8gRGVmYXVsdCByZXR1cm4gbGlrZSBpT1NcbiAgfVxuXG4gIGZldGNoVG90YWxXZWlnaHRMaWZ0ZWQodXNlcjogVXNlcik6IG51bWJlciB7XG4gICAgICByZXR1cm4gdGhpcy5leGVyY2lzZXNDb21wbGV0ZWQucmVkdWNlKCh0b3RhbCwgZXhlcmNpc2UpID0+IHtcbiAgICAgICAgICByZXR1cm4gdG90YWwgKyBleGVyY2lzZS5mZXRjaFRvdGFsV2VpZ2h0TGlmdGVkKHVzZXIpO1xuICAgICAgfSwgMCk7XG4gIH1cblxuICBmZXRjaFRvdGFsV29ya1Njb3JlKHVzZXI6IFVzZXIsIHdvcmtvdXRJZDogc3RyaW5nIHwgbnVsbCwgd29ya291dFN1bW1hcmllczogV29ya291dFN1bW1hcnlbXSk6IG51bWJlciB7XG4gICAgICByZXR1cm4gdGhpcy5leGVyY2lzZXNDb21wbGV0ZWQucmVkdWNlKCh0b3RhbCwgZXhlcmNpc2UpID0+IHtcbiAgICAgICAgICBpZiAoZXhlcmNpc2UubG9nU3VibWl0dGVkKSB7XG4gICAgICAgICAgICAgIHJldHVybiB0b3RhbCArIGV4ZXJjaXNlLmNhbGN1bGF0ZVdvcmtTY29yZSh1c2VyLCB3b3Jrb3V0SWQsIHdvcmtvdXRTdW1tYXJpZXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdG90YWw7XG4gICAgICB9LCAwKTtcbiAgfVxuXG4gIGZldGNoUHJldmlvdXNXb3JrU2NvcmUodXNlcjogVXNlciwgd29ya291dElkOiBzdHJpbmcgfCBudWxsLCBzdW1tYXJpZXM6IFdvcmtvdXRTdW1tYXJ5W10pOiBudW1iZXIge1xuICAgIGNvbnN0IGN1cnJlbnRXb3Jrb3V0VHlwZSA9IHRoaXMuZGV0ZXJtaW5lV29ya291dFR5cGUoKTtcbiAgICBcbiAgICAvLyBGaW5kIHRoZSBtb3N0IHJlY2VudCBtYXRjaGluZyBzdW1tYXJ5XG4gICAgY29uc3QgbWF0Y2hpbmdTdW1tYXJ5ID0gc3VtbWFyaWVzXG4gICAgICAgIC5maWx0ZXIocyA9PiBzLmRldGVybWluZVdvcmtvdXRUeXBlKCkgPT09IGN1cnJlbnRXb3Jrb3V0VHlwZSlcbiAgICAgICAgLnNvcnQoKGEsIGIpID0+IGIuY3JlYXRlZEF0LmdldFRpbWUoKSAtIGEuY3JlYXRlZEF0LmdldFRpbWUoKSlcbiAgICAgICAgLmZpbmQocyA9PiBzLndvcmtvdXRJZCAhPT0gdGhpcy53b3Jrb3V0SWQpO1xuXG4gICAgaWYgKG1hdGNoaW5nU3VtbWFyeSkge1xuICAgICAgICAvLyBGaXg6IFBhc3Mgc3VtbWFyaWVzIGFzIHRoZSB0aGlyZCBhcmd1bWVudCBhbmQgdXNlIHByb3BlciBhZGRpdGlvblxuICAgICAgICByZXR1cm4gbWF0Y2hpbmdTdW1tYXJ5LmV4ZXJjaXNlc0NvbXBsZXRlZC5yZWR1Y2UoKHRvdGFsLCBleGVyY2lzZSkgPT4gXG4gICAgICAgICAgICB0b3RhbCArIGV4ZXJjaXNlLmNhbGN1bGF0ZVdvcmtTY29yZSh1c2VyLCB3b3Jrb3V0SWQsIHN1bW1hcmllcyksIDApOyAvLyBTdGFydCB3aXRoIDAgYXMgaW5pdGlhbCB2YWx1ZVxuICAgIH1cblxuICAgIHJldHVybiAwO1xufVxuXG4gIGNyZWF0ZVRvdGFsV29ya1N0cmluZyh1c2VyOiBVc2VyLCB3b3Jrb3V0SWQ6IHN0cmluZywgd29ya291dFN1bW1hcmllczogV29ya291dFN1bW1hcnlbXSk6IHN0cmluZyB7XG4gICAgICBjb25zdCB0b3RhbFdvcmsgPSB0aGlzLmZldGNoVG90YWxXb3JrU2NvcmUodXNlciwgd29ya291dElkLCB3b3Jrb3V0U3VtbWFyaWVzKTtcbiAgICAgIHJldHVybiB0b3RhbFdvcmsudG9TdHJpbmcoKTtcbiAgfVxuXG4gIHRvRGljdGlvbmFyeSgpOiB7IFtrZXk6IHN0cmluZ106IGFueSB9IHtcbiAgICAgIGNvbnN0IGRpY3Q6IHsgW2tleTogc3RyaW5nXTogYW55IH0gPSB7XG4gICAgICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICAgICAgd29ya291dElkOiB0aGlzLndvcmtvdXRJZCxcbiAgICAgICAgICB1c2VySWQ6IHRoaXMudXNlcklkLFxuICAgICAgICAgIHJvdW5kV29ya291dElkOiB0aGlzLnJvdW5kV29ya291dElkLFxuICAgICAgICAgIGV4ZXJjaXNlczogdGhpcy5leGVyY2lzZXMubWFwKGV4ID0+IGV4LnRvRGljdGlvbmFyeSgpKSxcbiAgICAgICAgICBib2R5UGFydHM6IHRoaXMuYm9keVBhcnRzLFxuICAgICAgICAgIHNlY29uZGFyeUJvZHlQYXJ0czogdGhpcy5zZWNvbmRhcnlCb2R5UGFydHMsXG4gICAgICAgICAgd29ya291dFRpdGxlOiB0aGlzLndvcmtvdXRUaXRsZSxcbiAgICAgICAgICBjYWxvcmllc0J1cm5lZDogdGhpcy5jYWxvcmllc0J1cm5lZCxcbiAgICAgICAgICB3b3Jrb3V0UmF0aW5nOiB0aGlzLndvcmtvdXRSYXRpbmc/LnRvU3RyaW5nKCkgfHwgJycsXG4gICAgICAgICAgZXhlcmNpc2VzQ29tcGxldGVkOiB0aGlzLmV4ZXJjaXNlc0NvbXBsZXRlZC5tYXAoZXggPT4gZXgudG9EaWN0aW9uYXJ5KCkpLFxuICAgICAgICAgIGFpSW5zaWdodDogdGhpcy5haUluc2lnaHQsXG4gICAgICAgICAgcmVjb21tZW5kYXRpb25zOiB0aGlzLnJlY29tbWVuZGF0aW9ucyxcbiAgICAgICAgICByZWNvbW1lbmRlZFdvcms6IHRoaXMucmVjb21tZW5kZWRXb3JrIHx8ICcnLFxuICAgICAgICAgIHB1bHNlUG9pbnRzOiB0aGlzLnB1bHNlUG9pbnRzLnRvRGljdGlvbmFyeSgpLFxuICAgICAgICAgIGlzQ29tcGxldGVkOiB0aGlzLmlzQ29tcGxldGVkLFxuICAgICAgICAgIHN0YXJ0VGltZTogZGF0ZVRvVW5peFRpbWVzdGFtcCh0aGlzLnN0YXJ0VGltZSksXG4gICAgICAgICAgY3JlYXRlZEF0OiBkYXRlVG9Vbml4VGltZXN0YW1wKHRoaXMuY3JlYXRlZEF0KSxcbiAgICAgICAgICB1cGRhdGVkQXQ6IGRhdGVUb1VuaXhUaW1lc3RhbXAodGhpcy51cGRhdGVkQXQpLFxuICAgICAgICAgIGNvbXBsZXRlZEF0OiB0aGlzLmNvbXBsZXRlZEF0ID8gZGF0ZVRvVW5peFRpbWVzdGFtcCh0aGlzLmNvbXBsZXRlZEF0KSA6IDBcbiAgICAgIH07XG5cbiAgICAgIGlmICh0aGlzLmdpZlVSTHMpIHtcbiAgICAgICAgICBkaWN0LmdpZlVSTHMgPSB0aGlzLmdpZlVSTHM7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkaWN0O1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgV29ya291dFNlcnZpY2Uge1xuICBmZXRjaEN1cnJlbnRXb3Jrb3V0OiAoKSA9PiBQcm9taXNlPFdvcmtvdXQgfCBudWxsPjtcbiAgZ2VuZXJhdGVXb3Jrb3V0OiAoYm9keVBhcnRzOiBCb2R5Wm9uZVtdKSA9PiBQcm9taXNlPFdvcmtvdXQ+O1xuICBzdGFydFdvcmtvdXQ6ICh3b3Jrb3V0SWQ6IHN0cmluZykgPT4gUHJvbWlzZTx2b2lkPjtcbiAgY2FuY2VsV29ya291dDogKHdvcmtvdXRJZDogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+O1xuICBjb21wbGV0ZVdvcmtvdXQ6ICh3b3Jrb3V0SWQ6IHN0cmluZywgcmF0aW5nPzogV29ya291dFJhdGluZykgPT4gUHJvbWlzZTx2b2lkPjtcbiAgZmV0Y2hDdXJyZW50V29ya291dFNlc3Npb246ICgpID0+IFByb21pc2U8e1xuICAgIHdvcmtvdXQ6IFdvcmtvdXQgfCBudWxsO1xuICAgIGxvZ3M6IEV4ZXJjaXNlTG9nW10gfCBudWxsO1xuICB9PjtcbiAgc3dhcFdvcmtvdXQ6IChvbGRXb3Jrb3V0SWQ6IHN0cmluZywgbmV3Qm9keVBhcnRzOiBCb2R5Wm9uZVtdKSA9PiBQcm9taXNlPFdvcmtvdXQ+O1xuICB1cGRhdGVXb3Jrb3V0U3RhdHVzOiAod29ya291dElkOiBzdHJpbmcsIHN0YXR1czogV29ya291dFN0YXR1cykgPT4gUHJvbWlzZTx2b2lkPjtcbiAgbG9nRXhlcmNpc2U6ICh3b3Jrb3V0SWQ6IHN0cmluZywgZXhlcmNpc2VMb2c6IEV4ZXJjaXNlTG9nKSA9PiBQcm9taXNlPHZvaWQ+O1xuICBnZXRXb3Jrb3V0TG9nczogKHdvcmtvdXRJZDogc3RyaW5nKSA9PiBQcm9taXNlPEV4ZXJjaXNlTG9nW10+O1xuICBjYW5jZWxDdXJyZW50V29ya291dDogKCkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgZ2V0Q3VycmVudFdvcmtvdXRTdGF0dXM6ICgpID0+IFByb21pc2U8V29ya291dFN0YXR1cz47XG4gIHNhdmVXb3Jrb3V0OiAod29ya291dDogV29ya291dCkgPT4gUHJvbWlzZTx2b2lkPjtcbn1cblxuLy8gU3dlYXRsaXN0SWRlbnRpZmllcnMgdHlwZVxuZXhwb3J0IGludGVyZmFjZSBTd2VhdGxpc3RJZGVudGlmaWVycyB7XG4gIGlkOiBzdHJpbmc7XG4gIHN3ZWF0bGlzdEF1dGhvcklkOiBzdHJpbmc7XG4gIHN3ZWF0bGlzdE5hbWU6IHN0cmluZztcbiAgb3JkZXI6IG51bWJlcjtcbn1cblxuLy8gRW51bSBmb3Igc3dlYXRsaXN0IHR5cGUgbWF0Y2hpbmcgU3dpZnQgaW1wbGVtZW50YXRpb25cbmV4cG9ydCBlbnVtIFN3ZWF0bGlzdFR5cGUge1xuICBUb2dldGhlciA9ICd0b2dldGhlcicsXG4gIFNvbG8gPSAnc29sbycsXG4gIExvY2tlZCA9ICdsb2NrZWQnXG59XG5cbmV4cG9ydCBjbGFzcyBSZWZlcnJhbENoYWluIHtcbiAgb3JpZ2luYWxIb3N0SWQ6IHN0cmluZztcbiAgc2hhcmVkQnk6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihkYXRhOiBhbnkpIHtcbiAgICB0aGlzLm9yaWdpbmFsSG9zdElkID0gZGF0YS5vcmlnaW5hbEhvc3RJZCB8fCAnJztcbiAgICB0aGlzLnNoYXJlZEJ5ID0gZGF0YS5zaGFyZWRCeSB8fCAnJztcbiAgfVxuXG4gIHRvRGljdGlvbmFyeSgpOiBhbnkge1xuICAgIHJldHVybiB7XG4gICAgICBvcmlnaW5hbEhvc3RJZDogdGhpcy5vcmlnaW5hbEhvc3RJZCxcbiAgICAgIHNoYXJlZEJ5OiB0aGlzLnNoYXJlZEJ5LFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZnJvbUZpcmVzdG9yZShkYXRhOiBhbnkpOiBSZWZlcnJhbENoYWluIHtcbiAgICByZXR1cm4gbmV3IFJlZmVycmFsQ2hhaW4oZGF0YSk7XG4gIH1cbn1cblxuXG4vLyBNYWluIFN3ZWF0bGlzdENvbGxlY3Rpb24gaW50ZXJmYWNlXG5leHBvcnQgY2xhc3MgU3dlYXRsaXN0Q29sbGVjdGlvbiB7XG4gIGlkOiBzdHJpbmc7XG4gIHRpdGxlOiBzdHJpbmc7XG4gIHN1YnRpdGxlOiBzdHJpbmc7XG4gIHBpbjogc3RyaW5nIHwgbnVsbDtcbiAgY2hhbGxlbmdlPzogQ2hhbGxlbmdlIHwgbnVsbDtcbiAgcHVibGlzaGVkU3RhdHVzPzogYm9vbGVhbjtcbiAgcGFydGljaXBhbnRzOiBzdHJpbmdbXTtcbiAgc3dlYXRsaXN0SWRzOiBTd2VhdGxpc3RJZGVudGlmaWVyc1tdO1xuICBvd25lcklkOiBzdHJpbmdbXTsgLy8gVXBkYXRlZCB0byBiZSBhbiBhcnJheVxuICBwcml2YWN5OiBTd2VhdGxpc3RUeXBlO1xuICBjcmVhdGVkQXQ6IERhdGU7XG4gIHVwZGF0ZWRBdDogRGF0ZTtcblxuICBjb25zdHJ1Y3RvcihkYXRhOiBhbnkpIHtcbiAgICB0aGlzLmlkID0gZGF0YS5pZDtcbiAgICB0aGlzLnRpdGxlID0gZGF0YS50aXRsZSB8fCAnJztcbiAgICB0aGlzLnN1YnRpdGxlID0gZGF0YS5zdWJ0aXRsZSB8fCAnJztcbiAgICB0aGlzLnBpbiA9IGRhdGEucGluIHx8IG51bGw7XG4gICAgdGhpcy5jaGFsbGVuZ2UgPSBkYXRhLmNoYWxsZW5nZSA/IG5ldyBDaGFsbGVuZ2UoZGF0YS5jaGFsbGVuZ2UpIDogbnVsbDtcbiAgICB0aGlzLnN3ZWF0bGlzdElkcyA9IChkYXRhLnN3ZWF0bGlzdElkcyB8fCBbXSkubWFwKChpdGVtOiBhbnkpID0+ICh7XG4gICAgICBpZDogaXRlbS5pZCB8fCAnJyxcbiAgICAgIHN3ZWF0bGlzdEF1dGhvcklkOiBpdGVtLnN3ZWF0bGlzdEF1dGhvcklkIHx8ICcnLFxuICAgICAgc3dlYXRsaXN0TmFtZTogaXRlbS5zd2VhdGxpc3ROYW1lIHx8ICcnLFxuICAgICAgb3JkZXI6IGl0ZW0ub3JkZXIgfHwgMCxcbiAgICB9KSk7XG4gICAgLy8gSWYgb3duZXJJZCBpcyBub3QgYW4gYXJyYXksIHdyYXAgaXQgaW4gYW4gYXJyYXkuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YS5vd25lcklkKSkge1xuICAgICAgdGhpcy5vd25lcklkID0gZGF0YS5vd25lcklkO1xuICAgIH0gZWxzZSBpZiAoZGF0YS5vd25lcklkKSB7XG4gICAgICB0aGlzLm93bmVySWQgPSBbZGF0YS5vd25lcklkXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5vd25lcklkID0gW107XG4gICAgfVxuICAgIHRoaXMucHJpdmFjeSA9IHRoaXMuY2hhbGxlbmdlID8gU3dlYXRsaXN0VHlwZS5Ub2dldGhlciA6IFN3ZWF0bGlzdFR5cGUuU29sbztcbiAgICB0aGlzLnBhcnRpY2lwYW50cyA9IChkYXRhLnBhcnRpY2lwYW50cyB8fCBbXSkubWFwKChwYXJ0aWNpcGFudDogYW55KSA9PiBwYXJ0aWNpcGFudCB8fCAnJyk7XG4gICAgdGhpcy5jcmVhdGVkQXQgPSBjb252ZXJ0RmlyZXN0b3JlVGltZXN0YW1wKGRhdGEuY3JlYXRlZEF0KTtcbiAgICB0aGlzLnVwZGF0ZWRBdCA9IGNvbnZlcnRGaXJlc3RvcmVUaW1lc3RhbXAoZGF0YS51cGRhdGVkQXQpO1xuICB9XG5cbiAgdG9EaWN0aW9uYXJ5KCk6IGFueSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgdGl0bGU6IHRoaXMudGl0bGUsXG4gICAgICBzdWJ0aXRsZTogdGhpcy5zdWJ0aXRsZSxcbiAgICAgIHBpbjogdGhpcy5waW4sXG4gICAgICBjaGFsbGVuZ2U6IHRoaXMuY2hhbGxlbmdlID8gdGhpcy5jaGFsbGVuZ2UudG9EaWN0aW9uYXJ5KCkgOiBudWxsLFxuICAgICAgc3dlYXRsaXN0SWRzOiB0aGlzLnN3ZWF0bGlzdElkcy5tYXAoaXRlbSA9PiAoe1xuICAgICAgICBpZDogaXRlbS5pZCxcbiAgICAgICAgc3dlYXRsaXN0QXV0aG9ySWQ6IGl0ZW0uc3dlYXRsaXN0QXV0aG9ySWQsXG4gICAgICAgIG9yZGVyOiBpdGVtLm9yZGVyXG4gICAgICB9KSksXG4gICAgICBvd25lcklkOiB0aGlzLm93bmVySWQsIC8vIFVwZGF0ZWQgdG8gYmUgYW4gYXJyYXlcbiAgICAgIHByaXZhY3k6IHRoaXMucHJpdmFjeSxcbiAgICAgIGNyZWF0ZWRBdDogZGF0ZVRvVW5peFRpbWVzdGFtcCh0aGlzLmNyZWF0ZWRBdCksXG4gICAgICB1cGRhdGVkQXQ6IGRhdGVUb1VuaXhUaW1lc3RhbXAodGhpcy51cGRhdGVkQXQpXG4gICAgfTtcbiAgfVxuXG4gIGlzUHVibGlzaGVkKCk6IGJvb2xlYW4ge1xuICAgIGlmICghdGhpcy5jaGFsbGVuZ2UpIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gdGhpcy5jaGFsbGVuZ2Uuc3RhdHVzID09PSBDaGFsbGVuZ2VTdGF0dXMuUHVibGlzaGVkO1xuICB9XG59XG5cbmNsYXNzIFByb2ZpbGVJbWFnZSB7XG4gIHByb2ZpbGVJbWFnZVVSTDogc3RyaW5nO1xuICB0aHVtYm5haWxVUkw/OiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3IoZGF0YTogYW55KSB7XG4gICAgdGhpcy5wcm9maWxlSW1hZ2VVUkwgPSBkYXRhLnByb2ZpbGVJbWFnZVVSTCB8fCAnJztcbiAgICB0aGlzLnRodW1ibmFpbFVSTCA9IGRhdGEudGh1bWJuYWlsVVJMIHx8ICcnO1xuICB9XG5cbiAgdG9EaWN0aW9uYXJ5KCk6IGFueSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHByb2ZpbGVJbWFnZVVSTDogdGhpcy5wcm9maWxlSW1hZ2VVUkwsXG4gICAgICB0aHVtYm5haWxVUkw6IHRoaXMudGh1bWJuYWlsVVJMIHx8IG51bGwsXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBmcm9tRmlyZXN0b3JlKGRhdGE6IGFueSk6IFByb2ZpbGVJbWFnZSB7XG4gICAgcmV0dXJuIG5ldyBQcm9maWxlSW1hZ2UoZGF0YSk7XG4gIH1cbn1cblxuY2xhc3MgVXNlckxvY2F0aW9uIHtcbiAgbGF0aXR1ZGU6IG51bWJlcjtcbiAgbG9uZ2l0dWRlOiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IoZGF0YTogYW55KSB7XG4gICAgdGhpcy5sYXRpdHVkZSA9IGRhdGEubGF0aXR1ZGUgfHwgMDtcbiAgICB0aGlzLmxvbmdpdHVkZSA9IGRhdGEubG9uZ2l0dWRlIHx8IDA7XG4gIH1cblxuICB0b0RpY3Rpb25hcnkoKTogYW55IHtcbiAgICByZXR1cm4ge1xuICAgICAgbGF0aXR1ZGU6IHRoaXMubGF0aXR1ZGUsXG4gICAgICBsb25naXR1ZGU6IHRoaXMubG9uZ2l0dWRlLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZnJvbUZpcmVzdG9yZShkYXRhOiBhbnkpOiBVc2VyTG9jYXRpb24ge1xuICAgIHJldHVybiBuZXcgVXNlckxvY2F0aW9uKGRhdGEpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQdWxzZVBvaW50cyB7XG4gIGJhc2VDb21wbGV0aW9uOiBudW1iZXI7ICAgICAgLy8gZS5nLiAxMDAgcG9pbnRzXG4gIGZpcnN0Q29tcGxldGlvbjogbnVtYmVyOyAgICAgLy8gZS5nLiA1MCBwb2ludHNcbiAgc3RyZWFrQm9udXM6IG51bWJlcjsgICAgICAgICAvLyBlLmcuIDI1IHBvaW50cyBwZXIgZGF5XG4gIGNoZWNrSW5Cb251czogbnVtYmVyOyAgICAgICAgLy8gZS5nLiAyNSBwb2ludHNcbiAgZWZmb3J0UmF0aW5nOiBudW1iZXI7ICAgICAgICAvLyBlLmcuIDEwIHBvaW50c1xuICBjaGF0UGFydGljaXBhdGlvbjogbnVtYmVyOyAgIC8vIGUuZy4gMjUgcG9pbnRzXG4gIGxvY2F0aW9uQ2hlY2tpbjogbnVtYmVyOyAgICAgLy8gZS5nLiAyNSBwb2ludHNcbiAgY29udGVudEVuZ2FnZW1lbnQ6IG51bWJlcjsgICAvLyBlLmcuIDEwIHBvaW50cyBwZXIgaW50ZXJhY3Rpb25cbiAgZW5jb3VyYWdlbWVudFNlbnQ6IG51bWJlcjsgICAvLyBlLmcuIDE1IHBvaW50cyBwZXIgdW5pcXVlIHVzZXJcbiAgZW5jb3VyYWdlbWVudFJlY2VpdmVkOiBudW1iZXI7IC8vIGUuZy4gMTAgcG9pbnRzIHBlciB1bmlxdWUgdXNlclxuICBjdW11bGF0aXZlU3RyZWFrQm9udXM6IG51bWJlcjtcblxuICBjb25zdHJ1Y3RvcihkYXRhOiBhbnkpIHtcbiAgICB0aGlzLmJhc2VDb21wbGV0aW9uID0gZGF0YS5iYXNlQ29tcGxldGlvbiA/PyAwO1xuICAgIHRoaXMuZmlyc3RDb21wbGV0aW9uID0gZGF0YS5maXJzdENvbXBsZXRpb24gPz8gMDtcbiAgICB0aGlzLnN0cmVha0JvbnVzID0gZGF0YS5zdHJlYWtCb251cyA/PyAwO1xuICAgIHRoaXMuY2hlY2tJbkJvbnVzID0gZGF0YS5jaGVja0luQm9udXMgPz8gMDtcbiAgICB0aGlzLmVmZm9ydFJhdGluZyA9IGRhdGEuZWZmb3J0UmF0aW5nID8/IDA7XG4gICAgdGhpcy5jaGF0UGFydGljaXBhdGlvbiA9IGRhdGEuY2hhdFBhcnRpY2lwYXRpb24gPz8gMDtcbiAgICB0aGlzLmxvY2F0aW9uQ2hlY2tpbiA9IGRhdGEubG9jYXRpb25DaGVja2luID8/IDA7XG4gICAgdGhpcy5jb250ZW50RW5nYWdlbWVudCA9IGRhdGEuY29udGVudEVuZ2FnZW1lbnQgPz8gMDtcbiAgICB0aGlzLmVuY291cmFnZW1lbnRTZW50ID0gZGF0YS5lbmNvdXJhZ2VtZW50U2VudCA/PyAwO1xuICAgIHRoaXMuZW5jb3VyYWdlbWVudFJlY2VpdmVkID0gZGF0YS5lbmNvdXJhZ2VtZW50UmVjZWl2ZWQgPz8gMDtcbiAgICB0aGlzLmN1bXVsYXRpdmVTdHJlYWtCb251cyA9IGRhdGEuY3VtdWxhdGl2ZVN0cmVha0JvbnVzID8/IDA7XG4gIH1cblxuICBnZXQgdG90YWxTdGFja1BvaW50cygpOiBudW1iZXIge1xuICAgIHJldHVybiAoXG4gICAgICB0aGlzLmJhc2VDb21wbGV0aW9uICtcbiAgICAgIHRoaXMuZmlyc3RDb21wbGV0aW9uICtcbiAgICAgIHRoaXMuc3RyZWFrQm9udXMgK1xuICAgICAgdGhpcy5jaGVja0luQm9udXMgK1xuICAgICAgdGhpcy5lZmZvcnRSYXRpbmdcbiAgICApO1xuICB9XG5cbiAgZ2V0IHRvdGFsQ29tbXVuaXR5UG9pbnRzKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuY2hhdFBhcnRpY2lwYXRpb24gK1xuICAgICAgdGhpcy5sb2NhdGlvbkNoZWNraW4gK1xuICAgICAgdGhpcy5jb250ZW50RW5nYWdlbWVudCArXG4gICAgICB0aGlzLmVuY291cmFnZW1lbnRTZW50ICtcbiAgICAgIHRoaXMuZW5jb3VyYWdlbWVudFJlY2VpdmVkXG4gICAgKTtcbiAgfVxuXG4gIGdldCB0b3RhbFBvaW50cygpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnRvdGFsU3RhY2tQb2ludHMgKyB0aGlzLnRvdGFsQ29tbXVuaXR5UG9pbnRzICsgdGhpcy5jdW11bGF0aXZlU3RyZWFrQm9udXM7XG4gIH1cblxuICB0b0RpY3Rpb25hcnkoKTogYW55IHtcbiAgICByZXR1cm4ge1xuICAgICAgYmFzZUNvbXBsZXRpb246IHRoaXMuYmFzZUNvbXBsZXRpb24sXG4gICAgICBmaXJzdENvbXBsZXRpb246IHRoaXMuZmlyc3RDb21wbGV0aW9uLFxuICAgICAgc3RyZWFrQm9udXM6IHRoaXMuc3RyZWFrQm9udXMsXG4gICAgICBjaGVja0luQm9udXM6IHRoaXMuY2hlY2tJbkJvbnVzLFxuICAgICAgZWZmb3J0UmF0aW5nOiB0aGlzLmVmZm9ydFJhdGluZyxcbiAgICAgIGNoYXRQYXJ0aWNpcGF0aW9uOiB0aGlzLmNoYXRQYXJ0aWNpcGF0aW9uLFxuICAgICAgbG9jYXRpb25DaGVja2luOiB0aGlzLmxvY2F0aW9uQ2hlY2tpbixcbiAgICAgIGNvbnRlbnRFbmdhZ2VtZW50OiB0aGlzLmNvbnRlbnRFbmdhZ2VtZW50LFxuICAgICAgZW5jb3VyYWdlbWVudFNlbnQ6IHRoaXMuZW5jb3VyYWdlbWVudFNlbnQsXG4gICAgICBlbmNvdXJhZ2VtZW50UmVjZWl2ZWQ6IHRoaXMuZW5jb3VyYWdlbWVudFJlY2VpdmVkLFxuICAgICAgY3VtdWxhdGl2ZVN0cmVha0JvbnVzOiB0aGlzLmN1bXVsYXRpdmVTdHJlYWtCb251cyxcbiAgICAgIHRvdGFsU3RhY2tQb2ludHM6IHRoaXMudG90YWxTdGFja1BvaW50cyxcbiAgICAgIHRvdGFsQ29tbXVuaXR5UG9pbnRzOiB0aGlzLnRvdGFsQ29tbXVuaXR5UG9pbnRzLFxuICAgICAgdG90YWxQb2ludHM6IHRoaXMudG90YWxQb2ludHMsXG4gICAgfTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRW5jb3VyYWdlbWVudCB7XG4gIGZyb21Vc2VyOiBTaG9ydFVzZXI7XG4gIHRvVXNlcjogU2hvcnRVc2VyO1xuICBjcmVhdGVkQXQ6IERhdGU7XG4gXG4gIGNvbnN0cnVjdG9yKGRhdGE6IGFueSkge1xuICAgIC8vIElmIGRhdGEgaXMgcGFzc2VkIGFzIGFscmVhZHkgY29uc3RydWN0ZWQgU2hvcnRVc2VyIG9iamVjdHNcbiAgICBpZiAoZGF0YS5mcm9tVXNlciBpbnN0YW5jZW9mIFNob3J0VXNlciAmJiBkYXRhLnRvVXNlciBpbnN0YW5jZW9mIFNob3J0VXNlcikge1xuICAgICAgdGhpcy5mcm9tVXNlciA9IGRhdGEuZnJvbVVzZXI7XG4gICAgICB0aGlzLnRvVXNlciA9IGRhdGEudG9Vc2VyO1xuICAgICAgdGhpcy5jcmVhdGVkQXQgPSBkYXRhLmNyZWF0ZWRBdCBpbnN0YW5jZW9mIERhdGUgPyBkYXRhLmNyZWF0ZWRBdCA6IG5ldyBEYXRlKCk7XG4gICAgfSBcbiAgICAvLyBJZiBkYXRhIGlzIGNvbWluZyBmcm9tIEZpcmVzdG9yZS9kaWN0aW9uYXJ5XG4gICAgZWxzZSB7XG4gICAgICBjb25zdCBmcm9tVXNlckRhdGEgPSBkYXRhLmZyb21Vc2VyIHx8IHt9O1xuICAgICAgdGhpcy5mcm9tVXNlciA9IG5ldyBTaG9ydFVzZXIoZnJvbVVzZXJEYXRhKTtcbiAgICAgIFxuICAgICAgY29uc3QgdG9Vc2VyRGF0YSA9IGRhdGEudG9Vc2VyIHx8IHt9O1xuICAgICAgdGhpcy50b1VzZXIgPSBuZXcgU2hvcnRVc2VyKHRvVXNlckRhdGEpO1xuICAgICAgXG4gICAgICB0aGlzLmNyZWF0ZWRBdCA9IGNvbnZlcnRGaXJlc3RvcmVUaW1lc3RhbXAoZGF0YS5jcmVhdGVkQXQpO1xuICAgIH1cbiAgfVxuIFxuICAvLyBTdGF0aWMgbWV0aG9kIHRvIGNyZWF0ZSBmcm9tIHNlcGFyYXRlIHBhcmFtZXRlcnNcbiAgc3RhdGljIGNyZWF0ZShmcm9tVXNlcjogU2hvcnRVc2VyLCB0b1VzZXI6IFNob3J0VXNlciwgY3JlYXRlZEF0OiBEYXRlKTogRW5jb3VyYWdlbWVudCB7XG4gICAgcmV0dXJuIG5ldyBFbmNvdXJhZ2VtZW50KHtcbiAgICAgIGZyb21Vc2VyLFxuICAgICAgdG9Vc2VyLCBcbiAgICAgIGNyZWF0ZWRBdFxuICAgIH0pO1xuICB9XG4gXG4gIC8vIENvbnZlcnQgdG8gZGljdGlvbmFyeSBmb3IgRmlyZXN0b3JlXG4gIHRvRGljdGlvbmFyeSgpOiB7IFtrZXk6IHN0cmluZ106IGFueSB9IHtcbiAgICByZXR1cm4ge1xuICAgICAgZnJvbVVzZXI6IHRoaXMuZnJvbVVzZXIudG9EaWN0aW9uYXJ5KCksXG4gICAgICB0b1VzZXI6IHRoaXMudG9Vc2VyLnRvRGljdGlvbmFyeSgpLFxuICAgICAgY3JlYXRlZEF0OiBkYXRlVG9Vbml4VGltZXN0YW1wKHRoaXMuY3JlYXRlZEF0KVxuICAgIH07XG4gIH1cbiB9XG5cbi8vIFR5cGVzIGZvciB1c2VyIGluIGNoYWxsZW5nZVxuY2xhc3MgVXNlckNoYWxsZW5nZSB7XG4gIGlkOiBzdHJpbmc7XG4gIGNoYWxsZW5nZT86IENoYWxsZW5nZTtcbiAgY2hhbGxlbmdlSWQ6IHN0cmluZztcbiAgdXNlcklkOiBzdHJpbmc7XG4gIGZjbVRva2VuOiBzdHJpbmc7ICAgICAgICAgIC8vIEFkZGVkXG4gIHVzZXJuYW1lOiBzdHJpbmc7XG4gIHByb2ZpbGVJbWFnZT86IFByb2ZpbGVJbWFnZTtcbiAgcHJvZ3Jlc3M6IG51bWJlcjtcbiAgcmVmZXJyYWxDaGFpbjogUmVmZXJyYWxDaGFpbjsgIC8vIENoYW5nZWQgZnJvbSByZWZlcnJhbENoYWlucyB0byBtYXRjaCBpT1NcbiAgY29tcGxldGVkV29ya291dHM6IHsgaWQ6IHN0cmluZzsgd29ya291dElkOiBzdHJpbmc7IGNvbXBsZXRlZEF0OiBEYXRlIH1bXTtcbiAgaXNDb21wbGV0ZWQ6IGJvb2xlYW47XG4gIHVpZDogc3RyaW5nOyAgICAgICAgICAgICAgIC8vIEFkZGVkXG4gIGxvY2F0aW9uPzogVXNlckxvY2F0aW9uO1xuICBjaXR5OiBzdHJpbmc7XG4gIGNvdW50cnk/OiBzdHJpbmc7XG4gIHRpbWV6b25lPzogc3RyaW5nO1xuICBqb2luRGF0ZTogRGF0ZTtcbiAgaXNDdXJyZW50bHlBY3RpdmU6IGJvb2xlYW47ICAvLyBBZGRlZFxuICBjcmVhdGVkQXQ6IERhdGU7XG4gIHVwZGF0ZWRBdDogRGF0ZTtcbiAgcHVsc2VQb2ludHM6IFB1bHNlUG9pbnRzO1xuICBjdXJyZW50U3RyZWFrOiBudW1iZXI7XG4gIGxvbmdlc3RTdHJlYWs6IG51bWJlcjsgICAgICAvLyBBZGRlZFxuICBlbmNvdXJhZ2VkVXNlcnM6IEVuY291cmFnZW1lbnRbXTsgIC8vIENoYW5nZWQgZnJvbSBzdHJpbmdbXSB0byBFbmNvdXJhZ2VtZW50W11cbiAgZW5jb3VyYWdlZEJ5VXNlcnM6IEVuY291cmFnZW1lbnRbXTsgIC8vIENoYW5nZWQgZnJvbSBzdHJpbmdbXSB0byBFbmNvdXJhZ2VtZW50W11cbiAgY2hlY2tJbnM6IENoZWNrSW5bXTtcblxuICBjb25zdHJ1Y3RvcihkYXRhOiBhbnkpIHtcbiAgICB0aGlzLmlkID0gZGF0YS5pZDtcbiAgICB0aGlzLmNoYWxsZW5nZSA9IGRhdGEuY2hhbGxlbmdlID8gbmV3IENoYWxsZW5nZShkYXRhLmNoYWxsZW5nZSkgOiB1bmRlZmluZWQ7XG4gICAgdGhpcy5jaGFsbGVuZ2VJZCA9IGRhdGEuY2hhbGxlbmdlSWQgfHwgJyc7XG4gICAgdGhpcy51c2VySWQgPSBkYXRhLnVzZXJJZCB8fCAnJztcbiAgICB0aGlzLmZjbVRva2VuID0gZGF0YS5mY21Ub2tlbiB8fCAnJzsgIC8vIEFkZGVkXG4gICAgdGhpcy51c2VybmFtZSA9IGRhdGEudXNlcm5hbWUgfHwgJyc7XG4gICAgdGhpcy5wcm9maWxlSW1hZ2UgPSBkYXRhLnByb2ZpbGVJbWFnZSA/IG5ldyBQcm9maWxlSW1hZ2UoZGF0YS5wcm9maWxlSW1hZ2UpIDogdW5kZWZpbmVkO1xuICAgIHRoaXMucHJvZ3Jlc3MgPSBkYXRhLnByb2dyZXNzID8/IDA7XG4gICAgdGhpcy5yZWZlcnJhbENoYWluID0gZGF0YS5yZWZlcnJhbENoYWluID8gbmV3IFJlZmVycmFsQ2hhaW4oZGF0YS5yZWZlcnJhbENoYWluKSA6IG5ldyBSZWZlcnJhbENoYWluKHsgb3JpZ2luYWxIb3N0SWQ6ICcnLCBzaGFyZWRCeTogJycgfSk7XG4gICAgdGhpcy5jb21wbGV0ZWRXb3Jrb3V0cyA9IEFycmF5LmlzQXJyYXkoZGF0YS5jb21wbGV0ZWRXb3Jrb3V0cylcbiAgICAgID8gZGF0YS5jb21wbGV0ZWRXb3Jrb3V0cy5tYXAoKGN3OiBhbnkpID0+ICh7XG4gICAgICAgICAgaWQ6IGN3LmlkIHx8ICcnLFxuICAgICAgICAgIHdvcmtvdXRJZDogY3cud29ya291dElkIHx8ICcnLFxuICAgICAgICAgIGNvbXBsZXRlZEF0OiBjb252ZXJ0RmlyZXN0b3JlVGltZXN0YW1wKGN3LmNvbXBsZXRlZEF0KSxcbiAgICAgICAgfSkpXG4gICAgICA6IFtdO1xuICAgIHRoaXMuaXNDb21wbGV0ZWQgPSBkYXRhLmlzQ29tcGxldGVkID8/IGZhbHNlO1xuICAgIHRoaXMudWlkID0gZGF0YS51aWQgfHwgJyc7ICAvLyBBZGRlZFxuICAgIHRoaXMubG9jYXRpb24gPSBkYXRhLmxvY2F0aW9uID8gbmV3IFVzZXJMb2NhdGlvbihkYXRhLmxvY2F0aW9uKSA6IHVuZGVmaW5lZDtcbiAgICB0aGlzLmNpdHkgPSBkYXRhLmNpdHkgfHwgJyc7XG4gICAgdGhpcy5jb3VudHJ5ID0gZGF0YS5jb3VudHJ5IHx8ICcnO1xuICAgIHRoaXMudGltZXpvbmUgPSBkYXRhLnRpbWV6b25lIHx8ICcnO1xuICAgIHRoaXMuam9pbkRhdGUgPSBjb252ZXJ0RmlyZXN0b3JlVGltZXN0YW1wKGRhdGEuam9pbkRhdGUpO1xuICAgIHRoaXMuaXNDdXJyZW50bHlBY3RpdmUgPSBkYXRhLmlzQ3VycmVudGx5QWN0aXZlID8/IGZhbHNlOyAgLy8gQWRkZWRcbiAgICB0aGlzLmNyZWF0ZWRBdCA9IGNvbnZlcnRGaXJlc3RvcmVUaW1lc3RhbXAoZGF0YS5jcmVhdGVkQXQpO1xuICAgIHRoaXMudXBkYXRlZEF0ID0gY29udmVydEZpcmVzdG9yZVRpbWVzdGFtcChkYXRhLnVwZGF0ZWRBdCk7XG4gICAgdGhpcy5wdWxzZVBvaW50cyA9IGRhdGEucHVsc2VQb2ludHMgPyBuZXcgUHVsc2VQb2ludHMoZGF0YS5wdWxzZVBvaW50cykgOiBuZXcgUHVsc2VQb2ludHMoe30pO1xuICAgIHRoaXMuY3VycmVudFN0cmVhayA9IGRhdGEuY3VycmVudFN0cmVhayA/PyAwO1xuICAgIHRoaXMubG9uZ2VzdFN0cmVhayA9IHRoaXMuY2FsY3VsYXRlTG9uZ2VzdFN0cmVhaygpOyAgLy8gQWRkZWRcbiAgICB0aGlzLmVuY291cmFnZWRVc2VycyA9IEFycmF5LmlzQXJyYXkoZGF0YS5lbmNvdXJhZ2VkVXNlcnMpXG4gICAgICA/IGRhdGEuZW5jb3VyYWdlZFVzZXJzLm1hcCgoZDogYW55KSA9PiBuZXcgRW5jb3VyYWdlbWVudChkKSlcbiAgICAgIDogW107XG4gICAgdGhpcy5lbmNvdXJhZ2VkQnlVc2VycyA9IEFycmF5LmlzQXJyYXkoZGF0YS5lbmNvdXJhZ2VkQnlVc2VycylcbiAgICAgID8gZGF0YS5lbmNvdXJhZ2VkQnlVc2Vycy5tYXAoKGQ6IGFueSkgPT4gbmV3IEVuY291cmFnZW1lbnQoZCkpXG4gICAgICA6IFtdO1xuICAgIHRoaXMuY2hlY2tJbnMgPSBBcnJheS5pc0FycmF5KGRhdGEuY2hlY2tJbnMpXG4gICAgICA/IGRhdGEuY2hlY2tJbnMubWFwKChkOiBhbnkpID0+IG5ldyBDaGVja0luKGQpKVxuICAgICAgOiBbXTtcbiAgfVxuXG4gIC8vIEFkZCBjYWxjdWxhdGVMb25nZXN0U3RyZWFrIG1ldGhvZFxuICBwcml2YXRlIGNhbGN1bGF0ZUxvbmdlc3RTdHJlYWsoKTogbnVtYmVyIHtcbiAgICBpZiAoIXRoaXMuY29tcGxldGVkV29ya291dHMubGVuZ3RoKSByZXR1cm4gMDtcblxuICAgIGxldCBjdXJyZW50U3RyZWFrID0gMTtcbiAgICBsZXQgbWF4U3RyZWFrID0gMTtcbiAgICBjb25zdCBzb3J0ZWRXb3Jrb3V0cyA9IFsuLi50aGlzLmNvbXBsZXRlZFdvcmtvdXRzXS5zb3J0KFxuICAgICAgKGEsIGIpID0+IGEuY29tcGxldGVkQXQuZ2V0VGltZSgpIC0gYi5jb21wbGV0ZWRBdC5nZXRUaW1lKClcbiAgICApO1xuXG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCBzb3J0ZWRXb3Jrb3V0cy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgcHJldkRhdGUgPSBuZXcgRGF0ZShzb3J0ZWRXb3Jrb3V0c1tpIC0gMV0uY29tcGxldGVkQXQpO1xuICAgICAgY29uc3QgY3VyckRhdGUgPSBuZXcgRGF0ZShzb3J0ZWRXb3Jrb3V0c1tpXS5jb21wbGV0ZWRBdCk7XG4gICAgICBcbiAgICAgIGlmICh0aGlzLmlzTmV4dERheShwcmV2RGF0ZSwgY3VyckRhdGUpKSB7XG4gICAgICAgIGN1cnJlbnRTdHJlYWsrKztcbiAgICAgICAgbWF4U3RyZWFrID0gTWF0aC5tYXgobWF4U3RyZWFrLCBjdXJyZW50U3RyZWFrKTtcbiAgICAgIH0gZWxzZSBpZiAoIXRoaXMuaXNTYW1lRGF5KHByZXZEYXRlLCBjdXJyRGF0ZSkpIHtcbiAgICAgICAgY3VycmVudFN0cmVhayA9IDE7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG1heFN0cmVhaztcbiAgfVxuXG4gIHByaXZhdGUgaXNOZXh0RGF5KGRhdGUxOiBEYXRlLCBkYXRlMjogRGF0ZSk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IG5leHREYXkgPSBuZXcgRGF0ZShkYXRlMSk7XG4gICAgbmV4dERheS5zZXREYXRlKG5leHREYXkuZ2V0RGF0ZSgpICsgMSk7XG4gICAgcmV0dXJuIHRoaXMuaXNTYW1lRGF5KG5leHREYXksIGRhdGUyKTtcbiAgfVxuXG4gIHByaXZhdGUgaXNTYW1lRGF5KGRhdGUxOiBEYXRlLCBkYXRlMjogRGF0ZSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAoXG4gICAgICBkYXRlMS5nZXRGdWxsWWVhcigpID09PSBkYXRlMi5nZXRGdWxsWWVhcigpICYmXG4gICAgICBkYXRlMS5nZXRNb250aCgpID09PSBkYXRlMi5nZXRNb250aCgpICYmXG4gICAgICBkYXRlMS5nZXREYXRlKCkgPT09IGRhdGUyLmdldERhdGUoKVxuICAgICk7XG4gIH1cblxuICB0b0RpY3Rpb25hcnkoKTogYW55IHtcbiAgICByZXR1cm4ge1xuICAgICAgY2hhbGxlbmdlOiB0aGlzLmNoYWxsZW5nZSA/IHRoaXMuY2hhbGxlbmdlLnRvRGljdGlvbmFyeSgpIDogbnVsbCxcbiAgICAgIGNoYWxsZW5nZUlkOiB0aGlzLmNoYWxsZW5nZUlkLFxuICAgICAgdXNlcklkOiB0aGlzLnVzZXJJZCxcbiAgICAgIGZjbVRva2VuOiB0aGlzLmZjbVRva2VuLCAgLy8gQWRkZWRcbiAgICAgIHVzZXJuYW1lOiB0aGlzLnVzZXJuYW1lLFxuICAgICAgcHJvZmlsZUltYWdlOiB0aGlzLnByb2ZpbGVJbWFnZSA/IHRoaXMucHJvZmlsZUltYWdlLnRvRGljdGlvbmFyeSgpIDogbnVsbCxcbiAgICAgIHByb2dyZXNzOiB0aGlzLnByb2dyZXNzLFxuICAgICAgcmVmZXJyYWxDaGFpbjogdGhpcy5yZWZlcnJhbENoYWluLnRvRGljdGlvbmFyeSgpLCAgLy8gQ2hhbmdlZCBmcm9tIHJlZmVycmFsQ2hhaW5zXG4gICAgICBjb21wbGV0ZWRXb3Jrb3V0czogdGhpcy5jb21wbGV0ZWRXb3Jrb3V0cy5tYXAod29ya291dCA9PiAoe1xuICAgICAgICAuLi53b3Jrb3V0LFxuICAgICAgICBjb21wbGV0ZWRBdDogZGF0ZVRvVW5peFRpbWVzdGFtcCh3b3Jrb3V0LmNvbXBsZXRlZEF0KVxuICAgICAgfSkpLFxuICAgICAgaXNDb21wbGV0ZWQ6IHRoaXMuaXNDb21wbGV0ZWQsXG4gICAgICB1aWQ6IHRoaXMudWlkLCAgLy8gQWRkZWRcbiAgICAgIGxvY2F0aW9uOiB0aGlzLmxvY2F0aW9uID8gdGhpcy5sb2NhdGlvbi50b0RpY3Rpb25hcnkoKSA6IG51bGwsXG4gICAgICBjaXR5OiB0aGlzLmNpdHksXG4gICAgICBjb3VudHJ5OiB0aGlzLmNvdW50cnksXG4gICAgICB0aW1lem9uZTogdGhpcy50aW1lem9uZSxcbiAgICAgIGpvaW5EYXRlOiBkYXRlVG9Vbml4VGltZXN0YW1wKHRoaXMuam9pbkRhdGUpLFxuICAgICAgaXNDdXJyZW50bHlBY3RpdmU6IHRoaXMuaXNDdXJyZW50bHlBY3RpdmUsICAvLyBBZGRlZFxuICAgICAgY3JlYXRlZEF0OiBkYXRlVG9Vbml4VGltZXN0YW1wKHRoaXMuY3JlYXRlZEF0KSxcbiAgICAgIHVwZGF0ZWRBdDogZGF0ZVRvVW5peFRpbWVzdGFtcCh0aGlzLnVwZGF0ZWRBdCksXG4gICAgICBwdWxzZVBvaW50czogdGhpcy5wdWxzZVBvaW50cy50b0RpY3Rpb25hcnkoKSxcbiAgICAgIGN1cnJlbnRTdHJlYWs6IHRoaXMuY3VycmVudFN0cmVhayxcbiAgICAgIGxvbmdlc3RTdHJlYWs6IHRoaXMubG9uZ2VzdFN0cmVhaywgIC8vIEFkZGVkXG4gICAgICBlbmNvdXJhZ2VkVXNlcnM6IHRoaXMuZW5jb3VyYWdlZFVzZXJzLm1hcCh1c2VyID0+IHVzZXIudG9EaWN0aW9uYXJ5KCkpLFxuICAgICAgZW5jb3VyYWdlZEJ5VXNlcnM6IHRoaXMuZW5jb3VyYWdlZEJ5VXNlcnMubWFwKHVzZXIgPT4gdXNlci50b0RpY3Rpb25hcnkoKSksXG4gICAgICBjaGVja0luczogdGhpcy5jaGVja0lucy5tYXAoY2hlY2tJbiA9PiBjaGVja0luLnRvRGljdGlvbmFyeSgpKSxcbiAgICB9O1xuICB9XG59XG5cbi8vIENoYWxsZW5nZSBzdGF0dXMgZW51bVxuZW51bSBDaGFsbGVuZ2VTdGF0dXMge1xuICBEcmFmdCA9ICdkcmFmdCcsXG4gIFB1Ymxpc2hlZCA9ICdwdWJsaXNoZWQnLFxuICBDb21wbGV0ZWQgPSAnY29tcGxldGVkJyxcbiAgQ2FuY2VsbGVkID0gJ2NhbmNlbGxlZCdcbn1cbmV4cG9ydCBpbnRlcmZhY2UgSW50cm9WaWRlbyB7XG4gIGlkOiBzdHJpbmc7XG4gIHVzZXJJZDogc3RyaW5nO1xuICB2aWRlb1VybDogc3RyaW5nO1xuICB0b0RpY3Rpb25hcnkoKTogYW55O1xufVxuXG5leHBvcnQgY2xhc3MgSW50cm9WaWRlbyBpbXBsZW1lbnRzIEludHJvVmlkZW8ge1xuICBpZDogc3RyaW5nO1xuICB1c2VySWQ6IHN0cmluZztcbiAgdmlkZW9Vcmw6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihkYXRhOiB7IGlkOiBzdHJpbmc7IHVzZXJJZDogc3RyaW5nOyB2aWRlb1VybDogc3RyaW5nOyB9KSB7XG4gICAgdGhpcy5pZCA9IGRhdGEuaWQ7XG4gICAgdGhpcy51c2VySWQgPSBkYXRhLnVzZXJJZDtcbiAgICB0aGlzLnZpZGVvVXJsID0gZGF0YS52aWRlb1VybDtcbiAgfVxuXG4gIHRvRGljdGlvbmFyeSgpOiBhbnkge1xuICAgIHJldHVybiB7XG4gICAgICBpZDogdGhpcy5pZCxcbiAgICAgIHVzZXJJZDogdGhpcy51c2VySWQsXG4gICAgICB2aWRlb1VybDogdGhpcy52aWRlb1VybFxuICAgIH07XG4gIH1cbn1cblxuY2xhc3MgQ2hhbGxlbmdlIHtcbiAgaWQ6IHN0cmluZztcbiAgdGl0bGU6IHN0cmluZztcbiAgc3VidGl0bGU6IHN0cmluZztcbiAgcGFydGljaXBhbnRzOiBVc2VyQ2hhbGxlbmdlW107XG4gIGR1cmF0aW9uSW5EYXlzOiBudW1iZXI7XG4gIHN0YXR1czogQ2hhbGxlbmdlU3RhdHVzO1xuICBzdGFydERhdGU6IERhdGU7XG4gIGVuZERhdGU6IERhdGU7XG4gIGNyZWF0ZWRBdDogRGF0ZTtcbiAgdXBkYXRlZEF0OiBEYXRlO1xuICBpbnRyb1ZpZGVvczogSW50cm9WaWRlb1tdO1xuXG4gIGNvbnN0cnVjdG9yKGRhdGE6IHtcbiAgICBpZDogc3RyaW5nO1xuICAgIHRpdGxlOiBzdHJpbmc7XG4gICAgc3VidGl0bGU6IHN0cmluZztcbiAgICBwYXJ0aWNpcGFudHM/OiBVc2VyQ2hhbGxlbmdlW107IC8vIG1ha2Ugb3B0aW9uYWwgaW4gY2FzZSBpdCdzIG1pc3NpbmdcbiAgICBzdGF0dXM6IENoYWxsZW5nZVN0YXR1cztcbiAgICBzdGFydERhdGU6IERhdGU7XG4gICAgZW5kRGF0ZTogRGF0ZTtcbiAgICBjcmVhdGVkQXQ6IERhdGU7XG4gICAgdXBkYXRlZEF0OiBEYXRlO1xuICAgIGludHJvVmlkZW9zPzogSW50cm9WaWRlb1tdO1xuICAgIGludHJvVmlkZW9VUkw/OiBzdHJpbmc7IC8vIEFkZCB0aGlzIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eVxuICB9KSB7XG4gICAgdGhpcy5pZCA9IGRhdGEuaWQ7XG4gICAgdGhpcy50aXRsZSA9IGRhdGEudGl0bGU7XG4gICAgdGhpcy5zdWJ0aXRsZSA9IGRhdGEuc3VidGl0bGU7XG4gICAgLy8gVXNlIGFuIGVtcHR5IGFycmF5IGlmIHBhcnRpY2lwYW50cyBpcyBtaXNzaW5nLlxuICAgIHRoaXMucGFydGljaXBhbnRzID0gQXJyYXkuaXNBcnJheShkYXRhLnBhcnRpY2lwYW50cykgPyBkYXRhLnBhcnRpY2lwYW50cyA6IFtdO1xuICAgIHRoaXMuc3RhdHVzID0gZGF0YS5zdGF0dXM7XG5cbiAgICBjb25zb2xlLmxvZyhcIkNoYWxsZW5nZSBzdGFydCBkYXRlXCIsIGNvbnZlcnRGaXJlc3RvcmVUaW1lc3RhbXAoZGF0YS5zdGFydERhdGUpKTtcbiAgICB0aGlzLnN0YXJ0RGF0ZSA9IGNvbnZlcnRGaXJlc3RvcmVUaW1lc3RhbXAoZGF0YS5zdGFydERhdGUpO1xuICAgIHRoaXMuZW5kRGF0ZSA9IGNvbnZlcnRGaXJlc3RvcmVUaW1lc3RhbXAoZGF0YS5lbmREYXRlKTtcbiAgICB0aGlzLmNyZWF0ZWRBdCA9IGNvbnZlcnRGaXJlc3RvcmVUaW1lc3RhbXAoZGF0YS5jcmVhdGVkQXQpO1xuICAgIHRoaXMudXBkYXRlZEF0ID0gY29udmVydEZpcmVzdG9yZVRpbWVzdGFtcChkYXRhLnVwZGF0ZWRBdCk7XG5cbiAgICAvLyBIYW5kbGUgYm90aCBvbGQgYW5kIG5ldyBmb3JtYXQgZm9yIGludHJvIHZpZGVvcy5cbiAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhLmludHJvVmlkZW9zKSkge1xuICAgICAgdGhpcy5pbnRyb1ZpZGVvcyA9IGRhdGEuaW50cm9WaWRlb3MubWFwKHZpZGVvID0+IG5ldyBJbnRyb1ZpZGVvKHZpZGVvKSk7XG4gICAgfSBlbHNlIGlmIChkYXRhLmludHJvVmlkZW9VUkwgJiYgQXJyYXkuaXNBcnJheShkYXRhLnBhcnRpY2lwYW50cykgJiYgZGF0YS5wYXJ0aWNpcGFudHMubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy5pbnRyb1ZpZGVvcyA9IFtcbiAgICAgICAgbmV3IEludHJvVmlkZW8oe1xuICAgICAgICAgIGlkOiAnMScsXG4gICAgICAgICAgdXNlcklkOiBkYXRhLnBhcnRpY2lwYW50c1swXS51c2VySWQsXG4gICAgICAgICAgdmlkZW9Vcmw6IGRhdGEuaW50cm9WaWRlb1VSTFxuICAgICAgICB9KVxuICAgICAgXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5pbnRyb1ZpZGVvcyA9IFtdO1xuICAgIH1cblxuICAgIHRoaXMuZHVyYXRpb25JbkRheXMgPSB0aGlzLmNhbGN1bGF0ZUR1cmF0aW9uSW5EYXlzKCk7XG4gIH1cblxuICB0b0RpY3Rpb25hcnkoKTogYW55IHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICB0aXRsZTogdGhpcy50aXRsZSxcbiAgICAgIHN1YnRpdGxlOiB0aGlzLnN1YnRpdGxlLFxuICAgICAgcGFydGljaXBhbnRzOiB0aGlzLnBhcnRpY2lwYW50cy5tYXAocGFydGljaXBhbnQgPT4gKHtcbiAgICAgICAgaWQ6IHBhcnRpY2lwYW50LmlkLFxuICAgICAgICBjaGFsbGVuZ2VJZDogcGFydGljaXBhbnQuY2hhbGxlbmdlSWQsXG4gICAgICAgIHVzZXJJZDogcGFydGljaXBhbnQudXNlcklkLFxuICAgICAgICB1c2VybmFtZTogcGFydGljaXBhbnQudXNlcm5hbWUsXG4gICAgICAgIHByb2ZpbGVJbWFnZTogcGFydGljaXBhbnQucHJvZmlsZUltYWdlLFxuICAgICAgICBwcm9ncmVzczogcGFydGljaXBhbnQucHJvZ3Jlc3MsXG4gICAgICAgIGNvbXBsZXRlZFdvcmtvdXRzOiBwYXJ0aWNpcGFudC5jb21wbGV0ZWRXb3Jrb3V0cyxcbiAgICAgICAgaXNDb21wbGV0ZWQ6IHBhcnRpY2lwYW50LmlzQ29tcGxldGVkLFxuICAgICAgICBsb2NhdGlvbjogcGFydGljaXBhbnQubG9jYXRpb24sXG4gICAgICAgIGNpdHk6IHBhcnRpY2lwYW50LmNpdHksXG4gICAgICAgIGNvdW50cnk6IHBhcnRpY2lwYW50LmNvdW50cnksXG4gICAgICAgIHRpbWV6b25lOiBwYXJ0aWNpcGFudC50aW1lem9uZSxcbiAgICAgICAgam9pbkRhdGU6IHBhcnRpY2lwYW50LmpvaW5EYXRlLFxuICAgICAgICBjcmVhdGVkQXQ6IHBhcnRpY2lwYW50LmNyZWF0ZWRBdCxcbiAgICAgICAgdXBkYXRlZEF0OiBwYXJ0aWNpcGFudC51cGRhdGVkQXQsXG4gICAgICAgIHB1bHNlUG9pbnRzOiBwYXJ0aWNpcGFudC5wdWxzZVBvaW50cyxcbiAgICAgICAgY3VycmVudFN0cmVhazogcGFydGljaXBhbnQuY3VycmVudFN0cmVhayxcbiAgICAgICAgZW5jb3VyYWdlZFVzZXJzOiBwYXJ0aWNpcGFudC5lbmNvdXJhZ2VkVXNlcnMsXG4gICAgICAgIGVuY291cmFnZWRCeVVzZXJzOiBwYXJ0aWNpcGFudC5lbmNvdXJhZ2VkQnlVc2VycyxcbiAgICAgICAgY2hlY2tJbnM6IHBhcnRpY2lwYW50LmNoZWNrSW5zXG4gICAgICB9KSksXG4gICAgICBzdGF0dXM6IHRoaXMuc3RhdHVzLFxuICAgICAgc3RhcnREYXRlOiBkYXRlVG9Vbml4VGltZXN0YW1wKHRoaXMuc3RhcnREYXRlKSxcbiAgICAgIGVuZERhdGU6IGRhdGVUb1VuaXhUaW1lc3RhbXAodGhpcy5lbmREYXRlKSxcbiAgICAgIGNyZWF0ZWRBdDogZGF0ZVRvVW5peFRpbWVzdGFtcCh0aGlzLmNyZWF0ZWRBdCksXG4gICAgICB1cGRhdGVkQXQ6IGRhdGVUb1VuaXhUaW1lc3RhbXAodGhpcy51cGRhdGVkQXQpLFxuICAgICAgZHVyYXRpb25JbkRheXM6IHRoaXMuZHVyYXRpb25JbkRheXMsXG4gICAgICBpbnRyb1ZpZGVvczogdGhpcy5pbnRyb1ZpZGVvcy5tYXAodmlkZW8gPT4gdmlkZW8udG9EaWN0aW9uYXJ5KCkpXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGVzIHRoZSBkdXJhdGlvbiBpbiBkYXlzIGJldHdlZW4gdGhlIHN0YXJ0RGF0ZSBhbmQgZW5kRGF0ZS5cbiAgICogQHJldHVybnMgVGhlIG51bWJlciBvZiBkYXlzIGJldHdlZW4gdGhlIHR3byBkYXRlcy5cbiAgICovXG4gIHByaXZhdGUgY2FsY3VsYXRlRHVyYXRpb25JbkRheXMoKTogbnVtYmVyIHtcbiAgICBjb25zdCBzdGFydCA9IHRoaXMuc3RhcnREYXRlPy52YWx1ZU9mKCk7XG4gICAgY29uc3QgZW5kID0gdGhpcy5lbmREYXRlPy52YWx1ZU9mKCk7XG5cbiAgICBpZiAoIXN0YXJ0IHx8ICFlbmQgfHwgaXNOYU4oc3RhcnQpIHx8IGlzTmFOKGVuZCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBzdGFydERhdGUgb3IgZW5kRGF0ZScpO1xuICAgIH1cblxuICAgIGNvbnN0IGR1cmF0aW9uSW5NaWxsaXNlY29uZHMgPSBlbmQgLSBzdGFydDtcbiAgICByZXR1cm4gTWF0aC5jZWlsKGR1cmF0aW9uSW5NaWxsaXNlY29uZHMgLyAoMTAwMCAqIDYwICogNjAgKiAyNCkpO1xuICB9XG5cbiAgc3RhdGljIHRvRmlyZXN0b3JlT2JqZWN0KG9iajogYW55KTogYW55IHtcbiAgICBpZiAob2JqID09PSBudWxsIHx8IHR5cGVvZiBvYmogIT09ICdvYmplY3QnKSB7XG4gICAgICByZXR1cm4gb2JqO1xuICAgIH1cblxuICAgIGlmIChvYmogaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICByZXR1cm4gb2JqO1xuICAgIH1cblxuICAgIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICAgIHJldHVybiBvYmoubWFwKGl0ZW0gPT4gdGhpcy50b0ZpcmVzdG9yZU9iamVjdChpdGVtKSk7XG4gICAgfVxuXG4gICAgaWYgKG9iaiBpbnN0YW5jZW9mIENoYWxsZW5nZSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IG9iai5pZCxcbiAgICAgICAgdGl0bGU6IG9iai50aXRsZSxcbiAgICAgICAgc3VidGl0bGU6IG9iai5zdWJ0aXRsZSxcbiAgICAgICAgcGFydGljaXBhbnRzOiBvYmoucGFydGljaXBhbnRzLFxuICAgICAgICBzdGF0dXM6IG9iai5zdGF0dXMsXG4gICAgICAgIHN0YXJ0RGF0ZTogb2JqLnN0YXJ0RGF0ZSxcbiAgICAgICAgZW5kRGF0ZTogb2JqLmVuZERhdGUsXG4gICAgICAgIGNyZWF0ZWRBdDogb2JqLmNyZWF0ZWRBdCxcbiAgICAgICAgdXBkYXRlZEF0OiBvYmoudXBkYXRlZEF0LFxuICAgICAgICBpbnRyb1ZpZGVvczogb2JqLmludHJvVmlkZW9zLm1hcCh2aWRlbyA9PiAoe1xuICAgICAgICAgIGlkOiB2aWRlby5pZCxcbiAgICAgICAgICB1c2VySWQ6IHZpZGVvLnVzZXJJZCxcbiAgICAgICAgICB2aWRlb1VybDogdmlkZW8udmlkZW9VcmxcbiAgICAgICAgfSkpXG4gICAgICB9O1xuICAgIH1cblxuICAgIGNvbnN0IHBsYWluT2JqZWN0OiB7IFtrZXk6IHN0cmluZ106IGFueSB9ID0ge307XG4gICAgZm9yIChjb25zdCBrZXkgaW4gb2JqKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xuICAgICAgICBwbGFpbk9iamVjdFtrZXldID0gdGhpcy50b0ZpcmVzdG9yZU9iamVjdChvYmpba2V5XSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwbGFpbk9iamVjdDtcbiAgfVxufVxuXG5cbi8vIFByb3BzIGludGVyZmFjZSBmb3IgdGhlIGNvbXBvbmVudFxuaW50ZXJmYWNlIENoYWxsZW5nZUludml0YXRpb25Qcm9wcyB7XG4gIGNoYWxsZW5nZTogQ2hhbGxlbmdlO1xuICBvbkNsb3NlOiAoKSA9PiB2b2lkO1xuICBvbkpvaW5DaGFsbGVuZ2U6IChjaGFsbGVuZ2U6IGFueSkgPT4gUHJvbWlzZTx2b2lkPjtcbn1cblxuZXhwb3J0IHR5cGUge1xuICBQcm9maWxlSW1hZ2UsXG4gIFVzZXJMb2NhdGlvbixcbiAgQ2hhbGxlbmdlSW52aXRhdGlvblByb3BzXG59O1xuXG5leHBvcnQgeyBDaGFsbGVuZ2VTdGF0dXMsIENoYWxsZW5nZSwgVXNlckNoYWxsZW5nZSB9O1xuIl0sIm5hbWVzIjpbIkV4ZXJjaXNlTG9nIiwiQm9keVBhcnQiLCJjb252ZXJ0RmlyZXN0b3JlVGltZXN0YW1wIiwiZGF0ZVRvVW5peFRpbWVzdGFtcCIsIndvcmtvdXRTZXJ2aWNlIiwiU2hvcnRVc2VyIiwiQ2hlY2tJbiIsImNvbnN0cnVjdG9yIiwiZGF0YSIsImlkIiwidXNlcklkIiwid29ya291dElkIiwicGhvdG9VcmwiLCJ2aWRlb1VybCIsImNyZWF0ZWRBdCIsIkRhdGUiLCJ0b0RpY3Rpb25hcnkiLCJXb3Jrb3V0U3RhdHVzIiwiV29ya291dFR5cGUiLCJXb3Jrb3V0UmF0aW5nIiwiQm9keVpvbmUiLCJSZXBzQW5kV2VpZ2h0TG9nIiwicmVwcyIsIndlaWdodCIsImxlZnRSZXBzIiwibGVmdFdlaWdodCIsImlzU3BsaXQiLCJpc0JvZHlXZWlnaHQiLCJkdXJhdGlvbiIsImNhbG9yaWVzIiwiYnBtIiwiV29ya291dCIsInVuZGVmaW5lZCIsInJvdW5kV29ya291dElkIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsInVzZUF1dGhvckNvbnRlbnQiLCJpc0NvbXBsZXRlZCIsIndvcmtvdXRTdGF0dXMiLCJ3b3Jrb3V0UmF0aW5nIiwiZXhlcmNpc2VzIiwiY2hhbGxlbmdlIiwibG9ncyIsImNvbGxlY3Rpb25JZCIsInN0YXJ0VGltZSIsImFzc2lnbmVkRGF0ZSIsInVwZGF0ZWRBdCIsIm9yZGVyIiwiYXV0aG9yIiwidXNlcm5hbWUiLCJyZXZlcnRBdXRob3JGb3JtYXQiLCJ6b25lIiwiaXNUaW1lZFdvcmtvdXQiLCJzb21lIiwibG9nIiwiZXhlcmNpc2UiLCJjYXRlZ29yeSIsInR5cGUiLCJkZXRhaWxzIiwic2NyZWVuVGltZSIsImZldGNoUHJpbWFyeUJvZHlQYXJ0cyIsImZsYXRNYXAiLCJleGVyY2lzZVJlZiIsInByaW1hcnlCb2R5UGFydHMiLCJmZXRjaFNlY29uZGFyeUJvZHlQYXJ0cyIsInNlY29uZGFyeUJvZHlQYXJ0cyIsImVzdGltYXRlZER1cmF0aW9uIiwidG90YWxUaW1lU2Vjb25kcyIsInJlc3RUaW1lU2Vjb25kcyIsImhhc1NjcmVlblRpbWVFeGVyY2lzZXMiLCJleGVyY2lzZUxvZyIsInRvdGFsU2Vjb25kcyIsIm1pbnV0ZXMiLCJjb25zb2xlIiwiTWF0aCIsImNlaWwiLCJ0b3RhbE1pbnV0ZXMiLCJyb3VuZCIsImRldGVybWluZVdvcmtvdXRab25lIiwiYm9keVBhcnRzSW52b2x2ZWQiLCJTZXQiLCJib2R5UGFydCIsImFkZCIsInVwcGVyQm9keVBhcnRzIiwiQ2hlc3QiLCJTaG91bGRlcnMiLCJCaWNlcHMiLCJUcmljZXBzIiwiVHJhcHMiLCJMYXRzIiwiRm9yZWFybXMiLCJsb3dlckJvZHlQYXJ0cyIsIkhhbXN0cmluZ3MiLCJHbHV0ZXMiLCJRdWFkcmljZXBzIiwiQ2FsdmVzIiwiY29yZVBhcnRzIiwiQWJzIiwiTG93ZXJiYWNrIiwiaGFzQ29tbW9uRWxlbWVudHMiLCJzZXQxIiwic2V0MiIsIkFycmF5IiwiZnJvbSIsIml0ZW0iLCJoYXMiLCJoYXNVcHBlckJvZHkiLCJoYXNMb3dlckJvZHkiLCJoYXNDb3JlIiwiZmluZFVuZGVmaW5lZFZhbHVlcyIsIm9iaiIsInBhdGgiLCJ1bmRlZmluZWRQYXRocyIsInJlY3Vyc2l2ZUNoZWNrIiwiY3VycmVudCIsImN1cnJlbnRQYXRoIiwicHVzaCIsImlzQXJyYXkiLCJmb3JFYWNoIiwiaW5kZXgiLCJPYmplY3QiLCJlbnRyaWVzIiwia2V5IiwidmFsdWUiLCJuZXdQYXRoIiwiY2hlY2tGb3JVbmRlZmluZWQiLCJsYWJlbCIsImxlbmd0aCIsImVycm9yIiwibWFwIiwiZXgiLCJncm91cElkIiwiRXJyb3IiLCJXb3Jrb3V0U3VtbWFyeSIsImJvZHlQYXJ0cyIsIndvcmtvdXRUaXRsZSIsImNhbG9yaWVzQnVybmVkIiwiZXhlcmNpc2VzQ29tcGxldGVkIiwiYWlJbnNpZ2h0IiwicmVjb21tZW5kYXRpb25zIiwiZ2lmVVJMcyIsInJlY29tbWVuZGVkV29yayIsInB1bHNlUG9pbnRzIiwiUHVsc2VQb2ludHMiLCJjb21wbGV0ZWRBdCIsImNvbXBsZXRlZEF0VGltZXN0YW1wIiwiY29tcGxldGVkRGF0ZSIsInNldE1pbnV0ZXMiLCJnZXRNaW51dGVzIiwiY2FsY3VsYXRlRHVyYXRpb24iLCJkdXJhdGlvbkluU2Vjb25kcyIsImdldFRpbWUiLCJkZXRlcm1pbmVXb3Jrb3V0VHlwZSIsInBhcnQiLCJmZXRjaFRvdGFsV2VpZ2h0TGlmdGVkIiwidXNlciIsInJlZHVjZSIsInRvdGFsIiwiZmV0Y2hUb3RhbFdvcmtTY29yZSIsIndvcmtvdXRTdW1tYXJpZXMiLCJsb2dTdWJtaXR0ZWQiLCJjYWxjdWxhdGVXb3JrU2NvcmUiLCJmZXRjaFByZXZpb3VzV29ya1Njb3JlIiwic3VtbWFyaWVzIiwiY3VycmVudFdvcmtvdXRUeXBlIiwibWF0Y2hpbmdTdW1tYXJ5IiwiZmlsdGVyIiwicyIsInNvcnQiLCJhIiwiYiIsImZpbmQiLCJjcmVhdGVUb3RhbFdvcmtTdHJpbmciLCJ0b3RhbFdvcmsiLCJ0b1N0cmluZyIsImRpY3QiLCJTd2VhdGxpc3RUeXBlIiwiUmVmZXJyYWxDaGFpbiIsIm9yaWdpbmFsSG9zdElkIiwic2hhcmVkQnkiLCJmcm9tRmlyZXN0b3JlIiwiU3dlYXRsaXN0Q29sbGVjdGlvbiIsInN1YnRpdGxlIiwicGluIiwiQ2hhbGxlbmdlIiwic3dlYXRsaXN0SWRzIiwic3dlYXRsaXN0QXV0aG9ySWQiLCJzd2VhdGxpc3ROYW1lIiwib3duZXJJZCIsInByaXZhY3kiLCJwYXJ0aWNpcGFudHMiLCJwYXJ0aWNpcGFudCIsImlzUHVibGlzaGVkIiwic3RhdHVzIiwiUHJvZmlsZUltYWdlIiwicHJvZmlsZUltYWdlVVJMIiwidGh1bWJuYWlsVVJMIiwiVXNlckxvY2F0aW9uIiwibGF0aXR1ZGUiLCJsb25naXR1ZGUiLCJiYXNlQ29tcGxldGlvbiIsImZpcnN0Q29tcGxldGlvbiIsInN0cmVha0JvbnVzIiwiY2hlY2tJbkJvbnVzIiwiZWZmb3J0UmF0aW5nIiwiY2hhdFBhcnRpY2lwYXRpb24iLCJsb2NhdGlvbkNoZWNraW4iLCJjb250ZW50RW5nYWdlbWVudCIsImVuY291cmFnZW1lbnRTZW50IiwiZW5jb3VyYWdlbWVudFJlY2VpdmVkIiwiY3VtdWxhdGl2ZVN0cmVha0JvbnVzIiwidG90YWxTdGFja1BvaW50cyIsInRvdGFsQ29tbXVuaXR5UG9pbnRzIiwidG90YWxQb2ludHMiLCJFbmNvdXJhZ2VtZW50IiwiZnJvbVVzZXIiLCJ0b1VzZXIiLCJmcm9tVXNlckRhdGEiLCJ0b1VzZXJEYXRhIiwiY3JlYXRlIiwiVXNlckNoYWxsZW5nZSIsImNoYWxsZW5nZUlkIiwiZmNtVG9rZW4iLCJwcm9maWxlSW1hZ2UiLCJwcm9ncmVzcyIsInJlZmVycmFsQ2hhaW4iLCJjb21wbGV0ZWRXb3Jrb3V0cyIsImN3IiwidWlkIiwibG9jYXRpb24iLCJjaXR5IiwiY291bnRyeSIsInRpbWV6b25lIiwiam9pbkRhdGUiLCJpc0N1cnJlbnRseUFjdGl2ZSIsImN1cnJlbnRTdHJlYWsiLCJsb25nZXN0U3RyZWFrIiwiY2FsY3VsYXRlTG9uZ2VzdFN0cmVhayIsImVuY291cmFnZWRVc2VycyIsImQiLCJlbmNvdXJhZ2VkQnlVc2VycyIsImNoZWNrSW5zIiwibWF4U3RyZWFrIiwic29ydGVkV29ya291dHMiLCJpIiwicHJldkRhdGUiLCJjdXJyRGF0ZSIsImlzTmV4dERheSIsIm1heCIsImlzU2FtZURheSIsImRhdGUxIiwiZGF0ZTIiLCJuZXh0RGF5Iiwic2V0RGF0ZSIsImdldERhdGUiLCJnZXRGdWxsWWVhciIsImdldE1vbnRoIiwid29ya291dCIsImNoZWNrSW4iLCJDaGFsbGVuZ2VTdGF0dXMiLCJJbnRyb1ZpZGVvIiwic3RhcnREYXRlIiwiZW5kRGF0ZSIsImludHJvVmlkZW9zIiwidmlkZW8iLCJpbnRyb1ZpZGVvVVJMIiwiZHVyYXRpb25JbkRheXMiLCJjYWxjdWxhdGVEdXJhdGlvbkluRGF5cyIsInN0YXJ0IiwidmFsdWVPZiIsImVuZCIsImlzTmFOIiwiZHVyYXRpb25Jbk1pbGxpc2Vjb25kcyIsInRvRmlyZXN0b3JlT2JqZWN0IiwicGxhaW5PYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/api/firebase/workout/types.ts\n");

/***/ }),

/***/ "./src/components/AuthWrapper.tsx":
/*!****************************************!*\
  !*** ./src/components/AuthWrapper.tsx ***!
  \****************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/router */ \"./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-redux */ \"react-redux\");\n/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! firebase/auth */ \"firebase/auth\");\n/* harmony import */ var _redux_userSlice__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../redux/userSlice */ \"./src/redux/userSlice.ts\");\n/* harmony import */ var _api_firebase_user__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../api/firebase/user */ \"./src/api/firebase/user/index.ts\");\n/* harmony import */ var _SignInModal__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/SignInModal */ \"./src/components/SignInModal.tsx\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([react_redux__WEBPACK_IMPORTED_MODULE_3__, firebase_auth__WEBPACK_IMPORTED_MODULE_4__, _redux_userSlice__WEBPACK_IMPORTED_MODULE_5__, _api_firebase_user__WEBPACK_IMPORTED_MODULE_6__, _SignInModal__WEBPACK_IMPORTED_MODULE_7__]);\n([react_redux__WEBPACK_IMPORTED_MODULE_3__, firebase_auth__WEBPACK_IMPORTED_MODULE_4__, _redux_userSlice__WEBPACK_IMPORTED_MODULE_5__, _api_firebase_user__WEBPACK_IMPORTED_MODULE_6__, _SignInModal__WEBPACK_IMPORTED_MODULE_7__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\n\n\n\nconst AuthWrapper = ({ children })=>{\n    const dispatch = (0,react_redux__WEBPACK_IMPORTED_MODULE_3__.useDispatch)();\n    const auth = (0,firebase_auth__WEBPACK_IMPORTED_MODULE_4__.getAuth)();\n    const [showSignInModal, setShowSignInModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const currentUser = (0,react_redux__WEBPACK_IMPORTED_MODULE_3__.useSelector)((state)=>state.user.currentUser);\n    const isLoading = (0,react_redux__WEBPACK_IMPORTED_MODULE_3__.useSelector)((state)=>state.user.loading);\n    const [showSubscriptionModal, setShowSubscriptionModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Add subscription routes to public routes\n    const publicRoutes = [\n        \"/about\",\n        \"/creator\",\n        \"/rounds\",\n        \"/privacyPolicy\",\n        \"/starter-pack\",\n        \"/stacks\",\n        \"/moves\",\n        \"/terms\",\n        \"/subscribe\" // Add subscription page\n    ].map((route)=>route?.toLowerCase());\n    const publicPathPatterns = [\n        \"/round-invitation\",\n        \"/profile\",\n        \"/challenge\"\n    ].map((pattern)=>pattern.toLowerCase());\n    const isPublicRoute = (path)=>{\n        const normalizedPath = path.toLowerCase();\n        console.log(\"Checking route access:\", {\n            path: normalizedPath,\n            isPublic: publicRoutes.includes(normalizedPath)\n        });\n        return publicRoutes.includes(normalizedPath) || publicPathPatterns.some((pattern)=>normalizedPath.startsWith(pattern));\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            dispatch((0,_redux_userSlice__WEBPACK_IMPORTED_MODULE_5__.setLoading)(true));\n            const unsubscribe = (0,firebase_auth__WEBPACK_IMPORTED_MODULE_4__.onAuthStateChanged)(auth, async (firebaseUser)=>{\n                console.log(\"Auth state changed:\", {\n                    userId: firebaseUser?.uid\n                });\n                try {\n                    if (firebaseUser) {\n                        const firestoreUser = await _api_firebase_user__WEBPACK_IMPORTED_MODULE_6__.userService.fetchUserFromFirestore(firebaseUser.uid);\n                        console.log(\"Fetched user data:\", {\n                            userId: firestoreUser?.id,\n                            subscription: firestoreUser?.subscriptionType,\n                            currentPath: router.pathname\n                        });\n                        dispatch((0,_redux_userSlice__WEBPACK_IMPORTED_MODULE_5__.setUser)(firestoreUser));\n                        _api_firebase_user__WEBPACK_IMPORTED_MODULE_6__.userService.currentUser = firestoreUser;\n                        // Check subscription status\n                        if (firestoreUser?.subscriptionType === \"Unsubscribed\" && !isPublicRoute(router.pathname)) {\n                            console.log(\"Showing subscription modal for unsubscribed user\");\n                            setShowSubscriptionModal(true);\n                        }\n                    } else {\n                        console.log(\"No user logged in\");\n                        dispatch((0,_redux_userSlice__WEBPACK_IMPORTED_MODULE_5__.setUser)(null));\n                        _api_firebase_user__WEBPACK_IMPORTED_MODULE_6__.userService.currentUser = null;\n                        const isPublic = isPublicRoute(router.pathname);\n                        setShowSignInModal(!isPublic);\n                    }\n                } catch (error) {\n                    console.error(\"User data fetch error:\", error);\n                    dispatch((0,_redux_userSlice__WEBPACK_IMPORTED_MODULE_5__.setUser)(null));\n                } finally{\n                    dispatch((0,_redux_userSlice__WEBPACK_IMPORTED_MODULE_5__.setLoading)(false));\n                }\n            });\n            return ()=>unsubscribe();\n        } catch (error) {\n            console.error(\"Auth wrapper initialization error:\", error);\n            dispatch((0,_redux_userSlice__WEBPACK_IMPORTED_MODULE_5__.setLoading)(false));\n        }\n    }, [\n        dispatch,\n        auth,\n        router.pathname\n    ]);\n    const handleSignInSuccess = (user)=>{\n    // Modal will auto-close based on Redux state\n    };\n    const handleSignInError = (error)=>{\n        console.error(\"Sign in error:\", error);\n    };\n    if (isLoading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex items-center justify-center min-h-screen\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-zinc-900\"\n            }, void 0, false, {\n                fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/AuthWrapper.tsx\",\n                lineNumber: 101,\n                columnNumber: 6\n            }, undefined)\n        }, void 0, false, {\n            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/AuthWrapper.tsx\",\n            lineNumber: 100,\n            columnNumber: 11\n        }, undefined);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            children,\n            currentUser?.subscriptionType === \"Unsubscribed\" && !isPublicRoute(router.pathname) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_SignInModal__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                isVisible: showSubscriptionModal,\n                onClose: ()=>setShowSubscriptionModal(false)\n            }, void 0, false, {\n                fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/AuthWrapper.tsx\",\n                lineNumber: 109,\n                columnNumber: 7\n            }, undefined) : (!currentUser || !currentUser.username) && !isPublicRoute(router.pathname) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_SignInModal__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                isVisible: true,\n                closable: false,\n                onSignInSuccess: handleSignInSuccess,\n                onSignInError: handleSignInError,\n                onSignUpSuccess: handleSignInSuccess,\n                onSignUpError: handleSignInError\n            }, void 0, false, {\n                fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/AuthWrapper.tsx\",\n                lineNumber: 114,\n                columnNumber: 7\n            }, undefined) : null\n        ]\n    }, void 0, true);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AuthWrapper);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEtBQUssQ0FBQyxzQ0FBc0NBO1lBQ3BEdEMsU0FBU04sNERBQVVBLENBQUM7UUFDdEI7SUFDRixHQUFHO1FBQUNNO1FBQVVDO1FBQU1HLE9BQU9pQyxRQUFRO0tBQUM7SUFFckMsTUFBTUUsc0JBQXNCLENBQUNoQztJQUMzQiw2Q0FBNkM7SUFDL0M7SUFFQSxNQUFNaUMsb0JBQW9CLENBQUNGO1FBQ3pCakIsUUFBUWlCLEtBQUssQ0FBQyxrQkFBa0JBO0lBQ2xDO0lBRUEsSUFBSTlCLFdBQVc7UUFDYixxQkFBTyw4REFBQ2lDO1lBQUlDLFdBQVU7c0JBQ3BCLDRFQUFDRDtnQkFBSUMsV0FBVTs7Ozs7Ozs7Ozs7SUFFbkI7SUFFQSxxQkFDRTs7WUFDRzNDO1lBQ0FNLGFBQWE4QixxQkFBcUIsa0JBQWtCLENBQUNqQixjQUFjZCxPQUFPaUMsUUFBUSxrQkFDbEYsOERBQUN4QyxvREFBaUJBO2dCQUNoQjhDLFdBQVdqQztnQkFDWGtDLFNBQVMsSUFBTWpDLHlCQUF5Qjs7Ozs7NEJBRXhDLENBQUMsQ0FBQ04sZUFBZSxDQUFDQSxZQUFZd0MsUUFBUSxLQUFLLENBQUMzQixjQUFjZCxPQUFPaUMsUUFBUSxrQkFDM0UsOERBQUN6QyxvREFBV0E7Z0JBQ1YrQyxXQUFXO2dCQUNYRyxVQUFVO2dCQUNWQyxpQkFBaUJSO2dCQUNqQlMsZUFBZVI7Z0JBQ2ZTLGlCQUFpQlY7Z0JBQ2pCVyxlQUFlVjs7Ozs7NEJBRWY7OztBQUdSO0FBRUEsaUVBQWUxQyxXQUFXQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktYXBwLy4vc3JjL2NvbXBvbmVudHMvQXV0aFdyYXBwZXIudHN4P2JkZWIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICduZXh0L3JvdXRlcic7XG5pbXBvcnQgeyB1c2VEaXNwYXRjaCwgdXNlU2VsZWN0b3IgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgeyBvbkF1dGhTdGF0ZUNoYW5nZWQsIGdldEF1dGggfSBmcm9tICdmaXJlYmFzZS9hdXRoJztcbmltcG9ydCB7IHNldFVzZXIsIHNldExvYWRpbmcgfSBmcm9tICcuLi9yZWR1eC91c2VyU2xpY2UnO1xuaW1wb3J0IHsgdXNlclNlcnZpY2UgfSBmcm9tICcuLi9hcGkvZmlyZWJhc2UvdXNlcic7XG5pbXBvcnQgU2lnbkluTW9kYWwgZnJvbSAnLi9TaWduSW5Nb2RhbCc7XG5pbXBvcnQgdHlwZSB7IFJvb3RTdGF0ZSB9IGZyb20gJy4uL3JlZHV4L3N0b3JlJztcbmltcG9ydCBTdWJzY3JpcHRpb25Nb2RhbCBmcm9tICcuLi9jb21wb25lbnRzL1NpZ25Jbk1vZGFsJztcblxuaW50ZXJmYWNlIEF1dGhXcmFwcGVyUHJvcHMge1xuIGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7XG59XG5cbmNvbnN0IEF1dGhXcmFwcGVyOiBSZWFjdC5GQzxBdXRoV3JhcHBlclByb3BzPiA9ICh7IGNoaWxkcmVuIH0pID0+IHtcbiAgY29uc3QgZGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpO1xuICBjb25zdCBhdXRoID0gZ2V0QXV0aCgpO1xuICBjb25zdCBbc2hvd1NpZ25Jbk1vZGFsLCBzZXRTaG93U2lnbkluTW9kYWxdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcbiAgXG4gIGNvbnN0IGN1cnJlbnRVc2VyID0gdXNlU2VsZWN0b3IoKHN0YXRlOiBSb290U3RhdGUpID0+IHN0YXRlLnVzZXIuY3VycmVudFVzZXIpO1xuICBjb25zdCBpc0xvYWRpbmcgPSB1c2VTZWxlY3Rvcigoc3RhdGU6IFJvb3RTdGF0ZSkgPT4gc3RhdGUudXNlci5sb2FkaW5nKTtcbiAgY29uc3QgW3Nob3dTdWJzY3JpcHRpb25Nb2RhbCwgc2V0U2hvd1N1YnNjcmlwdGlvbk1vZGFsXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuIFxuICAvLyBBZGQgc3Vic2NyaXB0aW9uIHJvdXRlcyB0byBwdWJsaWMgcm91dGVzXG4gIGNvbnN0IHB1YmxpY1JvdXRlcyA9IFtcbiAgICAnL2Fib3V0JywgJy9jcmVhdG9yJywgJy9yb3VuZHMnLCAnL3ByaXZhY3lQb2xpY3knLCBcbiAgICAnL3N0YXJ0ZXItcGFjaycsICcvc3RhY2tzJywgJy9tb3ZlcycsICcvdGVybXMnLFxuICAgICcvc3Vic2NyaWJlJyAvLyBBZGQgc3Vic2NyaXB0aW9uIHBhZ2VcbiAgXS5tYXAocm91dGUgPT4gcm91dGU/LnRvTG93ZXJDYXNlKCkpO1xuIFxuICBjb25zdCBwdWJsaWNQYXRoUGF0dGVybnMgPSBbXG4gICAgJy9yb3VuZC1pbnZpdGF0aW9uJywgJy9wcm9maWxlJywgJy9jaGFsbGVuZ2UnXG4gIF0ubWFwKHBhdHRlcm4gPT4gcGF0dGVybi50b0xvd2VyQ2FzZSgpKTtcbiBcbiAgY29uc3QgaXNQdWJsaWNSb3V0ZSA9IChwYXRoOiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBub3JtYWxpemVkUGF0aCA9IHBhdGgudG9Mb3dlckNhc2UoKTtcbiAgICBjb25zb2xlLmxvZygnQ2hlY2tpbmcgcm91dGUgYWNjZXNzOicsIHsgcGF0aDogbm9ybWFsaXplZFBhdGgsIGlzUHVibGljOiBwdWJsaWNSb3V0ZXMuaW5jbHVkZXMobm9ybWFsaXplZFBhdGgpIH0pO1xuICAgIHJldHVybiBwdWJsaWNSb3V0ZXMuaW5jbHVkZXMobm9ybWFsaXplZFBhdGgpIHx8IFxuICAgICAgICAgICBwdWJsaWNQYXRoUGF0dGVybnMuc29tZShwYXR0ZXJuID0+IG5vcm1hbGl6ZWRQYXRoLnN0YXJ0c1dpdGgocGF0dGVybikpO1xuICB9O1xuIFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBkaXNwYXRjaChzZXRMb2FkaW5nKHRydWUpKTtcbiAgICAgIFxuICAgICAgY29uc3QgdW5zdWJzY3JpYmUgPSBvbkF1dGhTdGF0ZUNoYW5nZWQoYXV0aCwgYXN5bmMgKGZpcmViYXNlVXNlcikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygnQXV0aCBzdGF0ZSBjaGFuZ2VkOicsIHsgdXNlcklkOiBmaXJlYmFzZVVzZXI/LnVpZCB9KTtcbiAgICAgICAgXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKGZpcmViYXNlVXNlcikge1xuICAgICAgICAgICAgY29uc3QgZmlyZXN0b3JlVXNlciA9IGF3YWl0IHVzZXJTZXJ2aWNlLmZldGNoVXNlckZyb21GaXJlc3RvcmUoZmlyZWJhc2VVc2VyLnVpZCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRmV0Y2hlZCB1c2VyIGRhdGE6JywgeyBcbiAgICAgICAgICAgICAgdXNlcklkOiBmaXJlc3RvcmVVc2VyPy5pZCxcbiAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uOiBmaXJlc3RvcmVVc2VyPy5zdWJzY3JpcHRpb25UeXBlLFxuICAgICAgICAgICAgICBjdXJyZW50UGF0aDogcm91dGVyLnBhdGhuYW1lXG4gICAgICAgICAgICB9KTtcbiBcbiAgICAgICAgICAgIGRpc3BhdGNoKHNldFVzZXIoZmlyZXN0b3JlVXNlcikpO1xuICAgICAgICAgICAgdXNlclNlcnZpY2UuY3VycmVudFVzZXIgPSBmaXJlc3RvcmVVc2VyO1xuIFxuICAgICAgICAgICAgLy8gQ2hlY2sgc3Vic2NyaXB0aW9uIHN0YXR1c1xuICAgICAgICAgICAgaWYgKGZpcmVzdG9yZVVzZXI/LnN1YnNjcmlwdGlvblR5cGUgPT09ICdVbnN1YnNjcmliZWQnICYmIFxuICAgICAgICAgICAgICAhaXNQdWJsaWNSb3V0ZShyb3V0ZXIucGF0aG5hbWUpKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTaG93aW5nIHN1YnNjcmlwdGlvbiBtb2RhbCBmb3IgdW5zdWJzY3JpYmVkIHVzZXInKTtcbiAgICAgICAgICAgICAgc2V0U2hvd1N1YnNjcmlwdGlvbk1vZGFsKHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnTm8gdXNlciBsb2dnZWQgaW4nKTtcbiAgICAgICAgICAgIGRpc3BhdGNoKHNldFVzZXIobnVsbCkpO1xuICAgICAgICAgICAgdXNlclNlcnZpY2UuY3VycmVudFVzZXIgPSBudWxsO1xuICAgICAgICAgICAgY29uc3QgaXNQdWJsaWMgPSBpc1B1YmxpY1JvdXRlKHJvdXRlci5wYXRobmFtZSk7XG4gICAgICAgICAgICBzZXRTaG93U2lnbkluTW9kYWwoIWlzUHVibGljKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignVXNlciBkYXRhIGZldGNoIGVycm9yOicsIGVycm9yKTtcbiAgICAgICAgICBkaXNwYXRjaChzZXRVc2VyKG51bGwpKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBkaXNwYXRjaChzZXRMb2FkaW5nKGZhbHNlKSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuIFxuICAgICAgcmV0dXJuICgpID0+IHVuc3Vic2NyaWJlKCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0F1dGggd3JhcHBlciBpbml0aWFsaXphdGlvbiBlcnJvcjonLCBlcnJvcik7XG4gICAgICBkaXNwYXRjaChzZXRMb2FkaW5nKGZhbHNlKSk7XG4gICAgfVxuICB9LCBbZGlzcGF0Y2gsIGF1dGgsIHJvdXRlci5wYXRobmFtZV0pO1xuXG4gY29uc3QgaGFuZGxlU2lnbkluU3VjY2VzcyA9ICh1c2VyOiBhbnkpID0+IHtcbiAgIC8vIE1vZGFsIHdpbGwgYXV0by1jbG9zZSBiYXNlZCBvbiBSZWR1eCBzdGF0ZVxuIH07XG5cbiBjb25zdCBoYW5kbGVTaWduSW5FcnJvciA9IChlcnJvcjogRXJyb3IpID0+IHtcbiAgIGNvbnNvbGUuZXJyb3IoJ1NpZ24gaW4gZXJyb3I6JywgZXJyb3IpO1xuIH07XG5cbiBpZiAoaXNMb2FkaW5nKSB7XG4gICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBtaW4taC1zY3JlZW5cIj5cbiAgICAgPGRpdiBjbGFzc05hbWU9XCJhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsIGgtMTIgdy0xMiBib3JkZXItdC0yIGJvcmRlci1iLTIgYm9yZGVyLXppbmMtOTAwXCI+PC9kaXY+XG4gICA8L2Rpdj47XG4gfVxuXG4gcmV0dXJuIChcbiAgIDw+XG4gICAgIHtjaGlsZHJlbn1cbiAgICAge2N1cnJlbnRVc2VyPy5zdWJzY3JpcHRpb25UeXBlID09PSAnVW5zdWJzY3JpYmVkJyAmJiAhaXNQdWJsaWNSb3V0ZShyb3V0ZXIucGF0aG5hbWUpID8gKFxuICAgICAgPFN1YnNjcmlwdGlvbk1vZGFsIFxuICAgICAgICBpc1Zpc2libGU9e3Nob3dTdWJzY3JpcHRpb25Nb2RhbH1cbiAgICAgICAgb25DbG9zZT17KCkgPT4gc2V0U2hvd1N1YnNjcmlwdGlvbk1vZGFsKGZhbHNlKX1cbiAgICAgIC8+XG4gICAgKSA6ICghY3VycmVudFVzZXIgfHwgIWN1cnJlbnRVc2VyLnVzZXJuYW1lKSAmJiAhaXNQdWJsaWNSb3V0ZShyb3V0ZXIucGF0aG5hbWUpID8gKFxuICAgICAgPFNpZ25Jbk1vZGFsXG4gICAgICAgIGlzVmlzaWJsZT17dHJ1ZX1cbiAgICAgICAgY2xvc2FibGU9e2ZhbHNlfVxuICAgICAgICBvblNpZ25JblN1Y2Nlc3M9e2hhbmRsZVNpZ25JblN1Y2Nlc3N9XG4gICAgICAgIG9uU2lnbkluRXJyb3I9e2hhbmRsZVNpZ25JbkVycm9yfVxuICAgICAgICBvblNpZ25VcFN1Y2Nlc3M9e2hhbmRsZVNpZ25JblN1Y2Nlc3N9XG4gICAgICAgIG9uU2lnblVwRXJyb3I9e2hhbmRsZVNpZ25JbkVycm9yfVxuICAgICAgLz5cbiAgICApIDogbnVsbH1cbiAgIDwvPlxuICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBBdXRoV3JhcHBlcjsiXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSIsInVzZVJvdXRlciIsInVzZURpc3BhdGNoIiwidXNlU2VsZWN0b3IiLCJvbkF1dGhTdGF0ZUNoYW5nZWQiLCJnZXRBdXRoIiwic2V0VXNlciIsInNldExvYWRpbmciLCJ1c2VyU2VydmljZSIsIlNpZ25Jbk1vZGFsIiwiU3Vic2NyaXB0aW9uTW9kYWwiLCJBdXRoV3JhcHBlciIsImNoaWxkcmVuIiwiZGlzcGF0Y2giLCJhdXRoIiwic2hvd1NpZ25Jbk1vZGFsIiwic2V0U2hvd1NpZ25Jbk1vZGFsIiwicm91dGVyIiwiY3VycmVudFVzZXIiLCJzdGF0ZSIsInVzZXIiLCJpc0xvYWRpbmciLCJsb2FkaW5nIiwic2hvd1N1YnNjcmlwdGlvbk1vZGFsIiwic2V0U2hvd1N1YnNjcmlwdGlvbk1vZGFsIiwicHVibGljUm91dGVzIiwibWFwIiwicm91dGUiLCJ0b0xvd2VyQ2FzZSIsInB1YmxpY1BhdGhQYXR0ZXJucyIsInBhdHRlcm4iLCJpc1B1YmxpY1JvdXRlIiwicGF0aCIsIm5vcm1hbGl6ZWRQYXRoIiwiY29uc29sZSIsImxvZyIsImlzUHVibGljIiwiaW5jbHVkZXMiLCJzb21lIiwic3RhcnRzV2l0aCIsInVuc3Vic2NyaWJlIiwiZmlyZWJhc2VVc2VyIiwidXNlcklkIiwidWlkIiwiZmlyZXN0b3JlVXNlciIsImZldGNoVXNlckZyb21GaXJlc3RvcmUiLCJpZCIsInN1YnNjcmlwdGlvbiIsInN1YnNjcmlwdGlvblR5cGUiLCJjdXJyZW50UGF0aCIsInBhdGhuYW1lIiwiZXJyb3IiLCJoYW5kbGVTaWduSW5TdWNjZXNzIiwiaGFuZGxlU2lnbkluRXJyb3IiLCJkaXYiLCJjbGFzc05hbWUiLCJpc1Zpc2libGUiLCJvbkNsb3NlIiwidXNlcm5hbWUiLCJjbG9zYWJsZSIsIm9uU2lnbkluU3VjY2VzcyIsIm9uU2lnbkluRXJyb3IiLCJvblNpZ25VcFN1Y2Nlc3MiLCJvblNpZ25VcEVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/AuthWrapper.tsx\n");

/***/ }),

/***/ "./src/components/SignInModal.tsx":
/*!****************************************!*\
  !*** ./src/components/SignInModal.tsx ***!
  \****************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! firebase/auth */ \"firebase/auth\");\n/* harmony import */ var _barrel_optimize_names_Camera_X_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=Camera,X!=!lucide-react */ \"__barrel_optimize__?names=Camera,X!=!./node_modules/lucide-react/dist/esm/lucide-react.js\");\n/* harmony import */ var _api_firebase_user__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../api/firebase/user */ \"./src/api/firebase/user/index.ts\");\n/* harmony import */ var _api_firebase_auth__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../api/firebase/auth */ \"./src/api/firebase/auth/index.ts\");\n/* harmony import */ var _api_firebase_config__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../api/firebase/config */ \"./src/api/firebase/config.ts\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! next/router */ \"./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _api_firebase_storage_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../api/firebase/storage/service */ \"./src/api/firebase/storage/service.ts\");\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-redux */ \"react-redux\");\n/* harmony import */ var _redux_devModeSlice__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../redux/devModeSlice */ \"./src/redux/devModeSlice.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([firebase_auth__WEBPACK_IMPORTED_MODULE_2__, _api_firebase_user__WEBPACK_IMPORTED_MODULE_3__, _api_firebase_auth__WEBPACK_IMPORTED_MODULE_4__, _api_firebase_config__WEBPACK_IMPORTED_MODULE_5__, _api_firebase_storage_service__WEBPACK_IMPORTED_MODULE_7__, react_redux__WEBPACK_IMPORTED_MODULE_8__, _redux_devModeSlice__WEBPACK_IMPORTED_MODULE_9__]);\n([firebase_auth__WEBPACK_IMPORTED_MODULE_2__, _api_firebase_user__WEBPACK_IMPORTED_MODULE_3__, _api_firebase_auth__WEBPACK_IMPORTED_MODULE_4__, _api_firebase_config__WEBPACK_IMPORTED_MODULE_5__, _api_firebase_storage_service__WEBPACK_IMPORTED_MODULE_7__, react_redux__WEBPACK_IMPORTED_MODULE_8__, _redux_devModeSlice__WEBPACK_IMPORTED_MODULE_9__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst DevModeToggle = ()=>{\n    const dispatch = (0,react_redux__WEBPACK_IMPORTED_MODULE_8__.useDispatch)();\n    const isDevelopment = (0,react_redux__WEBPACK_IMPORTED_MODULE_8__.useSelector)((state)=>state.devMode.isDevelopment);\n    // On component mount, check if we should be in dev mode\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const savedMode = window.localStorage.getItem(\"devMode\") === \"true\";\n        if (savedMode !== isDevelopment) {\n            dispatch((0,_redux_devModeSlice__WEBPACK_IMPORTED_MODULE_9__.toggleDevMode)());\n            (0,_api_firebase_config__WEBPACK_IMPORTED_MODULE_5__.initializeFirebase)(savedMode);\n        }\n    }, []);\n    const handleToggle = ()=>{\n        const newMode = !isDevelopment;\n        window.localStorage.setItem(\"devMode\", String(newMode));\n        dispatch((0,_redux_devModeSlice__WEBPACK_IMPORTED_MODULE_9__.toggleDevMode)());\n        (0,_api_firebase_config__WEBPACK_IMPORTED_MODULE_5__.initializeFirebase)(newMode);\n        window.location.reload();\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n        onClick: handleToggle,\n        className: \"absolute top-4 left-4 px-2 py-1 rounded text-xs font-medium transition-colors flex items-center gap-2\",\n        style: {\n            background: isDevelopment ? \"#E0FE10\" : \"#3f3f46\",\n            color: isDevelopment ? \"black\" : \"white\"\n        },\n        children: isDevelopment ? \"\\uD83D\\uDD27 Dev\" : \"\\uD83D\\uDE80 Prod\"\n    }, void 0, false, {\n        fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n        lineNumber: 60,\n        columnNumber: 5\n    }, undefined);\n};\nconst SignInModal = ({ isVisible, closable = false, onClose, onSignInSuccess, onSignInError, onSignUpSuccess, onSignUpError, onQuizComplete, onQuizSkipped, onRegistrationComplete })=>{\n    const [email, setEmail] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [password, setPassword] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [confirmPassword, setConfirmPassword] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [username, setUsername] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [profileImage, setProfileImage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isSignUp, setIsSignUp] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [signUpStep, setSignUpStep] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"initial\");\n    const [errors, setErrors] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [showError, setShowError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isUsernameAvailable, setIsUsernameAvailable] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [activeProvider, setActiveProvider] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isImageUploading, setIsImageUploading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Password validation states\n    const hasUppercase = /[A-Z]/.test(password);\n    const hasNumber = /\\d/.test(password);\n    const hasMinLength = password.length >= 8;\n    const passwordsMatch = password === confirmPassword;\n    // Quiz states\n    const [quizStep, setQuizStep] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [quizData, setQuizData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        gender: null,\n        height: {\n            feet: 0,\n            inches: 0\n        },\n        weight: 0,\n        gymExperience: null,\n        fitnessGoals: [],\n        birthdate: null\n    });\n    // --- NEW: Subscription check function ---\n    // After sign in/up, call this to fetch subscription data from Stripe (via your endpoint)\n    // and update the user document. If the user is unsubscribed, redirect to /subscribe.\n    const checkSubscriptionAndProceed = async (user)=>{\n        try {\n            const endpoint =  true ? \"http://localhost:8888\" : 0;\n            const res = await fetch(`${endpoint}/api/stripe-sync`, {\n                method: \"GET\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            });\n            if (res.ok) {\n                const { subscriptionType } = await res.json();\n                // Update the user object with the latest subscription type.\n                user.subscription = subscriptionType;\n                await _api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.userService.updateUser(user.uid, user);\n            }\n        } catch (err) {\n            console.error(\"Error syncing subscription:\", err);\n        }\n        // Only close if we have a username\n        const firestoreUser = await _api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.userService.fetchUserFromFirestore(user.uid);\n        if (firestoreUser?.username) {\n            if (user.subscription === \"Unsubscribed\" || user.subscription === (_api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.SubscriptionType && _api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.SubscriptionType.unsubscribed)) {\n                router.push(\"/subscribe\");\n            } else {\n                onSignInSuccess?.(user);\n                onClose?.();\n            }\n        }\n    };\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_6__.useRouter)();\n    // Add this custom hook\n    const useDevMode = ()=>{\n        const dispatch = (0,react_redux__WEBPACK_IMPORTED_MODULE_8__.useDispatch)();\n        const isDevelopment = (0,react_redux__WEBPACK_IMPORTED_MODULE_8__.useSelector)((state)=>state.devMode.isDevelopment);\n        const handleToggle = ()=>{\n            dispatch((0,_redux_devModeSlice__WEBPACK_IMPORTED_MODULE_9__.toggleDevMode)());\n            (0,_api_firebase_config__WEBPACK_IMPORTED_MODULE_5__.initializeFirebase)();\n            window.location.reload();\n        };\n        return {\n            isDevelopment,\n            handleToggle\n        };\n    };\n    const handleSocialAuth = async (provider)=>{\n        try {\n            setIsLoading(true);\n            setError(null);\n            setActiveProvider(provider);\n            if (provider === \"apple\") {\n                // Initialize Apple OAuth provider\n                const appleProvider = new firebase_auth__WEBPACK_IMPORTED_MODULE_2__.OAuthProvider(\"apple.com\");\n                appleProvider.addScope(\"email\");\n                appleProvider.addScope(\"name\");\n                try {\n                    // Sign in with popup\n                    const result = await (0,firebase_auth__WEBPACK_IMPORTED_MODULE_2__.signInWithPopup)(_api_firebase_config__WEBPACK_IMPORTED_MODULE_5__.auth, appleProvider);\n                    const user = result.user;\n                    // Fetch or create user in Firestore\n                    let firestoreUser = await _api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.userService.fetchUserFromFirestore(user.uid);\n                    if (!firestoreUser) {\n                        firestoreUser = new _api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.User({\n                            id: user.uid,\n                            email: user.email || \"\",\n                            displayName: user.displayName || \"\"\n                        });\n                        await _api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.userService.updateUser(user.uid, firestoreUser);\n                    }\n                    _api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.userService.currentUser = firestoreUser;\n                    // Check subscription status first\n                    if (firestoreUser.subscriptionType === \"Unsubscribed\") {\n                        setSignUpStep(\"subscription\");\n                        return;\n                    }\n                    // Otherwise proceed with normal flow\n                    await checkSubscriptionAndProceed(user);\n                } catch (error) {\n                    console.error(\"Apple sign-in error:\", error);\n                    if (error instanceof Error) {\n                        setError(error.message);\n                        if (isSignUp) {\n                            onSignUpError?.(error);\n                        } else {\n                            onSignInError?.(error);\n                        }\n                    } else {\n                        const genericError = new Error(\"An unknown error occurred during Apple sign-in\");\n                        setError(genericError.message);\n                        if (isSignUp) {\n                            onSignUpError?.(genericError);\n                        } else {\n                            onSignInError?.(genericError);\n                        }\n                    }\n                }\n            } else if (provider === \"google\") {\n                const result = await _api_firebase_auth__WEBPACK_IMPORTED_MODULE_4__[\"default\"].signInWithGoogle();\n                const user = result.user;\n                console.log(\"Google Sign In - Initial User:\", user);\n                console.log(\"Google Sign In - Firebase User:\", {\n                    uid: user.uid,\n                    email: user.email,\n                    displayName: user.displayName,\n                    metadata: user.metadata,\n                    providerData: user.providerData\n                });\n                let firestoreUser = await _api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.userService.fetchUserFromFirestore(user.uid);\n                console.log(\"Google Sign In - Firestore User:\", firestoreUser);\n                if (!firestoreUser) {\n                    firestoreUser = new _api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.User({});\n                    firestoreUser.id = user.uid;\n                    firestoreUser.email = user.email || \"\";\n                    firestoreUser.displayName = user.displayName || \"\";\n                    await _api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.userService.updateUser(user.uid, firestoreUser);\n                    console.log(\"Google Sign In - Created New User:\", firestoreUser);\n                }\n                _api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.userService.currentUser = firestoreUser;\n                console.log(\"Google Sign In - Current User Set:\", _api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.userService.currentUser);\n                // Check if username is empty or not set\n                console.log(\"Username is empty?: \", firestoreUser.username == \"\");\n                if (firestoreUser.username == \"\") {\n                    console.log(\"Starting registration\");\n                    // Set isSignUp to true and move to profile step\n                    setIsSignUp(true);\n                    setSignUpStep(\"profile\");\n                    return;\n                }\n                // Check subscription status\n                if (firestoreUser.subscriptionType === \"Unsubscribed\") {\n                    console.log(\"User is unsubscribed, showing subscription step\");\n                    setSignUpStep(\"subscription\");\n                    return;\n                }\n                console.log(\"Checking Subs\");\n                // If we have a username and subscription, proceed with normal flow\n                await checkSubscriptionAndProceed(user);\n            }\n        } catch (error) {\n            // Keep your existing error handling\n            console.error(`${provider} sign-in error:`, error);\n            let errorMessage = \"An unexpected error occurred\";\n            if (error instanceof Error) {\n                // Handle specific Firebase Auth error codes\n                switch(error.code){\n                    case \"auth/popup-blocked\":\n                        errorMessage = \"Please enable popups for this site and try again\";\n                        break;\n                    case \"auth/popup-closed-by-user\":\n                        errorMessage = \"Sign-in cancelled. Please try again\";\n                        break;\n                    case \"auth/cancelled-popup-request\":\n                        errorMessage = \"Another sign-in attempt is already in progress\";\n                        break;\n                    case \"auth/account-exists-with-different-credential\":\n                        errorMessage = \"An account already exists with the same email address but different sign-in credentials. Please sign in using the original account method.\";\n                        break;\n                    case \"auth/network-request-failed\":\n                        errorMessage = \"Network error. Please check your internet connection and try again\";\n                        break;\n                    case \"auth/user-disabled\":\n                        errorMessage = \"This account has been disabled. Please contact support\";\n                        break;\n                    case \"auth/operation-not-allowed\":\n                        errorMessage = \"This sign-in method is not enabled. Please contact support\";\n                        break;\n                    default:\n                        errorMessage = error.message;\n                }\n                setError(errorMessage);\n                if (isSignUp) {\n                    onSignUpError?.(error);\n                } else {\n                    onSignInError?.(error);\n                }\n            } else {\n                setError(errorMessage);\n                const genericError = new Error(errorMessage);\n                if (isSignUp) {\n                    onSignUpError?.(genericError);\n                } else {\n                    onSignInError?.(genericError);\n                }\n            }\n        } finally{\n            setIsLoading(false);\n            setActiveProvider(null);\n        }\n    };\n    const addLog = (log)=>{\n        const currentLogs = JSON.parse(localStorage.getItem(\"authFlowLogs\") || \"[]\");\n        currentLogs.push(`[${new Date().toISOString()}] ${log}`);\n        localStorage.setItem(\"authFlowLogs\", JSON.stringify(currentLogs));\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const logs = localStorage.getItem(\"authFlowLogs\");\n        if (logs) {\n            console.log(\"Auth Flow Logs:\");\n            console.log(\"------------------------\");\n            JSON.parse(logs).forEach((log)=>console.log(log));\n            console.log(\"------------------------\");\n            localStorage.removeItem(\"authFlowLogs\");\n        }\n        let isMounted = true;\n        const handleRedirect = async ()=>{\n            addLog(\"Starting redirect handler\");\n            if (!isVisible) {\n                addLog(\"Modal not visible, skipping redirect handling\");\n                return;\n            }\n            const urlParams = new URLSearchParams(window.location.search);\n            const isRedirecting = urlParams.has(\"state\") || window.location.href.includes(\"__/auth/handler\");\n            addLog(`Redirect detected: ${isRedirecting}`);\n            addLog(`Current URL: ${window.location.href}`);\n            if (!isRedirecting) {\n                addLog(\"No redirect parameters detected, exiting redirect handler\");\n                return;\n            }\n            try {\n                setIsLoading(true);\n                addLog(\"Calling getRedirectResult...\");\n                const result = await (0,firebase_auth__WEBPACK_IMPORTED_MODULE_2__.getRedirectResult)(_api_firebase_config__WEBPACK_IMPORTED_MODULE_5__.auth);\n                addLog(`getRedirectResult result: ${JSON.stringify(result)}`);\n                if (!result) {\n                    addLog(\"No result returned by getRedirectResult, checking pending redirect...\");\n                    const pendingResult = await (0,firebase_auth__WEBPACK_IMPORTED_MODULE_2__.getRedirectResult)(_api_firebase_config__WEBPACK_IMPORTED_MODULE_5__.auth).catch((e)=>{\n                        addLog(`Pending redirect error: ${e.message}`);\n                        return null;\n                    });\n                    addLog(`Pending redirect result: ${JSON.stringify(pendingResult)}`);\n                    if (!pendingResult) {\n                        addLog(\"No pending redirect result, exiting handler\");\n                        return;\n                    }\n                }\n                if (!isMounted) {\n                    addLog(\"Component unmounted during redirect, exiting handler\");\n                    return;\n                }\n                const credential = result;\n                if (!credential || !credential.user) {\n                    throw new Error(\"No user credential found in redirect result\");\n                }\n                const { user } = credential;\n                addLog(`User info: providerId=${credential.providerId}, email=${user.email}, isNewUser=${user.metadata.creationTime === user.metadata.lastSignInTime}`);\n                const isAppleSignIn = credential.providerId === \"apple.com\" || user.providerData.some((provider)=>provider.providerId === \"apple.com\");\n                let firestoreUser = await _api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.userService.fetchUserFromFirestore(user.uid);\n                if (!firestoreUser && user.metadata.creationTime === user.metadata.lastSignInTime) {\n                    addLog(\"New user detected, creating Firestore document\");\n                    firestoreUser = new _api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.User({\n                        id: user.uid,\n                        email: user.email || \"\",\n                        displayName: user.displayName || \"\"\n                    });\n                    await _api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.userService.updateUser(user.uid, firestoreUser);\n                }\n                if (isMounted) {\n                    _api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.userService.currentUser = firestoreUser;\n                    // Check subscription status\n                    if (firestoreUser?.subscriptionType === \"Unsubscribed\") {\n                        setSignUpStep(\"subscription\");\n                        addLog(\"User unsubscribed, showing subscription step\");\n                    } else if (user.metadata.creationTime === user.metadata.lastSignInTime) {\n                        onSignUpSuccess?.(user);\n                        addLog(\"New user signup successful\");\n                    } else {\n                        onSignInSuccess?.(user);\n                        addLog(\"Existing user signin successful\");\n                    }\n                }\n            } catch (error) {\n                addLog(`Redirect handler error: ${error instanceof Error ? error.message : error}`);\n                if (!isMounted) return;\n                setError(error instanceof Error ? error.message : \"Authentication failed\");\n                isSignUp ? onSignUpError?.(error) : onSignInError?.(error);\n            } finally{\n                if (isMounted) {\n                    setIsLoading(false);\n                    addLog(\"Redirect handler complete\");\n                }\n            }\n        };\n        handleRedirect();\n        return ()=>{\n            isMounted = false;\n        };\n    }, [\n        isVisible,\n        onSignInSuccess,\n        onSignUpSuccess,\n        onSignInError,\n        onSignUpError,\n        onClose\n    ]);\n    const handleSubmit = async (e)=>{\n        e.preventDefault();\n        if (isSignUp) {\n            switch(signUpStep){\n                case \"initial\":\n                    if (validateEmail()) {\n                        setSignUpStep(\"password\");\n                        setShowError(false);\n                    }\n                    break;\n                case \"password\":\n                    if (validatePassword()) {\n                        setSignUpStep(\"profile\");\n                        setShowError(false);\n                    }\n                    break;\n                case \"profile\":\n                    if (validateUsername()) {\n                        try {\n                            setIsLoading(true);\n                            setError(null);\n                            if (_api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.userService.currentUser) {\n                                _api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.userService.currentUser.username = username;\n                                await _api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.userService.updateUser(_api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.userService.currentUser.id, _api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.userService.currentUser);\n                                if (_api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.userService.currentUser.subscriptionType === \"Unsubscribed\") {\n                                    setSignUpStep(\"subscription\");\n                                    return;\n                                }\n                                onRegistrationComplete?.();\n                            }\n                            setSignUpStep(\"quiz-prompt\");\n                        } catch (err) {\n                            const error = err;\n                            console.error(\"Error during profile update:\", error);\n                            setError(error.message);\n                        } finally{\n                            setIsLoading(false);\n                        }\n                    }\n                    break;\n            }\n        } else {\n            try {\n                setIsLoading(true);\n                setError(null);\n                const result = await _api_firebase_auth__WEBPACK_IMPORTED_MODULE_4__[\"default\"].signInWithEmail(email, password);\n                const userDoc = await _api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.userService.fetchUserFromFirestore(result.user.uid);\n                _api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.userService.currentUser = userDoc;\n                if (userDoc?.subscriptionType === \"Unsubscribed\") {\n                    setSignUpStep(\"subscription\");\n                    return;\n                }\n                await checkSubscriptionAndProceed(result.user);\n                onClose?.();\n            } catch (err) {\n                const error = err;\n                console.error(\"Error during sign-in:\", error);\n                setError(error.message);\n                onSignInError?.(error);\n            } finally{\n                setIsLoading(false);\n            }\n        }\n    };\n    const handleCompleteQuiz = async ()=>{\n        try {\n            setIsLoading(true);\n            setError(null);\n            // Get the user's ID from the Firebase authentication state\n            const userId = _api_firebase_config__WEBPACK_IMPORTED_MODULE_5__.auth.currentUser?.uid;\n            if (!userId) {\n                throw new Error(\"No user found\");\n            }\n            // Construct the user object with default or empty values\n            var user = _api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.userService.currentUser;\n            onQuizComplete?.(); // Notify that the quiz is complete\n            router.push(\"/\"); // Add this line to route to root\n        } catch (err) {\n            const error = err;\n            console.error(\"Error updating user data:\", error);\n            setError(error.message);\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    const renderSubscriptionStep = ()=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-center mb-8\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-2xl font-bold text-white font-['Thunder'] mb-2\",\n                            children: \"Join The Fitness Collective\"\n                        }, void 0, false, {\n                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                            lineNumber: 554,\n                            columnNumber: 9\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-zinc-400 text-sm mb-6\",\n                            children: \"Subscribe to unlock all premium features and join our fitness community.\"\n                        }, void 0, false, {\n                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                            lineNumber: 557,\n                            columnNumber: 9\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                    lineNumber: 553,\n                    columnNumber: 7\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"space-y-6 mb-8\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-3\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"w-5 h-5 flex-shrink-0 bg-[#E0FE10] rounded-full flex items-center justify-center\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-black text-sm\",\n                                        children: \"\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                        lineNumber: 565,\n                                        columnNumber: 13\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                    lineNumber: 564,\n                                    columnNumber: 11\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-zinc-400\",\n                                    children: \"Access to Rounds - Train and compete with the community\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                    lineNumber: 567,\n                                    columnNumber: 11\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                            lineNumber: 563,\n                            columnNumber: 9\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-3\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"w-5 h-5 flex-shrink-0 bg-[#E0FE10] rounded-full flex items-center justify-center\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-black text-sm\",\n                                        children: \"\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                        lineNumber: 571,\n                                        columnNumber: 13\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                    lineNumber: 570,\n                                    columnNumber: 11\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-zinc-400\",\n                                    children: \"AI-powered workout recommendations\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                    lineNumber: 573,\n                                    columnNumber: 11\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                            lineNumber: 569,\n                            columnNumber: 9\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-3\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"w-5 h-5 flex-shrink-0 bg-[#E0FE10] rounded-full flex items-center justify-center\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-black text-sm\",\n                                        children: \"\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                        lineNumber: 577,\n                                        columnNumber: 13\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                    lineNumber: 576,\n                                    columnNumber: 11\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-zinc-400\",\n                                    children: \"Unlimited workout history and progress tracking\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                    lineNumber: 579,\n                                    columnNumber: 11\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                            lineNumber: 575,\n                            columnNumber: 9\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-3\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"w-5 h-5 flex-shrink-0 bg-[#E0FE10] rounded-full flex items-center justify-center\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-black text-sm\",\n                                        children: \"\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                        lineNumber: 583,\n                                        columnNumber: 13\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                    lineNumber: 582,\n                                    columnNumber: 11\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-zinc-400\",\n                                    children: \"Access to trainer-created content and exercises\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                    lineNumber: 585,\n                                    columnNumber: 11\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                            lineNumber: 581,\n                            columnNumber: 9\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                    lineNumber: 562,\n                    columnNumber: 7\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"bg-zinc-800 p-6 rounded-xl\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-white text-2xl font-bold mb-1\",\n                                    children: \"$4.99/mo\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                    lineNumber: 591,\n                                    columnNumber: 11\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-zinc-400 text-sm mb-4\",\n                                    children: \"Flexible monthly plan\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                    lineNumber: 592,\n                                    columnNumber: 11\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>window.open(\"https://buy.stripe.com/9AQaFieX9bv26fSfYY\", \"_blank\"),\n                                    className: \"w-full bg-[#E0FE10] text-black py-2 rounded-lg font-semibold hover:bg-[#E0FE10]/90\",\n                                    children: \"Subscribe Monthly\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                    lineNumber: 593,\n                                    columnNumber: 11\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                            lineNumber: 590,\n                            columnNumber: 9\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"bg-zinc-800 p-6 rounded-xl relative overflow-hidden\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute -right-8 -top-8 bg-[#E0FE10] text-black text-xs font-bold py-1 px-8 rotate-45\",\n                                    children: \"BEST VALUE\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                    lineNumber: 602,\n                                    columnNumber: 11\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-white text-2xl font-bold mb-1\",\n                                    children: \"$39.99/yr\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                    lineNumber: 605,\n                                    columnNumber: 11\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-zinc-400 text-sm mb-4\",\n                                    children: \"Annual plan with 30-day free trial\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                    lineNumber: 606,\n                                    columnNumber: 11\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>window.open(\"https://buy.stripe.com/28obJm2an8iQdIk289\", \"_blank\"),\n                                    className: \"w-full bg-[#E0FE10] text-black py-2 rounded-lg font-semibold hover:bg-[#E0FE10]/90\",\n                                    children: \"Start Free Trial\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                    lineNumber: 607,\n                                    columnNumber: 11\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                            lineNumber: 601,\n                            columnNumber: 9\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                    lineNumber: 589,\n                    columnNumber: 7\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"text-zinc-500 text-xs text-center\",\n                    children: \"Cancel anytime. All subscriptions include unlimited access to all features.\"\n                }, void 0, false, {\n                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                    lineNumber: 616,\n                    columnNumber: 7\n                }, undefined)\n            ]\n        }, void 0, true);\n    const renderQuizPrompt = ()=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-center mb-8\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-2xl font-bold text-white font-['Thunder'] mb-2\",\n                            children: \"One Last Thing!\"\n                        }, void 0, false, {\n                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                            lineNumber: 625,\n                            columnNumber: 9\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-zinc-400 font-['HK Grotesk'] text-sm px-4\",\n                            children: \"Take our quick fitness quiz to help Pulse AI create more accurate workout and fitness creator recommendations.\"\n                        }, void 0, false, {\n                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                            lineNumber: 628,\n                            columnNumber: 9\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                    lineNumber: 624,\n                    columnNumber: 7\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex flex-col gap-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: ()=>setSignUpStep(\"quiz\"),\n                            className: \"w-full bg-[#E0FE10] text-black font-semibold py-3 px-4 rounded-lg hover:bg-[#c8e60e] transition-colors font-['HK Grotesk']\",\n                            children: \"Take the Quiz\"\n                        }, void 0, false, {\n                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                            lineNumber: 634,\n                            columnNumber: 9\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: ()=>onQuizSkipped?.(),\n                            className: \"w-full bg-zinc-800 text-white font-semibold py-3 px-4 rounded-lg hover:bg-zinc-700 transition-colors font-['HK Grotesk']\",\n                            children: \"Skip for Now\"\n                        }, void 0, false, {\n                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                            lineNumber: 640,\n                            columnNumber: 9\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                    lineNumber: 633,\n                    columnNumber: 7\n                }, undefined)\n            ]\n        }, void 0, true);\n    const questions = [\n        // Gender Question\n        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"space-y-6\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-center\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-2xl font-bold text-white font-['Thunder'] mb-2\",\n                            children: \"How do you identify?\"\n                        }, void 0, false, {\n                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                            lineNumber: 654,\n                            columnNumber: 9\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-zinc-400 font-['HK Grotesk'] text-sm\",\n                            children: \"This helps when giving fitness recommendations and calculating metrics.\"\n                        }, void 0, false, {\n                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                            lineNumber: 657,\n                            columnNumber: 9\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                    lineNumber: 653,\n                    columnNumber: 7\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"space-y-3\",\n                    children: [\n                        \"Man\",\n                        \"Woman\",\n                        \"I'd rather self describe\"\n                    ].map((option)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: async ()=>{\n                                let genderValue;\n                                // Convert option to proper Gender enum\n                                switch(option){\n                                    case \"Man\":\n                                        genderValue = _api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.Gender.Man;\n                                        break;\n                                    case \"Woman\":\n                                        genderValue = _api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.Gender.Woman;\n                                        break;\n                                    default:\n                                        genderValue = _api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.Gender.SelfDescribe;\n                                }\n                                setQuizData({\n                                    ...quizData,\n                                    gender: option\n                                });\n                                // Update user data\n                                if (_api_firebase_config__WEBPACK_IMPORTED_MODULE_5__.auth.currentUser?.uid && _api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.userService.currentUser) {\n                                    const updatedUser = _api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.userService.currentUser;\n                                    updatedUser.gender = genderValue;\n                                    updatedUser.updatedAt = new Date();\n                                    await _api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.userService.updateUser(_api_firebase_config__WEBPACK_IMPORTED_MODULE_5__.auth.currentUser.uid, updatedUser);\n                                }\n                                setQuizStep(quizStep + 1);\n                            },\n                            className: `w-full p-4 rounded-lg border ${quizData.gender === option ? \"border-[#E0FE10] bg-[#E0FE10]/10\" : \"border-zinc-700 hover:border-[#E0FE10]\"} text-left text-white transition-colors`,\n                            children: option\n                        }, option, false, {\n                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                            lineNumber: 664,\n                            columnNumber: 11\n                        }, undefined))\n                }, void 0, false, {\n                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                    lineNumber: 662,\n                    columnNumber: 7\n                }, undefined)\n            ]\n        }, \"gender\", true, {\n            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n            lineNumber: 652,\n            columnNumber: 5\n        }, undefined),\n        // Height Question\n        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"space-y-6\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-center\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-2xl font-bold text-white font-['Thunder'] mb-2\",\n                            children: \"What is your height?\"\n                        }, void 0, false, {\n                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                            lineNumber: 708,\n                            columnNumber: 9\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-zinc-400 font-['HK Grotesk'] text-sm\",\n                            children: \"Height helps recommendations and calculating metrics.\"\n                        }, void 0, false, {\n                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                            lineNumber: 711,\n                            columnNumber: 9\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                    lineNumber: 707,\n                    columnNumber: 7\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex gap-4 items-end\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex-1\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    className: \"block text-sm text-zinc-400 mb-2\",\n                                    children: \"Feet\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                    lineNumber: 718,\n                                    columnNumber: 11\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    type: \"number\",\n                                    value: quizData.height.feet || \"\",\n                                    onChange: async (e)=>{\n                                        const newFeet = Number(e.target.value);\n                                        const newHeight = {\n                                            ...quizData.height,\n                                            feet: newFeet\n                                        };\n                                        setQuizData({\n                                            ...quizData,\n                                            height: newHeight\n                                        });\n                                        if (_api_firebase_config__WEBPACK_IMPORTED_MODULE_5__.auth.currentUser?.uid && _api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.userService.currentUser) {\n                                            const updatedUser = new _api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.User({\n                                                ..._api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.userService.currentUser.toDictionary(),\n                                                height: newHeight,\n                                                updatedAt: new Date()\n                                            });\n                                            await _api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.userService.updateUser(_api_firebase_config__WEBPACK_IMPORTED_MODULE_5__.auth.currentUser.uid, updatedUser);\n                                        }\n                                    },\n                                    min: \"0\",\n                                    max: \"8\",\n                                    className: \"w-full bg-zinc-800 border border-zinc-600 rounded-lg p-3 text-white placeholder-zinc-400 focus:outline-none focus:border-[#E0FE10] focus:ring-1 focus:ring-[#E0FE10] transition-colors\",\n                                    placeholder: \"0\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                    lineNumber: 719,\n                                    columnNumber: 11\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                            lineNumber: 717,\n                            columnNumber: 9\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex-1\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    className: \"block text-sm text-zinc-400 mb-2\",\n                                    children: \"Inches\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                    lineNumber: 745,\n                                    columnNumber: 11\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    type: \"number\",\n                                    value: quizData.height.inches || \"\",\n                                    onChange: async (e)=>{\n                                        const newInches = Number(e.target.value);\n                                        const newHeight = {\n                                            ...quizData.height,\n                                            inches: newInches\n                                        };\n                                        setQuizData({\n                                            ...quizData,\n                                            height: newHeight\n                                        });\n                                        if (_api_firebase_config__WEBPACK_IMPORTED_MODULE_5__.auth.currentUser?.uid && _api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.userService.currentUser) {\n                                            const updatedUser = new _api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.User({\n                                                ..._api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.userService.currentUser.toDictionary(),\n                                                height: newHeight,\n                                                updatedAt: new Date()\n                                            });\n                                            await _api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.userService.updateUser(_api_firebase_config__WEBPACK_IMPORTED_MODULE_5__.auth.currentUser.uid, updatedUser);\n                                        }\n                                    },\n                                    min: \"0\",\n                                    max: \"11\",\n                                    className: \"w-full bg-zinc-800 border border-zinc-600 rounded-lg p-3 text-white placeholder-zinc-400 focus:outline-none focus:border-[#E0FE10] focus:ring-1 focus:ring-[#E0FE10] transition-colors\",\n                                    placeholder: \"0\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                    lineNumber: 746,\n                                    columnNumber: 11\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                            lineNumber: 744,\n                            columnNumber: 9\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                    lineNumber: 716,\n                    columnNumber: 7\n                }, undefined),\n                (quizData.height.feet > 8 || quizData.height.inches > 11) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"text-red-400 text-sm mt-2\",\n                    children: \"Please enter a valid height\"\n                }, void 0, false, {\n                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                    lineNumber: 773,\n                    columnNumber: 9\n                }, undefined)\n            ]\n        }, \"height\", true, {\n            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n            lineNumber: 706,\n            columnNumber: 5\n        }, undefined),\n        // Weight Question\n        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"space-y-6\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-center\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        className: \"text-2xl font-bold text-white font-['Thunder'] mb-2\",\n                        children: \"What's your current weight?\"\n                    }, void 0, false, {\n                        fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                        lineNumber: 781,\n                        columnNumber: 9\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                    lineNumber: 780,\n                    columnNumber: 7\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex gap-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                            type: \"number\",\n                            value: quizData.weight || \"\",\n                            onChange: async (e)=>{\n                                const newWeight = Number(e.target.value);\n                                setQuizData({\n                                    ...quizData,\n                                    weight: newWeight\n                                });\n                                if (_api_firebase_config__WEBPACK_IMPORTED_MODULE_5__.auth.currentUser?.uid && _api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.userService.currentUser) {\n                                    const newBodyWeight = new _api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.BodyWeight({\n                                        oldWeight: _api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.userService.currentUser.bodyWeight.length > 0 ? _api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.userService.currentUser.bodyWeight[_api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.userService.currentUser.bodyWeight.length - 1].newWeight : 0,\n                                        newWeight: newWeight\n                                    });\n                                    const updatedUser = new _api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.User({\n                                        ..._api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.userService.currentUser.toDictionary(),\n                                        bodyWeight: [\n                                            ..._api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.userService.currentUser.bodyWeight,\n                                            newBodyWeight\n                                        ],\n                                        updatedAt: new Date()\n                                    });\n                                    await _api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.userService.updateUser(_api_firebase_config__WEBPACK_IMPORTED_MODULE_5__.auth.currentUser.uid, updatedUser);\n                                }\n                            },\n                            className: \"w-full bg-zinc-800 border border-zinc-600 rounded-lg p-3 text-white\",\n                            placeholder: \"Enter weight in lbs\",\n                            min: \"0\"\n                        }, void 0, false, {\n                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                            lineNumber: 787,\n                            columnNumber: 9\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: \"flex items-center text-zinc-400\",\n                            children: \"Lbs\"\n                        }, void 0, false, {\n                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                            lineNumber: 815,\n                            columnNumber: 9\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                    lineNumber: 786,\n                    columnNumber: 7\n                }, undefined)\n            ]\n        }, \"weight\", true, {\n            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n            lineNumber: 779,\n            columnNumber: 5\n        }, undefined),\n        // Gym Experience\n        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"space-y-6\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-center\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        className: \"text-2xl font-bold text-white font-['Thunder'] mb-2\",\n                        children: \"How well do you know your way around the gym?\"\n                    }, void 0, false, {\n                        fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                        lineNumber: 821,\n                        columnNumber: 9\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                    lineNumber: 820,\n                    columnNumber: 7\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"space-y-3\",\n                    children: [\n                        \"Novice\",\n                        \"Intermediate\",\n                        \"Expert\"\n                    ].map((level)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: async ()=>{\n                                const levelMap = {\n                                    \"Novice\": _api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.UserLevel.Novice,\n                                    \"Intermediate\": _api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.UserLevel.Intermediate,\n                                    \"Expert\": _api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.UserLevel.Expert\n                                };\n                                setQuizData({\n                                    ...quizData,\n                                    gymExperience: level\n                                });\n                                if (_api_firebase_config__WEBPACK_IMPORTED_MODULE_5__.auth.currentUser?.uid && _api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.userService.currentUser) {\n                                    const updatedUser = new _api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.User({\n                                        ..._api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.userService.currentUser.toDictionary(),\n                                        level: levelMap[level],\n                                        updatedAt: new Date()\n                                    });\n                                    await _api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.userService.updateUser(_api_firebase_config__WEBPACK_IMPORTED_MODULE_5__.auth.currentUser.uid, updatedUser);\n                                    setQuizStep(quizStep + 1);\n                                }\n                            },\n                            className: `w-full p-4 rounded-lg border ${quizData.gymExperience === level ? \"border-[#E0FE10] bg-[#E0FE10]/10\" : \"border-zinc-700 hover:border-[#E0FE10]\"} text-left text-white transition-colors`,\n                            children: level\n                        }, level, false, {\n                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                            lineNumber: 828,\n                            columnNumber: 11\n                        }, undefined))\n                }, void 0, false, {\n                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                    lineNumber: 826,\n                    columnNumber: 7\n                }, undefined)\n            ]\n        }, \"experience\", true, {\n            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n            lineNumber: 819,\n            columnNumber: 5\n        }, undefined),\n        // Fitness Goal\n        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"space-y-6\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-center\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-2xl font-bold text-white font-['Thunder'] mb-2\",\n                            children: \"What is your fitness goal?\"\n                        }, void 0, false, {\n                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                            lineNumber: 865,\n                            columnNumber: 9\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-zinc-400 font-['HK Grotesk'] text-sm\",\n                            children: \"Select all that apply\"\n                        }, void 0, false, {\n                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                            lineNumber: 868,\n                            columnNumber: 9\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                    lineNumber: 864,\n                    columnNumber: 7\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"space-y-3\",\n                    children: [\n                        \"Lose weight\",\n                        \"Gain muscle mass\",\n                        \"Tone up\",\n                        \"General Fitness\"\n                    ].map((goal)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            type: \"button\",\n                            onClick: async ()=>{\n                                const goalsMap = {\n                                    \"Lose weight\": _api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.WorkoutGoal.LoseWeight,\n                                    \"Gain muscle mass\": _api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.WorkoutGoal.GainWeight,\n                                    \"Tone up\": _api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.WorkoutGoal.ToneUp,\n                                    \"General Fitness\": _api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.WorkoutGoal.GeneralFitness\n                                };\n                                // Determine updated goals\n                                const updatedGoals = quizData.fitnessGoals.includes(goal) ? quizData.fitnessGoals.filter((g)=>g !== goal) : [\n                                    ...quizData.fitnessGoals,\n                                    goal\n                                ];\n                                setQuizData((prev)=>({\n                                        ...prev,\n                                        fitnessGoals: updatedGoals\n                                    }));\n                                if (_api_firebase_config__WEBPACK_IMPORTED_MODULE_5__.auth.currentUser?.uid && _api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.userService.currentUser) {\n                                    const updatedUser = new _api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.User({\n                                        ..._api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.userService.currentUser.toDictionary(),\n                                        goal: updatedGoals.map((g)=>goalsMap[g]),\n                                        updatedAt: new Date()\n                                    });\n                                    await _api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.userService.updateUser(_api_firebase_config__WEBPACK_IMPORTED_MODULE_5__.auth.currentUser.uid, updatedUser);\n                                    // Only move to next step if at least one goal is selected\n                                    if (updatedGoals.length > 0) {\n                                        setQuizStep(quizStep + 1);\n                                    }\n                                }\n                            },\n                            className: `w-full p-4 rounded-lg border ${quizData.fitnessGoals.includes(goal) ? \"border-[#E0FE10] bg-[#E0FE10]/10\" : \"border-zinc-700 hover:border-[#E0FE10]\"} text-left text-white transition-colors relative`,\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    children: goal\n                                }, void 0, false, {\n                                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                    lineNumber: 917,\n                                    columnNumber: 13\n                                }, undefined),\n                                quizData.fitnessGoals.includes(goal) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                    className: \"w-5 h-5 absolute right-4 top-1/2 transform -translate-y-1/2 text-[#E0FE10]\",\n                                    fill: \"none\",\n                                    viewBox: \"0 0 24 24\",\n                                    stroke: \"currentColor\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                        strokeLinecap: \"round\",\n                                        strokeLinejoin: \"round\",\n                                        strokeWidth: 2,\n                                        d: \"M5 13l4 4L19 7\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                        lineNumber: 925,\n                                        columnNumber: 17\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                    lineNumber: 919,\n                                    columnNumber: 15\n                                }, undefined)\n                            ]\n                        }, goal, true, {\n                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                            lineNumber: 875,\n                            columnNumber: 11\n                        }, undefined))\n                }, void 0, false, {\n                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                    lineNumber: 873,\n                    columnNumber: 7\n                }, undefined)\n            ]\n        }, \"goals\", true, {\n            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n            lineNumber: 863,\n            columnNumber: 5\n        }, undefined),\n        // Birthdate\n        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"space-y-6\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-center\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-2xl font-bold text-white font-['Thunder'] mb-2\",\n                            children: \"When is your birthdate?\"\n                        }, void 0, false, {\n                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                            lineNumber: 935,\n                            columnNumber: 9\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-zinc-400 font-['HK Grotesk'] text-sm\",\n                            children: \"We ask for your age to ensure accurate fitness calculations.\"\n                        }, void 0, false, {\n                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                            lineNumber: 938,\n                            columnNumber: 9\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                    lineNumber: 934,\n                    columnNumber: 7\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"grid grid-cols-3 gap-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                            className: \"bg-zinc-800 border border-zinc-600 rounded-lg p-3 text-white\",\n                            onChange: (e)=>{\n                                const date = new Date(quizData.birthdate || new Date());\n                                date.setMonth(parseInt(e.target.value));\n                                setQuizData({\n                                    ...quizData,\n                                    birthdate: date\n                                });\n                                if (_api_firebase_config__WEBPACK_IMPORTED_MODULE_5__.auth.currentUser?.uid && _api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.userService.currentUser) {\n                                    const updatedUser = new _api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.User({\n                                        ..._api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.userService.currentUser.toDictionary(),\n                                        birthdate: date,\n                                        updatedAt: new Date()\n                                    });\n                                    _api_firebase_user__WEBPACK_IMPORTED_MODULE_3__.userService.updateUser(_api_firebase_config__WEBPACK_IMPORTED_MODULE_5__.auth.currentUser.uid, updatedUser);\n                                }\n                            },\n                            children: Array.from({\n                                length: 12\n                            }, (_, i)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                    value: i,\n                                    children: new Date(0, i).toLocaleString(\"default\", {\n                                        month: \"long\"\n                                    })\n                                }, i, false, {\n                                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                    lineNumber: 964,\n                                    columnNumber: 13\n                                }, undefined))\n                        }, void 0, false, {\n                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                            lineNumber: 944,\n                            columnNumber: 9\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                            className: \"bg-zinc-800 border border-zinc-600 rounded-lg p-3 text-white\",\n                            onChange: (e)=>{\n                                const date = new Date(quizData.birthdate || new Date());\n                                date.setDate(parseInt(e.target.value));\n                                setQuizData({\n                                    ...quizData,\n                                    birthdate: date\n                                });\n                            },\n                            children: Array.from({\n                                length: 31\n                            }, (_, i)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                    value: i + 1,\n                                    children: i + 1\n                                }, i + 1, false, {\n                                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                    lineNumber: 979,\n                                    columnNumber: 13\n                                }, undefined))\n                        }, void 0, false, {\n                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                            lineNumber: 970,\n                            columnNumber: 9\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                            className: \"bg-zinc-800 border border-zinc-600 rounded-lg p-3 text-white\",\n                            onChange: (e)=>{\n                                const date = new Date(quizData.birthdate || new Date());\n                                date.setFullYear(parseInt(e.target.value));\n                                setQuizData({\n                                    ...quizData,\n                                    birthdate: date\n                                });\n                            },\n                            children: Array.from({\n                                length: 100\n                            }, (_, i)=>{\n                                const year = new Date().getFullYear() - i;\n                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                    value: year,\n                                    children: year\n                                }, year, false, {\n                                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                    lineNumber: 996,\n                                    columnNumber: 15\n                                }, undefined);\n                            })\n                        }, void 0, false, {\n                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                            lineNumber: 985,\n                            columnNumber: 9\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                    lineNumber: 943,\n                    columnNumber: 7\n                }, undefined)\n            ]\n        }, \"birthdate\", true, {\n            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n            lineNumber: 933,\n            columnNumber: 5\n        }, undefined)\n    ];\n    const renderQuizQuestion = ()=>{\n        return questions[quizStep];\n    };\n    const isLastQuizStep = ()=>quizStep === questions.length - 1;\n    const validateEmail = ()=>{\n        if (!email) {\n            setErrors({\n                email: \"Email is required\"\n            });\n            setShowError(true);\n            return false;\n        } else if (!/\\S+@\\S+\\.\\S+/.test(email)) {\n            setErrors({\n                email: \"Please enter a valid email address\"\n            });\n            setShowError(true);\n            return false;\n        }\n        return true;\n    };\n    const validatePassword = ()=>{\n        if (!hasUppercase || !hasNumber || !hasMinLength || !passwordsMatch) {\n            setShowError(true);\n            return false;\n        }\n        return true;\n    };\n    const validateUsername = ()=>{\n        if (!username) {\n            setErrors({\n                username: \"Username is required\"\n            });\n            setShowError(true);\n            return false;\n        }\n        return isUsernameAvailable;\n    };\n    const handleUsernameChange = (value)=>{\n        setUsername(value);\n        // Simulated username availability check\n        setIsUsernameAvailable(/^[a-zA-Z0-9_]{3,}$/.test(value));\n    };\n    const handleFileChange = async (e)=>{\n        const file = e.target.files?.[0];\n        if (file) {\n            try {\n                setIsImageUploading(true);\n                setProfileImage(file);\n                const uploadResult = await _api_firebase_storage_service__WEBPACK_IMPORTED_MODULE_7__.firebaseStorageService.uploadImage(file, _api_firebase_storage_service__WEBPACK_IMPORTED_MODULE_7__.UploadImageType.Profile);\n                console.log(\"Profile image uploaded successfully\", uploadResult);\n            } catch (error) {\n                console.error(\"Profile image upload failed\", error);\n                setError(\"Failed to upload profile image\");\n                setProfileImage(null);\n            } finally{\n                setIsImageUploading(false);\n            }\n        }\n    };\n    const renderProfileStep = ()=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-center mb-8\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-2xl font-bold text-white font-['Thunder'] mb-2\",\n                            children: \"Personalize your experience\"\n                        }, void 0, false, {\n                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                            lineNumber: 1074,\n                            columnNumber: 9\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-zinc-400 font-['HK Grotesk'] text-sm\",\n                            children: \"Set a username and profile image\"\n                        }, void 0, false, {\n                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                            lineNumber: 1077,\n                            columnNumber: 9\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                    lineNumber: 1073,\n                    columnNumber: 7\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"space-y-6\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex justify-center\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"relative\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-24 h-24 bg-zinc-800 rounded-full flex items-center justify-center overflow-hidden\",\n                                        children: profileImage ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                            src: URL.createObjectURL(profileImage),\n                                            alt: \"Profile Preview\",\n                                            className: \"w-full h-full object-cover\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                            lineNumber: 1088,\n                                            columnNumber: 17\n                                        }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Camera_X_lucide_react__WEBPACK_IMPORTED_MODULE_10__.Camera, {\n                                            size: 32,\n                                            className: \"text-zinc-500\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                            lineNumber: 1094,\n                                            columnNumber: 17\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                        lineNumber: 1086,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        className: \"absolute bottom-0 right-0 w-8 h-8 bg-[#E0FE10] rounded-full flex items-center justify-center cursor-pointer\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Camera_X_lucide_react__WEBPACK_IMPORTED_MODULE_10__.Camera, {\n                                                size: 16,\n                                                className: \"text-black\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                                lineNumber: 1098,\n                                                columnNumber: 15\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"file\",\n                                                accept: \"image/*\",\n                                                onChange: handleFileChange,\n                                                className: \"hidden\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                                lineNumber: 1099,\n                                                columnNumber: 15\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                        lineNumber: 1097,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    isImageUploading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"loader border-t-transparent border-4 border-white rounded-full w-8 h-8 animate-spin\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                            lineNumber: 1105,\n                                            columnNumber: 17\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                        lineNumber: 1104,\n                                        columnNumber: 15\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                lineNumber: 1085,\n                                columnNumber: 11\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                            lineNumber: 1084,\n                            columnNumber: 9\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center justify-between\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            className: \"block text-sm font-medium text-zinc-300 mb-2 font-['HK Grotesk']\",\n                                            children: \"Username\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                            lineNumber: 1114,\n                                            columnNumber: 13\n                                        }, undefined),\n                                        username && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: `text-xs ${isUsernameAvailable ? \"text-[#E0FE10]\" : \"text-red-400\"}`,\n                                            children: isUsernameAvailable ? \"username is available\" : \"username is not available\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                            lineNumber: 1118,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                    lineNumber: 1113,\n                                    columnNumber: 11\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    type: \"text\",\n                                    value: username,\n                                    onChange: (e)=>handleUsernameChange(e.target.value),\n                                    className: `w-full bg-zinc-800 border rounded-lg p-3 text-white placeholder-zinc-400 focus:outline-none focus:border-[#E0FE10] focus:ring-1 focus:ring-[#E0FE10] transition-colors ${errors.username ? \"border-red-500\" : \"border-zinc-600\"}`,\n                                    placeholder: \"Choose a username\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                    lineNumber: 1123,\n                                    columnNumber: 11\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                            lineNumber: 1112,\n                            columnNumber: 9\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                    lineNumber: 1082,\n                    columnNumber: 7\n                }, undefined)\n            ]\n        }, void 0, true);\n    const renderPasswordStep = ()=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-center mb-8\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-2xl font-bold text-white font-['Thunder'] mb-2\",\n                            children: \"Create password\"\n                        }, void 0, false, {\n                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                            lineNumber: 1140,\n                            columnNumber: 9\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-zinc-400 font-['HK Grotesk'] text-sm\",\n                            children: \"Set a password for your account\"\n                        }, void 0, false, {\n                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                            lineNumber: 1143,\n                            columnNumber: 9\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                    lineNumber: 1139,\n                    columnNumber: 7\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"space-y-6\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    className: \"block text-sm font-medium text-zinc-300 mb-2 font-['HK Grotesk']\",\n                                    children: \"Password\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                    lineNumber: 1150,\n                                    columnNumber: 11\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    type: \"password\",\n                                    value: password,\n                                    onChange: (e)=>{\n                                        setPassword(e.target.value);\n                                        setShowError(false);\n                                    },\n                                    className: \"w-full bg-zinc-800 border border-zinc-600 rounded-lg p-3 text-white placeholder-zinc-400 focus:outline-none focus:border-[#E0FE10] focus:ring-1 focus:ring-[#E0FE10] transition-colors\",\n                                    placeholder: \"Create password\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                    lineNumber: 1153,\n                                    columnNumber: 11\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                            lineNumber: 1149,\n                            columnNumber: 9\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    className: \"block text-sm font-medium text-zinc-300 mb-2 font-['HK Grotesk']\",\n                                    children: \"Confirm Password\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                    lineNumber: 1166,\n                                    columnNumber: 11\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    type: \"password\",\n                                    value: confirmPassword,\n                                    onChange: (e)=>{\n                                        setConfirmPassword(e.target.value);\n                                        setShowError(false);\n                                    },\n                                    className: \"w-full bg-zinc-800 border border-zinc-600 rounded-lg p-3 text-white placeholder-zinc-400 focus:outline-none focus:border-[#E0FE10] focus:ring-1 focus:ring-[#E0FE10] transition-colors\",\n                                    placeholder: \"Confirm password\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                    lineNumber: 1169,\n                                    columnNumber: 11\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                            lineNumber: 1165,\n                            columnNumber: 9\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-y-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center gap-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: `w-4 h-4 rounded-full flex items-center justify-center ${hasUppercase ? \"bg-[#E0FE10]\" : \"bg-zinc-700\"}`,\n                                            children: hasUppercase && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                className: \"w-3 h-3 text-black\",\n                                                fill: \"none\",\n                                                viewBox: \"0 0 24 24\",\n                                                stroke: \"currentColor\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                    strokeLinecap: \"round\",\n                                                    strokeLinejoin: \"round\",\n                                                    strokeWidth: 2,\n                                                    d: \"M5 13l4 4L19 7\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                                    lineNumber: 1190,\n                                                    columnNumber: 19\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                                lineNumber: 1189,\n                                                columnNumber: 17\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                            lineNumber: 1183,\n                                            columnNumber: 13\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: `text-sm ${hasUppercase ? \"text-[#E0FE10]\" : \"text-zinc-400\"}`,\n                                            children: \"1 uppercase\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                            lineNumber: 1194,\n                                            columnNumber: 13\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                    lineNumber: 1182,\n                                    columnNumber: 11\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center gap-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: `w-4 h-4 rounded-full flex items-center justify-center ${hasNumber ? \"bg-[#E0FE10]\" : \"bg-zinc-700\"}`,\n                                            children: hasNumber && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                className: \"w-3 h-3 text-black\",\n                                                fill: \"none\",\n                                                viewBox: \"0 0 24 24\",\n                                                stroke: \"currentColor\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                    strokeLinecap: \"round\",\n                                                    strokeLinejoin: \"round\",\n                                                    strokeWidth: 2,\n                                                    d: \"M5 13l4 4L19 7\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                                    lineNumber: 1207,\n                                                    columnNumber: 19\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                                lineNumber: 1206,\n                                                columnNumber: 17\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                            lineNumber: 1200,\n                                            columnNumber: 13\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: `text-sm ${hasNumber ? \"text-[#E0FE10]\" : \"text-zinc-400\"}`,\n                                            children: \"1 number\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                            lineNumber: 1211,\n                                            columnNumber: 13\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                    lineNumber: 1199,\n                                    columnNumber: 11\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center gap-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: `w-4 h-4 rounded-full flex items-center justify-center ${hasMinLength ? \"bg-[#E0FE10]\" : \"bg-zinc-700\"}`,\n                                            children: hasMinLength && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                className: \"w-3 h-3 text-black\",\n                                                fill: \"none\",\n                                                viewBox: \"0 0 24 24\",\n                                                stroke: \"currentColor\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                    strokeLinecap: \"round\",\n                                                    strokeLinejoin: \"round\",\n                                                    strokeWidth: 2,\n                                                    d: \"M5 13l4 4L19 7\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                                    lineNumber: 1224,\n                                                    columnNumber: 19\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                                lineNumber: 1223,\n                                                columnNumber: 17\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                            lineNumber: 1217,\n                                            columnNumber: 13\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: `text-sm ${hasMinLength ? \"text-[#E0FE10]\" : \"text-zinc-400\"}`,\n                                            children: \"8 characters\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                            lineNumber: 1228,\n                                            columnNumber: 13\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                    lineNumber: 1216,\n                                    columnNumber: 11\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center gap-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: `w-4 h-4 rounded-full flex items-center justify-center ${passwordsMatch && password ? \"bg-[#E0FE10]\" : \"bg-zinc-700\"}`,\n                                            children: passwordsMatch && password && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                className: \"w-3 h-3 text-black\",\n                                                fill: \"none\",\n                                                viewBox: \"0 0 24 24\",\n                                                stroke: \"currentColor\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                    strokeLinecap: \"round\",\n                                                    strokeLinejoin: \"round\",\n                                                    strokeWidth: 2,\n                                                    d: \"M5 13l4 4L19 7\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                                    lineNumber: 1241,\n                                                    columnNumber: 19\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                                lineNumber: 1240,\n                                                columnNumber: 17\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                            lineNumber: 1234,\n                                            columnNumber: 13\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: `text-sm ${passwordsMatch && password ? \"text-[#E0FE10]\" : \"text-zinc-400\"}`,\n                                            children: \"Passwords match\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                            lineNumber: 1245,\n                                            columnNumber: 13\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                    lineNumber: 1233,\n                                    columnNumber: 11\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                            lineNumber: 1181,\n                            columnNumber: 9\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                    lineNumber: 1148,\n                    columnNumber: 7\n                }, undefined)\n            ]\n        }, void 0, true);\n    const renderInitialStep = ()=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-center mb-8 pt-4 sm:pt-0\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                            src: \"/pulse-logo-white.svg\",\n                            alt: \"Pulse Logo\",\n                            className: \"h-8 mx-auto mb-8\"\n                        }, void 0, false, {\n                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                            lineNumber: 1257,\n                            columnNumber: 9\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-2xl font-bold text-white font-['Thunder'] mb-2\",\n                            children: isSignUp ? \"Join the Collective\" : \"Welcome Back!\"\n                        }, void 0, false, {\n                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                            lineNumber: 1258,\n                            columnNumber: 9\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-zinc-400 font-['HK Grotesk'] text-sm\",\n                            children: \"Beat Your Best, Share Your Victory\"\n                        }, void 0, false, {\n                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                            lineNumber: 1261,\n                            columnNumber: 9\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                    lineNumber: 1256,\n                    columnNumber: 7\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex flex-col gap-4 mb-8\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            type: \"button\",\n                            onClick: ()=>{\n                                setActiveProvider(\"apple\"); // Track the active provider\n                                handleSocialAuth(\"apple\"); // Trigger the social auth\n                            },\n                            disabled: isLoading && activeProvider === \"apple\",\n                            className: `w-full bg-black text-white font-semibold py-3 px-4 rounded-lg transition-colors font-['HK Grotesk'] border border-zinc-700 flex items-center justify-center gap-3 ${isLoading && activeProvider === \"apple\" ? \"opacity-50 cursor-not-allowed\" : \"hover:bg-zinc-800\"}`,\n                            children: isLoading && activeProvider === \"apple\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"loader border-t-transparent border-4 border-white rounded-full w-5 h-5 animate-spin\"\n                            }, void 0, false, {\n                                fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                lineNumber: 1279,\n                                columnNumber: 13\n                            }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                        src: \"/apple-logo.svg\",\n                                        alt: \"Apple\",\n                                        className: \"w-5 h-5\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                        lineNumber: 1282,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    isSignUp ? \"Sign up with Apple\" : \"Sign in with Apple\"\n                                ]\n                            }, void 0, true)\n                        }, void 0, false, {\n                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                            lineNumber: 1267,\n                            columnNumber: 9\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            type: \"button\",\n                            onClick: ()=>handleSocialAuth(\"google\"),\n                            disabled: isLoading,\n                            className: `w-full bg-white text-black font-semibold py-3 px-4 rounded-lg hover:bg-gray-100 transition-colors font-['HK Grotesk'] flex items-center justify-center gap-3 ${isLoading ? \"cursor-not-allowed opacity-50\" : \"\"}`,\n                            children: isLoading && activeProvider === \"google\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"loader border-t-transparent border-4 border-black rounded-full w-5 h-5 animate-spin\"\n                            }, void 0, false, {\n                                fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                lineNumber: 1297,\n                                columnNumber: 13\n                            }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                        src: \"/google-logo.svg\",\n                                        alt: \"Google\",\n                                        className: \"w-5 h-5\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                        lineNumber: 1300,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    isSignUp ? \"Sign up with Google\" : \"Sign in with Google\"\n                                ]\n                            }, void 0, true)\n                        }, void 0, false, {\n                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                            lineNumber: 1288,\n                            columnNumber: 9\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"relative\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"absolute inset-0 flex items-center\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"w-full border-t border-zinc-700\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                    lineNumber: 1308,\n                                    columnNumber: 13\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                lineNumber: 1307,\n                                columnNumber: 11\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                            lineNumber: 1306,\n                            columnNumber: 9\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                    lineNumber: 1266,\n                    columnNumber: 7\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"space-y-6\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    className: \"block text-sm font-medium text-zinc-300 mb-2 font-['HK Grotesk']\",\n                                    children: \"Email\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                    lineNumber: 1319,\n                                    columnNumber: 11\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    type: \"email\",\n                                    value: email,\n                                    onChange: (e)=>{\n                                        setEmail(e.target.value);\n                                        setShowError(false);\n                                    },\n                                    className: `w-full bg-zinc-800 border rounded-lg p-3 text-white placeholder-zinc-400 focus:outline-none focus:border-[#E0FE10] focus:ring-1 focus:ring-[#E0FE10] transition-colors ${errors.email ? \"border-red-500\" : \"border-zinc-600\"}`,\n                                    placeholder: \"Enter your email\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                    lineNumber: 1322,\n                                    columnNumber: 11\n                                }, undefined),\n                                showError && errors.email && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-red-400 text-sm mt-2\",\n                                    children: errors.email\n                                }, void 0, false, {\n                                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                    lineNumber: 1335,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                            lineNumber: 1318,\n                            columnNumber: 9\n                        }, undefined),\n                        !isSignUp && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    className: \"block text-sm font-medium text-zinc-300 mb-2 font-['HK Grotesk']\",\n                                    children: \"Password\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                    lineNumber: 1341,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    type: \"password\",\n                                    value: password,\n                                    onChange: (e)=>{\n                                        setPassword(e.target.value);\n                                        setShowError(false);\n                                    },\n                                    className: \"w-full bg-zinc-800 border border-zinc-600 rounded-lg p-3 text-white placeholder-zinc-400 focus:outline-none focus:border-[#E0FE10] focus:ring-1 focus:ring-[#E0FE10] transition-colors\",\n                                    placeholder: \"Enter your password\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                    lineNumber: 1344,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                            lineNumber: 1340,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                    lineNumber: 1317,\n                    columnNumber: 7\n                }, undefined)\n            ]\n        }, void 0, true);\n    const renderQuizNavigation = ()=>{\n        if (signUpStep !== \"quiz\") return null;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"mt-8 flex gap-4\",\n            children: [\n                quizStep > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    type: \"button\",\n                    onClick: ()=>setQuizStep(quizStep - 1),\n                    className: \"flex-1 bg-zinc-800 text-white font-semibold py-3 px-4 rounded-lg hover:bg-zinc-700 transition-colors font-['HK Grotesk']\",\n                    children: \"Back\"\n                }, void 0, false, {\n                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                    lineNumber: 1366,\n                    columnNumber: 11\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    type: \"button\",\n                    onClick: ()=>{\n                        if (isLastQuizStep()) {\n                            handleCompleteQuiz();\n                        } else {\n                            setQuizStep(quizStep + 1);\n                        }\n                    },\n                    disabled: !isCurrentStepValid(),\n                    className: \"flex-1 bg-[#E0FE10] text-black font-semibold py-3 px-4 rounded-lg hover:bg-[#c8e60e] transition-colors font-['HK Grotesk'] disabled:opacity-50 disabled:cursor-not-allowed\",\n                    children: isLastQuizStep() ? \"Complete quiz\" : \"Next\"\n                }, void 0, false, {\n                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                    lineNumber: 1374,\n                    columnNumber: 9\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n            lineNumber: 1364,\n            columnNumber: 7\n        }, undefined);\n    };\n    // Validation for quiz steps\n    const isCurrentStepValid = ()=>{\n        switch(quizStep){\n            case 0:\n                return !!quizData.gender;\n            case 1:\n                return quizData.height.feet > 0 && quizData.height.feet <= 8 && quizData.height.inches >= 0 && quizData.height.inches <= 11;\n            case 2:\n                return quizData.weight > 0;\n            case 3:\n                return !!quizData.gymExperience;\n            case 4:\n                return quizData.fitnessGoals.length > 0;\n            case 5:\n                return !!quizData.birthdate;\n            default:\n                return false;\n        }\n    };\n    const renderCurrentStep = ()=>{\n        if (isSignUp) {\n            switch(signUpStep){\n                case \"password\":\n                    return renderPasswordStep();\n                case \"profile\":\n                    return renderProfileStep();\n                case \"quiz-prompt\":\n                    return renderQuizPrompt();\n                case \"quiz\":\n                    return renderQuizQuestion();\n                case \"subscription\":\n                    return renderSubscriptionStep();\n                default:\n                    return renderInitialStep();\n            }\n        }\n        if (signUpStep === \"subscription\") {\n            return renderSubscriptionStep();\n        }\n        return renderInitialStep();\n    };\n    const toggleMode = ()=>{\n        setIsSignUp(!isSignUp);\n        setSignUpStep(\"initial\");\n        setErrors({});\n        setShowError(false);\n        setPassword(\"\");\n        setConfirmPassword(\"\");\n        setUsername(\"\");\n        setProfileImage(null);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"fixed inset-0 flex items-center justify-center bg-black z-50 sm:p-6\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-zinc-900 w-full h-full sm:h-auto sm:w-[480px] sm:rounded-xl p-6 sm:p-8 border-none sm:border sm:border-zinc-700 shadow-xl overflow-y-auto\",\n            children: [\n                window.location.hostname === \"localhost\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(DevModeToggle, {}, void 0, false, {\n                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                    lineNumber: 1456,\n                    columnNumber: 54\n                }, undefined),\n                closable && onClose && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    onClick: onClose,\n                    className: \"absolute top-4 right-4 text-zinc-400 hover:text-white transition-colors\",\n                    \"aria-label\": \"Close modal\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Camera_X_lucide_react__WEBPACK_IMPORTED_MODULE_10__.X, {\n                        size: 24\n                    }, void 0, false, {\n                        fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                        lineNumber: 1464,\n                        columnNumber: 13\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                    lineNumber: 1459,\n                    columnNumber: 11\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                    onSubmit: handleSubmit,\n                    className: \"space-y-6\",\n                    children: [\n                        error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"bg-red-500 text-white text-sm font-semibold p-3 rounded-lg\",\n                            children: error\n                        }, void 0, false, {\n                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                            lineNumber: 1470,\n                            columnNumber: 13\n                        }, undefined),\n                        renderCurrentStep(),\n                        signUpStep !== \"quiz-prompt\" && signUpStep !== \"quiz\" && signUpStep !== \"subscription\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex flex-col gap-4 mt-8\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                type: \"submit\",\n                                className: \"w-full bg-[#E0FE10] text-black font-semibold py-3 px-4 rounded-lg hover:bg-[#c8e60e] transition-colors font-['HK Grotesk']\",\n                                children: isSignUp ? signUpStep === \"profile\" ? \"Complete\" : signUpStep === \"password\" ? \"Continue\" : \"Continue with Email\" : \"Sign In\"\n                            }, void 0, false, {\n                                fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                lineNumber: 1478,\n                                columnNumber: 15\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                            lineNumber: 1477,\n                            columnNumber: 13\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                    lineNumber: 1468,\n                    columnNumber: 9\n                }, undefined),\n                renderQuizNavigation(),\n                signUpStep === \"initial\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mt-6 text-center\",\n                            children: [\n                                !isSignUp && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                    href: \"#\",\n                                    className: \"text-zinc-400 hover:text-[#E0FE10] text-sm transition-colors mb-2 block\",\n                                    children: \"Forgot your password?\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                    lineNumber: 1500,\n                                    columnNumber: 17\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-zinc-500 text-sm font-['HK Grotesk']\",\n                                    children: [\n                                        isSignUp ? \"Already have an account? \" : \"Don't have an account? \",\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: toggleMode,\n                                            className: \"text-[#E0FE10] hover:text-[#c8e60e]\",\n                                            children: isSignUp ? \"Sign In\" : \"Sign Up\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                            lineNumber: 1509,\n                                            columnNumber: 17\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                    lineNumber: 1507,\n                                    columnNumber: 15\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                            lineNumber: 1498,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mt-8 pt-6 border-t border-zinc-700\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-zinc-400 text-xs text-center font-['HK Grotesk'] px-4\",\n                                    children: \"Join the Fitness Collective: Create, Share, and Progress Together\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                    lineNumber: 1516,\n                                    columnNumber: 15\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mt-8 pt-6 border-t border-zinc-700\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex flex-col sm:flex-row justify-center items-center gap-4 text-zinc-400 text-sm mb-6\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                                        href: \"/about\",\n                                                        className: \"hover:text-[#E0FE10] transition-colors\",\n                                                        target: \"_blank\",\n                                                        rel: \"noopener noreferrer\",\n                                                        children: \"About Pulse\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                                        lineNumber: 1522,\n                                                        columnNumber: 21\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"hidden sm:block w-1 h-1 bg-zinc-700 rounded-full\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                                        lineNumber: 1530,\n                                                        columnNumber: 21\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                                        href: \"/creator\",\n                                                        className: \"hover:text-[#E0FE10] transition-colors\",\n                                                        target: \"_blank\",\n                                                        rel: \"noopener noreferrer\",\n                                                        children: \"Creator Program\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                                        lineNumber: 1531,\n                                                        columnNumber: 21\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"hidden sm:block w-1 h-1 bg-zinc-700 rounded-full\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                                        lineNumber: 1539,\n                                                        columnNumber: 21\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                                        href: \"/rounds\",\n                                                        className: \"hover:text-[#E0FE10] transition-colors\",\n                                                        target: \"_blank\",\n                                                        rel: \"noopener noreferrer\",\n                                                        children: \"Rounds Feature\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                                        lineNumber: 1540,\n                                                        columnNumber: 21\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                                lineNumber: 1521,\n                                                columnNumber: 19\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex flex-wrap justify-center items-center gap-4 text-zinc-500 text-xs mb-6\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                                        href: \"/terms\",\n                                                        className: \"hover:text-[#E0FE10] transition-colors\",\n                                                        target: \"_blank\",\n                                                        rel: \"noopener noreferrer\",\n                                                        children: \"Terms & Conditions\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                                        lineNumber: 1551,\n                                                        columnNumber: 21\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"hidden sm:block w-1 h-1 bg-zinc-700 rounded-full\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                                        lineNumber: 1559,\n                                                        columnNumber: 21\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                                        href: \"/privacyPolicy\",\n                                                        className: \"hover:text-[#E0FE10] transition-colors\",\n                                                        target: \"_blank\",\n                                                        rel: \"noopener noreferrer\",\n                                                        children: \"Privacy Policy\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                                        lineNumber: 1560,\n                                                        columnNumber: 21\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"hidden sm:block w-1 h-1 bg-zinc-700 rounded-full\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                                        lineNumber: 1568,\n                                                        columnNumber: 21\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: ()=>window.location.href = \"mailto:pulsefitnessapp@gmail.com\",\n                                                        className: \"hover:text-[#E0FE10] transition-colors\",\n                                                        children: \"Contact Us\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                                        lineNumber: 1569,\n                                                        columnNumber: 21\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                                lineNumber: 1550,\n                                                columnNumber: 19\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex justify-center gap-6 mb-6\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                                        href: \"https://www.instagram.com/fitwithpulse/\",\n                                                        target: \"_blank\",\n                                                        rel: \"noopener noreferrer\",\n                                                        className: \"text-zinc-400 hover:text-[#E0FE10] transition-colors\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                            src: \"/instagram.svg\",\n                                                            alt: \"Instagram\",\n                                                            className: \"w-5 h-5\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                                            lineNumber: 1584,\n                                                            columnNumber: 23\n                                                        }, undefined)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                                        lineNumber: 1578,\n                                                        columnNumber: 21\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                                        href: \"https://twitter.com/fitwithpulse\",\n                                                        target: \"_blank\",\n                                                        rel: \"noopener noreferrer\",\n                                                        className: \"text-zinc-400 hover:text-[#E0FE10] transition-colors\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                            src: \"/twitter.svg\",\n                                                            alt: \"Twitter\",\n                                                            className: \"w-5 h-5\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                                            lineNumber: 1592,\n                                                            columnNumber: 23\n                                                        }, undefined)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                                        lineNumber: 1586,\n                                                        columnNumber: 21\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                                        href: \"https://www.youtube.com/@fitwithpulse\",\n                                                        target: \"_blank\",\n                                                        rel: \"noopener noreferrer\",\n                                                        className: \"text-zinc-400 hover:text-[#E0FE10] transition-colors\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                            src: \"/youtube.svg\",\n                                                            alt: \"Youtube\",\n                                                            className: \"w-5 h-5\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                                            lineNumber: 1600,\n                                                            columnNumber: 23\n                                                        }, undefined)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                                        lineNumber: 1594,\n                                                        columnNumber: 21\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                                lineNumber: 1577,\n                                                columnNumber: 19\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-center text-zinc-500 text-xs\",\n                                                children: [\n                                                    \"\\xa9 \",\n                                                    new Date().getFullYear(),\n                                                    \" Pulse. All rights reserved.\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                                lineNumber: 1604,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                                        lineNumber: 1520,\n                                        columnNumber: 17\n                                    }, undefined)\n                                }, void 0, false)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n                            lineNumber: 1515,\n                            columnNumber: 13\n                        }, undefined)\n                    ]\n                }, void 0, true)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n            lineNumber: 1455,\n            columnNumber: 7\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/components/SignInModal.tsx\",\n        lineNumber: 1454,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SignInModal);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFdBQVU7O29EQUFvQztvREFDOUMsSUFBSXdHLE9BQU93RyxXQUFXO29EQUFHOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFVaEQ7QUFFQSxpRUFBZTVNLFdBQVdBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1hcHAvLi9zcmMvY29tcG9uZW50cy9TaWduSW5Nb2RhbC50c3g/YmZkNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHtcbiAgZ2V0UmVkaXJlY3RSZXN1bHQsXG4gIHNpZ25JbldpdGhSZWRpcmVjdCxcbiAgc2lnbkluV2l0aFBvcHVwLFxuICBPQXV0aFByb3ZpZGVyLFxuICBVc2VyQ3JlZGVudGlhbCxcbiAgQXV0aEVycm9yXG59IGZyb20gXCJmaXJlYmFzZS9hdXRoXCI7XG5pbXBvcnQgeyBDYW1lcmEsIFggfSBmcm9tIFwibHVjaWRlLXJlYWN0XCI7XG5pbXBvcnQgeyBGaXRuZXNzR29hbCwgUXVpekRhdGEsIFNpZ25VcFN0ZXAgfSBmcm9tIFwiLi4vdHlwZXMvQXV0aFR5cGVzXCI7XG5pbXBvcnQgeyBHZW5kZXIsIFdvcmtvdXRHb2FsLCB9IGZyb20gXCIuLi9hcGkvZmlyZWJhc2UvdXNlclwiO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uVHlwZSB9IGZyb20gXCIuLi9hcGkvZmlyZWJhc2UvdXNlclwiO1xuaW1wb3J0IGF1dGhTZXJ2aWNlIGZyb20gXCIuLi9hcGkvZmlyZWJhc2UvYXV0aFwiO1xuaW1wb3J0IHsgdXNlclNlcnZpY2UsIFVzZXIsIFVzZXJMZXZlbCwgQm9keVdlaWdodCB9IGZyb20gXCIuLi9hcGkvZmlyZWJhc2UvdXNlclwiO1xuaW1wb3J0IHsgYXV0aCB9IGZyb20gXCIuLi9hcGkvZmlyZWJhc2UvY29uZmlnXCI7XG5pbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICduZXh0L3JvdXRlcic7XG5pbXBvcnQgeyBmaXJlYmFzZVN0b3JhZ2VTZXJ2aWNlLCBVcGxvYWRJbWFnZVR5cGUgfSBmcm9tICcuLi9hcGkvZmlyZWJhc2Uvc3RvcmFnZS9zZXJ2aWNlJztcblxuaW1wb3J0IHsgdXNlRGlzcGF0Y2gsIHVzZVNlbGVjdG9yIH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IHsgUm9vdFN0YXRlIH0gZnJvbSAnLi4vcmVkdXgvc3RvcmUnO1xuaW1wb3J0IHsgdG9nZ2xlRGV2TW9kZSB9IGZyb20gJy4uL3JlZHV4L2Rldk1vZGVTbGljZSc7XG5pbXBvcnQgeyBpbml0aWFsaXplRmlyZWJhc2UgfSBmcm9tICcuLi9hcGkvZmlyZWJhc2UvY29uZmlnJztcblxuaW50ZXJmYWNlIFNpZ25Jbk1vZGFsUHJvcHMge1xuICBpc1Zpc2libGU6IGJvb2xlYW47XG4gIGNsb3NhYmxlPzogYm9vbGVhbjtcbiAgb25DbG9zZT86ICgpID0+IHZvaWQ7XG4gIG9uU2lnbkluU3VjY2Vzcz86ICh1c2VyOiBhbnkpID0+IHZvaWQ7XG4gIG9uU2lnbkluRXJyb3I/OiAoZXJyb3I6IEVycm9yKSA9PiB2b2lkO1xuICBvblNpZ25VcFN1Y2Nlc3M/OiAodXNlcjogYW55KSA9PiB2b2lkO1xuICBvblNpZ25VcEVycm9yPzogKGVycm9yOiBFcnJvcikgPT4gdm9pZDtcbiAgb25RdWl6Q29tcGxldGU/OiAoKSA9PiB2b2lkO1xuICBvblF1aXpTa2lwcGVkPzogKCkgPT4gdm9pZDtcbiAgb25SZWdpc3RyYXRpb25Db21wbGV0ZT86ICgpID0+IHZvaWQ7XG59XG5cbmNvbnN0IERldk1vZGVUb2dnbGU6IFJlYWN0LkZDID0gKCkgPT4ge1xuICBjb25zdCBkaXNwYXRjaCA9IHVzZURpc3BhdGNoKCk7XG4gIGNvbnN0IGlzRGV2ZWxvcG1lbnQgPSB1c2VTZWxlY3Rvcigoc3RhdGU6IFJvb3RTdGF0ZSkgPT4gc3RhdGUuZGV2TW9kZS5pc0RldmVsb3BtZW50KTtcblxuICAvLyBPbiBjb21wb25lbnQgbW91bnQsIGNoZWNrIGlmIHdlIHNob3VsZCBiZSBpbiBkZXYgbW9kZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHNhdmVkTW9kZSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZGV2TW9kZScpID09PSAndHJ1ZSc7XG4gICAgaWYgKHNhdmVkTW9kZSAhPT0gaXNEZXZlbG9wbWVudCkge1xuICAgICAgZGlzcGF0Y2godG9nZ2xlRGV2TW9kZSgpKTtcbiAgICAgIGluaXRpYWxpemVGaXJlYmFzZShzYXZlZE1vZGUpO1xuICAgIH1cbiAgfSwgW10pO1xuXG4gIGNvbnN0IGhhbmRsZVRvZ2dsZSA9ICgpID0+IHtcbiAgICBjb25zdCBuZXdNb2RlID0gIWlzRGV2ZWxvcG1lbnQ7XG4gICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdkZXZNb2RlJywgU3RyaW5nKG5ld01vZGUpKTtcbiAgICBkaXNwYXRjaCh0b2dnbGVEZXZNb2RlKCkpO1xuICAgIGluaXRpYWxpemVGaXJlYmFzZShuZXdNb2RlKTtcbiAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8YnV0dG9uXG4gICAgICBvbkNsaWNrPXtoYW5kbGVUb2dnbGV9XG4gICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtNCBsZWZ0LTQgcHgtMiBweS0xIHJvdW5kZWQgdGV4dC14cyBmb250LW1lZGl1bSB0cmFuc2l0aW9uLWNvbG9ycyBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiXG4gICAgICBzdHlsZT17e1xuICAgICAgICBiYWNrZ3JvdW5kOiBpc0RldmVsb3BtZW50ID8gJyNFMEZFMTAnIDogJyMzZjNmNDYnLFxuICAgICAgICBjb2xvcjogaXNEZXZlbG9wbWVudCA/ICdibGFjaycgOiAnd2hpdGUnXG4gICAgICB9fVxuICAgID5cbiAgICAgIHtpc0RldmVsb3BtZW50ID8gJ/CflKcgRGV2JyA6ICfwn5qAIFByb2QnfVxuICAgIDwvYnV0dG9uPlxuICApO1xufTtcblxuY29uc3QgU2lnbkluTW9kYWw6IFJlYWN0LkZDPFNpZ25Jbk1vZGFsUHJvcHM+ID0gKHtcbiAgaXNWaXNpYmxlLFxuICBjbG9zYWJsZSA9IGZhbHNlLFxuICBvbkNsb3NlLFxuICBvblNpZ25JblN1Y2Nlc3MsXG4gIG9uU2lnbkluRXJyb3IsXG4gIG9uU2lnblVwU3VjY2VzcyxcbiAgb25TaWduVXBFcnJvcixcbiAgb25RdWl6Q29tcGxldGUsXG4gIG9uUXVpelNraXBwZWQsXG4gIG9uUmVnaXN0cmF0aW9uQ29tcGxldGUsXG59KSA9PiB7XG4gIGNvbnN0IFtlbWFpbCwgc2V0RW1haWxdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtwYXNzd29yZCwgc2V0UGFzc3dvcmRdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtjb25maXJtUGFzc3dvcmQsIHNldENvbmZpcm1QYXNzd29yZF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW3VzZXJuYW1lLCBzZXRVc2VybmFtZV0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW3Byb2ZpbGVJbWFnZSwgc2V0UHJvZmlsZUltYWdlXSA9IHVzZVN0YXRlPEZpbGUgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2lzU2lnblVwLCBzZXRJc1NpZ25VcF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzaWduVXBTdGVwLCBzZXRTaWduVXBTdGVwXSA9IHVzZVN0YXRlPFNpZ25VcFN0ZXA+KFwiaW5pdGlhbFwiKTtcbiAgY29uc3QgW2Vycm9ycywgc2V0RXJyb3JzXSA9IHVzZVN0YXRlPHtcbiAgICBlbWFpbD86IHN0cmluZztcbiAgICBwYXNzd29yZD86IHN0cmluZztcbiAgICB1c2VybmFtZT86IHN0cmluZztcbiAgfT4oe30pO1xuICBjb25zdCBbc2hvd0Vycm9yLCBzZXRTaG93RXJyb3JdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaXNVc2VybmFtZUF2YWlsYWJsZSwgc2V0SXNVc2VybmFtZUF2YWlsYWJsZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtpc0xvYWRpbmcsIHNldElzTG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFthY3RpdmVQcm92aWRlciwgc2V0QWN0aXZlUHJvdmlkZXJdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtpc0ltYWdlVXBsb2FkaW5nLCBzZXRJc0ltYWdlVXBsb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICAvLyBQYXNzd29yZCB2YWxpZGF0aW9uIHN0YXRlc1xuICBjb25zdCBoYXNVcHBlcmNhc2UgPSAvW0EtWl0vLnRlc3QocGFzc3dvcmQpO1xuICBjb25zdCBoYXNOdW1iZXIgPSAvXFxkLy50ZXN0KHBhc3N3b3JkKTtcbiAgY29uc3QgaGFzTWluTGVuZ3RoID0gcGFzc3dvcmQubGVuZ3RoID49IDg7XG4gIGNvbnN0IHBhc3N3b3Jkc01hdGNoID0gcGFzc3dvcmQgPT09IGNvbmZpcm1QYXNzd29yZDtcblxuICAvLyBRdWl6IHN0YXRlc1xuICBjb25zdCBbcXVpelN0ZXAsIHNldFF1aXpTdGVwXSA9IHVzZVN0YXRlPG51bWJlcj4oMCk7XG4gIGNvbnN0IFtxdWl6RGF0YSwgc2V0UXVpekRhdGFdID0gdXNlU3RhdGU8UXVpekRhdGE+KHtcbiAgICBnZW5kZXI6IG51bGwsXG4gICAgaGVpZ2h0OiB7IGZlZXQ6IDAsIGluY2hlczogMCB9LFxuICAgIHdlaWdodDogMCxcbiAgICBneW1FeHBlcmllbmNlOiBudWxsLFxuICAgIGZpdG5lc3NHb2FsczogW10sXG4gICAgYmlydGhkYXRlOiBudWxsLFxuICB9KTtcblxuICAvLyAtLS0gTkVXOiBTdWJzY3JpcHRpb24gY2hlY2sgZnVuY3Rpb24gLS0tXG4gIC8vIEFmdGVyIHNpZ24gaW4vdXAsIGNhbGwgdGhpcyB0byBmZXRjaCBzdWJzY3JpcHRpb24gZGF0YSBmcm9tIFN0cmlwZSAodmlhIHlvdXIgZW5kcG9pbnQpXG4gIC8vIGFuZCB1cGRhdGUgdGhlIHVzZXIgZG9jdW1lbnQuIElmIHRoZSB1c2VyIGlzIHVuc3Vic2NyaWJlZCwgcmVkaXJlY3QgdG8gL3N1YnNjcmliZS5cbiAgY29uc3QgY2hlY2tTdWJzY3JpcHRpb25BbmRQcm9jZWVkID0gYXN5bmMgKHVzZXI6IGFueSkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBlbmRwb2ludCA9XG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcImRldmVsb3BtZW50XCJcbiAgICAgICAgICA/IFwiaHR0cDovL2xvY2FsaG9zdDo4ODg4XCJcbiAgICAgICAgICA6IFwiaHR0cHM6Ly9maXR3aXRocHVsc2UuYWlcIjtcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAke2VuZHBvaW50fS9hcGkvc3RyaXBlLXN5bmNgLCB7XG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICAgICAgfSk7XG4gICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgIGNvbnN0IHsgc3Vic2NyaXB0aW9uVHlwZSB9ID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICAgICAgLy8gVXBkYXRlIHRoZSB1c2VyIG9iamVjdCB3aXRoIHRoZSBsYXRlc3Qgc3Vic2NyaXB0aW9uIHR5cGUuXG4gICAgICAgIHVzZXIuc3Vic2NyaXB0aW9uID0gc3Vic2NyaXB0aW9uVHlwZTtcbiAgICAgICAgYXdhaXQgdXNlclNlcnZpY2UudXBkYXRlVXNlcih1c2VyLnVpZCwgdXNlcik7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3Igc3luY2luZyBzdWJzY3JpcHRpb246XCIsIGVycik7XG4gICAgfVxuICAgIFxuICAgIC8vIE9ubHkgY2xvc2UgaWYgd2UgaGF2ZSBhIHVzZXJuYW1lXG4gICAgY29uc3QgZmlyZXN0b3JlVXNlciA9IGF3YWl0IHVzZXJTZXJ2aWNlLmZldGNoVXNlckZyb21GaXJlc3RvcmUodXNlci51aWQpO1xuICAgIGlmIChmaXJlc3RvcmVVc2VyPy51c2VybmFtZSkge1xuICAgICAgaWYgKFxuICAgICAgICB1c2VyLnN1YnNjcmlwdGlvbiA9PT0gXCJVbnN1YnNjcmliZWRcIiB8fFxuICAgICAgICB1c2VyLnN1YnNjcmlwdGlvbiA9PT0gKFN1YnNjcmlwdGlvblR5cGUgJiYgU3Vic2NyaXB0aW9uVHlwZS51bnN1YnNjcmliZWQpXG4gICAgICApIHtcbiAgICAgICAgcm91dGVyLnB1c2goXCIvc3Vic2NyaWJlXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb25TaWduSW5TdWNjZXNzPy4odXNlcik7XG4gICAgICAgIG9uQ2xvc2U/LigpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcblxuICAvLyBBZGQgdGhpcyBjdXN0b20gaG9va1xuICBjb25zdCB1c2VEZXZNb2RlID0gKCkgPT4ge1xuICAgIGNvbnN0IGRpc3BhdGNoID0gdXNlRGlzcGF0Y2goKTtcbiAgICBjb25zdCBpc0RldmVsb3BtZW50ID0gdXNlU2VsZWN0b3IoKHN0YXRlOiBSb290U3RhdGUpID0+IHN0YXRlLmRldk1vZGUuaXNEZXZlbG9wbWVudCk7XG5cbiAgICBjb25zdCBoYW5kbGVUb2dnbGUgPSAoKSA9PiB7XG4gICAgICBkaXNwYXRjaCh0b2dnbGVEZXZNb2RlKCkpO1xuICAgICAgaW5pdGlhbGl6ZUZpcmViYXNlKCk7XG4gICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gICAgfTtcblxuICAgIHJldHVybiB7IGlzRGV2ZWxvcG1lbnQsIGhhbmRsZVRvZ2dsZSB9O1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVNvY2lhbEF1dGggPSBhc3luYyAocHJvdmlkZXI6IFwiZ29vZ2xlXCIgfCBcImFwcGxlXCIpID0+IHtcbiAgICB0cnkge1xuICAgICAgc2V0SXNMb2FkaW5nKHRydWUpO1xuICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICBzZXRBY3RpdmVQcm92aWRlcihwcm92aWRlcik7XG4gICBcbiAgICAgIGlmIChwcm92aWRlciA9PT0gXCJhcHBsZVwiKSB7XG4gICAgICAgIC8vIEluaXRpYWxpemUgQXBwbGUgT0F1dGggcHJvdmlkZXJcbiAgICAgICAgY29uc3QgYXBwbGVQcm92aWRlciA9IG5ldyBPQXV0aFByb3ZpZGVyKFwiYXBwbGUuY29tXCIpO1xuICAgICAgICBhcHBsZVByb3ZpZGVyLmFkZFNjb3BlKFwiZW1haWxcIik7XG4gICAgICAgIGFwcGxlUHJvdmlkZXIuYWRkU2NvcGUoXCJuYW1lXCIpO1xuICAgXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gU2lnbiBpbiB3aXRoIHBvcHVwXG4gICAgICAgICAgY29uc3QgcmVzdWx0OiBVc2VyQ3JlZGVudGlhbCA9IGF3YWl0IHNpZ25JbldpdGhQb3B1cChhdXRoLCBhcHBsZVByb3ZpZGVyKTtcbiAgICAgICAgICBjb25zdCB1c2VyID0gcmVzdWx0LnVzZXI7XG4gICAgICAgICAgLy8gRmV0Y2ggb3IgY3JlYXRlIHVzZXIgaW4gRmlyZXN0b3JlXG4gICAgICAgICAgbGV0IGZpcmVzdG9yZVVzZXIgPSBhd2FpdCB1c2VyU2VydmljZS5mZXRjaFVzZXJGcm9tRmlyZXN0b3JlKHVzZXIudWlkKTtcbiAgICAgICAgICBpZiAoIWZpcmVzdG9yZVVzZXIpIHtcbiAgICAgICAgICAgIGZpcmVzdG9yZVVzZXIgPSBuZXcgVXNlcih7XG4gICAgICAgICAgICAgIGlkOiB1c2VyLnVpZCxcbiAgICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwgfHwgXCJcIixcbiAgICAgICAgICAgICAgZGlzcGxheU5hbWU6IHVzZXIuZGlzcGxheU5hbWUgfHwgXCJcIixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYXdhaXQgdXNlclNlcnZpY2UudXBkYXRlVXNlcih1c2VyLnVpZCwgZmlyZXN0b3JlVXNlcik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHVzZXJTZXJ2aWNlLmN1cnJlbnRVc2VyID0gZmlyZXN0b3JlVXNlcjtcbiAgIFxuICAgICAgICAgIC8vIENoZWNrIHN1YnNjcmlwdGlvbiBzdGF0dXMgZmlyc3RcbiAgICAgICAgICBpZiAoZmlyZXN0b3JlVXNlci5zdWJzY3JpcHRpb25UeXBlID09PSAnVW5zdWJzY3JpYmVkJykge1xuICAgICAgICAgICAgc2V0U2lnblVwU3RlcCgnc3Vic2NyaXB0aW9uJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIE90aGVyd2lzZSBwcm9jZWVkIHdpdGggbm9ybWFsIGZsb3dcbiAgICAgICAgICBhd2FpdCBjaGVja1N1YnNjcmlwdGlvbkFuZFByb2NlZWQodXNlcik7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yOiB1bmtub3duKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIkFwcGxlIHNpZ24taW4gZXJyb3I6XCIsIGVycm9yKTtcbiAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgc2V0RXJyb3IoZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICBpZiAoaXNTaWduVXApIHtcbiAgICAgICAgICAgICAgb25TaWduVXBFcnJvcj8uKGVycm9yKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG9uU2lnbkluRXJyb3I/LihlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGdlbmVyaWNFcnJvciA9IG5ldyBFcnJvcihcIkFuIHVua25vd24gZXJyb3Igb2NjdXJyZWQgZHVyaW5nIEFwcGxlIHNpZ24taW5cIik7XG4gICAgICAgICAgICBzZXRFcnJvcihnZW5lcmljRXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICBpZiAoaXNTaWduVXApIHtcbiAgICAgICAgICAgICAgb25TaWduVXBFcnJvcj8uKGdlbmVyaWNFcnJvcik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBvblNpZ25JbkVycm9yPy4oZ2VuZXJpY0Vycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAocHJvdmlkZXIgPT09ICdnb29nbGUnKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGF1dGhTZXJ2aWNlLnNpZ25JbldpdGhHb29nbGUoKTtcbiAgICAgICAgY29uc3QgdXNlciA9IHJlc3VsdC51c2VyO1xuICAgICAgICBjb25zb2xlLmxvZygnR29vZ2xlIFNpZ24gSW4gLSBJbml0aWFsIFVzZXI6JywgdXNlcik7XG4gICAgICAgIGNvbnNvbGUubG9nKCdHb29nbGUgU2lnbiBJbiAtIEZpcmViYXNlIFVzZXI6Jywge1xuICAgICAgICAgIHVpZDogdXNlci51aWQsXG4gICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICAgICAgZGlzcGxheU5hbWU6IHVzZXIuZGlzcGxheU5hbWUsXG4gICAgICAgICAgbWV0YWRhdGE6IHVzZXIubWV0YWRhdGEsXG4gICAgICAgICAgcHJvdmlkZXJEYXRhOiB1c2VyLnByb3ZpZGVyRGF0YVxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGxldCBmaXJlc3RvcmVVc2VyID0gYXdhaXQgdXNlclNlcnZpY2UuZmV0Y2hVc2VyRnJvbUZpcmVzdG9yZSh1c2VyLnVpZCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdHb29nbGUgU2lnbiBJbiAtIEZpcmVzdG9yZSBVc2VyOicsIGZpcmVzdG9yZVVzZXIpO1xuICAgICAgICBcbiAgICAgICAgaWYgKCFmaXJlc3RvcmVVc2VyKSB7XG4gICAgICAgICAgZmlyZXN0b3JlVXNlciA9IG5ldyBVc2VyKHt9KTtcbiAgICAgICAgICBmaXJlc3RvcmVVc2VyLmlkID0gdXNlci51aWQ7XG4gICAgICAgICAgZmlyZXN0b3JlVXNlci5lbWFpbCA9IHVzZXIuZW1haWwgfHwgXCJcIjtcbiAgICAgICAgICBmaXJlc3RvcmVVc2VyLmRpc3BsYXlOYW1lID0gdXNlci5kaXNwbGF5TmFtZSB8fCBcIlwiO1xuICAgICAgICAgIGF3YWl0IHVzZXJTZXJ2aWNlLnVwZGF0ZVVzZXIodXNlci51aWQsIGZpcmVzdG9yZVVzZXIpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdHb29nbGUgU2lnbiBJbiAtIENyZWF0ZWQgTmV3IFVzZXI6JywgZmlyZXN0b3JlVXNlcik7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHVzZXJTZXJ2aWNlLmN1cnJlbnRVc2VyID0gZmlyZXN0b3JlVXNlcjtcbiAgICAgICAgY29uc29sZS5sb2coJ0dvb2dsZSBTaWduIEluIC0gQ3VycmVudCBVc2VyIFNldDonLCB1c2VyU2VydmljZS5jdXJyZW50VXNlcik7XG4gICAgICBcbiAgICAgICAgLy8gQ2hlY2sgaWYgdXNlcm5hbWUgaXMgZW1wdHkgb3Igbm90IHNldFxuICAgICAgICBjb25zb2xlLmxvZyhcIlVzZXJuYW1lIGlzIGVtcHR5PzogXCIsIGZpcmVzdG9yZVVzZXIudXNlcm5hbWUgPT0gJycpO1xuICAgXG4gICAgICAgIGlmIChmaXJlc3RvcmVVc2VyLnVzZXJuYW1lID09ICcnKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJTdGFydGluZyByZWdpc3RyYXRpb25cIik7XG4gICAgICAgICAgLy8gU2V0IGlzU2lnblVwIHRvIHRydWUgYW5kIG1vdmUgdG8gcHJvZmlsZSBzdGVwXG4gICAgICAgICAgc2V0SXNTaWduVXAodHJ1ZSk7XG4gICAgICAgICAgc2V0U2lnblVwU3RlcChcInByb2ZpbGVcIik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICBcbiAgICAgICAgLy8gQ2hlY2sgc3Vic2NyaXB0aW9uIHN0YXR1c1xuICAgICAgICBpZiAoZmlyZXN0b3JlVXNlci5zdWJzY3JpcHRpb25UeXBlID09PSAnVW5zdWJzY3JpYmVkJykge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiVXNlciBpcyB1bnN1YnNjcmliZWQsIHNob3dpbmcgc3Vic2NyaXB0aW9uIHN0ZXBcIik7XG4gICAgICAgICAgc2V0U2lnblVwU3RlcCgnc3Vic2NyaXB0aW9uJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zb2xlLmxvZyhcIkNoZWNraW5nIFN1YnNcIik7XG4gICAgICAgIC8vIElmIHdlIGhhdmUgYSB1c2VybmFtZSBhbmQgc3Vic2NyaXB0aW9uLCBwcm9jZWVkIHdpdGggbm9ybWFsIGZsb3dcbiAgICAgICAgYXdhaXQgY2hlY2tTdWJzY3JpcHRpb25BbmRQcm9jZWVkKHVzZXIpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yOiB1bmtub3duKSB7XG4gICAgICAvLyBLZWVwIHlvdXIgZXhpc3RpbmcgZXJyb3IgaGFuZGxpbmdcbiAgICAgIGNvbnNvbGUuZXJyb3IoYCR7cHJvdmlkZXJ9IHNpZ24taW4gZXJyb3I6YCwgZXJyb3IpO1xuICAgICAgbGV0IGVycm9yTWVzc2FnZSA9IFwiQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZFwiO1xuICAgICAgXG4gICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAvLyBIYW5kbGUgc3BlY2lmaWMgRmlyZWJhc2UgQXV0aCBlcnJvciBjb2Rlc1xuICAgICAgICBzd2l0Y2ggKChlcnJvciBhcyBhbnkpLmNvZGUpIHtcbiAgICAgICAgICBjYXNlICdhdXRoL3BvcHVwLWJsb2NrZWQnOlxuICAgICAgICAgICAgZXJyb3JNZXNzYWdlID0gXCJQbGVhc2UgZW5hYmxlIHBvcHVwcyBmb3IgdGhpcyBzaXRlIGFuZCB0cnkgYWdhaW5cIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2F1dGgvcG9wdXAtY2xvc2VkLWJ5LXVzZXInOlxuICAgICAgICAgICAgZXJyb3JNZXNzYWdlID0gXCJTaWduLWluIGNhbmNlbGxlZC4gUGxlYXNlIHRyeSBhZ2FpblwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnYXV0aC9jYW5jZWxsZWQtcG9wdXAtcmVxdWVzdCc6XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2UgPSBcIkFub3RoZXIgc2lnbi1pbiBhdHRlbXB0IGlzIGFscmVhZHkgaW4gcHJvZ3Jlc3NcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2F1dGgvYWNjb3VudC1leGlzdHMtd2l0aC1kaWZmZXJlbnQtY3JlZGVudGlhbCc6XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2UgPSBcIkFuIGFjY291bnQgYWxyZWFkeSBleGlzdHMgd2l0aCB0aGUgc2FtZSBlbWFpbCBhZGRyZXNzIGJ1dCBkaWZmZXJlbnQgc2lnbi1pbiBjcmVkZW50aWFscy4gUGxlYXNlIHNpZ24gaW4gdXNpbmcgdGhlIG9yaWdpbmFsIGFjY291bnQgbWV0aG9kLlwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnYXV0aC9uZXR3b3JrLXJlcXVlc3QtZmFpbGVkJzpcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZSA9IFwiTmV0d29yayBlcnJvci4gUGxlYXNlIGNoZWNrIHlvdXIgaW50ZXJuZXQgY29ubmVjdGlvbiBhbmQgdHJ5IGFnYWluXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdhdXRoL3VzZXItZGlzYWJsZWQnOlxuICAgICAgICAgICAgZXJyb3JNZXNzYWdlID0gXCJUaGlzIGFjY291bnQgaGFzIGJlZW4gZGlzYWJsZWQuIFBsZWFzZSBjb250YWN0IHN1cHBvcnRcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2F1dGgvb3BlcmF0aW9uLW5vdC1hbGxvd2VkJzpcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZSA9IFwiVGhpcyBzaWduLWluIG1ldGhvZCBpcyBub3QgZW5hYmxlZC4gUGxlYXNlIGNvbnRhY3Qgc3VwcG9ydFwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZSA9IGVycm9yLm1lc3NhZ2U7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHNldEVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgICAgIFxuICAgICAgICBpZiAoaXNTaWduVXApIHtcbiAgICAgICAgICBvblNpZ25VcEVycm9yPy4oZXJyb3IpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9uU2lnbkluRXJyb3I/LihlcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldEVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgICAgIGNvbnN0IGdlbmVyaWNFcnJvciA9IG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgICAgICBpZiAoaXNTaWduVXApIHtcbiAgICAgICAgICBvblNpZ25VcEVycm9yPy4oZ2VuZXJpY0Vycm9yKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvblNpZ25JbkVycm9yPy4oZ2VuZXJpY0Vycm9yKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgICAgc2V0QWN0aXZlUHJvdmlkZXIobnVsbCk7XG4gICAgfVxuICAgfTtcblxuICBjb25zdCBhZGRMb2cgPSAobG9nOiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBjdXJyZW50TG9ncyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJhdXRoRmxvd0xvZ3NcIikgfHwgXCJbXVwiKTtcbiAgICBjdXJyZW50TG9ncy5wdXNoKGBbJHtuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCl9XSAke2xvZ31gKTtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImF1dGhGbG93TG9nc1wiLCBKU09OLnN0cmluZ2lmeShjdXJyZW50TG9ncykpO1xuICB9O1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgbG9ncyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiYXV0aEZsb3dMb2dzXCIpO1xuICAgIGlmIChsb2dzKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIkF1dGggRmxvdyBMb2dzOlwiKTtcbiAgICAgIGNvbnNvbGUubG9nKFwiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXCIpO1xuICAgICAgSlNPTi5wYXJzZShsb2dzKS5mb3JFYWNoKChsb2c6IHN0cmluZykgPT4gY29uc29sZS5sb2cobG9nKSk7XG4gICAgICBjb25zb2xlLmxvZyhcIi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVwiKTtcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwiYXV0aEZsb3dMb2dzXCIpO1xuICAgIH1cbiAgIFxuICAgIGxldCBpc01vdW50ZWQgPSB0cnVlO1xuICAgXG4gICAgY29uc3QgaGFuZGxlUmVkaXJlY3QgPSBhc3luYyAoKSA9PiB7XG4gICAgICBhZGRMb2coXCJTdGFydGluZyByZWRpcmVjdCBoYW5kbGVyXCIpO1xuICAgXG4gICAgICBpZiAoIWlzVmlzaWJsZSkge1xuICAgICAgICBhZGRMb2coXCJNb2RhbCBub3QgdmlzaWJsZSwgc2tpcHBpbmcgcmVkaXJlY3QgaGFuZGxpbmdcIik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgIFxuICAgICAgY29uc3QgdXJsUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh3aW5kb3cubG9jYXRpb24uc2VhcmNoKTtcbiAgICAgIGNvbnN0IGlzUmVkaXJlY3RpbmcgPSB1cmxQYXJhbXMuaGFzKFwic3RhdGVcIikgfHwgd2luZG93LmxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoXCJfXy9hdXRoL2hhbmRsZXJcIik7XG4gICAgICBhZGRMb2coYFJlZGlyZWN0IGRldGVjdGVkOiAke2lzUmVkaXJlY3Rpbmd9YCk7XG4gICAgICBhZGRMb2coYEN1cnJlbnQgVVJMOiAke3dpbmRvdy5sb2NhdGlvbi5ocmVmfWApO1xuICAgXG4gICAgICBpZiAoIWlzUmVkaXJlY3RpbmcpIHtcbiAgICAgICAgYWRkTG9nKFwiTm8gcmVkaXJlY3QgcGFyYW1ldGVycyBkZXRlY3RlZCwgZXhpdGluZyByZWRpcmVjdCBoYW5kbGVyXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICBcbiAgICAgIHRyeSB7XG4gICAgICAgIHNldElzTG9hZGluZyh0cnVlKTtcbiAgICAgICAgYWRkTG9nKFwiQ2FsbGluZyBnZXRSZWRpcmVjdFJlc3VsdC4uLlwiKTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZ2V0UmVkaXJlY3RSZXN1bHQoYXV0aCk7XG4gICAgICAgIGFkZExvZyhgZ2V0UmVkaXJlY3RSZXN1bHQgcmVzdWx0OiAke0pTT04uc3RyaW5naWZ5KHJlc3VsdCl9YCk7XG4gICBcbiAgICAgICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgICBhZGRMb2coXCJObyByZXN1bHQgcmV0dXJuZWQgYnkgZ2V0UmVkaXJlY3RSZXN1bHQsIGNoZWNraW5nIHBlbmRpbmcgcmVkaXJlY3QuLi5cIik7XG4gICAgICAgICAgY29uc3QgcGVuZGluZ1Jlc3VsdCA9IGF3YWl0IGdldFJlZGlyZWN0UmVzdWx0KGF1dGgpLmNhdGNoKChlKSA9PiB7XG4gICAgICAgICAgICBhZGRMb2coYFBlbmRpbmcgcmVkaXJlY3QgZXJyb3I6ICR7ZS5tZXNzYWdlfWApO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgYWRkTG9nKGBQZW5kaW5nIHJlZGlyZWN0IHJlc3VsdDogJHtKU09OLnN0cmluZ2lmeShwZW5kaW5nUmVzdWx0KX1gKTtcbiAgIFxuICAgICAgICAgIGlmICghcGVuZGluZ1Jlc3VsdCkge1xuICAgICAgICAgICAgYWRkTG9nKFwiTm8gcGVuZGluZyByZWRpcmVjdCByZXN1bHQsIGV4aXRpbmcgaGFuZGxlclwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgIFxuICAgICAgICBpZiAoIWlzTW91bnRlZCkge1xuICAgICAgICAgIGFkZExvZyhcIkNvbXBvbmVudCB1bm1vdW50ZWQgZHVyaW5nIHJlZGlyZWN0LCBleGl0aW5nIGhhbmRsZXJcIik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICBcbiAgICAgICAgY29uc3QgY3JlZGVudGlhbCA9IHJlc3VsdCBhcyBVc2VyQ3JlZGVudGlhbDtcbiAgICAgICAgaWYgKCFjcmVkZW50aWFsIHx8ICFjcmVkZW50aWFsLnVzZXIpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyB1c2VyIGNyZWRlbnRpYWwgZm91bmQgaW4gcmVkaXJlY3QgcmVzdWx0XCIpO1xuICAgICAgICB9XG4gICBcbiAgICAgICAgY29uc3QgeyB1c2VyIH0gPSBjcmVkZW50aWFsO1xuICAgICAgICBhZGRMb2coYFVzZXIgaW5mbzogcHJvdmlkZXJJZD0ke2NyZWRlbnRpYWwucHJvdmlkZXJJZH0sIGVtYWlsPSR7dXNlci5lbWFpbH0sIGlzTmV3VXNlcj0ke3VzZXIubWV0YWRhdGEuY3JlYXRpb25UaW1lID09PSB1c2VyLm1ldGFkYXRhLmxhc3RTaWduSW5UaW1lfWApO1xuICAgXG4gICAgICAgIGNvbnN0IGlzQXBwbGVTaWduSW4gPSBjcmVkZW50aWFsLnByb3ZpZGVySWQgPT09IFwiYXBwbGUuY29tXCIgfHwgdXNlci5wcm92aWRlckRhdGEuc29tZSgocHJvdmlkZXIpID0+IHByb3ZpZGVyLnByb3ZpZGVySWQgPT09IFwiYXBwbGUuY29tXCIpO1xuICAgICAgICBsZXQgZmlyZXN0b3JlVXNlciA9IGF3YWl0IHVzZXJTZXJ2aWNlLmZldGNoVXNlckZyb21GaXJlc3RvcmUodXNlci51aWQpO1xuICAgXG4gICAgICAgIGlmICghZmlyZXN0b3JlVXNlciAmJiB1c2VyLm1ldGFkYXRhLmNyZWF0aW9uVGltZSA9PT0gdXNlci5tZXRhZGF0YS5sYXN0U2lnbkluVGltZSkge1xuICAgICAgICAgIGFkZExvZyhcIk5ldyB1c2VyIGRldGVjdGVkLCBjcmVhdGluZyBGaXJlc3RvcmUgZG9jdW1lbnRcIik7XG4gICAgICAgICAgZmlyZXN0b3JlVXNlciA9IG5ldyBVc2VyKHtcbiAgICAgICAgICAgIGlkOiB1c2VyLnVpZCxcbiAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsIHx8IFwiXCIsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogdXNlci5kaXNwbGF5TmFtZSB8fCBcIlwiLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGF3YWl0IHVzZXJTZXJ2aWNlLnVwZGF0ZVVzZXIodXNlci51aWQsIGZpcmVzdG9yZVVzZXIpO1xuICAgICAgICB9XG4gICBcbiAgICAgICAgaWYgKGlzTW91bnRlZCkge1xuICAgICAgICAgIHVzZXJTZXJ2aWNlLmN1cnJlbnRVc2VyID0gZmlyZXN0b3JlVXNlcjtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBDaGVjayBzdWJzY3JpcHRpb24gc3RhdHVzXG4gICAgICAgICAgaWYgKGZpcmVzdG9yZVVzZXI/LnN1YnNjcmlwdGlvblR5cGUgPT09ICdVbnN1YnNjcmliZWQnKSB7XG4gICAgICAgICAgICBzZXRTaWduVXBTdGVwKCdzdWJzY3JpcHRpb24nKTtcbiAgICAgICAgICAgIGFkZExvZyhcIlVzZXIgdW5zdWJzY3JpYmVkLCBzaG93aW5nIHN1YnNjcmlwdGlvbiBzdGVwXCIpO1xuICAgICAgICAgIH0gZWxzZSBpZiAodXNlci5tZXRhZGF0YS5jcmVhdGlvblRpbWUgPT09IHVzZXIubWV0YWRhdGEubGFzdFNpZ25JblRpbWUpIHtcbiAgICAgICAgICAgIG9uU2lnblVwU3VjY2Vzcz8uKHVzZXIpO1xuICAgICAgICAgICAgYWRkTG9nKFwiTmV3IHVzZXIgc2lnbnVwIHN1Y2Nlc3NmdWxcIik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9uU2lnbkluU3VjY2Vzcz8uKHVzZXIpO1xuICAgICAgICAgICAgYWRkTG9nKFwiRXhpc3RpbmcgdXNlciBzaWduaW4gc3VjY2Vzc2Z1bFwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGFkZExvZyhgUmVkaXJlY3QgaGFuZGxlciBlcnJvcjogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IGVycm9yfWApO1xuICAgICAgICBpZiAoIWlzTW91bnRlZCkgcmV0dXJuO1xuICAgXG4gICAgICAgIHNldEVycm9yKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJBdXRoZW50aWNhdGlvbiBmYWlsZWRcIik7XG4gICAgICAgIGlzU2lnblVwID8gb25TaWduVXBFcnJvcj8uKGVycm9yIGFzIEVycm9yKSA6IG9uU2lnbkluRXJyb3I/LihlcnJvciBhcyBFcnJvcik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoaXNNb3VudGVkKSB7XG4gICAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICBhZGRMb2coXCJSZWRpcmVjdCBoYW5kbGVyIGNvbXBsZXRlXCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgIFxuICAgIGhhbmRsZVJlZGlyZWN0KCk7XG4gICBcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaXNNb3VudGVkID0gZmFsc2U7XG4gICAgfTtcbiAgIH0sIFtpc1Zpc2libGUsIG9uU2lnbkluU3VjY2Vzcywgb25TaWduVXBTdWNjZXNzLCBvblNpZ25JbkVycm9yLCBvblNpZ25VcEVycm9yLCBvbkNsb3NlXSk7XG5cbiAgIGNvbnN0IGhhbmRsZVN1Ym1pdCA9IGFzeW5jIChlOiBSZWFjdC5Gb3JtRXZlbnQpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIFxuICAgIGlmIChpc1NpZ25VcCkge1xuICAgICAgc3dpdGNoIChzaWduVXBTdGVwKSB7XG4gICAgICAgIGNhc2UgXCJpbml0aWFsXCI6XG4gICAgICAgICAgaWYgKHZhbGlkYXRlRW1haWwoKSkge1xuICAgICAgICAgICAgc2V0U2lnblVwU3RlcChcInBhc3N3b3JkXCIpO1xuICAgICAgICAgICAgc2V0U2hvd0Vycm9yKGZhbHNlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJwYXNzd29yZFwiOlxuICAgICAgICAgIGlmICh2YWxpZGF0ZVBhc3N3b3JkKCkpIHtcbiAgICAgICAgICAgIHNldFNpZ25VcFN0ZXAoXCJwcm9maWxlXCIpO1xuICAgICAgICAgICAgc2V0U2hvd0Vycm9yKGZhbHNlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJwcm9maWxlXCI6XG4gICAgICAgICAgaWYgKHZhbGlkYXRlVXNlcm5hbWUoKSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgc2V0SXNMb2FkaW5nKHRydWUpO1xuICAgICAgICAgICAgICBzZXRFcnJvcihudWxsKTtcbiAgICAgICAgXG4gICAgICAgICAgICAgIGlmICh1c2VyU2VydmljZS5jdXJyZW50VXNlcikge1xuICAgICAgICAgICAgICAgIHVzZXJTZXJ2aWNlLmN1cnJlbnRVc2VyLnVzZXJuYW1lID0gdXNlcm5hbWU7XG4gICAgICAgICAgICAgICAgYXdhaXQgdXNlclNlcnZpY2UudXBkYXRlVXNlcih1c2VyU2VydmljZS5jdXJyZW50VXNlci5pZCwgdXNlclNlcnZpY2UuY3VycmVudFVzZXIpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmICh1c2VyU2VydmljZS5jdXJyZW50VXNlci5zdWJzY3JpcHRpb25UeXBlID09PSAnVW5zdWJzY3JpYmVkJykge1xuICAgICAgICAgICAgICAgICAgc2V0U2lnblVwU3RlcCgnc3Vic2NyaXB0aW9uJyk7XG4gICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIG9uUmVnaXN0cmF0aW9uQ29tcGxldGU/LigpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAgICAgICBzZXRTaWduVXBTdGVwKFwicXVpei1wcm9tcHRcIik7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBlcnIgYXMgRXJyb3I7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBkdXJpbmcgcHJvZmlsZSB1cGRhdGU6XCIsIGVycm9yKTtcbiAgICAgICAgICAgICAgc2V0RXJyb3IoZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdHJ5IHtcbiAgICAgICAgc2V0SXNMb2FkaW5nKHRydWUpO1xuICAgICAgICBzZXRFcnJvcihudWxsKTtcbiAgXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGF1dGhTZXJ2aWNlLnNpZ25JbldpdGhFbWFpbChlbWFpbCwgcGFzc3dvcmQpO1xuICAgICAgICBjb25zdCB1c2VyRG9jID0gYXdhaXQgdXNlclNlcnZpY2UuZmV0Y2hVc2VyRnJvbUZpcmVzdG9yZShyZXN1bHQudXNlci51aWQpO1xuICAgICAgICB1c2VyU2VydmljZS5jdXJyZW50VXNlciA9IHVzZXJEb2M7XG4gIFxuICAgICAgICBpZiAodXNlckRvYz8uc3Vic2NyaXB0aW9uVHlwZSA9PT0gJ1Vuc3Vic2NyaWJlZCcpIHtcbiAgICAgICAgICBzZXRTaWduVXBTdGVwKCdzdWJzY3JpcHRpb24nKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgXG4gICAgICAgIGF3YWl0IGNoZWNrU3Vic2NyaXB0aW9uQW5kUHJvY2VlZChyZXN1bHQudXNlcik7XG4gICAgICAgIG9uQ2xvc2U/LigpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnN0IGVycm9yID0gZXJyIGFzIEVycm9yO1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZHVyaW5nIHNpZ24taW46XCIsIGVycm9yKTtcbiAgICAgICAgc2V0RXJyb3IoZXJyb3IubWVzc2FnZSk7XG4gICAgICAgIG9uU2lnbkluRXJyb3I/LihlcnJvcik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVDb21wbGV0ZVF1aXogPSBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHNldElzTG9hZGluZyh0cnVlKTtcbiAgICAgIHNldEVycm9yKG51bGwpO1xuXG4gICAgICAvLyBHZXQgdGhlIHVzZXIncyBJRCBmcm9tIHRoZSBGaXJlYmFzZSBhdXRoZW50aWNhdGlvbiBzdGF0ZVxuICAgICAgY29uc3QgdXNlcklkID0gYXV0aC5jdXJyZW50VXNlcj8udWlkO1xuXG4gICAgICBpZiAoIXVzZXJJZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyB1c2VyIGZvdW5kXCIpO1xuICAgICAgfVxuXG4gICAgICAvLyBDb25zdHJ1Y3QgdGhlIHVzZXIgb2JqZWN0IHdpdGggZGVmYXVsdCBvciBlbXB0eSB2YWx1ZXNcbiAgICAgIHZhciB1c2VyID0gdXNlclNlcnZpY2UuY3VycmVudFVzZXI7XG5cbiAgICAgIG9uUXVpekNvbXBsZXRlPy4oKTsgLy8gTm90aWZ5IHRoYXQgdGhlIHF1aXogaXMgY29tcGxldGVcbiAgICAgIHJvdXRlci5wdXNoKCcvJyk7IC8vIEFkZCB0aGlzIGxpbmUgdG8gcm91dGUgdG8gcm9vdFxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc3QgZXJyb3IgPSBlcnIgYXMgRXJyb3I7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgdXBkYXRpbmcgdXNlciBkYXRhOlwiLCBlcnJvcik7XG4gICAgICBzZXRFcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgcmVuZGVyU3Vic2NyaXB0aW9uU3RlcCA9ICgpID0+IChcbiAgICA8PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBtYi04XCI+XG4gICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC13aGl0ZSBmb250LVsnVGh1bmRlciddIG1iLTJcIj5cbiAgICAgICAgICBKb2luIFRoZSBGaXRuZXNzIENvbGxlY3RpdmVcbiAgICAgICAgPC9oMj5cbiAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC16aW5jLTQwMCB0ZXh0LXNtIG1iLTZcIj5cbiAgICAgICAgICBTdWJzY3JpYmUgdG8gdW5sb2NrIGFsbCBwcmVtaXVtIGZlYXR1cmVzIGFuZCBqb2luIG91ciBmaXRuZXNzIGNvbW11bml0eS5cbiAgICAgICAgPC9wPlxuICAgICAgPC9kaXY+XG4gIFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTYgbWItOFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0zXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTUgaC01IGZsZXgtc2hyaW5rLTAgYmctWyNFMEZFMTBdIHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ibGFjayB0ZXh0LXNtXCI+4pyTPC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtemluYy00MDBcIj5BY2Nlc3MgdG8gUm91bmRzIC0gVHJhaW4gYW5kIGNvbXBldGUgd2l0aCB0aGUgY29tbXVuaXR5PC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy01IGgtNSBmbGV4LXNocmluay0wIGJnLVsjRTBGRTEwXSByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtYmxhY2sgdGV4dC1zbVwiPuKckzwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXppbmMtNDAwXCI+QUktcG93ZXJlZCB3b3Jrb3V0IHJlY29tbWVuZGF0aW9uczwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTNcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNSBoLTUgZmxleC1zaHJpbmstMCBiZy1bI0UwRkUxMF0gcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWJsYWNrIHRleHQtc21cIj7inJM8L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC16aW5jLTQwMFwiPlVubGltaXRlZCB3b3Jrb3V0IGhpc3RvcnkgYW5kIHByb2dyZXNzIHRyYWNraW5nPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy01IGgtNSBmbGV4LXNocmluay0wIGJnLVsjRTBGRTEwXSByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtYmxhY2sgdGV4dC1zbVwiPuKckzwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXppbmMtNDAwXCI+QWNjZXNzIHRvIHRyYWluZXItY3JlYXRlZCBjb250ZW50IGFuZCBleGVyY2lzZXM8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gIFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIHNtOmdyaWQtY29scy0yIGdhcC00IG1iLTZcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy16aW5jLTgwMCBwLTYgcm91bmRlZC14bFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC13aGl0ZSB0ZXh0LTJ4bCBmb250LWJvbGQgbWItMVwiPiQ0Ljk5L21vPC9kaXY+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC16aW5jLTQwMCB0ZXh0LXNtIG1iLTRcIj5GbGV4aWJsZSBtb250aGx5IHBsYW48L3A+XG4gICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHdpbmRvdy5vcGVuKCdodHRwczovL2J1eS5zdHJpcGUuY29tLzlBUWFGaWVYOWJ2MjZmU2ZZWScsICdfYmxhbmsnKX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBiZy1bI0UwRkUxMF0gdGV4dC1ibGFjayBweS0yIHJvdW5kZWQtbGcgZm9udC1zZW1pYm9sZCBob3ZlcjpiZy1bI0UwRkUxMF0vOTBcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIFN1YnNjcmliZSBNb250aGx5XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICBcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy16aW5jLTgwMCBwLTYgcm91bmRlZC14bCByZWxhdGl2ZSBvdmVyZmxvdy1oaWRkZW5cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIC1yaWdodC04IC10b3AtOCBiZy1bI0UwRkUxMF0gdGV4dC1ibGFjayB0ZXh0LXhzIGZvbnQtYm9sZCBweS0xIHB4LTggcm90YXRlLTQ1XCI+XG4gICAgICAgICAgICBCRVNUIFZBTFVFXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlIHRleHQtMnhsIGZvbnQtYm9sZCBtYi0xXCI+JDM5Ljk5L3lyPC9kaXY+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC16aW5jLTQwMCB0ZXh0LXNtIG1iLTRcIj5Bbm51YWwgcGxhbiB3aXRoIDMwLWRheSBmcmVlIHRyaWFsPC9wPlxuICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB3aW5kb3cub3BlbignaHR0cHM6Ly9idXkuc3RyaXBlLmNvbS8yOG9iSm0yYW44aVFkSWsyODknLCAnX2JsYW5rJyl9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctWyNFMEZFMTBdIHRleHQtYmxhY2sgcHktMiByb3VuZGVkLWxnIGZvbnQtc2VtaWJvbGQgaG92ZXI6YmctWyNFMEZFMTBdLzkwXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICBTdGFydCBGcmVlIFRyaWFsXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gIFxuICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC16aW5jLTUwMCB0ZXh0LXhzIHRleHQtY2VudGVyXCI+XG4gICAgICAgIENhbmNlbCBhbnl0aW1lLiBBbGwgc3Vic2NyaXB0aW9ucyBpbmNsdWRlIHVubGltaXRlZCBhY2Nlc3MgdG8gYWxsIGZlYXR1cmVzLlxuICAgICAgPC9wPlxuICAgIDwvPlxuICApO1xuXG4gIGNvbnN0IHJlbmRlclF1aXpQcm9tcHQgPSAoKSA9PiAoXG4gICAgPD5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgbWItOFwiPlxuICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIHRleHQtd2hpdGUgZm9udC1bJ1RodW5kZXInXSBtYi0yXCI+XG4gICAgICAgICAgT25lIExhc3QgVGhpbmchXG4gICAgICAgIDwvaDI+XG4gICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtemluYy00MDAgZm9udC1bJ0hLIEdyb3Rlc2snXSB0ZXh0LXNtIHB4LTRcIj5cbiAgICAgICAgICBUYWtlIG91ciBxdWljayBmaXRuZXNzIHF1aXogdG8gaGVscCBQdWxzZSBBSSBjcmVhdGUgbW9yZSBhY2N1cmF0ZSB3b3Jrb3V0IGFuZCBmaXRuZXNzIGNyZWF0b3IgcmVjb21tZW5kYXRpb25zLlxuICAgICAgICA8L3A+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGdhcC00XCI+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaWduVXBTdGVwKFwicXVpelwiKX1cbiAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctWyNFMEZFMTBdIHRleHQtYmxhY2sgZm9udC1zZW1pYm9sZCBweS0zIHB4LTQgcm91bmRlZC1sZyBob3ZlcjpiZy1bI2M4ZTYwZV0gdHJhbnNpdGlvbi1jb2xvcnMgZm9udC1bJ0hLIEdyb3Rlc2snXVwiXG4gICAgICAgID5cbiAgICAgICAgICBUYWtlIHRoZSBRdWl6XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgb25DbGljaz17KCkgPT4gb25RdWl6U2tpcHBlZD8uKCl9XG4gICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLXppbmMtODAwIHRleHQtd2hpdGUgZm9udC1zZW1pYm9sZCBweS0zIHB4LTQgcm91bmRlZC1sZyBob3ZlcjpiZy16aW5jLTcwMCB0cmFuc2l0aW9uLWNvbG9ycyBmb250LVsnSEsgR3JvdGVzayddXCJcbiAgICAgICAgPlxuICAgICAgICAgIFNraXAgZm9yIE5vd1xuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvPlxuICApO1xuXG4gIGNvbnN0IHF1ZXN0aW9ucyA9IFtcbiAgICAvLyBHZW5kZXIgUXVlc3Rpb25cbiAgICA8ZGl2IGtleT1cImdlbmRlclwiIGNsYXNzTmFtZT1cInNwYWNlLXktNlwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIHRleHQtd2hpdGUgZm9udC1bJ1RodW5kZXInXSBtYi0yXCI+XG4gICAgICAgICAgSG93IGRvIHlvdSBpZGVudGlmeT9cbiAgICAgICAgPC9oMj5cbiAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC16aW5jLTQwMCBmb250LVsnSEsgR3JvdGVzayddIHRleHQtc21cIj5cbiAgICAgICAgICBUaGlzIGhlbHBzIHdoZW4gZ2l2aW5nIGZpdG5lc3MgcmVjb21tZW5kYXRpb25zIGFuZCBjYWxjdWxhdGluZyBtZXRyaWNzLlxuICAgICAgICA8L3A+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTNcIj5cbiAgICAgICAge1tcIk1hblwiLCBcIldvbWFuXCIsIFwiSSdkIHJhdGhlciBzZWxmIGRlc2NyaWJlXCJdLm1hcCgob3B0aW9uKSA9PiAoXG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAga2V5PXtvcHRpb259XG4gICAgICAgICAgICBvbkNsaWNrPXthc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgIGxldCBnZW5kZXJWYWx1ZTogR2VuZGVyO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gQ29udmVydCBvcHRpb24gdG8gcHJvcGVyIEdlbmRlciBlbnVtXG4gICAgICAgICAgICAgIHN3aXRjaChvcHRpb24pIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiTWFuXCI6XG4gICAgICAgICAgICAgICAgICBnZW5kZXJWYWx1ZSA9IEdlbmRlci5NYW47XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiV29tYW5cIjpcbiAgICAgICAgICAgICAgICAgIGdlbmRlclZhbHVlID0gR2VuZGVyLldvbWFuO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgIGdlbmRlclZhbHVlID0gR2VuZGVyLlNlbGZEZXNjcmliZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAgIHNldFF1aXpEYXRhKHsgLi4ucXVpekRhdGEsIGdlbmRlcjogb3B0aW9uIGFzIGFueSB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyBVcGRhdGUgdXNlciBkYXRhXG4gICAgICAgICAgICAgIGlmIChhdXRoLmN1cnJlbnRVc2VyPy51aWQgJiYgdXNlclNlcnZpY2UuY3VycmVudFVzZXIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkVXNlciA9IHVzZXJTZXJ2aWNlLmN1cnJlbnRVc2VyO1xuICAgICAgICAgICAgICAgIHVwZGF0ZWRVc2VyLmdlbmRlciA9IGdlbmRlclZhbHVlO1xuICAgICAgICAgICAgICAgIHVwZGF0ZWRVc2VyLnVwZGF0ZWRBdCA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgYXdhaXQgdXNlclNlcnZpY2UudXBkYXRlVXNlcihhdXRoLmN1cnJlbnRVc2VyLnVpZCwgdXBkYXRlZFVzZXIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBzZXRRdWl6U3RlcChxdWl6U3RlcCArIDEpO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT17YHctZnVsbCBwLTQgcm91bmRlZC1sZyBib3JkZXIgJHtcbiAgICAgICAgICAgICAgcXVpekRhdGEuZ2VuZGVyID09PSBvcHRpb25cbiAgICAgICAgICAgICAgICA/IFwiYm9yZGVyLVsjRTBGRTEwXSBiZy1bI0UwRkUxMF0vMTBcIlxuICAgICAgICAgICAgICAgIDogXCJib3JkZXItemluYy03MDAgaG92ZXI6Ym9yZGVyLVsjRTBGRTEwXVwiXG4gICAgICAgICAgICB9IHRleHQtbGVmdCB0ZXh0LXdoaXRlIHRyYW5zaXRpb24tY29sb3JzYH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7b3B0aW9ufVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICApKX1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PixcbiAgICAvLyBIZWlnaHQgUXVlc3Rpb25cbiAgICA8ZGl2IGtleT1cImhlaWdodFwiIGNsYXNzTmFtZT1cInNwYWNlLXktNlwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIHRleHQtd2hpdGUgZm9udC1bJ1RodW5kZXInXSBtYi0yXCI+XG4gICAgICAgICAgV2hhdCBpcyB5b3VyIGhlaWdodD9cbiAgICAgICAgPC9oMj5cbiAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC16aW5jLTQwMCBmb250LVsnSEsgR3JvdGVzayddIHRleHQtc21cIj5cbiAgICAgICAgICBIZWlnaHQgaGVscHMgcmVjb21tZW5kYXRpb25zIGFuZCBjYWxjdWxhdGluZyBtZXRyaWNzLlxuICAgICAgICA8L3A+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC00IGl0ZW1zLWVuZFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMVwiPlxuICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIHRleHQtemluYy00MDAgbWItMlwiPkZlZXQ8L2xhYmVsPlxuICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXG4gICAgICAgICAgICB2YWx1ZT17cXVpekRhdGEuaGVpZ2h0LmZlZXQgfHwgXCJcIn1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXthc3luYyAoZSkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBuZXdGZWV0ID0gTnVtYmVyKGUudGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgICAgICAgY29uc3QgbmV3SGVpZ2h0ID0geyAuLi5xdWl6RGF0YS5oZWlnaHQsIGZlZXQ6IG5ld0ZlZXQgfTtcbiAgICAgICAgICAgICAgc2V0UXVpekRhdGEoeyAuLi5xdWl6RGF0YSwgaGVpZ2h0OiBuZXdIZWlnaHQgfSk7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBpZiAoYXV0aC5jdXJyZW50VXNlcj8udWlkICYmIHVzZXJTZXJ2aWNlLmN1cnJlbnRVc2VyKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZFVzZXIgPSBuZXcgVXNlcih7XG4gICAgICAgICAgICAgICAgICAuLi51c2VyU2VydmljZS5jdXJyZW50VXNlci50b0RpY3Rpb25hcnkoKSxcbiAgICAgICAgICAgICAgICAgIGhlaWdodDogbmV3SGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgYXdhaXQgdXNlclNlcnZpY2UudXBkYXRlVXNlcihhdXRoLmN1cnJlbnRVc2VyLnVpZCwgdXBkYXRlZFVzZXIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgbWluPVwiMFwiXG4gICAgICAgICAgICBtYXg9XCI4XCJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBiZy16aW5jLTgwMCBib3JkZXIgYm9yZGVyLXppbmMtNjAwIHJvdW5kZWQtbGcgcC0zIHRleHQtd2hpdGUgcGxhY2Vob2xkZXItemluYy00MDAgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOmJvcmRlci1bI0UwRkUxMF0gZm9jdXM6cmluZy0xIGZvY3VzOnJpbmctWyNFMEZFMTBdIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiMFwiXG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTFcIj5cbiAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSB0ZXh0LXppbmMtNDAwIG1iLTJcIj5JbmNoZXM8L2xhYmVsPlxuICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXG4gICAgICAgICAgICB2YWx1ZT17cXVpekRhdGEuaGVpZ2h0LmluY2hlcyB8fCBcIlwifVxuICAgICAgICAgICAgb25DaGFuZ2U9e2FzeW5jIChlKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IG5ld0luY2hlcyA9IE51bWJlcihlLnRhcmdldC52YWx1ZSk7XG4gICAgICAgICAgICAgIGNvbnN0IG5ld0hlaWdodCA9IHsgLi4ucXVpekRhdGEuaGVpZ2h0LCBpbmNoZXM6IG5ld0luY2hlcyB9O1xuICAgICAgICAgICAgICBzZXRRdWl6RGF0YSh7IC4uLnF1aXpEYXRhLCBoZWlnaHQ6IG5ld0hlaWdodCB9KTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIGlmIChhdXRoLmN1cnJlbnRVc2VyPy51aWQgJiYgdXNlclNlcnZpY2UuY3VycmVudFVzZXIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkVXNlciA9IG5ldyBVc2VyKHtcbiAgICAgICAgICAgICAgICAgIC4uLnVzZXJTZXJ2aWNlLmN1cnJlbnRVc2VyLnRvRGljdGlvbmFyeSgpLFxuICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBuZXdIZWlnaHQsXG4gICAgICAgICAgICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKClcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBhd2FpdCB1c2VyU2VydmljZS51cGRhdGVVc2VyKGF1dGguY3VycmVudFVzZXIudWlkLCB1cGRhdGVkVXNlcik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICBtaW49XCIwXCJcbiAgICAgICAgICAgIG1heD1cIjExXCJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBiZy16aW5jLTgwMCBib3JkZXIgYm9yZGVyLXppbmMtNjAwIHJvdW5kZWQtbGcgcC0zIHRleHQtd2hpdGUgcGxhY2Vob2xkZXItemluYy00MDAgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOmJvcmRlci1bI0UwRkUxMF0gZm9jdXM6cmluZy0xIGZvY3VzOnJpbmctWyNFMEZFMTBdIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiMFwiXG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgeyhxdWl6RGF0YS5oZWlnaHQuZmVldCA+IDggfHwgcXVpekRhdGEuaGVpZ2h0LmluY2hlcyA+IDExKSAmJiAoXG4gICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtcmVkLTQwMCB0ZXh0LXNtIG10LTJcIj5cbiAgICAgICAgICBQbGVhc2UgZW50ZXIgYSB2YWxpZCBoZWlnaHRcbiAgICAgICAgPC9wPlxuICAgICAgKX1cbiAgICA8L2Rpdj4sXG4gICAgLy8gV2VpZ2h0IFF1ZXN0aW9uXG4gICAgPGRpdiBrZXk9XCJ3ZWlnaHRcIiBjbGFzc05hbWU9XCJzcGFjZS15LTZcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LXdoaXRlIGZvbnQtWydUaHVuZGVyJ10gbWItMlwiPlxuICAgICAgICAgIFdoYXQncyB5b3VyIGN1cnJlbnQgd2VpZ2h0P1xuICAgICAgICA8L2gyPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtNFwiPlxuICAgICAgICA8aW5wdXRcbiAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcbiAgICAgICAgICB2YWx1ZT17cXVpekRhdGEud2VpZ2h0IHx8IFwiXCJ9XG4gICAgICAgICAgb25DaGFuZ2U9e2FzeW5jIChlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBuZXdXZWlnaHQgPSBOdW1iZXIoZS50YXJnZXQudmFsdWUpO1xuICAgICAgICAgICAgc2V0UXVpekRhdGEoeyAuLi5xdWl6RGF0YSwgd2VpZ2h0OiBuZXdXZWlnaHQgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChhdXRoLmN1cnJlbnRVc2VyPy51aWQgJiYgdXNlclNlcnZpY2UuY3VycmVudFVzZXIpIHtcbiAgICAgICAgICAgICAgY29uc3QgbmV3Qm9keVdlaWdodCA9IG5ldyBCb2R5V2VpZ2h0KHtcbiAgICAgICAgICAgICAgICBvbGRXZWlnaHQ6IHVzZXJTZXJ2aWNlLmN1cnJlbnRVc2VyLmJvZHlXZWlnaHQubGVuZ3RoID4gMCBcbiAgICAgICAgICAgICAgICAgID8gdXNlclNlcnZpY2UuY3VycmVudFVzZXIuYm9keVdlaWdodFt1c2VyU2VydmljZS5jdXJyZW50VXNlci5ib2R5V2VpZ2h0Lmxlbmd0aCAtIDFdLm5ld1dlaWdodCBcbiAgICAgICAgICAgICAgICAgIDogMCxcbiAgICAgICAgICAgICAgICBuZXdXZWlnaHQ6IG5ld1dlaWdodFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRVc2VyID0gbmV3IFVzZXIoe1xuICAgICAgICAgICAgICAgIC4uLnVzZXJTZXJ2aWNlLmN1cnJlbnRVc2VyLnRvRGljdGlvbmFyeSgpLFxuICAgICAgICAgICAgICAgIGJvZHlXZWlnaHQ6IFsuLi51c2VyU2VydmljZS5jdXJyZW50VXNlci5ib2R5V2VpZ2h0LCBuZXdCb2R5V2VpZ2h0XSxcbiAgICAgICAgICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKClcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBhd2FpdCB1c2VyU2VydmljZS51cGRhdGVVc2VyKGF1dGguY3VycmVudFVzZXIudWlkLCB1cGRhdGVkVXNlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfX1cbiAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctemluYy04MDAgYm9yZGVyIGJvcmRlci16aW5jLTYwMCByb3VuZGVkLWxnIHAtMyB0ZXh0LXdoaXRlXCJcbiAgICAgICAgICBwbGFjZWhvbGRlcj1cIkVudGVyIHdlaWdodCBpbiBsYnNcIlxuICAgICAgICAgIG1pbj1cIjBcIlxuICAgICAgICAvPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciB0ZXh0LXppbmMtNDAwXCI+TGJzPC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+LFxuICAgIC8vIEd5bSBFeHBlcmllbmNlXG4gICAgPGRpdiBrZXk9XCJleHBlcmllbmNlXCIgY2xhc3NOYW1lPVwic3BhY2UteS02XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XG4gICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC13aGl0ZSBmb250LVsnVGh1bmRlciddIG1iLTJcIj5cbiAgICAgICAgICBIb3cgd2VsbCBkbyB5b3Uga25vdyB5b3VyIHdheSBhcm91bmQgdGhlIGd5bT9cbiAgICAgICAgPC9oMj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktM1wiPlxuICAgICAgICB7W1wiTm92aWNlXCIsIFwiSW50ZXJtZWRpYXRlXCIsIFwiRXhwZXJ0XCJdLm1hcCgobGV2ZWwpID0+IChcbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBrZXk9e2xldmVsfVxuICAgICAgICAgICAgb25DbGljaz17YXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBsZXZlbE1hcCA9IHtcbiAgICAgICAgICAgICAgICBcIk5vdmljZVwiOiBVc2VyTGV2ZWwuTm92aWNlLFxuICAgICAgICAgICAgICAgIFwiSW50ZXJtZWRpYXRlXCI6IFVzZXJMZXZlbC5JbnRlcm1lZGlhdGUsXG4gICAgICAgICAgICAgICAgXCJFeHBlcnRcIjogVXNlckxldmVsLkV4cGVydFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgIHNldFF1aXpEYXRhKHsgLi4ucXVpekRhdGEsIGd5bUV4cGVyaWVuY2U6IGxldmVsIGFzIGFueSB9KTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIGlmIChhdXRoLmN1cnJlbnRVc2VyPy51aWQgJiYgdXNlclNlcnZpY2UuY3VycmVudFVzZXIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkVXNlciA9IG5ldyBVc2VyKHtcbiAgICAgICAgICAgICAgICAgIC4uLnVzZXJTZXJ2aWNlLmN1cnJlbnRVc2VyLnRvRGljdGlvbmFyeSgpLFxuICAgICAgICAgICAgICAgICAgbGV2ZWw6IGxldmVsTWFwW2xldmVsIGFzIGtleW9mIHR5cGVvZiBsZXZlbE1hcF0sXG4gICAgICAgICAgICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKClcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBhd2FpdCB1c2VyU2VydmljZS51cGRhdGVVc2VyKGF1dGguY3VycmVudFVzZXIudWlkLCB1cGRhdGVkVXNlcik7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgc2V0UXVpelN0ZXAocXVpelN0ZXAgKyAxKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT17YHctZnVsbCBwLTQgcm91bmRlZC1sZyBib3JkZXIgJHtcbiAgICAgICAgICAgICAgcXVpekRhdGEuZ3ltRXhwZXJpZW5jZSA9PT0gbGV2ZWxcbiAgICAgICAgICAgICAgICA/IFwiYm9yZGVyLVsjRTBGRTEwXSBiZy1bI0UwRkUxMF0vMTBcIlxuICAgICAgICAgICAgICAgIDogXCJib3JkZXItemluYy03MDAgaG92ZXI6Ym9yZGVyLVsjRTBGRTEwXVwiXG4gICAgICAgICAgICB9IHRleHQtbGVmdCB0ZXh0LXdoaXRlIHRyYW5zaXRpb24tY29sb3JzYH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7bGV2ZWx9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICkpfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+LFxuICAgIC8vIEZpdG5lc3MgR29hbFxuICAgIDxkaXYga2V5PVwiZ29hbHNcIiBjbGFzc05hbWU9XCJzcGFjZS15LTZcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LXdoaXRlIGZvbnQtWydUaHVuZGVyJ10gbWItMlwiPlxuICAgICAgICAgIFdoYXQgaXMgeW91ciBmaXRuZXNzIGdvYWw/XG4gICAgICAgIDwvaDI+XG4gICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtemluYy00MDAgZm9udC1bJ0hLIEdyb3Rlc2snXSB0ZXh0LXNtXCI+XG4gICAgICAgICAgU2VsZWN0IGFsbCB0aGF0IGFwcGx5XG4gICAgICAgIDwvcD5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktM1wiPlxuICAgICAgICB7KFtcIkxvc2Ugd2VpZ2h0XCIsIFwiR2FpbiBtdXNjbGUgbWFzc1wiLCBcIlRvbmUgdXBcIiwgXCJHZW5lcmFsIEZpdG5lc3NcIl0gYXMgRml0bmVzc0dvYWxbXSkubWFwKChnb2FsKSA9PiAoXG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICBrZXk9e2dvYWx9XG4gICAgICAgICAgICBvbkNsaWNrPXthc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IGdvYWxzTWFwID0ge1xuICAgICAgICAgICAgICAgIFwiTG9zZSB3ZWlnaHRcIjogV29ya291dEdvYWwuTG9zZVdlaWdodCxcbiAgICAgICAgICAgICAgICBcIkdhaW4gbXVzY2xlIG1hc3NcIjogV29ya291dEdvYWwuR2FpbldlaWdodCxcbiAgICAgICAgICAgICAgICBcIlRvbmUgdXBcIjogV29ya291dEdvYWwuVG9uZVVwLFxuICAgICAgICAgICAgICAgIFwiR2VuZXJhbCBGaXRuZXNzXCI6IFdvcmtvdXRHb2FsLkdlbmVyYWxGaXRuZXNzXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gRGV0ZXJtaW5lIHVwZGF0ZWQgZ29hbHNcbiAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZEdvYWxzID0gcXVpekRhdGEuZml0bmVzc0dvYWxzLmluY2x1ZGVzKGdvYWwpXG4gICAgICAgICAgICAgICAgPyBxdWl6RGF0YS5maXRuZXNzR29hbHMuZmlsdGVyKChnKSA9PiBnICE9PSBnb2FsKVxuICAgICAgICAgICAgICAgIDogWy4uLnF1aXpEYXRhLmZpdG5lc3NHb2FscywgZ29hbF07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgc2V0UXVpekRhdGEoKHByZXY6IFF1aXpEYXRhKSA9PiAoe1xuICAgICAgICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgICAgICAgZml0bmVzc0dvYWxzOiB1cGRhdGVkR29hbHMsXG4gICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIGlmIChhdXRoLmN1cnJlbnRVc2VyPy51aWQgJiYgdXNlclNlcnZpY2UuY3VycmVudFVzZXIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkVXNlciA9IG5ldyBVc2VyKHtcbiAgICAgICAgICAgICAgICAgIC4uLnVzZXJTZXJ2aWNlLmN1cnJlbnRVc2VyLnRvRGljdGlvbmFyeSgpLFxuICAgICAgICAgICAgICAgICAgZ29hbDogdXBkYXRlZEdvYWxzLm1hcChnID0+IGdvYWxzTWFwW2ddKSxcbiAgICAgICAgICAgICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGF3YWl0IHVzZXJTZXJ2aWNlLnVwZGF0ZVVzZXIoYXV0aC5jdXJyZW50VXNlci51aWQsIHVwZGF0ZWRVc2VyKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBPbmx5IG1vdmUgdG8gbmV4dCBzdGVwIGlmIGF0IGxlYXN0IG9uZSBnb2FsIGlzIHNlbGVjdGVkXG4gICAgICAgICAgICAgICAgaWYgKHVwZGF0ZWRHb2Fscy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICBzZXRRdWl6U3RlcChxdWl6U3RlcCArIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT17YHctZnVsbCBwLTQgcm91bmRlZC1sZyBib3JkZXIgJHtcbiAgICAgICAgICAgICAgcXVpekRhdGEuZml0bmVzc0dvYWxzLmluY2x1ZGVzKGdvYWwpXG4gICAgICAgICAgICAgICAgPyBcImJvcmRlci1bI0UwRkUxMF0gYmctWyNFMEZFMTBdLzEwXCJcbiAgICAgICAgICAgICAgICA6IFwiYm9yZGVyLXppbmMtNzAwIGhvdmVyOmJvcmRlci1bI0UwRkUxMF1cIlxuICAgICAgICAgICAgfSB0ZXh0LWxlZnQgdGV4dC13aGl0ZSB0cmFuc2l0aW9uLWNvbG9ycyByZWxhdGl2ZWB9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHNwYW4+e2dvYWx9PC9zcGFuPlxuICAgICAgICAgICAge3F1aXpEYXRhLmZpdG5lc3NHb2Fscy5pbmNsdWRlcyhnb2FsKSAmJiAoXG4gICAgICAgICAgICAgIDxzdmdcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTUgaC01IGFic29sdXRlIHJpZ2h0LTQgdG9wLTEvMiB0cmFuc2Zvcm0gLXRyYW5zbGF0ZS15LTEvMiB0ZXh0LVsjRTBGRTEwXVwiXG4gICAgICAgICAgICAgICAgZmlsbD1cIm5vbmVcIlxuICAgICAgICAgICAgICAgIHZpZXdCb3g9XCIwIDAgMjQgMjRcIlxuICAgICAgICAgICAgICAgIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNNSAxM2w0IDRMMTkgN1wiIC8+XG4gICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgKSl9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj4sXG4gICAgLy8gQmlydGhkYXRlXG4gICAgPGRpdiBrZXk9XCJiaXJ0aGRhdGVcIiBjbGFzc05hbWU9XCJzcGFjZS15LTZcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LXdoaXRlIGZvbnQtWydUaHVuZGVyJ10gbWItMlwiPlxuICAgICAgICAgIFdoZW4gaXMgeW91ciBiaXJ0aGRhdGU/XG4gICAgICAgIDwvaDI+XG4gICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtemluYy00MDAgZm9udC1bJ0hLIEdyb3Rlc2snXSB0ZXh0LXNtXCI+XG4gICAgICAgICAgV2UgYXNrIGZvciB5b3VyIGFnZSB0byBlbnN1cmUgYWNjdXJhdGUgZml0bmVzcyBjYWxjdWxhdGlvbnMuXG4gICAgICAgIDwvcD5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTMgZ2FwLTRcIj5cbiAgICAgICAgPHNlbGVjdFxuICAgICAgICAgIGNsYXNzTmFtZT1cImJnLXppbmMtODAwIGJvcmRlciBib3JkZXItemluYy02MDAgcm91bmRlZC1sZyBwLTMgdGV4dC13aGl0ZVwiXG4gICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUocXVpekRhdGEuYmlydGhkYXRlIHx8IG5ldyBEYXRlKCkpO1xuICAgICAgICAgICAgZGF0ZS5zZXRNb250aChwYXJzZUludChlLnRhcmdldC52YWx1ZSkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBzZXRRdWl6RGF0YSh7IC4uLnF1aXpEYXRhLCBiaXJ0aGRhdGU6IGRhdGUgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChhdXRoLmN1cnJlbnRVc2VyPy51aWQgJiYgdXNlclNlcnZpY2UuY3VycmVudFVzZXIpIHtcbiAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZFVzZXIgPSBuZXcgVXNlcih7XG4gICAgICAgICAgICAgICAgLi4udXNlclNlcnZpY2UuY3VycmVudFVzZXIudG9EaWN0aW9uYXJ5KCksXG4gICAgICAgICAgICAgICAgYmlydGhkYXRlOiBkYXRlLFxuICAgICAgICAgICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIHVzZXJTZXJ2aWNlLnVwZGF0ZVVzZXIoYXV0aC5jdXJyZW50VXNlci51aWQsIHVwZGF0ZWRVc2VyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAge0FycmF5LmZyb20oeyBsZW5ndGg6IDEyIH0sIChfLCBpKSA9PiAoXG4gICAgICAgICAgICA8b3B0aW9uIGtleT17aX0gdmFsdWU9e2l9PlxuICAgICAgICAgICAgICB7bmV3IERhdGUoMCwgaSkudG9Mb2NhbGVTdHJpbmcoXCJkZWZhdWx0XCIsIHsgbW9udGg6IFwibG9uZ1wiIH0pfVxuICAgICAgICAgICAgPC9vcHRpb24+XG4gICAgICAgICAgKSl9XG4gICAgICAgIDwvc2VsZWN0PlxuXG4gICAgICAgIDxzZWxlY3RcbiAgICAgICAgICBjbGFzc05hbWU9XCJiZy16aW5jLTgwMCBib3JkZXIgYm9yZGVyLXppbmMtNjAwIHJvdW5kZWQtbGcgcC0zIHRleHQtd2hpdGVcIlxuICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKHF1aXpEYXRhLmJpcnRoZGF0ZSB8fCBuZXcgRGF0ZSgpKTtcbiAgICAgICAgICAgIGRhdGUuc2V0RGF0ZShwYXJzZUludChlLnRhcmdldC52YWx1ZSkpO1xuICAgICAgICAgICAgc2V0UXVpekRhdGEoeyAuLi5xdWl6RGF0YSwgYmlydGhkYXRlOiBkYXRlIH0pO1xuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICB7QXJyYXkuZnJvbSh7IGxlbmd0aDogMzEgfSwgKF8sIGkpID0+IChcbiAgICAgICAgICAgIDxvcHRpb24ga2V5PXtpICsgMX0gdmFsdWU9e2kgKyAxfT5cbiAgICAgICAgICAgICAge2kgKyAxfVxuICAgICAgICAgICAgPC9vcHRpb24+XG4gICAgICAgICAgKSl9XG4gICAgICAgIDwvc2VsZWN0PlxuXG4gICAgICAgIDxzZWxlY3RcbiAgICAgICAgICBjbGFzc05hbWU9XCJiZy16aW5jLTgwMCBib3JkZXIgYm9yZGVyLXppbmMtNjAwIHJvdW5kZWQtbGcgcC0zIHRleHQtd2hpdGVcIlxuICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKHF1aXpEYXRhLmJpcnRoZGF0ZSB8fCBuZXcgRGF0ZSgpKTtcbiAgICAgICAgICAgIGRhdGUuc2V0RnVsbFllYXIocGFyc2VJbnQoZS50YXJnZXQudmFsdWUpKTtcbiAgICAgICAgICAgIHNldFF1aXpEYXRhKHsgLi4ucXVpekRhdGEsIGJpcnRoZGF0ZTogZGF0ZSB9KTtcbiAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAge0FycmF5LmZyb20oeyBsZW5ndGg6IDEwMCB9LCAoXywgaSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeWVhciA9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSAtIGk7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8b3B0aW9uIGtleT17eWVhcn0gdmFsdWU9e3llYXJ9PlxuICAgICAgICAgICAgICAgIHt5ZWFyfVxuICAgICAgICAgICAgICA8L29wdGlvbj5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSl9XG4gICAgICAgIDwvc2VsZWN0PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+LFxuICBdO1xuXG4gIGNvbnN0IHJlbmRlclF1aXpRdWVzdGlvbiA9ICgpID0+IHtcbiAgICByZXR1cm4gcXVlc3Rpb25zW3F1aXpTdGVwXTtcbiAgfTtcblxuICBjb25zdCBpc0xhc3RRdWl6U3RlcCA9ICgpID0+IHF1aXpTdGVwID09PSBxdWVzdGlvbnMubGVuZ3RoIC0gMTtcblxuICBjb25zdCB2YWxpZGF0ZUVtYWlsID0gKCkgPT4ge1xuICAgIGlmICghZW1haWwpIHtcbiAgICAgIHNldEVycm9ycyh7IGVtYWlsOiBcIkVtYWlsIGlzIHJlcXVpcmVkXCIgfSk7XG4gICAgICBzZXRTaG93RXJyb3IodHJ1ZSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIGlmICghL1xcUytAXFxTK1xcLlxcUysvLnRlc3QoZW1haWwpKSB7XG4gICAgICBzZXRFcnJvcnMoeyBlbWFpbDogXCJQbGVhc2UgZW50ZXIgYSB2YWxpZCBlbWFpbCBhZGRyZXNzXCIgfSk7XG4gICAgICBzZXRTaG93RXJyb3IodHJ1ZSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9O1xuXG4gIGNvbnN0IHZhbGlkYXRlUGFzc3dvcmQgPSAoKSA9PiB7XG4gICAgaWYgKCFoYXNVcHBlcmNhc2UgfHwgIWhhc051bWJlciB8fCAhaGFzTWluTGVuZ3RoIHx8ICFwYXNzd29yZHNNYXRjaCkge1xuICAgICAgc2V0U2hvd0Vycm9yKHRydWUpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcblxuICBjb25zdCB2YWxpZGF0ZVVzZXJuYW1lID0gKCkgPT4ge1xuICAgIGlmICghdXNlcm5hbWUpIHtcbiAgICAgIHNldEVycm9ycyh7IHVzZXJuYW1lOiBcIlVzZXJuYW1lIGlzIHJlcXVpcmVkXCIgfSk7XG4gICAgICBzZXRTaG93RXJyb3IodHJ1ZSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBpc1VzZXJuYW1lQXZhaWxhYmxlO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVVzZXJuYW1lQ2hhbmdlID0gKHZhbHVlOiBzdHJpbmcpID0+IHtcbiAgICBzZXRVc2VybmFtZSh2YWx1ZSk7XG4gICAgLy8gU2ltdWxhdGVkIHVzZXJuYW1lIGF2YWlsYWJpbGl0eSBjaGVja1xuICAgIHNldElzVXNlcm5hbWVBdmFpbGFibGUoL15bYS16QS1aMC05X117Myx9JC8udGVzdCh2YWx1ZSkpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUZpbGVDaGFuZ2UgPSBhc3luYyAoZTogUmVhY3QuQ2hhbmdlRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHtcbiAgICBjb25zdCBmaWxlID0gZS50YXJnZXQuZmlsZXM/LlswXTtcbiAgICBpZiAoZmlsZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgc2V0SXNJbWFnZVVwbG9hZGluZyh0cnVlKTtcbiAgICAgICAgc2V0UHJvZmlsZUltYWdlKGZpbGUpO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgdXBsb2FkUmVzdWx0ID0gYXdhaXQgZmlyZWJhc2VTdG9yYWdlU2VydmljZS51cGxvYWRJbWFnZShcbiAgICAgICAgICBmaWxlLCBcbiAgICAgICAgICBVcGxvYWRJbWFnZVR5cGUuUHJvZmlsZVxuICAgICAgICApO1xuICAgIFxuICAgICAgICBjb25zb2xlLmxvZygnUHJvZmlsZSBpbWFnZSB1cGxvYWRlZCBzdWNjZXNzZnVsbHknLCB1cGxvYWRSZXN1bHQpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignUHJvZmlsZSBpbWFnZSB1cGxvYWQgZmFpbGVkJywgZXJyb3IpO1xuICAgICAgICBzZXRFcnJvcignRmFpbGVkIHRvIHVwbG9hZCBwcm9maWxlIGltYWdlJyk7XG4gICAgICAgIHNldFByb2ZpbGVJbWFnZShudWxsKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldElzSW1hZ2VVcGxvYWRpbmcoZmFsc2UpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBjb25zdCByZW5kZXJQcm9maWxlU3RlcCA9ICgpID0+IChcbiAgICA8PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBtYi04XCI+XG4gICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC13aGl0ZSBmb250LVsnVGh1bmRlciddIG1iLTJcIj5cbiAgICAgICAgICBQZXJzb25hbGl6ZSB5b3VyIGV4cGVyaWVuY2VcbiAgICAgICAgPC9oMj5cbiAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC16aW5jLTQwMCBmb250LVsnSEsgR3JvdGVzayddIHRleHQtc21cIj5cbiAgICAgICAgICBTZXQgYSB1c2VybmFtZSBhbmQgcHJvZmlsZSBpbWFnZVxuICAgICAgICA8L3A+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTZcIj5cbiAgICAgICAgey8qIFByb2ZpbGUgSW1hZ2UgVXBsb2FkICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMjQgaC0yNCBiZy16aW5jLTgwMCByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgb3ZlcmZsb3ctaGlkZGVuXCI+XG4gICAgICAgICAgICAgIHtwcm9maWxlSW1hZ2UgPyAoXG4gICAgICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICAgICAgc3JjPXtVUkwuY3JlYXRlT2JqZWN0VVJMKHByb2ZpbGVJbWFnZSl9XG4gICAgICAgICAgICAgICAgICBhbHQ9XCJQcm9maWxlIFByZXZpZXdcIlxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGgtZnVsbCBvYmplY3QtY292ZXJcIlxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgPENhbWVyYSBzaXplPXszMn0gY2xhc3NOYW1lPVwidGV4dC16aW5jLTUwMFwiIC8+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJhYnNvbHV0ZSBib3R0b20tMCByaWdodC0wIHctOCBoLTggYmctWyNFMEZFMTBdIHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBjdXJzb3ItcG9pbnRlclwiPlxuICAgICAgICAgICAgICA8Q2FtZXJhIHNpemU9ezE2fSBjbGFzc05hbWU9XCJ0ZXh0LWJsYWNrXCIgLz5cbiAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJmaWxlXCIgYWNjZXB0PVwiaW1hZ2UvKlwiIG9uQ2hhbmdlPXtoYW5kbGVGaWxlQ2hhbmdlfSBjbGFzc05hbWU9XCJoaWRkZW5cIiAvPlxuICAgICAgICAgICAgPC9sYWJlbD5cblxuICAgICAgICAgICAgey8qIFBMQUNFIExPQURJTkcgU1RBVEUgSEVSRSAqL31cbiAgICAgICAgICAgIHtpc0ltYWdlVXBsb2FkaW5nICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIGJnLWJsYWNrIGJnLW9wYWNpdHktNTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxvYWRlciBib3JkZXItdC10cmFuc3BhcmVudCBib3JkZXItNCBib3JkZXItd2hpdGUgcm91bmRlZC1mdWxsIHctOCBoLTggYW5pbWF0ZS1zcGluXCI+PC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgey8qIFVzZXJuYW1lIElucHV0ICovfVxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LXppbmMtMzAwIG1iLTIgZm9udC1bJ0hLIEdyb3Rlc2snXVwiPlxuICAgICAgICAgICAgICBVc2VybmFtZVxuICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgIHt1c2VybmFtZSAmJiAoXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17YHRleHQteHMgJHtpc1VzZXJuYW1lQXZhaWxhYmxlID8gXCJ0ZXh0LVsjRTBGRTEwXVwiIDogXCJ0ZXh0LXJlZC00MDBcIn1gfT5cbiAgICAgICAgICAgICAgICB7aXNVc2VybmFtZUF2YWlsYWJsZSA/IFwidXNlcm5hbWUgaXMgYXZhaWxhYmxlXCIgOiBcInVzZXJuYW1lIGlzIG5vdCBhdmFpbGFibGVcIn1cbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgIHZhbHVlPXt1c2VybmFtZX1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlVXNlcm5hbWVDaGFuZ2UoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgdy1mdWxsIGJnLXppbmMtODAwIGJvcmRlciByb3VuZGVkLWxnIHAtMyB0ZXh0LXdoaXRlIHBsYWNlaG9sZGVyLXppbmMtNDAwIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpib3JkZXItWyNFMEZFMTBdIGZvY3VzOnJpbmctMSBmb2N1czpyaW5nLVsjRTBGRTEwXSB0cmFuc2l0aW9uLWNvbG9ycyAke1xuICAgICAgICAgICAgICBlcnJvcnMudXNlcm5hbWUgPyBcImJvcmRlci1yZWQtNTAwXCIgOiBcImJvcmRlci16aW5jLTYwMFwiXG4gICAgICAgICAgICB9YH1cbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiQ2hvb3NlIGEgdXNlcm5hbWVcIlxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC8+XG4gICk7XG5cbiAgY29uc3QgcmVuZGVyUGFzc3dvcmRTdGVwID0gKCkgPT4gKFxuICAgIDw+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIG1iLThcIj5cbiAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LXdoaXRlIGZvbnQtWydUaHVuZGVyJ10gbWItMlwiPlxuICAgICAgICAgIENyZWF0ZSBwYXNzd29yZFxuICAgICAgICA8L2gyPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXppbmMtNDAwIGZvbnQtWydISyBHcm90ZXNrJ10gdGV4dC1zbVwiPlxuICAgICAgICAgIFNldCBhIHBhc3N3b3JkIGZvciB5b3VyIGFjY291bnRcbiAgICAgICAgPC9wPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS02XCI+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC16aW5jLTMwMCBtYi0yIGZvbnQtWydISyBHcm90ZXNrJ11cIj5cbiAgICAgICAgICAgIFBhc3N3b3JkXG4gICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgIHR5cGU9XCJwYXNzd29yZFwiXG4gICAgICAgICAgICB2YWx1ZT17cGFzc3dvcmR9XG4gICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgc2V0UGFzc3dvcmQoZS50YXJnZXQudmFsdWUpO1xuICAgICAgICAgICAgICBzZXRTaG93RXJyb3IoZmFsc2UpO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBiZy16aW5jLTgwMCBib3JkZXIgYm9yZGVyLXppbmMtNjAwIHJvdW5kZWQtbGcgcC0zIHRleHQtd2hpdGUgcGxhY2Vob2xkZXItemluYy00MDAgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOmJvcmRlci1bI0UwRkUxMF0gZm9jdXM6cmluZy0xIGZvY3VzOnJpbmctWyNFMEZFMTBdIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiQ3JlYXRlIHBhc3N3b3JkXCJcbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtemluYy0zMDAgbWItMiBmb250LVsnSEsgR3JvdGVzayddXCI+XG4gICAgICAgICAgICBDb25maXJtIFBhc3N3b3JkXG4gICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgIHR5cGU9XCJwYXNzd29yZFwiXG4gICAgICAgICAgICB2YWx1ZT17Y29uZmlybVBhc3N3b3JkfVxuICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgIHNldENvbmZpcm1QYXNzd29yZChlLnRhcmdldC52YWx1ZSk7XG4gICAgICAgICAgICAgIHNldFNob3dFcnJvcihmYWxzZSk7XG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLXppbmMtODAwIGJvcmRlciBib3JkZXItemluYy02MDAgcm91bmRlZC1sZyBwLTMgdGV4dC13aGl0ZSBwbGFjZWhvbGRlci16aW5jLTQwMCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6Ym9yZGVyLVsjRTBGRTEwXSBmb2N1czpyaW5nLTEgZm9jdXM6cmluZy1bI0UwRkUxMF0gdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJDb25maXJtIHBhc3N3b3JkXCJcbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgdy00IGgtNCByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgJHtcbiAgICAgICAgICAgICAgICBoYXNVcHBlcmNhc2UgPyBcImJnLVsjRTBGRTEwXVwiIDogXCJiZy16aW5jLTcwMFwiXG4gICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7aGFzVXBwZXJjYXNlICYmIChcbiAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cInctMyBoLTMgdGV4dC1ibGFja1wiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiPlxuICAgICAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPXsyfSBkPVwiTTUgMTNsNCA0TDE5IDdcIiAvPlxuICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2B0ZXh0LXNtICR7aGFzVXBwZXJjYXNlID8gXCJ0ZXh0LVsjRTBGRTEwXVwiIDogXCJ0ZXh0LXppbmMtNDAwXCJ9YH0+XG4gICAgICAgICAgICAgIDEgdXBwZXJjYXNlXG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17YHctNCBoLTQgcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyICR7XG4gICAgICAgICAgICAgICAgaGFzTnVtYmVyID8gXCJiZy1bI0UwRkUxMF1cIiA6IFwiYmctemluYy03MDBcIlxuICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge2hhc051bWJlciAmJiAoXG4gICAgICAgICAgICAgICAgPHN2ZyBjbGFzc05hbWU9XCJ3LTMgaC0zIHRleHQtYmxhY2tcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIj5cbiAgICAgICAgICAgICAgICAgIDxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD17Mn0gZD1cIk01IDEzbDQgNEwxOSA3XCIgLz5cbiAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtgdGV4dC1zbSAke2hhc051bWJlciA/IFwidGV4dC1bI0UwRkUxMF1cIiA6IFwidGV4dC16aW5jLTQwMFwifWB9PlxuICAgICAgICAgICAgICAxIG51bWJlclxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2B3LTQgaC00IHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciAke1xuICAgICAgICAgICAgICAgIGhhc01pbkxlbmd0aCA/IFwiYmctWyNFMEZFMTBdXCIgOiBcImJnLXppbmMtNzAwXCJcbiAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtoYXNNaW5MZW5ndGggJiYgKFxuICAgICAgICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwidy0zIGgtMyB0ZXh0LWJsYWNrXCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCI+XG4gICAgICAgICAgICAgICAgICA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNNSAxM2w0IDRMMTkgN1wiIC8+XG4gICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17YHRleHQtc20gJHtoYXNNaW5MZW5ndGggPyBcInRleHQtWyNFMEZFMTBdXCIgOiBcInRleHQtemluYy00MDBcIn1gfT5cbiAgICAgICAgICAgICAgOCBjaGFyYWN0ZXJzXG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17YHctNCBoLTQgcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyICR7XG4gICAgICAgICAgICAgICAgcGFzc3dvcmRzTWF0Y2ggJiYgcGFzc3dvcmQgPyBcImJnLVsjRTBGRTEwXVwiIDogXCJiZy16aW5jLTcwMFwiXG4gICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7cGFzc3dvcmRzTWF0Y2ggJiYgcGFzc3dvcmQgJiYgKFxuICAgICAgICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwidy0zIGgtMyB0ZXh0LWJsYWNrXCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCI+XG4gICAgICAgICAgICAgICAgICA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNNSAxM2w0IDRMMTkgN1wiIC8+XG4gICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17YHRleHQtc20gJHtwYXNzd29yZHNNYXRjaCAmJiBwYXNzd29yZCA/IFwidGV4dC1bI0UwRkUxMF1cIiA6IFwidGV4dC16aW5jLTQwMFwifWB9PlxuICAgICAgICAgICAgICBQYXNzd29yZHMgbWF0Y2hcbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8Lz5cbiAgKTtcblxuICBjb25zdCByZW5kZXJJbml0aWFsU3RlcCA9ICgpID0+IChcbiAgICA8PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBtYi04IHB0LTQgc206cHQtMFwiPlxuICAgICAgICA8aW1nIHNyYz1cIi9wdWxzZS1sb2dvLXdoaXRlLnN2Z1wiIGFsdD1cIlB1bHNlIExvZ29cIiBjbGFzc05hbWU9XCJoLTggbXgtYXV0byBtYi04XCIgLz5cbiAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LXdoaXRlIGZvbnQtWydUaHVuZGVyJ10gbWItMlwiPlxuICAgICAgICAgIHtpc1NpZ25VcCA/IFwiSm9pbiB0aGUgQ29sbGVjdGl2ZVwiIDogXCJXZWxjb21lIEJhY2shXCJ9XG4gICAgICAgIDwvaDI+XG4gICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtemluYy00MDAgZm9udC1bJ0hLIEdyb3Rlc2snXSB0ZXh0LXNtXCI+XG4gICAgICAgICAgQmVhdCBZb3VyIEJlc3QsIFNoYXJlIFlvdXIgVmljdG9yeVxuICAgICAgICA8L3A+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGdhcC00IG1iLThcIj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgIHNldEFjdGl2ZVByb3ZpZGVyKFwiYXBwbGVcIik7IC8vIFRyYWNrIHRoZSBhY3RpdmUgcHJvdmlkZXJcbiAgICAgICAgICAgIGhhbmRsZVNvY2lhbEF1dGgoXCJhcHBsZVwiKTsgLy8gVHJpZ2dlciB0aGUgc29jaWFsIGF1dGhcbiAgICAgICAgICB9fVxuICAgICAgICAgIGRpc2FibGVkPXtpc0xvYWRpbmcgJiYgYWN0aXZlUHJvdmlkZXIgPT09IFwiYXBwbGVcIn0gLy8gRGlzYWJsZSBpZiBsb2FkaW5nIHdpdGggdGhpcyBwcm92aWRlclxuICAgICAgICAgIGNsYXNzTmFtZT17YHctZnVsbCBiZy1ibGFjayB0ZXh0LXdoaXRlIGZvbnQtc2VtaWJvbGQgcHktMyBweC00IHJvdW5kZWQtbGcgdHJhbnNpdGlvbi1jb2xvcnMgZm9udC1bJ0hLIEdyb3Rlc2snXSBib3JkZXIgYm9yZGVyLXppbmMtNzAwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGdhcC0zICR7XG4gICAgICAgICAgICBpc0xvYWRpbmcgJiYgYWN0aXZlUHJvdmlkZXIgPT09IFwiYXBwbGVcIiA/IFwib3BhY2l0eS01MCBjdXJzb3Itbm90LWFsbG93ZWRcIiA6IFwiaG92ZXI6YmctemluYy04MDBcIlxuICAgICAgICAgIH1gfVxuICAgICAgICA+XG4gICAgICAgICAge2lzTG9hZGluZyAmJiBhY3RpdmVQcm92aWRlciA9PT0gXCJhcHBsZVwiID8gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsb2FkZXIgYm9yZGVyLXQtdHJhbnNwYXJlbnQgYm9yZGVyLTQgYm9yZGVyLXdoaXRlIHJvdW5kZWQtZnVsbCB3LTUgaC01IGFuaW1hdGUtc3BpblwiPjwvZGl2PlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8PlxuICAgICAgICAgICAgICA8aW1nIHNyYz1cIi9hcHBsZS1sb2dvLnN2Z1wiIGFsdD1cIkFwcGxlXCIgY2xhc3NOYW1lPVwidy01IGgtNVwiIC8+XG4gICAgICAgICAgICAgIHtpc1NpZ25VcCA/IFwiU2lnbiB1cCB3aXRoIEFwcGxlXCIgOiBcIlNpZ24gaW4gd2l0aCBBcHBsZVwifVxuICAgICAgICAgICAgPC8+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZVNvY2lhbEF1dGgoXCJnb29nbGVcIil9XG4gICAgICAgICAgZGlzYWJsZWQ9e2lzTG9hZGluZ31cbiAgICAgICAgICBjbGFzc05hbWU9e2B3LWZ1bGwgYmctd2hpdGUgdGV4dC1ibGFjayBmb250LXNlbWlib2xkIHB5LTMgcHgtNCByb3VuZGVkLWxnIGhvdmVyOmJnLWdyYXktMTAwIHRyYW5zaXRpb24tY29sb3JzIGZvbnQtWydISyBHcm90ZXNrJ10gZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZ2FwLTMgJHtcbiAgICAgICAgICAgIGlzTG9hZGluZyA/IFwiY3Vyc29yLW5vdC1hbGxvd2VkIG9wYWNpdHktNTBcIiA6IFwiXCJcbiAgICAgICAgICB9YH1cbiAgICAgICAgPlxuICAgICAgICAgIHtpc0xvYWRpbmcgJiYgYWN0aXZlUHJvdmlkZXIgPT09IFwiZ29vZ2xlXCIgPyAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxvYWRlciBib3JkZXItdC10cmFuc3BhcmVudCBib3JkZXItNCBib3JkZXItYmxhY2sgcm91bmRlZC1mdWxsIHctNSBoLTUgYW5pbWF0ZS1zcGluXCI+PC9kaXY+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgIDxpbWcgc3JjPVwiL2dvb2dsZS1sb2dvLnN2Z1wiIGFsdD1cIkdvb2dsZVwiIGNsYXNzTmFtZT1cInctNSBoLTVcIiAvPlxuICAgICAgICAgICAgICB7aXNTaWduVXAgPyBcIlNpZ24gdXAgd2l0aCBHb29nbGVcIiA6IFwiU2lnbiBpbiB3aXRoIEdvb2dsZVwifVxuICAgICAgICAgICAgPC8+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgYm9yZGVyLXQgYm9yZGVyLXppbmMtNzAwXCI+PC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgey8qIFVuY29tbWVudCBiZWxvdyBpZiB5b3Ugd2FudCBhIHNlcGFyYXRvciB0ZXh0ICovfVxuICAgICAgICAgIHsvKiA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIGZsZXgganVzdGlmeS1jZW50ZXIgdGV4dC1zbVwiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwicHgtNCB0ZXh0LXppbmMtNDAwIGJnLXppbmMtOTAwXCI+b3IgY29udGludWUgd2l0aCBlbWFpbDwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj4gKi99XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS02XCI+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC16aW5jLTMwMCBtYi0yIGZvbnQtWydISyBHcm90ZXNrJ11cIj5cbiAgICAgICAgICAgIEVtYWlsXG4gICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgIHR5cGU9XCJlbWFpbFwiXG4gICAgICAgICAgICB2YWx1ZT17ZW1haWx9XG4gICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgc2V0RW1haWwoZS50YXJnZXQudmFsdWUpO1xuICAgICAgICAgICAgICBzZXRTaG93RXJyb3IoZmFsc2UpO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT17YHctZnVsbCBiZy16aW5jLTgwMCBib3JkZXIgcm91bmRlZC1sZyBwLTMgdGV4dC13aGl0ZSBwbGFjZWhvbGRlci16aW5jLTQwMCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6Ym9yZGVyLVsjRTBGRTEwXSBmb2N1czpyaW5nLTEgZm9jdXM6cmluZy1bI0UwRkUxMF0gdHJhbnNpdGlvbi1jb2xvcnMgJHtcbiAgICAgICAgICAgICAgZXJyb3JzLmVtYWlsID8gXCJib3JkZXItcmVkLTUwMFwiIDogXCJib3JkZXItemluYy02MDBcIlxuICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkVudGVyIHlvdXIgZW1haWxcIlxuICAgICAgICAgIC8+XG4gICAgICAgICAge3Nob3dFcnJvciAmJiBlcnJvcnMuZW1haWwgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXJlZC00MDAgdGV4dC1zbSBtdC0yXCI+e2Vycm9ycy5lbWFpbH08L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7IWlzU2lnblVwICYmIChcbiAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC16aW5jLTMwMCBtYi0yIGZvbnQtWydISyBHcm90ZXNrJ11cIj5cbiAgICAgICAgICAgICAgUGFzc3dvcmRcbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgdHlwZT1cInBhc3N3b3JkXCJcbiAgICAgICAgICAgICAgdmFsdWU9e3Bhc3N3b3JkfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICBzZXRQYXNzd29yZChlLnRhcmdldC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgc2V0U2hvd0Vycm9yKGZhbHNlKTtcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLXppbmMtODAwIGJvcmRlciBib3JkZXItemluYy02MDAgcm91bmRlZC1sZyBwLTMgdGV4dC13aGl0ZSBwbGFjZWhvbGRlci16aW5jLTQwMCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6Ym9yZGVyLVsjRTBGRTEwXSBmb2N1czpyaW5nLTEgZm9jdXM6cmluZy1bI0UwRkUxMF0gdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkVudGVyIHlvdXIgcGFzc3dvcmRcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgIDwvPlxuICApO1xuXG4gIGNvbnN0IHJlbmRlclF1aXpOYXZpZ2F0aW9uID0gKCkgPT4ge1xuICAgIGlmIChzaWduVXBTdGVwICE9PSBcInF1aXpcIikgcmV0dXJuIG51bGw7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC04IGZsZXggZ2FwLTRcIj5cbiAgICAgICAge3F1aXpTdGVwID4gMCAmJiAoXG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRRdWl6U3RlcChxdWl6U3RlcCAtIDEpfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleC0xIGJnLXppbmMtODAwIHRleHQtd2hpdGUgZm9udC1zZW1pYm9sZCBweS0zIHB4LTQgcm91bmRlZC1sZyBob3ZlcjpiZy16aW5jLTcwMCB0cmFuc2l0aW9uLWNvbG9ycyBmb250LVsnSEsgR3JvdGVzayddXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICBCYWNrXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICl9XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNMYXN0UXVpelN0ZXAoKSkge1xuICAgICAgICAgICAgICBoYW5kbGVDb21wbGV0ZVF1aXooKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNldFF1aXpTdGVwKHF1aXpTdGVwICsgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfX1cbiAgICAgICAgICBkaXNhYmxlZD17IWlzQ3VycmVudFN0ZXBWYWxpZCgpfVxuICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXgtMSBiZy1bI0UwRkUxMF0gdGV4dC1ibGFjayBmb250LXNlbWlib2xkIHB5LTMgcHgtNCByb3VuZGVkLWxnIGhvdmVyOmJnLVsjYzhlNjBlXSB0cmFuc2l0aW9uLWNvbG9ycyBmb250LVsnSEsgR3JvdGVzayddIGRpc2FibGVkOm9wYWNpdHktNTAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkXCJcbiAgICAgICAgPlxuICAgICAgICAgIHtpc0xhc3RRdWl6U3RlcCgpID8gXCJDb21wbGV0ZSBxdWl6XCIgOiBcIk5leHRcIn1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9O1xuXG4gIC8vIFZhbGlkYXRpb24gZm9yIHF1aXogc3RlcHNcbiAgY29uc3QgaXNDdXJyZW50U3RlcFZhbGlkID0gKCkgPT4ge1xuICAgIHN3aXRjaCAocXVpelN0ZXApIHtcbiAgICAgIGNhc2UgMDpcbiAgICAgICAgcmV0dXJuICEhcXVpekRhdGEuZ2VuZGVyO1xuICAgICAgY2FzZSAxOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIHF1aXpEYXRhLmhlaWdodC5mZWV0ID4gMCAmJlxuICAgICAgICAgIHF1aXpEYXRhLmhlaWdodC5mZWV0IDw9IDggJiZcbiAgICAgICAgICBxdWl6RGF0YS5oZWlnaHQuaW5jaGVzID49IDAgJiZcbiAgICAgICAgICBxdWl6RGF0YS5oZWlnaHQuaW5jaGVzIDw9IDExXG4gICAgICAgICk7XG4gICAgICBjYXNlIDI6XG4gICAgICAgIHJldHVybiBxdWl6RGF0YS53ZWlnaHQgPiAwO1xuICAgICAgY2FzZSAzOlxuICAgICAgICByZXR1cm4gISFxdWl6RGF0YS5neW1FeHBlcmllbmNlO1xuICAgICAgY2FzZSA0OlxuICAgICAgICByZXR1cm4gcXVpekRhdGEuZml0bmVzc0dvYWxzLmxlbmd0aCA+IDA7XG4gICAgICBjYXNlIDU6XG4gICAgICAgIHJldHVybiAhIXF1aXpEYXRhLmJpcnRoZGF0ZTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgcmVuZGVyQ3VycmVudFN0ZXAgPSAoKSA9PiB7XG4gICAgaWYgKGlzU2lnblVwKSB7XG4gICAgICBzd2l0Y2ggKHNpZ25VcFN0ZXApIHtcbiAgICAgICAgY2FzZSBcInBhc3N3b3JkXCI6XG4gICAgICAgICAgcmV0dXJuIHJlbmRlclBhc3N3b3JkU3RlcCgpO1xuICAgICAgICBjYXNlIFwicHJvZmlsZVwiOlxuICAgICAgICAgIHJldHVybiByZW5kZXJQcm9maWxlU3RlcCgpO1xuICAgICAgICBjYXNlIFwicXVpei1wcm9tcHRcIjpcbiAgICAgICAgICByZXR1cm4gcmVuZGVyUXVpelByb21wdCgpO1xuICAgICAgICBjYXNlIFwicXVpelwiOlxuICAgICAgICAgIHJldHVybiByZW5kZXJRdWl6UXVlc3Rpb24oKTtcbiAgICAgICAgY2FzZSBcInN1YnNjcmlwdGlvblwiOlxuICAgICAgICAgIHJldHVybiByZW5kZXJTdWJzY3JpcHRpb25TdGVwKCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIHJlbmRlckluaXRpYWxTdGVwKCk7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIGlmIChzaWduVXBTdGVwID09PSBcInN1YnNjcmlwdGlvblwiKSB7XG4gICAgICByZXR1cm4gcmVuZGVyU3Vic2NyaXB0aW9uU3RlcCgpO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gcmVuZGVySW5pdGlhbFN0ZXAoKTtcbiAgfTtcblxuICBjb25zdCB0b2dnbGVNb2RlID0gKCkgPT4ge1xuICAgIHNldElzU2lnblVwKCFpc1NpZ25VcCk7XG4gICAgc2V0U2lnblVwU3RlcChcImluaXRpYWxcIik7XG4gICAgc2V0RXJyb3JzKHt9KTtcbiAgICBzZXRTaG93RXJyb3IoZmFsc2UpO1xuICAgIHNldFBhc3N3b3JkKFwiXCIpO1xuICAgIHNldENvbmZpcm1QYXNzd29yZChcIlwiKTtcbiAgICBzZXRVc2VybmFtZShcIlwiKTtcbiAgICBzZXRQcm9maWxlSW1hZ2UobnVsbCk7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImZpeGVkIGluc2V0LTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctYmxhY2sgei01MCBzbTpwLTZcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctemluYy05MDAgdy1mdWxsIGgtZnVsbCBzbTpoLWF1dG8gc206dy1bNDgwcHhdIHNtOnJvdW5kZWQteGwgcC02IHNtOnAtOCBib3JkZXItbm9uZSBzbTpib3JkZXIgc206Ym9yZGVyLXppbmMtNzAwIHNoYWRvdy14bCBvdmVyZmxvdy15LWF1dG9cIj5cbiAgICAgICAge3dpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSA9PT0gJ2xvY2FsaG9zdCcgJiYgPERldk1vZGVUb2dnbGUgLz59XG4gICAgICAgIFxuICAgICAgICB7Y2xvc2FibGUgJiYgb25DbG9zZSAmJiAoXG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17b25DbG9zZX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC00IHJpZ2h0LTQgdGV4dC16aW5jLTQwMCBob3Zlcjp0ZXh0LXdoaXRlIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJDbG9zZSBtb2RhbFwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPFggc2l6ZT17MjR9IC8+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICl9XG5cbiAgICAgICAgPGZvcm0gb25TdWJtaXQ9e2hhbmRsZVN1Ym1pdH0gY2xhc3NOYW1lPVwic3BhY2UteS02XCI+XG4gICAgICAgICAge2Vycm9yICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctcmVkLTUwMCB0ZXh0LXdoaXRlIHRleHQtc20gZm9udC1zZW1pYm9sZCBwLTMgcm91bmRlZC1sZ1wiPlxuICAgICAgICAgICAgICB7ZXJyb3J9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICAgIHtyZW5kZXJDdXJyZW50U3RlcCgpfVxuXG4gICAgICAgICAge3NpZ25VcFN0ZXAgIT09IFwicXVpei1wcm9tcHRcIiAmJiBzaWduVXBTdGVwICE9PSBcInF1aXpcIiAmJiBzaWduVXBTdGVwICE9PSBcInN1YnNjcmlwdGlvblwiICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBnYXAtNCBtdC04XCI+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICB0eXBlPVwic3VibWl0XCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctWyNFMEZFMTBdIHRleHQtYmxhY2sgZm9udC1zZW1pYm9sZCBweS0zIHB4LTQgcm91bmRlZC1sZyBob3ZlcjpiZy1bI2M4ZTYwZV0gdHJhbnNpdGlvbi1jb2xvcnMgZm9udC1bJ0hLIEdyb3Rlc2snXVwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7aXNTaWduVXBcbiAgICAgICAgICAgICAgICAgID8gc2lnblVwU3RlcCA9PT0gXCJwcm9maWxlXCJcbiAgICAgICAgICAgICAgICAgICAgPyBcIkNvbXBsZXRlXCJcbiAgICAgICAgICAgICAgICAgICAgOiBzaWduVXBTdGVwID09PSBcInBhc3N3b3JkXCJcbiAgICAgICAgICAgICAgICAgICAgPyBcIkNvbnRpbnVlXCJcbiAgICAgICAgICAgICAgICAgICAgOiBcIkNvbnRpbnVlIHdpdGggRW1haWxcIlxuICAgICAgICAgICAgICAgICAgOiBcIlNpZ24gSW5cIn1cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Zvcm0+XG5cbiAgICAgICAge3JlbmRlclF1aXpOYXZpZ2F0aW9uKCl9XG5cbiAgICAgICAge3NpZ25VcFN0ZXAgPT09IFwiaW5pdGlhbFwiICYmIChcbiAgICAgICAgICA8PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC02IHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgIHshaXNTaWduVXAgJiYgKFxuICAgICAgICAgICAgICAgIDxhXG4gICAgICAgICAgICAgICAgICBocmVmPVwiI1wiXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXppbmMtNDAwIGhvdmVyOnRleHQtWyNFMEZFMTBdIHRleHQtc20gdHJhbnNpdGlvbi1jb2xvcnMgbWItMiBibG9ja1wiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgRm9yZ290IHlvdXIgcGFzc3dvcmQ/XG4gICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXppbmMtNTAwIHRleHQtc20gZm9udC1bJ0hLIEdyb3Rlc2snXVwiPlxuICAgICAgICAgICAgICAgIHtpc1NpZ25VcCA/IFwiQWxyZWFkeSBoYXZlIGFuIGFjY291bnQ/IFwiIDogXCJEb24ndCBoYXZlIGFuIGFjY291bnQ/IFwifVxuICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17dG9nZ2xlTW9kZX0gY2xhc3NOYW1lPVwidGV4dC1bI0UwRkUxMF0gaG92ZXI6dGV4dC1bI2M4ZTYwZV1cIj5cbiAgICAgICAgICAgICAgICAgIHtpc1NpZ25VcCA/IFwiU2lnbiBJblwiIDogXCJTaWduIFVwXCJ9XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTggcHQtNiBib3JkZXItdCBib3JkZXItemluYy03MDBcIj5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC16aW5jLTQwMCB0ZXh0LXhzIHRleHQtY2VudGVyIGZvbnQtWydISyBHcm90ZXNrJ10gcHgtNFwiPlxuICAgICAgICAgICAgICAgIEpvaW4gdGhlIEZpdG5lc3MgQ29sbGVjdGl2ZTogQ3JlYXRlLCBTaGFyZSwgYW5kIFByb2dyZXNzIFRvZ2V0aGVyXG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTggcHQtNiBib3JkZXItdCBib3JkZXItemluYy03MDBcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBzbTpmbGV4LXJvdyBqdXN0aWZ5LWNlbnRlciBpdGVtcy1jZW50ZXIgZ2FwLTQgdGV4dC16aW5jLTQwMCB0ZXh0LXNtIG1iLTZcIj5cbiAgICAgICAgICAgICAgICAgICAgPGFcbiAgICAgICAgICAgICAgICAgICAgICBocmVmPVwiL2Fib3V0XCJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJob3Zlcjp0ZXh0LVsjRTBGRTEwXSB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0PVwiX2JsYW5rXCJcbiAgICAgICAgICAgICAgICAgICAgICByZWw9XCJub29wZW5lciBub3JlZmVycmVyXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIEFib3V0IFB1bHNlXG4gICAgICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoaWRkZW4gc206YmxvY2sgdy0xIGgtMSBiZy16aW5jLTcwMCByb3VuZGVkLWZ1bGxcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGFcbiAgICAgICAgICAgICAgICAgICAgICBocmVmPVwiL2NyZWF0b3JcIlxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImhvdmVyOnRleHQtWyNFMEZFMTBdIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ9XCJfYmxhbmtcIlxuICAgICAgICAgICAgICAgICAgICAgIHJlbD1cIm5vb3BlbmVyIG5vcmVmZXJyZXJcIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgQ3JlYXRvciBQcm9ncmFtXG4gICAgICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoaWRkZW4gc206YmxvY2sgdy0xIGgtMSBiZy16aW5jLTcwMCByb3VuZGVkLWZ1bGxcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGFcbiAgICAgICAgICAgICAgICAgICAgICBocmVmPVwiL3JvdW5kc1wiXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaG92ZXI6dGV4dC1bI0UwRkUxMF0gdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICAgICAgICAgIHRhcmdldD1cIl9ibGFua1wiXG4gICAgICAgICAgICAgICAgICAgICAgcmVsPVwibm9vcGVuZXIgbm9yZWZlcnJlclwiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICBSb3VuZHMgRmVhdHVyZVxuICAgICAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtd3JhcCBqdXN0aWZ5LWNlbnRlciBpdGVtcy1jZW50ZXIgZ2FwLTQgdGV4dC16aW5jLTUwMCB0ZXh0LXhzIG1iLTZcIj5cbiAgICAgICAgICAgICAgICAgICAgPGFcbiAgICAgICAgICAgICAgICAgICAgICBocmVmPVwiL3Rlcm1zXCJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJob3Zlcjp0ZXh0LVsjRTBGRTEwXSB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0PVwiX2JsYW5rXCJcbiAgICAgICAgICAgICAgICAgICAgICByZWw9XCJub29wZW5lciBub3JlZmVycmVyXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIFRlcm1zICYgQ29uZGl0aW9uc1xuICAgICAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGlkZGVuIHNtOmJsb2NrIHctMSBoLTEgYmctemluYy03MDAgcm91bmRlZC1mdWxsXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxhXG4gICAgICAgICAgICAgICAgICAgICAgaHJlZj1cIi9wcml2YWN5UG9saWN5XCJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJob3Zlcjp0ZXh0LVsjRTBGRTEwXSB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0PVwiX2JsYW5rXCJcbiAgICAgICAgICAgICAgICAgICAgICByZWw9XCJub29wZW5lciBub3JlZmVycmVyXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIFByaXZhY3kgUG9saWN5XG4gICAgICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoaWRkZW4gc206YmxvY2sgdy0xIGgtMSBiZy16aW5jLTcwMCByb3VuZGVkLWZ1bGxcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+ICh3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwibWFpbHRvOnB1bHNlZml0bmVzc2FwcEBnbWFpbC5jb21cIil9XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaG92ZXI6dGV4dC1bI0UwRkUxMF0gdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgQ29udGFjdCBVc1xuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1jZW50ZXIgZ2FwLTYgbWItNlwiPlxuICAgICAgICAgICAgICAgICAgICA8YVxuICAgICAgICAgICAgICAgICAgICAgIGhyZWY9XCJodHRwczovL3d3dy5pbnN0YWdyYW0uY29tL2ZpdHdpdGhwdWxzZS9cIlxuICAgICAgICAgICAgICAgICAgICAgIHRhcmdldD1cIl9ibGFua1wiXG4gICAgICAgICAgICAgICAgICAgICAgcmVsPVwibm9vcGVuZXIgbm9yZWZlcnJlclwiXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC16aW5jLTQwMCBob3Zlcjp0ZXh0LVsjRTBGRTEwXSB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cIi9pbnN0YWdyYW0uc3ZnXCIgYWx0PVwiSW5zdGFncmFtXCIgY2xhc3NOYW1lPVwidy01IGgtNVwiIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgICAgICAgPGFcbiAgICAgICAgICAgICAgICAgICAgICBocmVmPVwiaHR0cHM6Ly90d2l0dGVyLmNvbS9maXR3aXRocHVsc2VcIlxuICAgICAgICAgICAgICAgICAgICAgIHRhcmdldD1cIl9ibGFua1wiXG4gICAgICAgICAgICAgICAgICAgICAgcmVsPVwibm9vcGVuZXIgbm9yZWZlcnJlclwiXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC16aW5jLTQwMCBob3Zlcjp0ZXh0LVsjRTBGRTEwXSB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cIi90d2l0dGVyLnN2Z1wiIGFsdD1cIlR3aXR0ZXJcIiBjbGFzc05hbWU9XCJ3LTUgaC01XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICAgICAgICA8YVxuICAgICAgICAgICAgICAgICAgICAgIGhyZWY9XCJodHRwczovL3d3dy55b3V0dWJlLmNvbS9AZml0d2l0aHB1bHNlXCJcbiAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ9XCJfYmxhbmtcIlxuICAgICAgICAgICAgICAgICAgICAgIHJlbD1cIm5vb3BlbmVyIG5vcmVmZXJyZXJcIlxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtemluYy00MDAgaG92ZXI6dGV4dC1bI0UwRkUxMF0gdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCIveW91dHViZS5zdmdcIiBhbHQ9XCJZb3V0dWJlXCIgY2xhc3NOYW1lPVwidy01IGgtNVwiIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHRleHQtemluYy01MDAgdGV4dC14c1wiPlxuICAgICAgICAgICAgICAgICAgICDCqSB7bmV3IERhdGUoKS5nZXRGdWxsWWVhcigpfSBQdWxzZS4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvPlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBTaWduSW5Nb2RhbDtcbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwiZ2V0UmVkaXJlY3RSZXN1bHQiLCJzaWduSW5XaXRoUG9wdXAiLCJPQXV0aFByb3ZpZGVyIiwiQ2FtZXJhIiwiWCIsIkdlbmRlciIsIldvcmtvdXRHb2FsIiwiU3Vic2NyaXB0aW9uVHlwZSIsImF1dGhTZXJ2aWNlIiwidXNlclNlcnZpY2UiLCJVc2VyIiwiVXNlckxldmVsIiwiQm9keVdlaWdodCIsImF1dGgiLCJ1c2VSb3V0ZXIiLCJmaXJlYmFzZVN0b3JhZ2VTZXJ2aWNlIiwiVXBsb2FkSW1hZ2VUeXBlIiwidXNlRGlzcGF0Y2giLCJ1c2VTZWxlY3RvciIsInRvZ2dsZURldk1vZGUiLCJpbml0aWFsaXplRmlyZWJhc2UiLCJEZXZNb2RlVG9nZ2xlIiwiZGlzcGF0Y2giLCJpc0RldmVsb3BtZW50Iiwic3RhdGUiLCJkZXZNb2RlIiwic2F2ZWRNb2RlIiwid2luZG93IiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImhhbmRsZVRvZ2dsZSIsIm5ld01vZGUiLCJzZXRJdGVtIiwiU3RyaW5nIiwibG9jYXRpb24iLCJyZWxvYWQiLCJidXR0b24iLCJvbkNsaWNrIiwiY2xhc3NOYW1lIiwic3R5bGUiLCJiYWNrZ3JvdW5kIiwiY29sb3IiLCJTaWduSW5Nb2RhbCIsImlzVmlzaWJsZSIsImNsb3NhYmxlIiwib25DbG9zZSIsIm9uU2lnbkluU3VjY2VzcyIsIm9uU2lnbkluRXJyb3IiLCJvblNpZ25VcFN1Y2Nlc3MiLCJvblNpZ25VcEVycm9yIiwib25RdWl6Q29tcGxldGUiLCJvblF1aXpTa2lwcGVkIiwib25SZWdpc3RyYXRpb25Db21wbGV0ZSIsImVtYWlsIiwic2V0RW1haWwiLCJwYXNzd29yZCIsInNldFBhc3N3b3JkIiwiY29uZmlybVBhc3N3b3JkIiwic2V0Q29uZmlybVBhc3N3b3JkIiwidXNlcm5hbWUiLCJzZXRVc2VybmFtZSIsInByb2ZpbGVJbWFnZSIsInNldFByb2ZpbGVJbWFnZSIsImlzU2lnblVwIiwic2V0SXNTaWduVXAiLCJzaWduVXBTdGVwIiwic2V0U2lnblVwU3RlcCIsImVycm9ycyIsInNldEVycm9ycyIsInNob3dFcnJvciIsInNldFNob3dFcnJvciIsImlzVXNlcm5hbWVBdmFpbGFibGUiLCJzZXRJc1VzZXJuYW1lQXZhaWxhYmxlIiwiaXNMb2FkaW5nIiwic2V0SXNMb2FkaW5nIiwiZXJyb3IiLCJzZXRFcnJvciIsImFjdGl2ZVByb3ZpZGVyIiwic2V0QWN0aXZlUHJvdmlkZXIiLCJpc0ltYWdlVXBsb2FkaW5nIiwic2V0SXNJbWFnZVVwbG9hZGluZyIsImhhc1VwcGVyY2FzZSIsInRlc3QiLCJoYXNOdW1iZXIiLCJoYXNNaW5MZW5ndGgiLCJsZW5ndGgiLCJwYXNzd29yZHNNYXRjaCIsInF1aXpTdGVwIiwic2V0UXVpelN0ZXAiLCJxdWl6RGF0YSIsInNldFF1aXpEYXRhIiwiZ2VuZGVyIiwiaGVpZ2h0IiwiZmVldCIsImluY2hlcyIsIndlaWdodCIsImd5bUV4cGVyaWVuY2UiLCJmaXRuZXNzR29hbHMiLCJiaXJ0aGRhdGUiLCJjaGVja1N1YnNjcmlwdGlvbkFuZFByb2NlZWQiLCJ1c2VyIiwiZW5kcG9pbnQiLCJwcm9jZXNzIiwicmVzIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwib2siLCJzdWJzY3JpcHRpb25UeXBlIiwianNvbiIsInN1YnNjcmlwdGlvbiIsInVwZGF0ZVVzZXIiLCJ1aWQiLCJlcnIiLCJjb25zb2xlIiwiZmlyZXN0b3JlVXNlciIsImZldGNoVXNlckZyb21GaXJlc3RvcmUiLCJ1bnN1YnNjcmliZWQiLCJyb3V0ZXIiLCJwdXNoIiwidXNlRGV2TW9kZSIsImhhbmRsZVNvY2lhbEF1dGgiLCJwcm92aWRlciIsImFwcGxlUHJvdmlkZXIiLCJhZGRTY29wZSIsInJlc3VsdCIsImlkIiwiZGlzcGxheU5hbWUiLCJjdXJyZW50VXNlciIsIkVycm9yIiwibWVzc2FnZSIsImdlbmVyaWNFcnJvciIsInNpZ25JbldpdGhHb29nbGUiLCJsb2ciLCJtZXRhZGF0YSIsInByb3ZpZGVyRGF0YSIsImVycm9yTWVzc2FnZSIsImNvZGUiLCJhZGRMb2ciLCJjdXJyZW50TG9ncyIsIkpTT04iLCJwYXJzZSIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInN0cmluZ2lmeSIsImxvZ3MiLCJmb3JFYWNoIiwicmVtb3ZlSXRlbSIsImlzTW91bnRlZCIsImhhbmRsZVJlZGlyZWN0IiwidXJsUGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwic2VhcmNoIiwiaXNSZWRpcmVjdGluZyIsImhhcyIsImhyZWYiLCJpbmNsdWRlcyIsInBlbmRpbmdSZXN1bHQiLCJjYXRjaCIsImUiLCJjcmVkZW50aWFsIiwicHJvdmlkZXJJZCIsImNyZWF0aW9uVGltZSIsImxhc3RTaWduSW5UaW1lIiwiaXNBcHBsZVNpZ25JbiIsInNvbWUiLCJoYW5kbGVTdWJtaXQiLCJwcmV2ZW50RGVmYXVsdCIsInZhbGlkYXRlRW1haWwiLCJ2YWxpZGF0ZVBhc3N3b3JkIiwidmFsaWRhdGVVc2VybmFtZSIsInNpZ25JbldpdGhFbWFpbCIsInVzZXJEb2MiLCJoYW5kbGVDb21wbGV0ZVF1aXoiLCJ1c2VySWQiLCJyZW5kZXJTdWJzY3JpcHRpb25TdGVwIiwiZGl2IiwiaDIiLCJwIiwic3BhbiIsIm9wZW4iLCJyZW5kZXJRdWl6UHJvbXB0IiwicXVlc3Rpb25zIiwibWFwIiwib3B0aW9uIiwiZ2VuZGVyVmFsdWUiLCJNYW4iLCJXb21hbiIsIlNlbGZEZXNjcmliZSIsInVwZGF0ZWRVc2VyIiwidXBkYXRlZEF0IiwibGFiZWwiLCJpbnB1dCIsInR5cGUiLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwibmV3RmVldCIsIk51bWJlciIsInRhcmdldCIsIm5ld0hlaWdodCIsInRvRGljdGlvbmFyeSIsIm1pbiIsIm1heCIsInBsYWNlaG9sZGVyIiwibmV3SW5jaGVzIiwibmV3V2VpZ2h0IiwibmV3Qm9keVdlaWdodCIsIm9sZFdlaWdodCIsImJvZHlXZWlnaHQiLCJsZXZlbCIsImxldmVsTWFwIiwiTm92aWNlIiwiSW50ZXJtZWRpYXRlIiwiRXhwZXJ0IiwiZ29hbCIsImdvYWxzTWFwIiwiTG9zZVdlaWdodCIsIkdhaW5XZWlnaHQiLCJUb25lVXAiLCJHZW5lcmFsRml0bmVzcyIsInVwZGF0ZWRHb2FscyIsImZpbHRlciIsImciLCJwcmV2Iiwic3ZnIiwiZmlsbCIsInZpZXdCb3giLCJzdHJva2UiLCJwYXRoIiwic3Ryb2tlTGluZWNhcCIsInN0cm9rZUxpbmVqb2luIiwic3Ryb2tlV2lkdGgiLCJkIiwic2VsZWN0IiwiZGF0ZSIsInNldE1vbnRoIiwicGFyc2VJbnQiLCJBcnJheSIsImZyb20iLCJfIiwiaSIsInRvTG9jYWxlU3RyaW5nIiwibW9udGgiLCJzZXREYXRlIiwic2V0RnVsbFllYXIiLCJ5ZWFyIiwiZ2V0RnVsbFllYXIiLCJyZW5kZXJRdWl6UXVlc3Rpb24iLCJpc0xhc3RRdWl6U3RlcCIsImhhbmRsZVVzZXJuYW1lQ2hhbmdlIiwiaGFuZGxlRmlsZUNoYW5nZSIsImZpbGUiLCJmaWxlcyIsInVwbG9hZFJlc3VsdCIsInVwbG9hZEltYWdlIiwiUHJvZmlsZSIsInJlbmRlclByb2ZpbGVTdGVwIiwiaW1nIiwic3JjIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiYWx0Iiwic2l6ZSIsImFjY2VwdCIsInJlbmRlclBhc3N3b3JkU3RlcCIsInJlbmRlckluaXRpYWxTdGVwIiwiZGlzYWJsZWQiLCJyZW5kZXJRdWl6TmF2aWdhdGlvbiIsImlzQ3VycmVudFN0ZXBWYWxpZCIsInJlbmRlckN1cnJlbnRTdGVwIiwidG9nZ2xlTW9kZSIsImhvc3RuYW1lIiwiYXJpYS1sYWJlbCIsImZvcm0iLCJvblN1Ym1pdCIsImEiLCJyZWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/SignInModal.tsx\n");

/***/ }),

/***/ "./src/pages/_app.tsx":
/*!****************************!*\
  !*** ./src/pages/_app.tsx ***!
  \****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ \"react-redux\");\n/* harmony import */ var _redux_store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../redux/store */ \"./src/redux/store.ts\");\n/* harmony import */ var _components_Footer_GlisteningButton_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/Footer/GlisteningButton.css */ \"./src/components/Footer/GlisteningButton.css\");\n/* harmony import */ var _components_Footer_GlisteningButton_css__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_components_Footer_GlisteningButton_css__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _index_css__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../index.css */ \"./src/index.css\");\n/* harmony import */ var _index_css__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_index_css__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _styles_animations_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../styles/animations.css */ \"./src/styles/animations.css\");\n/* harmony import */ var _styles_animations_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_styles_animations_css__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _components_AuthWrapper__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/AuthWrapper */ \"./src/components/AuthWrapper.tsx\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([react_redux__WEBPACK_IMPORTED_MODULE_2__, _redux_store__WEBPACK_IMPORTED_MODULE_3__, _components_AuthWrapper__WEBPACK_IMPORTED_MODULE_7__]);\n([react_redux__WEBPACK_IMPORTED_MODULE_2__, _redux_store__WEBPACK_IMPORTED_MODULE_3__, _components_AuthWrapper__WEBPACK_IMPORTED_MODULE_7__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\n\n\nconst MyApp = ({ Component, pageProps })=>{\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_redux__WEBPACK_IMPORTED_MODULE_2__.Provider, {\n        store: _redux_store__WEBPACK_IMPORTED_MODULE_3__.store,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_AuthWrapper__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Component, {\n                ...pageProps\n            }, void 0, false, {\n                fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/pages/_app.tsx\",\n                lineNumber: 15,\n                columnNumber: 9\n            }, undefined)\n        }, void 0, false, {\n            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/pages/_app.tsx\",\n            lineNumber: 14,\n            columnNumber: 7\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/pages/_app.tsx\",\n        lineNumber: 13,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MyApp);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFnZXMvX2FwcC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQTBCO0FBRWE7QUFDQTtBQUNZO0FBQzdCO0FBQ1k7QUFFa0I7QUFFcEQsTUFBTUksUUFBNEIsQ0FBQyxFQUFFQyxTQUFTLEVBQUVDLFNBQVMsRUFBRTtJQUN6RCxxQkFDRSw4REFBQ0wsaURBQVFBO1FBQUNDLE9BQU9BLCtDQUFLQTtrQkFDcEIsNEVBQUNDLCtEQUFXQTtzQkFDViw0RUFBQ0U7Z0JBQVcsR0FBR0MsU0FBUzs7Ozs7Ozs7Ozs7Ozs7OztBQUloQztBQUVBLGlFQUFlRixLQUFLQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktYXBwLy4vc3JjL3BhZ2VzL19hcHAudHN4P2Y5ZDYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB0eXBlIHsgQXBwUHJvcHMgfSBmcm9tICduZXh0L2FwcCc7XG5pbXBvcnQgeyBQcm92aWRlciB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCB7IHN0b3JlIH0gZnJvbSAnLi4vcmVkdXgvc3RvcmUnOyBcbmltcG9ydCAnLi4vY29tcG9uZW50cy9Gb290ZXIvR2xpc3RlbmluZ0J1dHRvbi5jc3MnO1xuaW1wb3J0ICcuLi9pbmRleC5jc3MnO1xuaW1wb3J0ICcuLi9zdHlsZXMvYW5pbWF0aW9ucy5jc3MnO1xuXG5pbXBvcnQgQXV0aFdyYXBwZXIgZnJvbSAnLi4vY29tcG9uZW50cy9BdXRoV3JhcHBlcic7XG5cbmNvbnN0IE15QXBwOiBSZWFjdC5GQzxBcHBQcm9wcz4gPSAoeyBDb21wb25lbnQsIHBhZ2VQcm9wcyB9KSA9PiB7XG4gIHJldHVybiAoICAgIFxuICAgIDxQcm92aWRlciBzdG9yZT17c3RvcmV9PlxuICAgICAgPEF1dGhXcmFwcGVyPlxuICAgICAgICA8Q29tcG9uZW50IHsuLi5wYWdlUHJvcHN9IC8+XG4gICAgICA8L0F1dGhXcmFwcGVyPlxuICAgIDwvUHJvdmlkZXI+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBNeUFwcDsiXSwibmFtZXMiOlsiUmVhY3QiLCJQcm92aWRlciIsInN0b3JlIiwiQXV0aFdyYXBwZXIiLCJNeUFwcCIsIkNvbXBvbmVudCIsInBhZ2VQcm9wcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/pages/_app.tsx\n");

/***/ }),

/***/ "./src/pages/_document.tsx":
/*!*********************************!*\
  !*** ./src/pages/_document.tsx ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_document__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/document */ \"./node_modules/next/document.js\");\n/* harmony import */ var next_document__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_document__WEBPACK_IMPORTED_MODULE_1__);\n// pages/_document.tsx\n\n\nclass MyDocument extends (next_document__WEBPACK_IMPORTED_MODULE_1___default()) {\n    static async getInitialProps(ctx) {\n        const initialProps = await next_document__WEBPACK_IMPORTED_MODULE_1___default().getInitialProps(ctx);\n        return {\n            ...initialProps\n        };\n    }\n    render() {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_document__WEBPACK_IMPORTED_MODULE_1__.Html, {\n            lang: \"en\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_document__WEBPACK_IMPORTED_MODULE_1__.Head, {}, void 0, false, {\n                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/pages/_document.tsx\",\n                    lineNumber: 13,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"body\", {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_document__WEBPACK_IMPORTED_MODULE_1__.Main, {}, void 0, false, {\n                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/pages/_document.tsx\",\n                            lineNumber: 17,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_document__WEBPACK_IMPORTED_MODULE_1__.NextScript, {}, void 0, false, {\n                            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/pages/_document.tsx\",\n                            lineNumber: 18,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/pages/_document.tsx\",\n                    lineNumber: 16,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/tremainegrant/Documents/GitHub/QuickLifts-Web/src/pages/_document.tsx\",\n            lineNumber: 12,\n            columnNumber: 7\n        }, this);\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MyDocument);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFnZXMvX2RvY3VtZW50LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBLHNCQUFzQjs7QUFDa0U7QUFFeEYsTUFBTUssbUJBQW1CTCxzREFBUUE7SUFDL0IsYUFBYU0sZ0JBQWdCQyxHQUFvQixFQUFFO1FBQ2pELE1BQU1DLGVBQWUsTUFBTVIsb0VBQXdCLENBQUNPO1FBQ3BELE9BQU87WUFBRSxHQUFHQyxZQUFZO1FBQUM7SUFDM0I7SUFFQUMsU0FBUztRQUNQLHFCQUNFLDhEQUFDUiwrQ0FBSUE7WUFBQ1MsTUFBSzs7OEJBQ1QsOERBQUNSLCtDQUFJQTs7Ozs7OEJBR0wsOERBQUNTOztzQ0FDQyw4REFBQ1IsK0NBQUlBOzs7OztzQ0FDTCw4REFBQ0MscURBQVVBOzs7Ozs7Ozs7Ozs7Ozs7OztJQUluQjtBQUNGO0FBRUEsaUVBQWVDLFVBQVVBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1hcHAvLi9zcmMvcGFnZXMvX2RvY3VtZW50LnRzeD8xODhlIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHBhZ2VzL19kb2N1bWVudC50c3hcbmltcG9ydCBEb2N1bWVudCwgeyBIdG1sLCBIZWFkLCBNYWluLCBOZXh0U2NyaXB0LCBEb2N1bWVudENvbnRleHQgfSBmcm9tICduZXh0L2RvY3VtZW50JztcblxuY2xhc3MgTXlEb2N1bWVudCBleHRlbmRzIERvY3VtZW50IHtcbiAgc3RhdGljIGFzeW5jIGdldEluaXRpYWxQcm9wcyhjdHg6IERvY3VtZW50Q29udGV4dCkge1xuICAgIGNvbnN0IGluaXRpYWxQcm9wcyA9IGF3YWl0IERvY3VtZW50LmdldEluaXRpYWxQcm9wcyhjdHgpO1xuICAgIHJldHVybiB7IC4uLmluaXRpYWxQcm9wcyB9O1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8SHRtbCBsYW5nPVwiZW5cIj5cbiAgICAgICAgPEhlYWQ+XG4gICAgICAgICAgey8qIEFkZCBhbnkgYWRkaXRpb25hbCA8aGVhZD4gY29udGVudCBoZXJlICovfVxuICAgICAgICA8L0hlYWQ+XG4gICAgICAgIDxib2R5PlxuICAgICAgICAgIDxNYWluIC8+XG4gICAgICAgICAgPE5leHRTY3JpcHQgLz5cbiAgICAgICAgPC9ib2R5PlxuICAgICAgPC9IdG1sPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTXlEb2N1bWVudDtcbiJdLCJuYW1lcyI6WyJEb2N1bWVudCIsIkh0bWwiLCJIZWFkIiwiTWFpbiIsIk5leHRTY3JpcHQiLCJNeURvY3VtZW50IiwiZ2V0SW5pdGlhbFByb3BzIiwiY3R4IiwiaW5pdGlhbFByb3BzIiwicmVuZGVyIiwibGFuZyIsImJvZHkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/pages/_document.tsx\n");

/***/ }),

/***/ "./src/redux/devModeSlice.ts":
/*!***********************************!*\
  !*** ./src/redux/devModeSlice.ts ***!
  \***********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   toggleDevMode: () => (/* binding */ toggleDevMode)\n/* harmony export */ });\n/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @reduxjs/toolkit */ \"@reduxjs/toolkit\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__]);\n_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n// src/redux/devModeSlice.ts\n\n// Get initial state from localStorage if available\nconst getInitialState = ()=>{\n    if (false) {}\n    return {\n        isDevelopment: false\n    };\n};\nconst devModeSlice = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.createSlice)({\n    name: \"devMode\",\n    initialState: getInitialState(),\n    reducers: {\n        toggleDevMode: (state)=>{\n            state.isDevelopment = !state.isDevelopment;\n            // Save to localStorage when toggled, only on client side\n            if (false) {}\n        }\n    }\n});\nconst { toggleDevMode } = devModeSlice.actions;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (devModeSlice.reducer);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcmVkdXgvZGV2TW9kZVNsaWNlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBLDRCQUE0QjtBQUNtQjtBQUUvQyxtREFBbUQ7QUFDbkQsTUFBTUMsa0JBQWtCO0lBQ3RCLElBQUksS0FBa0IsRUFBYSxFQUtsQztJQUNELE9BQU87UUFDTEssZUFBZTtJQUNqQjtBQUNGO0FBRUEsTUFBTUcsZUFBZVQsNkRBQVdBLENBQUM7SUFDL0JVLE1BQU07SUFDTkMsY0FBY1Y7SUFDZFcsVUFBVTtRQUNSQyxlQUFlLENBQUNDO1lBQ2RBLE1BQU1SLGFBQWEsR0FBRyxDQUFDUSxNQUFNUixhQUFhO1lBQzFDLHlEQUF5RDtZQUN6RCxJQUFJLEtBQWtCLEVBQWEsRUFFbEM7UUFDSDtJQUNGO0FBQ0Y7QUFFTyxNQUFNLEVBQUVPLGFBQWEsRUFBRSxHQUFHSixhQUFhUSxPQUFPLENBQUM7QUFDdEQsaUVBQWVSLGFBQWFTLE9BQU8sRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL215LWFwcC8uL3NyYy9yZWR1eC9kZXZNb2RlU2xpY2UudHM/ZjMxMyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvcmVkdXgvZGV2TW9kZVNsaWNlLnRzXG5pbXBvcnQgeyBjcmVhdGVTbGljZSB9IGZyb20gJ0ByZWR1eGpzL3Rvb2xraXQnO1xuXG4vLyBHZXQgaW5pdGlhbCBzdGF0ZSBmcm9tIGxvY2FsU3RvcmFnZSBpZiBhdmFpbGFibGVcbmNvbnN0IGdldEluaXRpYWxTdGF0ZSA9ICgpID0+IHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgY29uc3Qgc2F2ZWRNb2RlID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdkZXZNb2RlJyk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlzRGV2ZWxvcG1lbnQ6IHNhdmVkTW9kZSA/IEpTT04ucGFyc2Uoc2F2ZWRNb2RlKSA6IGZhbHNlXG4gICAgfTtcbiAgfVxuICByZXR1cm4ge1xuICAgIGlzRGV2ZWxvcG1lbnQ6IGZhbHNlXG4gIH07XG59O1xuXG5jb25zdCBkZXZNb2RlU2xpY2UgPSBjcmVhdGVTbGljZSh7XG4gIG5hbWU6ICdkZXZNb2RlJyxcbiAgaW5pdGlhbFN0YXRlOiBnZXRJbml0aWFsU3RhdGUoKSxcbiAgcmVkdWNlcnM6IHtcbiAgICB0b2dnbGVEZXZNb2RlOiAoc3RhdGUpID0+IHtcbiAgICAgIHN0YXRlLmlzRGV2ZWxvcG1lbnQgPSAhc3RhdGUuaXNEZXZlbG9wbWVudDtcbiAgICAgIC8vIFNhdmUgdG8gbG9jYWxTdG9yYWdlIHdoZW4gdG9nZ2xlZCwgb25seSBvbiBjbGllbnQgc2lkZVxuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZGV2TW9kZScsIEpTT04uc3RyaW5naWZ5KHN0YXRlLmlzRGV2ZWxvcG1lbnQpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn0pO1xuXG5leHBvcnQgY29uc3QgeyB0b2dnbGVEZXZNb2RlIH0gPSBkZXZNb2RlU2xpY2UuYWN0aW9ucztcbmV4cG9ydCBkZWZhdWx0IGRldk1vZGVTbGljZS5yZWR1Y2VyOyJdLCJuYW1lcyI6WyJjcmVhdGVTbGljZSIsImdldEluaXRpYWxTdGF0ZSIsInNhdmVkTW9kZSIsIndpbmRvdyIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJpc0RldmVsb3BtZW50IiwiSlNPTiIsInBhcnNlIiwiZGV2TW9kZVNsaWNlIiwibmFtZSIsImluaXRpYWxTdGF0ZSIsInJlZHVjZXJzIiwidG9nZ2xlRGV2TW9kZSIsInN0YXRlIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsImFjdGlvbnMiLCJyZWR1Y2VyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/redux/devModeSlice.ts\n");

/***/ }),

/***/ "./src/redux/store.ts":
/*!****************************!*\
  !*** ./src/redux/store.ts ***!
  \****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   store: () => (/* binding */ store)\n/* harmony export */ });\n/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @reduxjs/toolkit */ \"@reduxjs/toolkit\");\n/* harmony import */ var _userSlice__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./userSlice */ \"./src/redux/userSlice.ts\");\n/* harmony import */ var _workoutSlice__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./workoutSlice */ \"./src/redux/workoutSlice.ts\");\n/* harmony import */ var _devModeSlice__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./devModeSlice */ \"./src/redux/devModeSlice.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__, _userSlice__WEBPACK_IMPORTED_MODULE_1__, _workoutSlice__WEBPACK_IMPORTED_MODULE_2__, _devModeSlice__WEBPACK_IMPORTED_MODULE_3__]);\n([_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__, _userSlice__WEBPACK_IMPORTED_MODULE_1__, _workoutSlice__WEBPACK_IMPORTED_MODULE_2__, _devModeSlice__WEBPACK_IMPORTED_MODULE_3__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\nconst store = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.configureStore)({\n    reducer: {\n        user: _userSlice__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n        workout: _workoutSlice__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n        devMode: _devModeSlice__WEBPACK_IMPORTED_MODULE_3__[\"default\"]\n    }\n});\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcmVkdXgvc3RvcmUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBa0Q7QUFDWjtBQUNNO0FBQ0E7QUFFckMsTUFBTUksUUFBUUosZ0VBQWNBLENBQUM7SUFDbENLLFNBQVM7UUFDUEMsTUFBTUwsa0RBQVdBO1FBQ2pCTSxTQUFTTCxxREFBY0E7UUFDdkJNLFNBQVNMLHFEQUFjQTtJQUV6QjtBQUNGLEdBQUciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1hcHAvLi9zcmMvcmVkdXgvc3RvcmUudHM/YTViMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb25maWd1cmVTdG9yZSB9IGZyb20gJ0ByZWR1eGpzL3Rvb2xraXQnO1xuaW1wb3J0IHVzZXJSZWR1Y2VyIGZyb20gJy4vdXNlclNsaWNlJztcbmltcG9ydCB3b3Jrb3V0UmVkdWNlciBmcm9tICcuL3dvcmtvdXRTbGljZSc7XG5pbXBvcnQgZGV2TW9kZVJlZHVjZXIgZnJvbSAnLi9kZXZNb2RlU2xpY2UnO1xuXG5leHBvcnQgY29uc3Qgc3RvcmUgPSBjb25maWd1cmVTdG9yZSh7XG4gIHJlZHVjZXI6IHtcbiAgICB1c2VyOiB1c2VyUmVkdWNlcixcbiAgICB3b3Jrb3V0OiB3b3Jrb3V0UmVkdWNlcixcbiAgICBkZXZNb2RlOiBkZXZNb2RlUmVkdWNlcixcbiAgICAvLyBBZGQgb3RoZXIgcmVkdWNlcnMgaGVyZSBhcyB5b3VyIGFwcCBncm93c1xuICB9LFxufSk7XG5cbmV4cG9ydCB0eXBlIFJvb3RTdGF0ZSA9IFJldHVyblR5cGU8dHlwZW9mIHN0b3JlLmdldFN0YXRlPjtcbmV4cG9ydCB0eXBlIEFwcERpc3BhdGNoID0gdHlwZW9mIHN0b3JlLmRpc3BhdGNoOyJdLCJuYW1lcyI6WyJjb25maWd1cmVTdG9yZSIsInVzZXJSZWR1Y2VyIiwid29ya291dFJlZHVjZXIiLCJkZXZNb2RlUmVkdWNlciIsInN0b3JlIiwicmVkdWNlciIsInVzZXIiLCJ3b3Jrb3V0IiwiZGV2TW9kZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/redux/store.ts\n");

/***/ }),

/***/ "./src/redux/userSlice.ts":
/*!********************************!*\
  !*** ./src/redux/userSlice.ts ***!
  \********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   setLoading: () => (/* binding */ setLoading),\n/* harmony export */   setUser: () => (/* binding */ setUser)\n/* harmony export */ });\n/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @reduxjs/toolkit */ \"@reduxjs/toolkit\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__]);\n_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nconst initialState = {\n    currentUser: null,\n    loading: true\n};\nconst userSlice = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.createSlice)({\n    name: \"user\",\n    initialState,\n    reducers: {\n        setUser: (state, action)=>{\n            state.currentUser = action.payload;\n            state.loading = false;\n        },\n        setLoading: (state, action)=>{\n            state.loading = action.payload;\n        }\n    }\n});\nconst { setUser, setLoading } = userSlice.actions;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (userSlice.reducer);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcmVkdXgvdXNlclNsaWNlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBOEQ7QUFROUQsTUFBTUMsZUFBMEI7SUFDOUJDLGFBQWE7SUFDYkMsU0FBUztBQUNYO0FBRUEsTUFBTUMsWUFBWUosNkRBQVdBLENBQUM7SUFDNUJLLE1BQU07SUFDTko7SUFDQUssVUFBVTtRQUNSQyxTQUFTLENBQUNDLE9BQU9DO1lBQ2ZELE1BQU1OLFdBQVcsR0FBR08sT0FBT0MsT0FBTztZQUNsQ0YsTUFBTUwsT0FBTyxHQUFHO1FBQ2xCO1FBQ0FRLFlBQVksQ0FBQ0gsT0FBT0M7WUFDbEJELE1BQU1MLE9BQU8sR0FBR00sT0FBT0MsT0FBTztRQUNoQztJQUNGO0FBQ0Y7QUFFTyxNQUFNLEVBQUVILE9BQU8sRUFBRUksVUFBVSxFQUFFLEdBQUdQLFVBQVVRLE9BQU8sQ0FBQztBQUN6RCxpRUFBZVIsVUFBVVMsT0FBTyxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktYXBwLy4vc3JjL3JlZHV4L3VzZXJTbGljZS50cz9hNDM1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZVNsaWNlLCBQYXlsb2FkQWN0aW9uIH0gZnJvbSAnQHJlZHV4anMvdG9vbGtpdCc7XG5pbXBvcnQgeyBVc2VyIH0gZnJvbSAnLi4vYXBpL2ZpcmViYXNlL3VzZXInO1xuXG5pbnRlcmZhY2UgVXNlclN0YXRlIHtcbiAgY3VycmVudFVzZXI6IFVzZXIgfCBudWxsO1xuICBsb2FkaW5nOiBib29sZWFuO1xufVxuXG5jb25zdCBpbml0aWFsU3RhdGU6IFVzZXJTdGF0ZSA9IHtcbiAgY3VycmVudFVzZXI6IG51bGwsXG4gIGxvYWRpbmc6IHRydWUsXG59O1xuXG5jb25zdCB1c2VyU2xpY2UgPSBjcmVhdGVTbGljZSh7XG4gIG5hbWU6ICd1c2VyJyxcbiAgaW5pdGlhbFN0YXRlLFxuICByZWR1Y2Vyczoge1xuICAgIHNldFVzZXI6IChzdGF0ZSwgYWN0aW9uOiBQYXlsb2FkQWN0aW9uPFVzZXIgfCBudWxsPikgPT4ge1xuICAgICAgc3RhdGUuY3VycmVudFVzZXIgPSBhY3Rpb24ucGF5bG9hZDtcbiAgICAgIHN0YXRlLmxvYWRpbmcgPSBmYWxzZTtcbiAgICB9LFxuICAgIHNldExvYWRpbmc6IChzdGF0ZSwgYWN0aW9uOiBQYXlsb2FkQWN0aW9uPGJvb2xlYW4+KSA9PiB7XG4gICAgICBzdGF0ZS5sb2FkaW5nID0gYWN0aW9uLnBheWxvYWQ7XG4gICAgfSxcbiAgfSxcbn0pO1xuXG5leHBvcnQgY29uc3QgeyBzZXRVc2VyLCBzZXRMb2FkaW5nIH0gPSB1c2VyU2xpY2UuYWN0aW9ucztcbmV4cG9ydCBkZWZhdWx0IHVzZXJTbGljZS5yZWR1Y2VyOyJdLCJuYW1lcyI6WyJjcmVhdGVTbGljZSIsImluaXRpYWxTdGF0ZSIsImN1cnJlbnRVc2VyIiwibG9hZGluZyIsInVzZXJTbGljZSIsIm5hbWUiLCJyZWR1Y2VycyIsInNldFVzZXIiLCJzdGF0ZSIsImFjdGlvbiIsInBheWxvYWQiLCJzZXRMb2FkaW5nIiwiYWN0aW9ucyIsInJlZHVjZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/redux/userSlice.ts\n");

/***/ }),

/***/ "./src/redux/workoutSlice.ts":
/*!***********************************!*\
  !*** ./src/redux/workoutSlice.ts ***!
  \***********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   resetWorkoutState: () => (/* binding */ resetWorkoutState),\n/* harmony export */   setCurrentExerciseLogs: () => (/* binding */ setCurrentExerciseLogs),\n/* harmony export */   setCurrentWorkout: () => (/* binding */ setCurrentWorkout),\n/* harmony export */   setWorkoutSummary: () => (/* binding */ setWorkoutSummary)\n/* harmony export */ });\n/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @reduxjs/toolkit */ \"@reduxjs/toolkit\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__]);\n_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nconst initialState = {\n    currentWorkout: null,\n    currentExerciseLogs: [],\n    workoutSummary: null\n};\nconst workoutSlice = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.createSlice)({\n    name: \"workout\",\n    initialState,\n    reducers: {\n        setCurrentWorkout: (state, action)=>{\n            state.currentWorkout = action.payload;\n        },\n        setCurrentExerciseLogs: (state, action)=>{\n            state.currentExerciseLogs = action.payload;\n        },\n        setWorkoutSummary: (state, action)=>{\n            state.workoutSummary = action.payload;\n        },\n        resetWorkoutState: (state)=>{\n            state.currentWorkout = null;\n            state.currentExerciseLogs = [];\n            state.workoutSummary = null;\n        }\n    }\n});\nconst { setCurrentWorkout, setCurrentExerciseLogs, setWorkoutSummary, resetWorkoutState } = workoutSlice.actions;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (workoutSlice.reducer);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcmVkdXgvd29ya291dFNsaWNlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUE4RDtBQVU5RCxNQUFNQyxlQUE2QjtJQUNqQ0MsZ0JBQWdCO0lBQ2hCQyxxQkFBcUIsRUFBRTtJQUN2QkMsZ0JBQWdCO0FBQ2xCO0FBRUEsTUFBTUMsZUFBZUwsNkRBQVdBLENBQUM7SUFDL0JNLE1BQU07SUFDTkw7SUFDQU0sVUFBVTtRQUNSQyxtQkFBbUIsQ0FBQ0MsT0FBT0M7WUFDekJELE1BQU1QLGNBQWMsR0FBR1EsT0FBT0MsT0FBTztRQUN2QztRQUNBQyx3QkFBd0IsQ0FBQ0gsT0FBT0M7WUFDOUJELE1BQU1OLG1CQUFtQixHQUFHTyxPQUFPQyxPQUFPO1FBQzVDO1FBQ0FFLG1CQUFtQixDQUFDSixPQUFPQztZQUN6QkQsTUFBTUwsY0FBYyxHQUFHTSxPQUFPQyxPQUFPO1FBQ3ZDO1FBQ0FHLG1CQUFtQixDQUFDTDtZQUNsQkEsTUFBTVAsY0FBYyxHQUFHO1lBQ3ZCTyxNQUFNTixtQkFBbUIsR0FBRyxFQUFFO1lBQzlCTSxNQUFNTCxjQUFjLEdBQUc7UUFDekI7SUFDRjtBQUNGO0FBRU8sTUFBTSxFQUFFSSxpQkFBaUIsRUFBRUksc0JBQXNCLEVBQUVDLGlCQUFpQixFQUFFQyxpQkFBaUIsRUFBRSxHQUFHVCxhQUFhVSxPQUFPLENBQUM7QUFDeEgsaUVBQWVWLGFBQWFXLE9BQU8sRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL215LWFwcC8uL3NyYy9yZWR1eC93b3Jrb3V0U2xpY2UudHM/ZTk1ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVTbGljZSwgUGF5bG9hZEFjdGlvbiB9IGZyb20gJ0ByZWR1eGpzL3Rvb2xraXQnO1xuaW1wb3J0IHsgV29ya291dCwgV29ya291dFN1bW1hcnkgfSBmcm9tICcuLi9hcGkvZmlyZWJhc2Uvd29ya291dC90eXBlcyc7XG5pbXBvcnQgeyBFeGVyY2lzZUxvZyB9IGZyb20gJy4uL2FwaS9maXJlYmFzZS9leGVyY2lzZS90eXBlcyc7XG5cbmludGVyZmFjZSBXb3Jrb3V0U3RhdGUge1xuICBjdXJyZW50V29ya291dDogV29ya291dCB8IG51bGw7XG4gIGN1cnJlbnRFeGVyY2lzZUxvZ3M6IEV4ZXJjaXNlTG9nW107XG4gIHdvcmtvdXRTdW1tYXJ5OiBXb3Jrb3V0U3VtbWFyeSB8IG51bGw7XG59XG5cbmNvbnN0IGluaXRpYWxTdGF0ZTogV29ya291dFN0YXRlID0ge1xuICBjdXJyZW50V29ya291dDogbnVsbCxcbiAgY3VycmVudEV4ZXJjaXNlTG9nczogW10sXG4gIHdvcmtvdXRTdW1tYXJ5OiBudWxsXG59O1xuXG5jb25zdCB3b3Jrb3V0U2xpY2UgPSBjcmVhdGVTbGljZSh7XG4gIG5hbWU6ICd3b3Jrb3V0JyxcbiAgaW5pdGlhbFN0YXRlLFxuICByZWR1Y2Vyczoge1xuICAgIHNldEN1cnJlbnRXb3Jrb3V0OiAoc3RhdGUsIGFjdGlvbjogUGF5bG9hZEFjdGlvbjxXb3Jrb3V0IHwgbnVsbD4pID0+IHtcbiAgICAgIHN0YXRlLmN1cnJlbnRXb3Jrb3V0ID0gYWN0aW9uLnBheWxvYWQ7XG4gICAgfSxcbiAgICBzZXRDdXJyZW50RXhlcmNpc2VMb2dzOiAoc3RhdGUsIGFjdGlvbjogUGF5bG9hZEFjdGlvbjxFeGVyY2lzZUxvZ1tdPikgPT4ge1xuICAgICAgc3RhdGUuY3VycmVudEV4ZXJjaXNlTG9ncyA9IGFjdGlvbi5wYXlsb2FkO1xuICAgIH0sXG4gICAgc2V0V29ya291dFN1bW1hcnk6IChzdGF0ZSwgYWN0aW9uOiBQYXlsb2FkQWN0aW9uPFdvcmtvdXRTdW1tYXJ5IHwgbnVsbD4pID0+IHtcbiAgICAgIHN0YXRlLndvcmtvdXRTdW1tYXJ5ID0gYWN0aW9uLnBheWxvYWQ7XG4gICAgfSxcbiAgICByZXNldFdvcmtvdXRTdGF0ZTogKHN0YXRlKSA9PiB7XG4gICAgICBzdGF0ZS5jdXJyZW50V29ya291dCA9IG51bGw7XG4gICAgICBzdGF0ZS5jdXJyZW50RXhlcmNpc2VMb2dzID0gW107XG4gICAgICBzdGF0ZS53b3Jrb3V0U3VtbWFyeSA9IG51bGw7XG4gICAgfSxcbiAgfSxcbn0pO1xuXG5leHBvcnQgY29uc3QgeyBzZXRDdXJyZW50V29ya291dCwgc2V0Q3VycmVudEV4ZXJjaXNlTG9ncywgc2V0V29ya291dFN1bW1hcnksIHJlc2V0V29ya291dFN0YXRlIH0gPSB3b3Jrb3V0U2xpY2UuYWN0aW9ucztcbmV4cG9ydCBkZWZhdWx0IHdvcmtvdXRTbGljZS5yZWR1Y2VyOyJdLCJuYW1lcyI6WyJjcmVhdGVTbGljZSIsImluaXRpYWxTdGF0ZSIsImN1cnJlbnRXb3Jrb3V0IiwiY3VycmVudEV4ZXJjaXNlTG9ncyIsIndvcmtvdXRTdW1tYXJ5Iiwid29ya291dFNsaWNlIiwibmFtZSIsInJlZHVjZXJzIiwic2V0Q3VycmVudFdvcmtvdXQiLCJzdGF0ZSIsImFjdGlvbiIsInBheWxvYWQiLCJzZXRDdXJyZW50RXhlcmNpc2VMb2dzIiwic2V0V29ya291dFN1bW1hcnkiLCJyZXNldFdvcmtvdXRTdGF0ZSIsImFjdGlvbnMiLCJyZWR1Y2VyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/redux/workoutSlice.ts\n");

/***/ }),

/***/ "./src/utils/formatDate.ts":
/*!*********************************!*\
  !*** ./src/utils/formatDate.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   convertFirestoreTimestamp: () => (/* binding */ convertFirestoreTimestamp),\n/* harmony export */   dateToUnixTimestamp: () => (/* binding */ dateToUnixTimestamp)\n/* harmony export */ });\nconst convertFirestoreTimestamp = (timestamp)=>{\n    // If null or undefined, return the current date.\n    if (timestamp == null) return new Date();\n    // If it's already a Date, return it.\n    if (timestamp instanceof Date) return timestamp;\n    // Convert to number if it's a string (using parseFloat preserves decimals).\n    const numTimestamp = typeof timestamp === \"string\" ? parseFloat(timestamp) : timestamp;\n    // If the timestamp looks like seconds (less than 10 billion), convert to milliseconds.\n    if (numTimestamp < 10000000000) {\n        return new Date(numTimestamp * 1000);\n    }\n    // Otherwise, assume it's in milliseconds.\n    return new Date(numTimestamp);\n};\nconst dateToUnixTimestamp = (date)=>{\n    return Math.floor(date.getTime() / 1000);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbHMvZm9ybWF0RGF0ZS50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUFPLE1BQU1BLDRCQUE0QixDQUN2Q0M7SUFFQSxpREFBaUQ7SUFDakQsSUFBSUEsYUFBYSxNQUFNLE9BQU8sSUFBSUM7SUFFbEMscUNBQXFDO0lBQ3JDLElBQUlELHFCQUFxQkMsTUFBTSxPQUFPRDtJQUV0Qyw0RUFBNEU7SUFDNUUsTUFBTUUsZUFDSixPQUFPRixjQUFjLFdBQVdHLFdBQVdILGFBQWFBO0lBRTFELHVGQUF1RjtJQUN2RixJQUFJRSxlQUFlLGFBQWE7UUFDOUIsT0FBTyxJQUFJRCxLQUFLQyxlQUFlO0lBQ2pDO0lBRUEsMENBQTBDO0lBQzFDLE9BQU8sSUFBSUQsS0FBS0M7QUFDbEIsRUFBRTtBQUVPLE1BQU1FLHNCQUFzQixDQUFDQztJQUNsQyxPQUFPQyxLQUFLQyxLQUFLLENBQUNGLEtBQUtHLE9BQU8sS0FBSztBQUNyQyxFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktYXBwLy4vc3JjL3V0aWxzL2Zvcm1hdERhdGUudHM/YTM4MiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgY29udmVydEZpcmVzdG9yZVRpbWVzdGFtcCA9IChcbiAgdGltZXN0YW1wOiBudW1iZXIgfCBzdHJpbmcgfCBEYXRlIHwgbnVsbCB8IHVuZGVmaW5lZFxuKTogRGF0ZSA9PiB7XG4gIC8vIElmIG51bGwgb3IgdW5kZWZpbmVkLCByZXR1cm4gdGhlIGN1cnJlbnQgZGF0ZS5cbiAgaWYgKHRpbWVzdGFtcCA9PSBudWxsKSByZXR1cm4gbmV3IERhdGUoKTtcblxuICAvLyBJZiBpdCdzIGFscmVhZHkgYSBEYXRlLCByZXR1cm4gaXQuXG4gIGlmICh0aW1lc3RhbXAgaW5zdGFuY2VvZiBEYXRlKSByZXR1cm4gdGltZXN0YW1wO1xuXG4gIC8vIENvbnZlcnQgdG8gbnVtYmVyIGlmIGl0J3MgYSBzdHJpbmcgKHVzaW5nIHBhcnNlRmxvYXQgcHJlc2VydmVzIGRlY2ltYWxzKS5cbiAgY29uc3QgbnVtVGltZXN0YW1wID1cbiAgICB0eXBlb2YgdGltZXN0YW1wID09PSAnc3RyaW5nJyA/IHBhcnNlRmxvYXQodGltZXN0YW1wKSA6IHRpbWVzdGFtcDtcblxuICAvLyBJZiB0aGUgdGltZXN0YW1wIGxvb2tzIGxpa2Ugc2Vjb25kcyAobGVzcyB0aGFuIDEwIGJpbGxpb24pLCBjb252ZXJ0IHRvIG1pbGxpc2Vjb25kcy5cbiAgaWYgKG51bVRpbWVzdGFtcCA8IDEwMDAwMDAwMDAwKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKG51bVRpbWVzdGFtcCAqIDEwMDApO1xuICB9XG5cbiAgLy8gT3RoZXJ3aXNlLCBhc3N1bWUgaXQncyBpbiBtaWxsaXNlY29uZHMuXG4gIHJldHVybiBuZXcgRGF0ZShudW1UaW1lc3RhbXApO1xufTtcblxuICBleHBvcnQgY29uc3QgZGF0ZVRvVW5peFRpbWVzdGFtcCA9IChkYXRlOiBEYXRlKTogbnVtYmVyID0+IHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcihkYXRlLmdldFRpbWUoKSAvIDEwMDApO1xuICB9OyJdLCJuYW1lcyI6WyJjb252ZXJ0RmlyZXN0b3JlVGltZXN0YW1wIiwidGltZXN0YW1wIiwiRGF0ZSIsIm51bVRpbWVzdGFtcCIsInBhcnNlRmxvYXQiLCJkYXRlVG9Vbml4VGltZXN0YW1wIiwiZGF0ZSIsIk1hdGgiLCJmbG9vciIsImdldFRpbWUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/utils/formatDate.ts\n");

/***/ }),

/***/ "./src/utils/timestamp.ts":
/*!********************************!*\
  !*** ./src/utils/timestamp.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   convertTimestamp: () => (/* binding */ convertTimestamp),\n/* harmony export */   serverTimestamp: () => (/* binding */ serverTimestamp),\n/* harmony export */   timestampToNumeric: () => (/* binding */ timestampToNumeric)\n/* harmony export */ });\n/**\n * Converts various timestamp formats to an ISO string.\n * @param timestamp - The timestamp to be converted.\n * @returns The ISO string representation of the date or `null` if invalid.\n */ const convertTimestamp = (timestamp)=>{\n    if (!timestamp) return null;\n    if (timestamp._seconds) return new Date(timestamp._seconds * 1000).toISOString(); // Firestore proto\n    if (timestamp.seconds) return new Date(timestamp.seconds * 1000).toISOString(); // Firestore `seconds`\n    if (timestamp.toDate && typeof timestamp.toDate === \"function\") return timestamp.toDate().toISOString(); // Firestore `Timestamp`\n    if (timestamp instanceof Date) return timestamp.toISOString(); // Native Date object\n    return null;\n};\nconst serverTimestamp = ()=>{\n    return Date.now() / 1000; // Convert milliseconds to seconds\n};\n/**\n   * Converts a timestamp to its numeric representation in seconds since epoch\n   * @param timestamp - The timestamp to convert\n   * @returns Numeric representation in seconds\n   */ const timestampToNumeric = (timestamp)=>{\n    if (!timestamp) return serverTimestamp();\n    if (timestamp._seconds) return timestamp._seconds; // Firestore proto\n    if (timestamp.seconds) return timestamp.seconds; // Firestore `seconds`\n    if (timestamp.toDate && typeof timestamp.toDate === \"function\") {\n        return Math.floor(timestamp.toDate().getTime() / 1000); // Firestore `Timestamp`\n    }\n    if (timestamp instanceof Date) return Math.floor(timestamp.getTime() / 1000); // Native Date object\n    return serverTimestamp();\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbHMvdGltZXN0YW1wLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOzs7O0NBSUMsR0FDTSxNQUFNQSxtQkFBbUIsQ0FBQ0M7SUFDN0IsSUFBSSxDQUFDQSxXQUFXLE9BQU87SUFDdkIsSUFBSUEsVUFBVUMsUUFBUSxFQUFFLE9BQU8sSUFBSUMsS0FBS0YsVUFBVUMsUUFBUSxHQUFHLE1BQU1FLFdBQVcsSUFBSSxrQkFBa0I7SUFDcEcsSUFBSUgsVUFBVUksT0FBTyxFQUFFLE9BQU8sSUFBSUYsS0FBS0YsVUFBVUksT0FBTyxHQUFHLE1BQU1ELFdBQVcsSUFBSyxzQkFBc0I7SUFDdkcsSUFBSUgsVUFBVUssTUFBTSxJQUFJLE9BQU9MLFVBQVVLLE1BQU0sS0FBSyxZQUFZLE9BQU9MLFVBQVVLLE1BQU0sR0FBR0YsV0FBVyxJQUFJLHdCQUF3QjtJQUNqSSxJQUFJSCxxQkFBcUJFLE1BQU0sT0FBT0YsVUFBVUcsV0FBVyxJQUFJLHFCQUFxQjtJQUNwRixPQUFPO0FBQ1QsRUFBRTtBQUVLLE1BQU1HLGtCQUFrQjtJQUM3QixPQUFPSixLQUFLSyxHQUFHLEtBQUssTUFBTSxrQ0FBa0M7QUFDOUQsRUFBRTtBQUVGOzs7O0dBSUMsR0FDTSxNQUFNQyxxQkFBcUIsQ0FBQ1I7SUFDakMsSUFBSSxDQUFDQSxXQUFXLE9BQU9NO0lBRXZCLElBQUlOLFVBQVVDLFFBQVEsRUFBRSxPQUFPRCxVQUFVQyxRQUFRLEVBQUUsa0JBQWtCO0lBQ3JFLElBQUlELFVBQVVJLE9BQU8sRUFBRSxPQUFPSixVQUFVSSxPQUFPLEVBQUksc0JBQXNCO0lBQ3pFLElBQUlKLFVBQVVLLE1BQU0sSUFBSSxPQUFPTCxVQUFVSyxNQUFNLEtBQUssWUFBWTtRQUM5RCxPQUFPSSxLQUFLQyxLQUFLLENBQUNWLFVBQVVLLE1BQU0sR0FBR00sT0FBTyxLQUFLLE9BQVEsd0JBQXdCO0lBQ25GO0lBQ0EsSUFBSVgscUJBQXFCRSxNQUFNLE9BQU9PLEtBQUtDLEtBQUssQ0FBQ1YsVUFBVVcsT0FBTyxLQUFLLE9BQU8scUJBQXFCO0lBRW5HLE9BQU9MO0FBQ1QsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL215LWFwcC8uL3NyYy91dGlscy90aW1lc3RhbXAudHM/NmJiNSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvbnZlcnRzIHZhcmlvdXMgdGltZXN0YW1wIGZvcm1hdHMgdG8gYW4gSVNPIHN0cmluZy5cbiAqIEBwYXJhbSB0aW1lc3RhbXAgLSBUaGUgdGltZXN0YW1wIHRvIGJlIGNvbnZlcnRlZC5cbiAqIEByZXR1cm5zIFRoZSBJU08gc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBkYXRlIG9yIGBudWxsYCBpZiBpbnZhbGlkLlxuICovXG5leHBvcnQgY29uc3QgY29udmVydFRpbWVzdGFtcCA9ICh0aW1lc3RhbXA6IGFueSk6IHN0cmluZyB8IG51bGwgPT4ge1xuICAgIGlmICghdGltZXN0YW1wKSByZXR1cm4gbnVsbDtcbiAgICBpZiAodGltZXN0YW1wLl9zZWNvbmRzKSByZXR1cm4gbmV3IERhdGUodGltZXN0YW1wLl9zZWNvbmRzICogMTAwMCkudG9JU09TdHJpbmcoKTsgLy8gRmlyZXN0b3JlIHByb3RvXG4gICAgaWYgKHRpbWVzdGFtcC5zZWNvbmRzKSByZXR1cm4gbmV3IERhdGUodGltZXN0YW1wLnNlY29uZHMgKiAxMDAwKS50b0lTT1N0cmluZygpOyAgLy8gRmlyZXN0b3JlIGBzZWNvbmRzYFxuICAgIGlmICh0aW1lc3RhbXAudG9EYXRlICYmIHR5cGVvZiB0aW1lc3RhbXAudG9EYXRlID09PSAnZnVuY3Rpb24nKSByZXR1cm4gdGltZXN0YW1wLnRvRGF0ZSgpLnRvSVNPU3RyaW5nKCk7IC8vIEZpcmVzdG9yZSBgVGltZXN0YW1wYFxuICAgIGlmICh0aW1lc3RhbXAgaW5zdGFuY2VvZiBEYXRlKSByZXR1cm4gdGltZXN0YW1wLnRvSVNPU3RyaW5nKCk7IC8vIE5hdGl2ZSBEYXRlIG9iamVjdFxuICAgIHJldHVybiBudWxsO1xuICB9O1xuICBcbiAgZXhwb3J0IGNvbnN0IHNlcnZlclRpbWVzdGFtcCA9ICgpOiBudW1iZXIgPT4ge1xuICAgIHJldHVybiBEYXRlLm5vdygpIC8gMTAwMDsgLy8gQ29udmVydCBtaWxsaXNlY29uZHMgdG8gc2Vjb25kc1xuICB9O1xuICBcbiAgLyoqXG4gICAqIENvbnZlcnRzIGEgdGltZXN0YW1wIHRvIGl0cyBudW1lcmljIHJlcHJlc2VudGF0aW9uIGluIHNlY29uZHMgc2luY2UgZXBvY2hcbiAgICogQHBhcmFtIHRpbWVzdGFtcCAtIFRoZSB0aW1lc3RhbXAgdG8gY29udmVydFxuICAgKiBAcmV0dXJucyBOdW1lcmljIHJlcHJlc2VudGF0aW9uIGluIHNlY29uZHNcbiAgICovXG4gIGV4cG9ydCBjb25zdCB0aW1lc3RhbXBUb051bWVyaWMgPSAodGltZXN0YW1wPzogRGF0ZSB8IGFueSk6IG51bWJlciA9PiB7XG4gICAgaWYgKCF0aW1lc3RhbXApIHJldHVybiBzZXJ2ZXJUaW1lc3RhbXAoKTtcbiAgICBcbiAgICBpZiAodGltZXN0YW1wLl9zZWNvbmRzKSByZXR1cm4gdGltZXN0YW1wLl9zZWNvbmRzOyAvLyBGaXJlc3RvcmUgcHJvdG9cbiAgICBpZiAodGltZXN0YW1wLnNlY29uZHMpIHJldHVybiB0aW1lc3RhbXAuc2Vjb25kczsgICAvLyBGaXJlc3RvcmUgYHNlY29uZHNgXG4gICAgaWYgKHRpbWVzdGFtcC50b0RhdGUgJiYgdHlwZW9mIHRpbWVzdGFtcC50b0RhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBNYXRoLmZsb29yKHRpbWVzdGFtcC50b0RhdGUoKS5nZXRUaW1lKCkgLyAxMDAwKTsgIC8vIEZpcmVzdG9yZSBgVGltZXN0YW1wYFxuICAgIH1cbiAgICBpZiAodGltZXN0YW1wIGluc3RhbmNlb2YgRGF0ZSkgcmV0dXJuIE1hdGguZmxvb3IodGltZXN0YW1wLmdldFRpbWUoKSAvIDEwMDApOyAvLyBOYXRpdmUgRGF0ZSBvYmplY3RcbiAgICBcbiAgICByZXR1cm4gc2VydmVyVGltZXN0YW1wKCk7XG4gIH07Il0sIm5hbWVzIjpbImNvbnZlcnRUaW1lc3RhbXAiLCJ0aW1lc3RhbXAiLCJfc2Vjb25kcyIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInNlY29uZHMiLCJ0b0RhdGUiLCJzZXJ2ZXJUaW1lc3RhbXAiLCJub3ciLCJ0aW1lc3RhbXBUb051bWVyaWMiLCJNYXRoIiwiZmxvb3IiLCJnZXRUaW1lIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/utils/timestamp.ts\n");

/***/ }),

/***/ "./src/components/Footer/GlisteningButton.css":
/*!****************************************************!*\
  !*** ./src/components/Footer/GlisteningButton.css ***!
  \****************************************************/
/***/ (() => {



/***/ }),

/***/ "./src/index.css":
/*!***********************!*\
  !*** ./src/index.css ***!
  \***********************/
/***/ (() => {



/***/ }),

/***/ "./src/styles/animations.css":
/*!***********************************!*\
  !*** ./src/styles/animations.css ***!
  \***********************************/
/***/ (() => {



/***/ }),

/***/ "next/dist/compiled/next-server/pages.runtime.dev.js":
/*!**********************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages.runtime.dev.js" ***!
  \**********************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/pages.runtime.dev.js");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("react");

/***/ }),

/***/ "react-dom":
/*!****************************!*\
  !*** external "react-dom" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("react-dom");

/***/ }),

/***/ "react/jsx-dev-runtime":
/*!****************************************!*\
  !*** external "react/jsx-dev-runtime" ***!
  \****************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-dev-runtime");

/***/ }),

/***/ "react/jsx-runtime":
/*!************************************!*\
  !*** external "react/jsx-runtime" ***!
  \************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-runtime");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "@reduxjs/toolkit":
/*!***********************************!*\
  !*** external "@reduxjs/toolkit" ***!
  \***********************************/
/***/ ((module) => {

"use strict";
module.exports = import("@reduxjs/toolkit");;

/***/ }),

/***/ "firebase/app":
/*!*******************************!*\
  !*** external "firebase/app" ***!
  \*******************************/
/***/ ((module) => {

"use strict";
module.exports = import("firebase/app");;

/***/ }),

/***/ "firebase/auth":
/*!********************************!*\
  !*** external "firebase/auth" ***!
  \********************************/
/***/ ((module) => {

"use strict";
module.exports = import("firebase/auth");;

/***/ }),

/***/ "firebase/firestore":
/*!*************************************!*\
  !*** external "firebase/firestore" ***!
  \*************************************/
/***/ ((module) => {

"use strict";
module.exports = import("firebase/firestore");;

/***/ }),

/***/ "firebase/storage":
/*!***********************************!*\
  !*** external "firebase/storage" ***!
  \***********************************/
/***/ ((module) => {

"use strict";
module.exports = import("firebase/storage");;

/***/ }),

/***/ "react-redux":
/*!******************************!*\
  !*** external "react-redux" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = import("react-redux");;

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@swc","vendor-chunks/date-fns","vendor-chunks/lucide-react"], () => (__webpack_exec__("./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F_error&preferredRegion=&absolutePagePath=private-next-pages%2F_error&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();
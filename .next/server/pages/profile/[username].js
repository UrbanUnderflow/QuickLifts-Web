"use strict";(()=>{var e={};e.id=240,e.ids=[240,888],e.modules={4586:(e,t,s)=>{s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{config:()=>h,default:()=>u,getServerSideProps:()=>x,getStaticPaths:()=>d,getStaticProps:()=>p,reportWebVitals:()=>f,routeModule:()=>w,unstable_getServerProps:()=>v,unstable_getServerSideProps:()=>S,unstable_getStaticParams:()=>b,unstable_getStaticPaths:()=>j,unstable_getStaticProps:()=>g});var a=s(7093),i=s(5244),l=s(1323),o=s(1070),n=s(3893),c=s(3284),m=e([n,c]);[n,c]=m.then?(await m)():m;let u=(0,l.l)(c,"default"),p=(0,l.l)(c,"getStaticProps"),d=(0,l.l)(c,"getStaticPaths"),x=(0,l.l)(c,"getServerSideProps"),h=(0,l.l)(c,"config"),f=(0,l.l)(c,"reportWebVitals"),g=(0,l.l)(c,"unstable_getStaticProps"),j=(0,l.l)(c,"unstable_getStaticPaths"),b=(0,l.l)(c,"unstable_getStaticParams"),v=(0,l.l)(c,"unstable_getServerProps"),S=(0,l.l)(c,"unstable_getServerSideProps"),w=new a.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/profile/[username]",pathname:"/profile/[username]",bundlePath:"",filename:""},components:{App:n.default,Document:o.default},userland:c});r()}catch(e){r(e)}})},6904:(e,t,s)=>{s.d(t,{Z:()=>l});var r=s(997);s(6689);var a=s(968),i=s.n(a);let l=({userData:e})=>{let t=`${e.displayName}'s Profile | Pulse`,s=e.bio||"Check out this fitness profile on Pulse",a=e.profileImage?.profileImageURL||"https://fitwithpulse.ai/default-profile.png",l=`https://fitwithpulse.ai/${e.username}`;return(0,r.jsxs)(i(),{children:[r.jsx("title",{children:t}),r.jsx("meta",{name:"description",content:s}),r.jsx("meta",{property:"og:title",content:t}),r.jsx("meta",{property:"og:description",content:s}),r.jsx("meta",{property:"og:image",content:a}),r.jsx("meta",{property:"og:url",content:l}),r.jsx("meta",{property:"og:type",content:"profile"}),r.jsx("meta",{property:"og:site_name",content:"Pulse Fitness"}),r.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),r.jsx("meta",{name:"twitter:title",content:t}),r.jsx("meta",{name:"twitter:description",content:s}),r.jsx("meta",{name:"twitter:image",content:a}),r.jsx("link",{rel:"canonical",href:l}),r.jsx("link",{rel:"preconnect",href:"https://fitwithpulse.ai"}),r.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]})}},3284:(e,t,s)=>{s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{default:()=>h,getServerSideProps:()=>g});var a=s(997),i=s(6689),l=s(1163),o=s(5647),n=s(6590),c=s(4565),m=s(6576),u=s(1269);s(452);var p=s(5881),d=s(6904),x=e([c]);c=(x.then?(await x)():x)[0];let f={ACTIVITY:"activity",EXERICSES:"moves",CHALLENGES:"challenges"};function h({initialUserData:e,error:t}){let{username:s}=(0,l.useRouter)().query,[r,c]=(0,i.useState)(f.EXERICSES),[x,h]=(0,i.useState)(e),[g,j]=(0,i.useState)([]),[b,v]=(0,i.useState)([]),[S,w]=(0,i.useState)([]),[N,y]=(0,i.useState)([]),[P,k]=(0,i.useState)([]),[E,C]=(0,i.useState)([]),[I,z]=(0,i.useState)(!e),[_,q]=(0,i.useState)(t||null),[L,U]=(0,i.useState)(null),[R,V]=(0,i.useState)(!1);if(I||_||!x){let e={displayName:"Pulse Profile",bio:"Discover fitness profiles on Pulse",username:s||"",profileImage:{profileImageURL:"https://fitwithpulse.ai/default-profile.png"}};return(0,a.jsxs)(a.Fragment,{children:[a.jsx(d.Z,{userData:e,bio:e.bio,username:e.username}),a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:I?"Loading...":"Profile not found"})]})}let $={instagram:x.creator?.instagramHandle,twitter:x.creator?.twitterHandle,youtube:x.creator?.youtubeUrl};return(0,a.jsxs)("div",{className:"min-h-screen bg-zinc-900",children:[a.jsx(d.Z,{userData:{displayName:x.displayName,bio:x.bio||"User bio goes here",username:x.username,profileImage:x.profileImage},bio:x.bio||"User bio goes here",username:x.username}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx("div",{className:"h-48 bg-gradient-to-b from-zinc-800 to-zinc-900"}),a.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"relative -mt-24",children:[a.jsx("div",{className:"relative inline-block",children:a.jsx("img",{src:x.profileImage?.profileImageURL||"/api/placeholder/96/96",alt:x.displayName,className:"w-24 h-24 rounded-full border-4 border-zinc-900",onClick:()=>V(!0)})}),(0,a.jsxs)("div",{className:"mt-4 text-white",children:[a.jsx("h1",{className:"text-2xl font-bold",children:x.displayName}),(0,a.jsxs)("p",{className:"text-zinc-400",children:["@",x.username]}),(0,a.jsxs)("div",{className:"mt-2 flex items-center gap-4 text-sm text-zinc-400",children:[(0,a.jsxs)("span",{children:[P.length," followers"]}),a.jsx("span",{className:"w-1 h-1 bg-zinc-600 rounded-full"}),(0,a.jsxs)("span",{children:[E.length," following"]})]}),a.jsx("p",{className:"mt-4 text-zinc-300",children:x.bio}),a.jsx("div",{className:"mt-4 flex gap-6",children:Object.entries($).map(([e,t])=>t?a.jsx("a",{href:function(e,t){switch(e){case"instagram":return`https://instagram.com/${t}`;case"twitter":return`https://twitter.com/${t}`;case"youtube":return t;default:return"#"}}(e,t),target:"_blank",rel:"noopener noreferrer",className:"text-zinc-400 hover:text-white transition-colors",children:a.jsx("img",{src:`/${e}.svg`,alt:e,className:"w-6 h-6 hover:opacity-80"})},e):null)})]}),a.jsx("div",{className:"mt-8 border-b border-zinc-700 overflow-x-auto",children:a.jsx("nav",{className:"flex whitespace-nowrap min-w-full sm:min-w-0 px-4 sm:px-0",children:a.jsx("div",{className:"flex gap-8 pb-2 sm:pb-0",children:Object.values(f).map(e=>(0,a.jsxs)("button",{onClick:()=>c(e),className:`pb-4 px-2 text-sm font-medium transition-colors relative flex-shrink-0
                        ${r===e?"text-white":"text-zinc-400 hover:text-zinc-300"}`,children:[e.charAt(0).toUpperCase()+e.slice(1),r===e&&a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-white"})]},e))})})}),(0,a.jsxs)("div",{className:"mt-8",children:[r===f.ACTIVITY&&a.jsx("div",{className:"px-5",children:0===N.length?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center p-8",children:[a.jsx(m.Z,{className:"w-12 h-12 text-white/20"}),(0,a.jsxs)("h3",{className:"mt-4 text-white font-medium",children:[x.username," has no activities yet"]})]}):a.jsx(u.Z,{activities:N,workoutSummaries:S,userVideos:g,username:x.username,isPublicProfile:!0,onWorkoutSelect:e=>{console.log("Selected workout summary:",e)},onVideoSelect:e=>{console.log("Selected exercise:",e)},onProfileSelect:e=>{console.log("Selected user profile:",e)}})}),r===f.EXERICSES&&(0,a.jsxs)("div",{className:"px-5",children:[(0,a.jsxs)("h2",{className:"text-xl text-white font-semibold mb-4",children:[x.username,"'s Videos (",g.length,")"]}),a.jsx(o.Z,{userVideos:g,onSelectVideo:e=>{console.log(e),U(e)}})]}),r===f.CHALLENGES&&a.jsx(n.M,{activeChallenges:b,onSelectChallenge:e=>{console.log(e)}})]})]})}),L&&a.jsx(p.default,{exercise:L,user:x,onBack:()=>U(null),onProfileClick:()=>{console.log("Profile clicked")}}),R&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:(0,a.jsxs)("div",{className:"relative bg-zinc-800 p-4 rounded shadow-md max-w-2xl w-full mx-2",children:[a.jsx("button",{onClick:()=>V(!1),className:"absolute top-2 right-2 text-zinc-300 hover:text-white",children:"âœ•"}),a.jsx("img",{src:x.profileImage?.profileImageURL||"/api/placeholder/96/96",alt:x.displayName,className:"max-w-full max-h-[80vh] object-contain mx-auto"})]})})]})]})}let g=async e=>{let{username:t}=e.params||{};if(!t||"string"!=typeof t)return{redirect:{destination:"/",permanent:!1}};if(["checklist","support","privacy","terms"].includes(t.toLowerCase()))return{redirect:{destination:`/${t}`,permanent:!1}};try{let e=await fetch(`https://fitwithpulse.ai/.netlify/functions/get-user-profile?username=${t}`);if(!e.ok)throw Error("Profile not found");let s=await e.json();if(!s.success)throw Error(s.error||"Failed to load profile");return{props:{initialUserData:s.user,error:null}}}catch(e){return console.error("Error in getServerSideProps:",e),{props:{initialUserData:null,error:e instanceof Error?e.message:"Failed to load profile"}}}};r()}catch(e){r(e)}})},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{e.exports=require("next/head")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},2048:e=>{e.exports=require("fs")},5315:e=>{e.exports=require("path")},6162:e=>{e.exports=require("stream")},1568:e=>{e.exports=require("zlib")},3258:e=>{e.exports=import("@reduxjs/toolkit")},3745:e=>{e.exports=import("firebase/app")},401:e=>{e.exports=import("firebase/auth")},1492:e=>{e.exports=import("firebase/firestore")},3392:e=>{e.exports=import("firebase/storage")},3291:e=>{e.exports=import("react-redux")}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[567,565,859,748,684,893,174,284,380],()=>s(4586));module.exports=r})();
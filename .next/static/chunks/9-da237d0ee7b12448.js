"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9],{3530:function(e,t,i){i.d(t,{Ax:function(){return l},cd:function(){return c},lg:function(){return d},mn:function(){return r}});var s,r,o=i(4454),a=i(1316);(s=r||(r={})).Biceps="biceps",s.Triceps="triceps",s.Chest="chest",s.Calves="calves",s.Abs="abs",s.Hamstrings="hamstrings",s.Back="back",s.Glutes="glutes",s.Quadriceps="quadriceps",s.Forearms="forearms",s.Shoulders="shoulders",s.Lowerback="lowerback",s.Lats="lats",s.Traps="traps",s.Rhomboids="rhomboids",s.Deltoids="deltoids",s.Fullbody="fullbody";class d{constructor(e){this.id=e.id||"",this.workoutId=e.workoutId||"",this.userId=e.userId||"",this.exercise=c.fromFirebase(e.exercise||{}),this.logs=(e.logs||[]).map(e=>o.c_.fromFirebase(e)),this.feedback=e.feedback||"",this.note=e.note||"",this.recommendedWeight=e.recommendedWeight,this.isSplit=e.isSplit||!1,this.isBodyWeight=e.isBodyWeight||!1,this.logSubmitted=e.logSubmitted||!1,this.logIsEditing=e.logIsEditing||!1,this.isCompleted=e.isCompleted||!1,this.order=e.order,this.createdAt=e.createdAt?new Date(e.createdAt):new Date,this.updatedAt=e.updatedAt?new Date(e.updatedAt):new Date}static fromFirebase(e){return new d({id:e.id||"",workoutId:e.workoutId||"",userId:e.userId||"",exercise:e.exercise||{},logs:e.logs||[],feedback:e.feedback||"",note:e.note||"",recommendedWeight:e.recommendedWeight,isSplit:e.isSplit||!1,isBodyWeight:e.isBodyWeight||!1,logSubmitted:e.logSubmitted||!1,logIsEditing:e.logIsEditing||!1,isCompleted:e.isCompleted||!1,order:e.order,createdAt:e.createdAt,updatedAt:e.updatedAt})}}let n={weightTraining:e=>({type:"weightTraining",details:e}),cardio:e=>({type:"cardio",details:e}),fromIdentifier:e=>{switch(e){case"weight-training":return n.weightTraining({reps:"12",sets:3,weight:0,screenTime:0,selectedVideo:void 0});case"cardio":return n.cardio({duration:20,bpm:125,calories:0,screenTime:0,selectedVideo:void 0});default:return null}},identifier:e=>{switch(e.type){case"weightTraining":return"weight-training";case"cardio":return"cardio"}}};class c{constructor(e){this.id=e.id||"",this.name=e.name||"",this.description=e.description||"",this.primaryBodyParts=e.primaryBodyParts||[],this.secondaryBodyParts=e.secondaryBodyParts||[],this.tags=e.tags||[],this.videos=(e.videos||[]).map(e=>l.fromFirebase(e)),this.steps=e.steps||[],this.visibility=e.visibility||"live",this.currentVideoPosition=e.currentVideoPosition||0,this.sets=e.sets||0,this.reps=e.reps||"",this.weight=e.weight||0,this.author=u.fromFirebase(e.author||{}),this.createdAt=e.createdAt?new Date(e.createdAt):new Date,this.updatedAt=e.updatedAt?new Date(e.updatedAt):new Date;let t=e.category||{};switch(t.id){case"weight-training":this.category=n.weightTraining({reps:t.reps||"12",sets:t.sets||3,weight:t.weight||0,screenTime:t.screenTime||0,selectedVideo:t.selectedVideo?l.fromFirebase(t.selectedVideo):void 0});break;case"cardio":this.category=n.cardio({duration:t.duration||0,bpm:t.bpm||0,calories:t.calories||0,screenTime:t.screenTime||0,selectedVideo:t.selectedVideo?l.fromFirebase(t.selectedVideo):void 0});break;default:this.category=n.weightTraining({reps:"12",sets:3,weight:0,screenTime:0})}}static fromFirebase(e){return new c({id:e.id||"",name:e.name||"",description:e.description||"",category:e.category||{},primaryBodyParts:e.primaryBodyParts||[],secondaryBodyParts:e.secondaryBodyParts||[],tags:e.tags||[],videos:e.videos||[],steps:e.steps||[],visibility:e.visibility||[],currentVideoPosition:e.currentVideoPosition||0,sets:e.sets||0,reps:e.reps||"",weight:e.weight||0,author:e.author||{},createdAt:e.createdAt,updatedAt:e.updatedAt})}}class l{constructor(e){this.id=e.id||"",this.exerciseId=e.exerciseId||"",this.username=e.username||"",this.userId=e.userId||"",this.videoURL=e.videoURL||"",this.fileName=e.fileName||"",this.exercise=e.exercise||"",this.profileImage=a.m1.fromFirebase(e.profileImage||{}),this.caption=e.caption,this.gifURL=e.gifURL,this.thumbnail=e.thumbnail,this.visibility=e.visibility||"private",this.totalAccountsReached=e.totalAccountsReached||0,this.totalAccountLikes=e.totalAccountLikes||0,this.totalAccountBookmarked=e.totalAccountBookmarked||0,this.totalAccountUsage=e.totalAccountUsage||0,this.isApproved=e.isApproved||!1,this.liked=e.liked||!1,this.bookmarked=e.bookmarked||!1,this.createdAt=e.createdAt?new Date(e.createdAt):new Date,this.updatedAt=e.updatedAt?new Date(e.updatedAt):new Date}static fromFirebase(e){return new l({id:e.id||"",exerciseId:e.exerciseId||"",username:e.username||"",userId:e.userId||"",videoURL:e.videoURL||"",fileName:e.fileName||"",exercise:e.exercise||"",profileImage:e.profileImage||{},caption:e.caption,gifURL:e.gifURL,thumbnail:e.thumbnail,visibility:e.visibility||"private",totalAccountsReached:e.totalAccountsReached||0,totalAccountLikes:e.totalAccountLikes||0,totalAccountBookmarked:e.totalAccountBookmarked||0,totalAccountUsage:e.totalAccountUsage||0,isApproved:e.isApproved||!1,liked:e.liked||!1,bookmarked:e.bookmarked||!1,createdAt:e.createdAt,updatedAt:e.updatedAt})}}class u{static fromFirebase(e){return{userId:e.userId||"",username:e.username||""}}}},4454:function(e,t,i){i.d(t,{Bc:function(){return l},Dj:function(){return h},L$:function(){return f},No:function(){return y},P7:function(){return w},Z0:function(){return n},c_:function(){return g},oQ:function(){return A},tv:function(){return b}});var s,r,o,a,d,n,c,l,u,h,p=i(3530),m=i(2778);(s=n||(n={})).QueuedUp="queuedUp",s.InProgress="inProgress",s.Complete="complete",s.Archived="archived",(r=c||(c={})).TooHard="Too Hard",r.TooEasy="Too Easy",r.JustRight="Just Right",(o=l||(l={})).LowerBody="Lower Body",o.UpperBody="Upper Body",o.FullBody="Full Body",o.Core="Core";class g{static fromFirebase(e){return{reps:e.reps||0,weight:e.weight||0,leftReps:e.leftReps||0,leftWeight:e.leftWeight||0,isSplit:e.isSplit||!1,isBodyWeight:e.isBodyWeight||!1,duration:e.duration||0,calories:e.calories||0,bpm:e.bpm||0}}}class A{constructor(e){this.id=e.id,this.collectionId=e.collectionId,this.roundWorkoutId=e.roundWorkoutId,this.exercises=e.exercises,this.challenge=e.challenge,this.logs=e.logs,this.title=e.title,this.description=e.description,this.duration=e.duration,this.workoutRating=e.workoutRating,this.useAuthorContent=e.useAuthorContent,this.isCompleted=e.isCompleted,this.workoutStatus=e.workoutStatus,this.startTime=e.startTime,this.order=e.order,this.author=e.author,this.createdAt=e.createdAt,this.updatedAt=e.updatedAt,this.zone=A.determineWorkoutZone(e.exercises)}static estimatedDuration(e){let t=0,i=0,s=!1;for(let r of e){let e=r.exercise;if(console.groupCollapsed(`Exercise: ${e}`),"cardio"===e.category.type){let i=e.category.details?.duration||0;console.log("Cardio duration (minutes):",i),t+=i}else if("weightTraining"===e.category.type){let r=e.category.details?.screenTime||0;r>0?(console.log("Screen time (seconds):",r),console.log("Converted to minutes:",Math.floor(r/60)),t+=Math.floor(r/60),s=!0):(console.log("Using default timing (8m exercise + 1m rest)"),t+=8,i+=1)}console.log("Current totals:",{totalExerciseTime:t,restTime:i,hasScreenTimeExercises:s}),console.groupEnd()}s||(console.log("Adding warmup/cool-down:",10,"minutes"),t+=10);let r=t+i;console.log("Pre-rounded total:",r);let o=r;return s||console.log("Rounded to nearest 5 minutes:",o=5*Math.round(r/5)),console.log("Final estimated duration:",o,"minutes"),o}static determineWorkoutZone(e){let t=new Set;for(let i of e)for(let e of i.exercise.primaryBodyParts||[i.exercise.primaryBodyParts])t.add(e);let i=new Set([p.mn.Chest,p.mn.Shoulders,p.mn.Biceps,p.mn.Triceps,p.mn.Traps,p.mn.Lats,p.mn.Forearms]),s=new Set([p.mn.Hamstrings,p.mn.Glutes,p.mn.Quadriceps,p.mn.Calves]),r=new Set([p.mn.Abs,p.mn.Lowerback]),o=(e,t)=>Array.from(e).some(e=>t.has(e)),a=o(t,i),d=o(t,s),n=o(t,r);return a&&d&&n||a&&d?"Full Body":a&&n||a?"Upper Body":d&&n||d?"Lower Body":n?"Core":"Full Body"}static toDictionary(e){return{id:e.id,collectionId:e.collectionId,roundWorkoutId:e.roundWorkoutId,exercises:e.exercises,challenge:e.challenge,logs:e.logs,title:e.title,description:e.description,duration:e.duration,workoutRating:e.workoutRating,useAuthorContent:e.useAuthorContent,isCompleted:e.isCompleted,workoutStatus:e.workoutStatus,startTime:e.startTime,order:e.order,author:e.author,createdAt:e.createdAt,updatedAt:e.updatedAt,zone:e.zone}}}class w{constructor(e){this.id=e.id,this.workoutId=e.workoutId,this.exercises=e.exercises.map(e=>p.lg.fromFirebase(e)),this.bodyParts=e.bodyParts,this.secondaryBodyParts=e.secondaryBodyParts,this.workoutTitle=e.workoutTitle,this.caloriesBurned=e.caloriesBurned,this.workoutRating=e.workoutRating,this.exercisesCompleted=e.exercisesCompleted.map(e=>p.lg.fromFirebase(e)),this.aiInsight=e.aiInsight,this.recommendations=e.recommendations,this.gifURLs=e.gifURLs,this.recommendedWork=e.recommendedWork,this.isCompleted=e.isCompleted,this.createdAt=e.createdAt?new Date(e.createdAt):new Date,this.updatedAt=e.updatedAt?new Date(e.updatedAt):new Date,this.completedAt=e.completedAt?new Date(e.completedAt):null,this.duration=e.duration}static fromFirebase(e){return new w({id:e.id||"",workoutId:e.workoutId||"",exercises:e.exercises||[],bodyParts:e.bodyParts||[],secondaryBodyParts:e.secondaryBodyParts||[],workoutTitle:e.workoutTitle||"",caloriesBurned:e.caloriesBurned||0,workoutRating:e.workoutRating,exercisesCompleted:e.exercisesCompleted||[],aiInsight:e.aiInsight||"",recommendations:e.recommendations||[],gifURLs:e.gifURLs||[],recommendedWork:e.recommendedWork,isCompleted:e.isCompleted||!1,createdAt:e.createdAt,updatedAt:e.updatedAt,completedAt:e.completedAt,duration:e.duration||""})}}(a=u||(u={})).Together="together",a.Solo="solo",a.Locked="locked";class y{constructor(e){this.id=e.id,this.title=e.title||"",this.subtitle=e.subtitle||"",this.challenge=e.challenge?new b(e.challenge):void 0,this.sweatlistIds=(e.sweatlistIds||[]).map(e=>({id:e.id||"",sweatlistAuthorId:e.sweatlistAuthorId||"",sweatlistName:e.sweatlistName||"",order:e.order||0})),this.ownerId=e.ownerId||"",this.privacy=e.challenge?"together":"solo",this.participants=(e.participants||[]).map(e=>e||""),this.createdAt=(0,m.Q)(e.createdAt),this.updatedAt=(0,m.Q)(e.updatedAt)}static fromFirestore(e){return new y(e)}toDictionary(){return{id:this.id,title:this.title,subtitle:this.subtitle,challenge:this.challenge?this.challenge.toDictionary():null,sweatlistIds:this.sweatlistIds.map(e=>({id:e.id,sweatlistAuthorId:e.sweatlistAuthorId,order:e.order})),ownerId:this.ownerId,privacy:this.privacy,createdAt:this.createdAt,updatedAt:this.updatedAt}}toRESTDictionary(){return{fields:{id:{stringValue:this.id},title:{stringValue:this.title},subtitle:{stringValue:this.subtitle},ownerId:{stringValue:this.ownerId},sweatlistIds:{arrayValue:{values:this.sweatlistIds.map(e=>({mapValue:{fields:{id:{stringValue:e.id},sweatlistAuthorId:{stringValue:e.sweatlistAuthorId},order:{integerValue:e.order}}}}))}},createdAt:{doubleValue:this.createdAt.getTime()},updatedAt:{doubleValue:this.updatedAt.getTime()}}}}isPublished(){return!!this.challenge&&"published"===this.challenge.status}}(d=h||(h={})).Draft="draft",d.Published="published",d.Completed="completed",d.Cancelled="cancelled";class f{constructor(e){this.id=e.id,this.userId=e.userId,this.videoUrl=e.videoUrl}toDictionary(){return{id:this.id,userId:this.userId,videoUrl:this.videoUrl}}}class b{constructor(e){this.id=e.id,this.title=e.title,this.subtitle=e.subtitle,this.participants=e.participants,this.status=e.status,this.startDate=(0,m.Q)(e.startDate),this.endDate=(0,m.Q)(e.endDate),this.createdAt=(0,m.Q)(e.createdAt),this.updatedAt=(0,m.Q)(e.updatedAt),e.introVideos?this.introVideos=e.introVideos.map(e=>new f(e)):e.introVideoURL?this.introVideos=[new f({id:"1",userId:e.participants[0]?.userId||"",videoUrl:e.introVideoURL})]:this.introVideos=[],this.durationInDays=this.calculateDurationInDays()}toDictionary(){return{id:this.id,title:this.title,subtitle:this.subtitle,participants:this.participants.map(e=>({id:e.id,challengeId:e.challengeId,userId:e.userId,username:e.username,profileImage:e.profileImage,progress:e.progress,completedWorkouts:e.completedWorkouts,isCompleted:e.isCompleted,location:e.location,city:e.city,country:e.country,timezone:e.timezone,joinDate:e.joinDate,createdAt:e.createdAt,updatedAt:e.updatedAt,pulsePoints:e.pulsePoints,currentStreak:e.currentStreak,encouragedUsers:e.encouragedUsers,encouragedByUsers:e.encouragedByUsers,checkIns:e.checkIns})),status:this.status,startDate:this.startDate,endDate:this.endDate,createdAt:this.createdAt,updatedAt:this.updatedAt,durationInDays:this.durationInDays,introVideos:this.introVideos.map(e=>e.toDictionary())}}calculateDurationInDays(){let e=this.startDate?.valueOf(),t=this.endDate?.valueOf();if(!e||!t||isNaN(e)||isNaN(t))throw Error("Invalid startDate or endDate");return Math.ceil((t-e)/864e5)}static toFirestoreObject(e){if(null===e||"object"!=typeof e||e instanceof Date)return e;if(Array.isArray(e))return e.map(e=>this.toFirestoreObject(e));if(e instanceof b)return{id:e.id,title:e.title,subtitle:e.subtitle,participants:e.participants,status:e.status,startDate:e.startDate,endDate:e.endDate,createdAt:e.createdAt,updatedAt:e.updatedAt,introVideos:e.introVideos.map(e=>({id:e.id,userId:e.userId,videoUrl:e.videoUrl}))};let t={};for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=this.toFirestoreObject(e[i]));return t}}},2778:function(e,t,i){i.d(t,{Q:function(){return s}});let s=e=>{if(null==e)return new Date;if(e instanceof Date)return e;let t="string"==typeof e?parseInt(e,10):e;return new Date(t<1e10?1e3*t:t)}}}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[140],{528:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return t(5132)}])},8071:function(e,s,t){"use strict";t.d(s,{f:function(){return r}});var a=t(5893);t(7294);let r=e=>{let{gifUrl:s,alt:t,frameSize:r,contentMode:i="cover",className:l="",onClick:c}=e,o=r?{width:`${r.width}px`,height:`${r.height}px`}:{};return(0,a.jsx)("div",{className:`relative overflow-hidden rounded-full cursor-pointer ${l}`,style:o,onClick:c,children:(0,a.jsx)("img",{src:s,alt:t,className:`w-full h-full object-${i}`,loading:"lazy"})})}},5132:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return T}});var a,r,i=t(5893),l=t(7294);(a=r||(r={})).Discover="discover",a.Search="search",a.Create="create",a.Message="message",a.Profile="profile";var c=t(7705),o=e=>{let{selectedTab:s,onTabChange:t}=e;l.useEffect(()=>{console.log("Current user in BottomNav:",c.W4.currentUser),c.W4.currentUser?.profileImage&&console.log("Profile image data:",c.W4.currentUser.profileImage)},[]);let a=c.W4.currentUser;console.log("Rendering BottomNav with currentUser:",a),console.log("Has profile image?",a&&a.profileImage&&a.profileImage.profileImageURL);let o=[{id:r.Discover,label:"Discover",icon:"/discover-icon.svg",selectedIcon:"/discover-icon-selected.svg"},{id:r.Search,label:"Search",icon:"/search-icon.svg",selectedIcon:"/search-icon-selected.svg"},{id:r.Create,label:"",icon:"/create-icon.svg",selectedIcon:"/create-icon.svg"},{id:r.Message,label:"Message",icon:"/message-icon.svg",selectedIcon:"/message-icon-selected.svg"},{id:r.Profile,label:"Profile",icon:"/profile-icon.svg",selectedIcon:"/profile-icon-selected.svg"}];return(0,i.jsx)("div",{className:"fixed bottom-0 left-0 right-0 bg-zinc-800/80 backdrop-blur-sm border-t border-zinc-700",children:(0,i.jsx)("div",{className:"max-w-md mx-auto px-8 py-4 flex justify-between items-center",children:o.map(e=>{let a=s===e.id,l=e.id===r.Profile,o=c.W4.currentUser,n=o&&o.profileImage&&o.profileImage.profileImageURL;return(0,i.jsx)("button",{className:"flex flex-col items-center gap-1",onClick:()=>t(e.id),children:e.id===r.Create?(0,i.jsx)("div",{className:"w-12 h-12 bg-[#E0FE10] rounded-full flex items-center justify-center -mt-6",children:(0,i.jsx)("img",{src:e.icon,alt:e.label,className:"w-6 h-6"})}):(0,i.jsxs)(i.Fragment,{children:[l&&n?(0,i.jsx)("img",{src:o.profileImage.profileImageURL,alt:"User profile",className:`w-6 h-6 rounded-full object-cover
                        ${a?"ring-2 ring-[#E0FE10]":""}
                        `,onError:s=>{console.error("Error loading profile image:",s),s.currentTarget.src=e.icon}}):(0,i.jsx)("img",{src:a?e.selectedIcon:e.icon,alt:e.label,className:"w-6 h-6"}),e.label&&(0,i.jsx)("span",{className:`text-xs ${a?"text-[#E0FE10]":"text-zinc-400"}`,children:e.label})]})},e.id)})})})},n=t(2614),d=t(9828),u=t(6718);class m{get allExercises(){return this._allExercises}async fetchExercises(){try{let e=(await (0,d.PL)((0,d.hJ)(u.db,"exercises"))).docs.map(e=>n.cd.fromFirebase({id:e.id,...e.data()})),s=(await (0,d.PL)((0,d.hJ)(u.db,"exerciseVideos"))).docs.map(e=>({id:e.id,exerciseId:e.data().exerciseId||"",username:e.data().username||"",userId:e.data().userId||"",videoURL:e.data().videoURL||"",fileName:e.data().fileName||"",exercise:e.data().exercise||"",profileImage:e.data().profileImage||{profileImageURL:""},caption:e.data().caption||"",gifURL:e.data().gifURL||"",thumbnail:e.data().thumbnail||"",visibility:e.data().visibility||"open",totalAccountsReached:e.data().totalAccountsReached||0,totalAccountLikes:e.data().totalAccountLikes||0,totalAccountBookmarked:e.data().totalAccountBookmarked||0,totalAccountUsage:e.data().totalAccountUsage||0,isApproved:e.data().isApproved||!1,liked:e.data().liked||!1,bookmarked:e.data().bookmarked||!1,createdAt:e.data().createdAt?new Date(1e3*e.data().createdAt.seconds):new Date,updatedAt:e.data().updatedAt?new Date(1e3*e.data().updatedAt.seconds):new Date})),t=e.map(e=>{let t=s.filter(s=>s.exerciseId===e.id);return{...e,videos:t}});this._allExercises=t.filter(e=>e.videos.length>0),console.log(`Fetched ${this._allExercises.length} exercises with videos.`)}catch(e){throw console.error("Error fetching exercises:",e),Error("Failed to fetch exercises.")}}async fetchPaginatedExercises(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15;try{let t=(0,d.IO)((0,d.hJ)(u.db,"exercises"),(0,d.Xo)("createdAt","desc"),(0,d.b9)(s));e&&(t=(0,d.IO)(t,(0,d.TQ)(e)));let a=await (0,d.PL)(t);if(a.empty)return{exercises:[],lastVisible:null};let r=(await (0,d.PL)((0,d.hJ)(u.db,"exerciseVideos"))).docs.map(e=>({id:e.id,exerciseId:e.data().exerciseId||"",username:e.data().username||"",userId:e.data().userId||"",videoURL:e.data().videoURL||"",fileName:e.data().fileName||"",exercise:e.data().exercise||"",profileImage:e.data().profileImage||{profileImageURL:""},caption:e.data().caption||"",gifURL:e.data().gifURL||"",thumbnail:e.data().thumbnail||"",visibility:e.data().visibility||"open",totalAccountsReached:e.data().totalAccountsReached||0,totalAccountLikes:e.data().totalAccountLikes||0,totalAccountBookmarked:e.data().totalAccountBookmarked||0,totalAccountUsage:e.data().totalAccountUsage||0,isApproved:e.data().isApproved||!1,liked:e.data().liked||!1,bookmarked:e.data().bookmarked||!1,createdAt:e.data().createdAt?new Date(1e3*e.data().createdAt.seconds):new Date,updatedAt:e.data().updatedAt?new Date(1e3*e.data().updatedAt.seconds):new Date})),i=a.docs.map(e=>n.cd.fromFirebase({id:e.id,...e.data()})).map(e=>{let s=r.filter(s=>s.exerciseId===e.id);return{...e,videos:s}}).filter(e=>e.videos.length>0),l=a.docs[a.docs.length-1];return{exercises:i,lastVisible:l}}catch(e){throw console.error("Error fetching paginated exercises:",e),e}}constructor(){this._allExercises=[]}}let x=new m;var h=t(8071),f=t(1163),g=()=>{let[e,s]=(0,l.useState)([]),[t,a]=(0,l.useState)(!0),[r,c]=(0,l.useState)(!1),[o,n]=(0,l.useState)(null),[d,u]=(0,l.useState)(!0),m=(0,l.useRef)(null),g=(0,f.useRouter)(),p=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{e?c(!0):a(!0);let{exercises:t,lastVisible:r}=await x.fetchPaginatedExercises(o,15);s(s=>e?[...s,...t]:t),n(r),u(t.length>0)}catch(e){console.error("Error fetching exercises:",e)}finally{e?c(!1):a(!1)}};(0,l.useEffect)(()=>{p()},[]),(0,l.useEffect)(()=>{if(!m.current)return;let e=new IntersectionObserver(e=>{e[0].isIntersecting&&d&&!r&&p(!0)},{threshold:1});return e.observe(m.current),()=>e.disconnect()},[d,r,o]),(0,l.useEffect)(()=>{let e=new IntersectionObserver(e=>{for(let s of e){let e=s.target;s.isIntersecting&&!e.dataset.userPause?e.play().catch(e=>console.error("Video play error:",e)):e.pause()}},{threshold:.5}),s=document.querySelectorAll('video[data-observe="true"]');return s.forEach(s=>{e.observe(s)}),()=>{s.forEach(s=>e.unobserve(s)),e.disconnect()}},[e]);let b=e=>{let s=e.currentTarget;s.paused?(s.removeAttribute("data-user-pause"),s.play().catch(e=>console.error("Video play error:",e))):(s.setAttribute("data-user-pause","true"),s.pause())},v=e=>{e?g.push(`/profile/${e}`):console.error("Username is missing.")},j=(e,t)=>{s(s=>s.map((s,a)=>a===e?{...s,currentVideoPosition:t}:s))};return t&&0===e.length?(0,i.jsx)("div",{className:"text-white text-center",children:"Loading exercises..."}):(0,i.jsxs)("div",{className:"max-w-xl mx-auto px-4 py-6",children:[e.map((e,s)=>(0,i.jsxs)("div",{className:"bg-zinc-800 rounded-xl overflow-hidden mb-6",children:[(0,i.jsx)("video",{"data-observe":"true",src:e.videos[e.currentVideoPosition]?.videoURL,muted:!0,loop:!0,className:"w-full aspect-square object-cover",onClick:b}),(0,i.jsxs)("div",{className:"p-4",children:[(0,i.jsxs)("div",{className:"flex items-center gap-4 mb-3",children:[(0,i.jsx)("img",{src:e.videos[e.currentVideoPosition]?.profileImage.profileImageURL||"/default-profile.png",alt:e.videos[e.currentVideoPosition]?.username||"User",className:"w-8 h-8 rounded-full cursor-pointer",onClick:()=>v(e.videos[e.currentVideoPosition]?.username||"")}),(0,i.jsx)("p",{className:"text-white font-medium cursor-pointer",onClick:()=>v(e.videos[e.currentVideoPosition]?.username||""),children:e.videos[e.currentVideoPosition]?.username||"Unknown User"})]}),(0,i.jsx)("p",{className:"text-zinc-400 text-sm",children:e.name}),(0,i.jsx)("p",{className:"text-zinc-500 text-xs mt-1",children:e.description}),(0,i.jsxs)("div",{className:"flex items-center gap-2 mt-4",children:[e.videos.slice(0,4).map((t,a)=>(0,i.jsx)(h.f,{gifUrl:t.gifURL||"/default-gif.gif",alt:`Preview of ${e.name}`,frameSize:{width:36,height:36},contentMode:"cover",className:`border-2 ${e.currentVideoPosition===a?"border-[#E0FE10]":"border-zinc-500"}`,onClick:()=>j(s,a)},t.id)),e.videos.length>4&&(0,i.jsxs)("div",{className:"w-9 h-9 bg-gray-600 rounded-full flex items-center justify-center text-white text-sm",onClick:()=>console.log("More videos tapped"),children:["+",e.videos.length-4]})]})]})]},e.id)),d&&(0,i.jsx)("div",{ref:m,className:"text-center py-4",children:r&&(0,i.jsx)("div",{className:"spinner border-t-transparent border-4 border-[#E0FE10] w-6 h-6 rounded-full animate-spin"})})]})},p=()=>(0,i.jsx)("div",{className:"max-w-xl mx-auto px-4 py-6",children:(0,i.jsxs)("div",{className:"text-center text-white",children:[(0,i.jsx)("h2",{className:"text-2xl font-bold",children:"Search"}),(0,i.jsx)("p",{className:"text-zinc-400",children:"Explore workouts, users, and content."})]})}),b=()=>(0,i.jsx)("div",{className:"max-w-xl mx-auto px-4 py-6",children:(0,i.jsxs)("div",{className:"text-center text-white",children:[(0,i.jsx)("h2",{className:"text-2xl font-bold",children:"Create"}),(0,i.jsx)("p",{className:"text-zinc-400",children:"Start building your next workout or post."})]})}),v=()=>(0,i.jsx)("div",{className:"max-w-xl mx-auto px-4 py-6",children:(0,i.jsxs)("div",{className:"text-center text-white",children:[(0,i.jsx)("h2",{className:"text-2xl font-bold",children:"Messages"}),(0,i.jsx)("p",{className:"text-zinc-400",children:"Connect with your fitness community."})]})}),j=t(3971),w=t(927),N=t(6019),k=t(7354),y=t(7014),E=t(2875),S=t(699);let I={ACTIVITY:"activity",EXERCISES:"exercises",CHALLENGES:"challenges"};var C=()=>{let[e,s]=(0,l.useState)(I.EXERCISES),[t,a]=(0,l.useState)([]),[r,o]=(0,l.useState)([]),[n,d]=(0,l.useState)([]),[u,m]=(0,l.useState)([]),[x,h]=(0,l.useState)([]),[f,g]=(0,l.useState)([]),[p,b]=(0,l.useState)(null),v="https://fitwithpulse.ai/.netlify/functions",C=c.W4.currentUser;if((0,l.useEffect)(()=>{(async()=>{if(C?.id)try{let e=await fetch(`${v}/get-user-videos?userId=${C.id}`);if(!e.ok)throw Error("Failed to fetch videos");let s=await e.json();s.success&&a(s.exercises)}catch(e){console.error("Error fetching user videos:",e)}})()},[C?.id]),(0,l.useEffect)(()=>{(async()=>{if(C?.id)try{let e=await fetch(`${v}/get-challenges?userId=${C.id}`);if(!e.ok)throw Error("Failed to fetch challenges");let s=await e.json();s.success&&o(s.challenges)}catch(e){console.error("Error fetching challenges:",e)}})()},[C?.id]),(0,l.useEffect)(()=>{(async()=>{if(C?.id)try{let[e,s]=await Promise.all([fetch(`${v}/get-followers?userId=${C.id}`),fetch(`${v}/get-following?userId=${C.id}`)]);if(!e.ok||!s.ok)throw Error("Failed to fetch follow data");let t=await e.json(),a=await s.json();t.success&&a.success&&(h(t.followers),g(a.following))}catch(e){console.error("Error fetching follow data:",e)}})()},[C?.id]),(0,l.useEffect)(()=>{(async()=>{if(C?.id)try{let e=await fetch(`${v}/get-workout-summaries?userId=${C.id}`);if(!e.ok)throw Error("Failed to fetch workout summaries");let s=await e.json();if(s.success){let e=s.summaries.map(e=>j.P.fromFirebase(e));if(d(e),t.length>0||x.length>0||f.length>0){let s=[...x,...f],a=(0,S.o)(e,t,s,C.id);m(a)}}}catch(e){console.error("Error fetching workout summaries:",e)}})()},[C?.id,x,f,t]),!C)return(0,i.jsx)("div",{children:"Loading..."});let A={instagram:C.creator?.instagramHandle,twitter:C.creator?.twitterHandle,youtube:C.creator?.youtubeUrl};return(0,i.jsx)("div",{className:"min-h-screen bg-zinc-900",children:(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("div",{className:"h-48 bg-gradient-to-b from-zinc-800 to-zinc-900"}),(0,i.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,i.jsxs)("div",{className:"relative -mt-24",children:[(0,i.jsx)("div",{className:"relative inline-block",children:(0,i.jsx)("img",{src:C.profileImage?.profileImageURL||"/api/placeholder/96/96",alt:C.displayName,className:"w-24 h-24 rounded-full border-4 border-zinc-900"})}),(0,i.jsxs)("div",{className:"mt-4 text-white",children:[(0,i.jsx)("h1",{className:"text-2xl font-bold",children:C.displayName}),(0,i.jsxs)("p",{className:"text-zinc-400",children:["@",C.username]}),(0,i.jsxs)("div",{className:"mt-2 flex items-center gap-4 text-sm text-zinc-400",children:[(0,i.jsxs)("span",{children:[x.length," followers"]}),(0,i.jsx)("span",{className:"w-1 h-1 bg-zinc-600 rounded-full"}),(0,i.jsxs)("span",{children:[f.length," following"]})]}),(0,i.jsx)("p",{className:"mt-4 text-zinc-300",children:C.bio}),(0,i.jsx)("div",{className:"mt-4 flex gap-6",children:Object.entries(A).map(e=>{let[s,t]=e;return t?(0,i.jsx)("a",{href:function(e,s){switch(e){case"instagram":return`https://instagram.com/${s}`;case"twitter":return`https://twitter.com/${s}`;case"youtube":return s;default:return"#"}}(s,t),target:"_blank",rel:"noopener noreferrer",className:"text-zinc-400 hover:text-white transition-colors",children:(0,i.jsx)("img",{src:`/${s}.svg`,alt:s,className:"w-6 h-6 hover:opacity-80"})},s):null})})]}),(0,i.jsx)("div",{className:"mt-8 border-b border-zinc-700 overflow-x-auto",children:(0,i.jsx)("nav",{className:"flex whitespace-nowrap min-w-full sm:min-w-0 px-4 sm:px-0",children:(0,i.jsx)("div",{className:"flex gap-8 pb-2 sm:pb-0",children:Object.values(I).map(t=>(0,i.jsxs)("button",{onClick:()=>s(t),className:`pb-4 px-2 text-sm font-medium transition-colors relative flex-shrink-0
                        ${e===t?"text-white":"text-zinc-400 hover:text-zinc-300"}`,children:[t.charAt(0).toUpperCase()+t.slice(1),e===t&&(0,i.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-white"})]},t))})})}),(0,i.jsxs)("div",{className:"mt-8",children:[e===I.ACTIVITY&&(0,i.jsx)("div",{className:"px-5",children:0===u.length?(0,i.jsxs)("div",{className:"flex flex-col items-center justify-center p-8",children:[(0,i.jsx)(w.Z,{className:"w-12 h-12 text-white/20"}),(0,i.jsx)("h3",{className:"mt-4 text-white font-medium",children:"No activities yet"})]}):(0,i.jsx)(N.Z,{activities:u,workoutSummaries:n,userVideos:t,username:C.username,isPublicProfile:!1,onWorkoutSelect:e=>{console.log("Selected workout summary:",e)},onVideoSelect:e=>{console.log("Selected exercise:",e),b(e)},onProfileSelect:e=>{console.log("Selected user profile:",e)}})}),e===I.EXERCISES&&(0,i.jsxs)("div",{className:"px-5",children:[(0,i.jsxs)("h2",{className:"text-xl text-white font-semibold mb-4",children:["Your Videos (",t.length,")"]}),(0,i.jsx)(y.Z,{userVideos:t,onSelectVideo:e=>{b(e)}})]}),e===I.CHALLENGES&&(0,i.jsx)(k.M,{activeChallenges:r,onSelectChallenge:e=>{console.log("Selected challenge:",e)}})]})]})}),p&&(0,i.jsx)(E.default,{exercise:p,user:C,onBack:()=>b(null),onProfileClick:()=>{console.log("Profile clicked")}})]})})},A=t(5612),z=t(1259),U=t(2190);let L=(0,t(1134).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var P=e=>{let{onClose:s,onCreateWorkout:t}=e,[a,r]=(0,l.useState)([]),c=e=>{r(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])};return(0,i.jsxs)("div",{className:"fixed inset-0 bg-zinc-900 flex flex-col min-h-screen",children:[(0,i.jsxs)("div",{className:"p-6 pb-2",children:[(0,i.jsx)("button",{onClick:s,className:"w-10 h-10 rounded-full bg-zinc-800 flex items-center justify-center",children:(0,i.jsx)(U.Z,{className:"text-white",size:20})}),(0,i.jsx)("h1",{className:"text-4xl font-bold text-white mt-6 mb-2",children:"Choose the body parts you want to workout."}),(0,i.jsx)("p",{className:"text-zinc-400 text-lg",children:"You can choose multiple body parts"})]}),(0,i.jsxs)("div",{className:"flex-1 p-6 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 overflow-y-auto max-w-6xl mx-auto scrollbar-hide",children:[(0,i.jsx)(R,{id:"body-parts/bicep",name:"Biceps",isSelected:a.includes("bicep"),onToggle:c}),(0,i.jsx)(R,{id:"body-parts/tricep",name:"Triceps",isSelected:a.includes("triceps"),onToggle:c}),(0,i.jsx)(R,{id:"body-parts/chest",name:"Chest",isSelected:a.includes("chest"),onToggle:c}),(0,i.jsx)(R,{id:"body-parts/calves",name:"Calves",isSelected:a.includes("calves"),onToggle:c}),(0,i.jsx)(R,{id:"body-parts/abs",name:"Abs",isSelected:a.includes("abs"),onToggle:c}),(0,i.jsx)(R,{id:"body-parts/hamstrings",name:"Hamstrings",isSelected:a.includes("hamstrings"),onToggle:c}),(0,i.jsx)(R,{id:"body-parts/back",name:"Back",isSelected:a.includes("back"),onToggle:c}),(0,i.jsx)(R,{id:"body-parts/deltoids",name:"Deltoids",isSelected:a.includes("deltoids"),onToggle:c}),(0,i.jsx)(R,{id:"body-parts/glutes",name:"Glutes",isSelected:a.includes("glutes"),onToggle:c}),(0,i.jsx)(R,{id:"body-parts/lats",name:"Lats",isSelected:a.includes("lats"),onToggle:c}),(0,i.jsx)(R,{id:"body-parts/lowerback",name:"Lower Back",isSelected:a.includes("lowerback"),onToggle:c}),(0,i.jsx)(R,{id:"body-parts/quadriceps",name:"Quadriceps",isSelected:a.includes("quadriceps"),onToggle:c}),(0,i.jsx)(R,{id:"body-parts/rhomboids",name:"Rhomboids",isSelected:a.includes("rhomboids"),onToggle:c})]}),a.length>0&&(0,i.jsx)("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-zinc-900/80 backdrop-blur-sm border-t border-zinc-800",children:(0,i.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,i.jsx)("button",{onClick:()=>t(a),className:"w-full py-4 rounded-full bg-[#E0FE10] text-black font-semibold text-lg",children:"Create workout"})})})]})};let R=e=>{let{id:s,name:t,isSelected:a,onToggle:r}=e;return(0,i.jsxs)("button",{onClick:()=>r(s),className:`relative aspect-square rounded-2xl bg-zinc-800/50 flex flex-col items-center justify-end
        ${a?"ring-2 ring-[#E0FE10]":""}
        max-w-[250px] w-full mx-auto`,children:[(0,i.jsx)("img",{src:`${s}.svg`,alt:t,className:"w-full h-full object-contain opacity-75"}),a&&(0,i.jsx)("div",{className:"absolute top-4 right-4 w-6 h-6 rounded-full bg-[#E0FE10] flex items-center justify-center",children:(0,i.jsx)(L,{className:"text-black",size:16})})]})};var $=e=>{let{isVisible:s,onClose:t}=e,[a,r]=(0,l.useState)(null),[c,o]=(0,l.useState)(!0),[n,d]=(0,l.useState)([]);(0,l.useEffect)(()=>{s&&(u(),m())},[s]);let u=async()=>{o(!0);try{r(null)}catch(e){console.error("Error fetching workout:",e)}finally{o(!1)}},m=async()=>{try{d([])}catch(e){console.error("Error fetching challenges:",e)}},[x,h]=(0,l.useState)(!1);return s?x?(0,i.jsx)(P,{onClose:()=>h(!1),onCreateWorkout:e=>{console.log("Creating workout with parts:",e),h(!1)}}):(0,i.jsx)("div",{className:"fixed inset-0 z-50 flex items-stretch",children:(0,i.jsx)("div",{className:"relative w-full bg-[#E0FE10] h-full overflow-y-auto",children:c?(0,i.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,i.jsx)("div",{className:"text-black",children:"Loading..."})}):(0,i.jsxs)("div",{className:"h-full bg-[#E0FE10] p-8 flex flex-col",children:[(0,i.jsx)("button",{onClick:t,className:"self-end mb-6",children:(0,i.jsx)(U.Z,{size:24,className:"text-black"})}),(0,i.jsx)("h3",{className:"text-4xl font-bold text-black mb-4",children:"You don't have your workout for today yet."}),(0,i.jsx)("div",{className:"mt-8",children:(0,i.jsxs)("button",{onClick:()=>{h(!0)},className:"flex items-center text-lg font-medium text-black",children:["Get a workout",(0,i.jsx)("svg",{className:"ml-2 w-6 h-6",viewBox:"0 0 24 24",fill:"none",children:(0,i.jsx)("path",{d:"M5 12h14m-7-7l7 7-7 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})}),n.length>0&&(0,i.jsx)("div",{className:"mt-auto pt-8",children:(0,i.jsxs)("div",{className:"bg-black/10 rounded-full py-3 px-6 inline-flex items-center gap-2",children:[(0,i.jsx)("span",{className:"text-black",children:"Swipe to see"}),(0,i.jsxs)("span",{className:"font-bold text-black",children:[n.length," Active Rounds"]}),(0,i.jsx)("svg",{className:"w-4 h-4 text-black",viewBox:"0 0 24 24",fill:"none",children:(0,i.jsx)("path",{d:"M9 5l7 7-7 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})})]})})}):null},T=()=>{let[e,s]=(0,l.useState)(r.Discover),[t,a]=(0,l.useState)(!1),[n,d]=(0,l.useState)(!1),[m,x]=(0,l.useState)(!0);return((0,l.useEffect)(()=>{let e=(0,z.Aj)(u.I,async e=>{if(e)try{let s=await c.W4.fetchUserFromFirestore(e.uid);c.W4.currentUser=s,console.log("User data fetched and set:",s),d(!0),x(!1)}catch(e){console.error("Error fetching user data:",e)}else c.W4.currentUser=null,d(!1),x(!0)});return()=>e()},[]),(0,l.useEffect)(()=>{d(!1),x(!0)},[]),n)?(0,i.jsxs)("div",{className:"min-h-screen bg-zinc-900",children:[(0,i.jsxs)("nav",{className:"px-4 py-4 bg-zinc-900/80 backdrop-blur-sm border-b border-zinc-800 sticky top-0 z-10 flex justify-between items-center",children:[(0,i.jsx)("img",{src:"/pulse-logo-white.svg",alt:"Pulse",className:"h-8"}),(0,i.jsx)("button",{className:"bg-[#E0FE10] text-black px-4 py-2 rounded-lg",onClick:()=>a(!0),children:"Start Workout"})]}),(0,i.jsx)("div",{className:"max-w-xl mx-auto px-4 py-6",children:(()=>{switch(e){case r.Discover:return(0,i.jsx)(g,{});case r.Search:return(0,i.jsx)(p,{});case r.Create:return(0,i.jsx)(b,{});case r.Message:return(0,i.jsx)(v,{});case r.Profile:return(0,i.jsx)(C,{});default:return null}})()}),(0,i.jsx)(o,{selectedTab:e,onTabChange:s}),(0,i.jsx)($,{isVisible:t,onClose:()=>a(!1)})]}):(0,i.jsx)(A.Z,{isVisible:m,onClose:()=>x(!1),onSignInSuccess:e=>{console.log("Sign-in successful:",e),d(!0),x(!1)},onSignInError:e=>{console.error("Sign-in error:",e),alert("Sign-in failed. Please try again.")},onSignUpSuccess:e=>{console.log("Sign-up successful:",e),d(!0),x(!1)},onSignUpError:e=>{console.error("Sign-up error:",e),alert("Sign-up failed. Please try again.")},onQuizComplete:()=>{console.log("Quiz completed successfully")},onQuizSkipped:()=>{console.log("Quiz skipped")}})}}},function(e){e.O(0,[16,693,365,594,501,612,590,888,774,179],function(){return e(e.s=528)}),_N_E=e.O()}]);
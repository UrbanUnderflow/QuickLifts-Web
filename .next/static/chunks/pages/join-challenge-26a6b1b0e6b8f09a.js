(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[554],{6766:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/join-challenge",function(){return t(2958)}])},341:function(e,n,t){"use strict";t.d(n,{Z:function(){return r}});let r=(0,t(1134).Z)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]])},2190:function(e,n,t){"use strict";t.d(n,{Z:function(){return r}});let r=(0,t(1134).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},2958:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return d}});var r=t(5893),s=t(7294),l=t(1163),o=t(8662),c=t(7705),i=t(1259),a=t(6718),u=t(5612);function d(){let[e,n]=(0,s.useState)(""),[t,d]=(0,s.useState)(!1),[f,h]=(0,s.useState)(""),[m,g]=(0,s.useState)(!1),[x,p]=(0,s.useState)(!1),b=(0,l.useRouter)();(0,s.useEffect)(()=>{let e=(0,i.Aj)(a.I,async e=>{if(e)try{let n=await c.W4.fetchUserFromFirestore(e.uid);c.W4.currentUser=n,console.log("User data fetched and set:",n),g(!0),p(!1)}catch(e){console.error("Error fetching user data:",e),h("Error loading user data")}else c.W4.currentUser=null,g(!1),p(!0)});return()=>e()},[]);let y=async n=>{if(n.preventDefault(),!e.trim()){h("Username is required");return}try{d(!0),h(""),await o.G.joinChallenge({username:e,challengeId:"cevWHBlBk7VobANRUsmC"}),b.push("/challenge-joined")}catch(e){console.error(e),h(e instanceof Error?e.message:"Failed to join challenge")}finally{d(!1)}};return m?(0,r.jsx)("div",{className:"min-h-screen bg-zinc-900 flex flex-col items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h1",{className:"text-4xl sm:text-5xl font-bold text-white font-['Thunder'] mb-4",children:"Join Jaidus's Challenge"}),(0,r.jsx)("p",{className:"text-zinc-400 text-lg",children:"30 Days of Shared Progress"})]}),(0,r.jsxs)("form",{onSubmit:y,className:"mt-8 space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-zinc-300 mb-2 font-['HK Grotesk']",children:"Username"}),(0,r.jsx)("input",{id:"username",type:"text",value:e,onChange:e=>n(e.target.value),className:"w-full bg-zinc-800 border border-zinc-600 rounded-lg p-3 text-white placeholder-zinc-400 focus:outline-none focus:border-[#E0FE10] focus:ring-1 focus:ring-[#E0FE10] transition-colors",placeholder:"Enter your username"}),f&&(0,r.jsx)("p",{className:"mt-2 text-red-400 text-sm",children:f})]}),(0,r.jsx)("button",{type:"submit",disabled:t,className:`w-full bg-[#E0FE10] text-black font-semibold py-4 px-4 rounded-lg
              hover:bg-[#c8e60e] transition-colors font-['HK Grotesk'] flex items-center justify-center
              ${t?"opacity-50 cursor-not-allowed":""}`,children:t?(0,r.jsx)("div",{className:"w-6 h-6 border-2 border-black border-t-transparent rounded-full animate-spin"}):"Join Challenge"})]}),(0,r.jsx)("div",{className:"text-center mt-4",children:(0,r.jsx)("button",{onClick:()=>b.back(),className:"text-zinc-400 hover:text-[#E0FE10] transition-colors text-sm",children:"← Back"})})]})}):(0,r.jsx)(u.Z,{isVisible:x,onClose:()=>p(!1),onSignInSuccess:e=>{console.log("Sign-in successful:",e),g(!0),p(!1)},onSignInError:e=>{console.error("Sign-in error:",e),alert("Sign-in failed. Please try again.")},onSignUpSuccess:e=>{console.log("Sign-up successful:",e),g(!0),p(!1)},onSignUpError:e=>{console.error("Sign-up error:",e),alert("Sign-up failed. Please try again.")},onQuizComplete:()=>{console.log("Quiz completed successfully")},onQuizSkipped:()=>{console.log("Quiz skipped")}})}}},function(e){e.O(0,[16,693,478,311,376,662,612,888,774,179],function(){return e(e.s=6766)}),_N_E=e.O()}]);
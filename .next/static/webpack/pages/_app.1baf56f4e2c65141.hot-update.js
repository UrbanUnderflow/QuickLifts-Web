"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/_app",{

/***/ "./src/api/firebase/workout/service.ts":
/*!*********************************************!*\
  !*** ./src/api/firebase/workout/service.ts ***!
  \*********************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   workoutService: function() { return /* binding */ workoutService; }\n/* harmony export */ });\n/* harmony import */ var _swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @swc/helpers/_/_async_to_generator */ \"./node_modules/@swc/helpers/esm/_async_to_generator.js\");\n/* harmony import */ var _swc_helpers_class_call_check__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @swc/helpers/_/_class_call_check */ \"./node_modules/@swc/helpers/esm/_class_call_check.js\");\n/* harmony import */ var _swc_helpers_create_class__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @swc/helpers/_/_create_class */ \"./node_modules/@swc/helpers/esm/_create_class.js\");\n/* harmony import */ var _swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @swc/helpers/_/_object_spread */ \"./node_modules/@swc/helpers/esm/_object_spread.js\");\n/* harmony import */ var _swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @swc/helpers/_/_object_spread_props */ \"./node_modules/@swc/helpers/esm/_object_spread_props.js\");\n/* harmony import */ var _swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @swc/helpers/_/_sliced_to_array */ \"./node_modules/@swc/helpers/esm/_sliced_to_array.js\");\n/* harmony import */ var _swc_helpers_to_consumable_array__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @swc/helpers/_/_to_consumable_array */ \"./node_modules/@swc/helpers/esm/_to_consumable_array.js\");\n/* harmony import */ var _swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @swc/helpers/_/_ts_generator */ \"./node_modules/@swc/helpers/esm/_ts_generator.js\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/firestore */ \"./node_modules/firebase/firestore/dist/esm/index.esm.js\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config */ \"./src/api/firebase/config.ts\");\n/* harmony import */ var _user__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../user */ \"./src/api/firebase/user/index.ts\");\n/* harmony import */ var _exercise_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../exercise/types */ \"./src/api/firebase/exercise/types.ts\");\n/* harmony import */ var _exercise_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../exercise/service */ \"./src/api/firebase/exercise/service.ts\");\n/* harmony import */ var _user_types__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../user/types */ \"./src/api/firebase/user/types.ts\");\n/* harmony import */ var _workout_types__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../api/firebase/workout/types */ \"./src/api/firebase/workout/types.ts\");\n/* harmony import */ var _barrel_optimize_names_format_date_fns__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! __barrel_optimize__?names=format!=!date-fns */ \"__barrel_optimize__?names=format!=!./node_modules/date-fns/index.js\");\n/* harmony import */ var _utils_timestamp__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../utils/timestamp */ \"./src/utils/timestamp.ts\");\n/* harmony import */ var _utils_formatDate__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../utils/formatDate */ \"./src/utils/formatDate.ts\");\n/* harmony import */ var _redux_store__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../redux/store */ \"./src/redux/store.ts\");\n/* harmony import */ var _redux_workoutSlice__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../redux/workoutSlice */ \"./src/redux/workoutSlice.ts\");\n// src/api/firebase/workout/service.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n // Adjust the import path\n\n\n\n\nvar WorkoutService = /*#__PURE__*/ function() {\n    \"use strict\";\n    function WorkoutService() {\n        (0,_swc_helpers_class_call_check__WEBPACK_IMPORTED_MODULE_11__._)(this, WorkoutService);\n    }\n    var _proto = WorkoutService.prototype;\n    _proto.generateId = function generateId() {\n        return (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"workouts\")).id;\n    };\n    _proto.fetchWorkoutSummary = function fetchWorkoutSummary(userId, workoutId, summaryId) {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var summaryRef, summaryDoc, summaryData, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        _state.trys.push([\n                            0,\n                            2,\n                            ,\n                            3\n                        ]);\n                        console.log(\"Fetching workout summary:\", {\n                            userId: userId,\n                            workoutId: workoutId,\n                            summaryId: summaryId\n                        });\n                        // Assuming summaries are stored in a 'workoutSummaries' collection\n                        summaryRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"workoutSummaries\", summaryId);\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(summaryRef)\n                        ];\n                    case 1:\n                        summaryDoc = _state.sent();\n                        if (!summaryDoc.exists()) {\n                            console.log(\"Summary document not found\");\n                            return [\n                                2,\n                                null\n                            ];\n                        }\n                        summaryData = summaryDoc.data();\n                        console.log(\"Found summary data:\", summaryData);\n                        return [\n                            2,\n                            new _workout_types__WEBPACK_IMPORTED_MODULE_6__.WorkoutSummary(summaryData)\n                        ];\n                    case 2:\n                        error = _state.sent();\n                        console.error(\"Error fetching workout summary:\", error);\n                        return [\n                            2,\n                            null\n                        ];\n                    case 3:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    // Update the formatWorkoutAndInitializeLogs function\n    _proto.formatWorkoutAndInitializeLogs = function formatWorkoutAndInitializeLogs(exerciseDetails, workoutAuthor) {\n        var _this = this;\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var _userService_currentUser, workId, exerciseReferences, exerciseLogs, validExerciseDetails, newWorkout;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                workId = _this.generateId(); // Use this.generateId() since it's a class method\n                exerciseReferences = [];\n                exerciseLogs = [];\n                // Ensure exercise details are valid before processing\n                validExerciseDetails = exerciseDetails.filter(function(detail) {\n                    return (detail === null || detail === void 0 ? void 0 : detail.exercise) && detail.exercise.id;\n                });\n                validExerciseDetails.forEach(function(detail, index) {\n                    var _detail_category, _detail_category1, _detail_category_details, _detail_category2, _detail_category_details1, _detail_category3, _detail_category_details2, _detail_category4, _detail_category_details3, _detail_category5, _detail_category_details4, _detail_category6, _detail_category_details5, _detail_category7, _detail_category_details6, _detail_category8, _detail_category_details7, _detail_category9, _detail_category_details8, _detail_category10, _detail_category_details9, _detail_category11, _userService_currentUser, _userService_currentUser1, _category_details, _category_details1, _category_details2, _userService_currentUser2, _userService_currentUser3;\n                    if (detail.exercise.id == null) {\n                        return;\n                    }\n                    var _detail_category_details_sets, _detail_category_details_reps, _detail_category_details_weight, _detail_category_details_screenTime, _detail_category_details_selectedVideo, _detail_category_details_duration, _detail_category_details_bpm, _detail_category_details_calories, _detail_category_details_screenTime1, _detail_category_details_selectedVideo1;\n                    // Create the category first\n                    var category = {\n                        type: ((_detail_category = detail.category) === null || _detail_category === void 0 ? void 0 : _detail_category.type) || \"weight-training\",\n                        details: ((_detail_category1 = detail.category) === null || _detail_category1 === void 0 ? void 0 : _detail_category1.type) === \"weight-training\" ? {\n                            sets: (_detail_category_details_sets = (_detail_category2 = detail.category) === null || _detail_category2 === void 0 ? void 0 : (_detail_category_details = _detail_category2.details) === null || _detail_category_details === void 0 ? void 0 : _detail_category_details.sets) !== null && _detail_category_details_sets !== void 0 ? _detail_category_details_sets : 3,\n                            reps: (_detail_category_details_reps = (_detail_category3 = detail.category) === null || _detail_category3 === void 0 ? void 0 : (_detail_category_details1 = _detail_category3.details) === null || _detail_category_details1 === void 0 ? void 0 : _detail_category_details1.reps) !== null && _detail_category_details_reps !== void 0 ? _detail_category_details_reps : [\n                                \"12\"\n                            ],\n                            weight: (_detail_category_details_weight = (_detail_category4 = detail.category) === null || _detail_category4 === void 0 ? void 0 : (_detail_category_details2 = _detail_category4.details) === null || _detail_category_details2 === void 0 ? void 0 : _detail_category_details2.weight) !== null && _detail_category_details_weight !== void 0 ? _detail_category_details_weight : 0,\n                            screenTime: (_detail_category_details_screenTime = (_detail_category5 = detail.category) === null || _detail_category5 === void 0 ? void 0 : (_detail_category_details3 = _detail_category5.details) === null || _detail_category_details3 === void 0 ? void 0 : _detail_category_details3.screenTime) !== null && _detail_category_details_screenTime !== void 0 ? _detail_category_details_screenTime : 0,\n                            selectedVideo: (_detail_category_details_selectedVideo = (_detail_category6 = detail.category) === null || _detail_category6 === void 0 ? void 0 : (_detail_category_details4 = _detail_category6.details) === null || _detail_category_details4 === void 0 ? void 0 : _detail_category_details4.selectedVideo) !== null && _detail_category_details_selectedVideo !== void 0 ? _detail_category_details_selectedVideo : null\n                        } : {\n                            duration: (_detail_category_details_duration = (_detail_category7 = detail.category) === null || _detail_category7 === void 0 ? void 0 : (_detail_category_details5 = _detail_category7.details) === null || _detail_category_details5 === void 0 ? void 0 : _detail_category_details5.duration) !== null && _detail_category_details_duration !== void 0 ? _detail_category_details_duration : 60,\n                            bpm: (_detail_category_details_bpm = (_detail_category8 = detail.category) === null || _detail_category8 === void 0 ? void 0 : (_detail_category_details6 = _detail_category8.details) === null || _detail_category_details6 === void 0 ? void 0 : _detail_category_details6.bpm) !== null && _detail_category_details_bpm !== void 0 ? _detail_category_details_bpm : 140,\n                            calories: (_detail_category_details_calories = (_detail_category9 = detail.category) === null || _detail_category9 === void 0 ? void 0 : (_detail_category_details7 = _detail_category9.details) === null || _detail_category_details7 === void 0 ? void 0 : _detail_category_details7.calories) !== null && _detail_category_details_calories !== void 0 ? _detail_category_details_calories : 0,\n                            screenTime: (_detail_category_details_screenTime1 = (_detail_category10 = detail.category) === null || _detail_category10 === void 0 ? void 0 : (_detail_category_details8 = _detail_category10.details) === null || _detail_category_details8 === void 0 ? void 0 : _detail_category_details8.screenTime) !== null && _detail_category_details_screenTime1 !== void 0 ? _detail_category_details_screenTime1 : 0,\n                            selectedVideo: (_detail_category_details_selectedVideo1 = (_detail_category11 = detail.category) === null || _detail_category11 === void 0 ? void 0 : (_detail_category_details9 = _detail_category11.details) === null || _detail_category_details9 === void 0 ? void 0 : _detail_category_details9.selectedVideo) !== null && _detail_category_details_selectedVideo1 !== void 0 ? _detail_category_details_selectedVideo1 : null\n                        }\n                    };\n                    console.log(\"Category being used:\", category); // Debug log\n                    // Create exercise instance with our new category\n                    var exerciseInstance = new _exercise_types__WEBPACK_IMPORTED_MODULE_3__.Exercise((0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_14__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({}, detail.exercise), {\n                        id: detail.exercise.id || workoutService.generateId(),\n                        name: detail.exercise.name || \"\",\n                        author: detail.exercise.author || {\n                            userId: workoutAuthor || ((_userService_currentUser = _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser) === null || _userService_currentUser === void 0 ? void 0 : _userService_currentUser.id),\n                            username: workoutAuthor || ((_userService_currentUser1 = _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser) === null || _userService_currentUser1 === void 0 ? void 0 : _userService_currentUser1.username)\n                        },\n                        description: detail.exercise.description || \"\",\n                        category: category,\n                        primaryBodyParts: detail.exercise.primaryBodyParts || [],\n                        secondaryBodyParts: detail.exercise.secondaryBodyParts || [],\n                        tags: detail.exercise.tags || [],\n                        videos: detail.exercise.videos || [],\n                        createdAt: detail.exercise.createdAt || new Date(),\n                        updatedAt: detail.exercise.updatedAt || new Date()\n                    }));\n                    // Create exercise reference\n                    var exerciseRef = {\n                        exercise: exerciseInstance,\n                        groupId: detail.groupId || 0\n                    };\n                    exerciseReferences.push(exerciseRef);\n                    var _category_details_sets;\n                    // Create logs using the same category details\n                    var sets = (_category_details_sets = (_category_details = category.details) === null || _category_details === void 0 ? void 0 : _category_details.sets) !== null && _category_details_sets !== void 0 ? _category_details_sets : 3;\n                    var _category_details_reps;\n                    var reps = (_category_details_reps = (_category_details1 = category.details) === null || _category_details1 === void 0 ? void 0 : _category_details1.reps) !== null && _category_details_reps !== void 0 ? _category_details_reps : [\n                        \"12\"\n                    ];\n                    var _category_details_weight;\n                    var weight = (_category_details_weight = (_category_details2 = category.details) === null || _category_details2 === void 0 ? void 0 : _category_details2.weight) !== null && _category_details_weight !== void 0 ? _category_details_weight : 0;\n                    // Create logs for each set with validated data\n                    var setsLogs = Array.from({\n                        length: sets\n                    }, function() {\n                        return new _workout_types__WEBPACK_IMPORTED_MODULE_6__.RepsAndWeightLog({\n                            reps: parseInt(reps[0] || \"12\", 10),\n                            weight: weight || 0\n                        });\n                    });\n                    // Create exercise log with validated data\n                    var exerciseLogId = _exercise_service__WEBPACK_IMPORTED_MODULE_4__.exerciseService.generateExerciseLogID(workId, ((_userService_currentUser2 = _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser) === null || _userService_currentUser2 === void 0 ? void 0 : _userService_currentUser2.id) || \"anonymous\");\n                    var log = new _exercise_types__WEBPACK_IMPORTED_MODULE_3__.ExerciseLog({\n                        id: exerciseLogId,\n                        workoutId: workId,\n                        userId: ((_userService_currentUser3 = _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser) === null || _userService_currentUser3 === void 0 ? void 0 : _userService_currentUser3.id) || \"anonymous\",\n                        exercise: exerciseInstance,\n                        logs: setsLogs,\n                        feedback: \"\",\n                        note: detail.notes || \"\",\n                        isSplit: detail.isSplit || false,\n                        logSubmitted: false,\n                        logIsEditing: false,\n                        isCompleted: false,\n                        order: index + 1,\n                        createdAt: new Date(),\n                        updatedAt: new Date(),\n                        completedAt: new Date()\n                    });\n                    exerciseLogs.push(log);\n                });\n                // Create workout with validated data\n                newWorkout = new _workout_types__WEBPACK_IMPORTED_MODULE_6__.Workout({\n                    id: workId,\n                    roundWorkoutId: \"\",\n                    exercises: exerciseReferences,\n                    logs: exerciseLogs,\n                    title: \"\",\n                    description: \"\",\n                    duration: 0,\n                    workoutRating: \"none\",\n                    useAuthorContent: false,\n                    isCompleted: false,\n                    workoutStatus: \"archived\",\n                    author: ((_userService_currentUser = _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser) === null || _userService_currentUser === void 0 ? void 0 : _userService_currentUser.id) || \"PulseAI\",\n                    createdAt: new Date(),\n                    updatedAt: new Date(),\n                    zone: _workout_types__WEBPACK_IMPORTED_MODULE_6__.Workout.determineWorkoutZone(exerciseReferences) || \"full\"\n                });\n                return [\n                    2,\n                    {\n                        workout: newWorkout,\n                        exerciseLogs: exerciseLogs\n                    }\n                ];\n            });\n        })();\n    };\n    _proto.getUserById = function getUserById(userId) {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var userDoc, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        _state.trys.push([\n                            0,\n                            2,\n                            ,\n                            3\n                        ]);\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", userId))\n                        ];\n                    case 1:\n                        userDoc = _state.sent();\n                        if (!userDoc.exists()) {\n                            throw new Error(\"User not found\");\n                        }\n                        return [\n                            2,\n                            new _user_types__WEBPACK_IMPORTED_MODULE_5__.User((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({\n                                id: userDoc.id\n                            }, userDoc.data()))\n                        ];\n                    case 2:\n                        error = _state.sent();\n                        console.error(\"Error getting user by ID:\", error);\n                        throw error;\n                    case 3:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    // In WorkoutService\n    _proto.revertAuthorFormat = function revertAuthorFormat(workoutId, authorId) {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var _userService_currentUser, workoutRef;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        if (!((_userService_currentUser = _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser) === null || _userService_currentUser === void 0 ? void 0 : _userService_currentUser.id)) throw new Error(\"No user signed in\");\n                        workoutRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser.id, \"MyCreatedWorkouts\", workoutId);\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.updateDoc)(workoutRef, {\n                                author: authorId\n                            })\n                        ];\n                    case 1:\n                        _state.sent();\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    _proto.updateWorkout = function updateWorkout(workout) {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var _userService_currentUser, workoutRef, batch, logsRef, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        if (!((_userService_currentUser = _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser) === null || _userService_currentUser === void 0 ? void 0 : _userService_currentUser.id)) {\n                            throw new Error(\"No user is signed in\");\n                        }\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            5,\n                            ,\n                            6\n                        ]);\n                        workoutRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser.id, \"MyCreatedWorkouts\", workout.id);\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)(workoutRef, workout.toDictionary(), {\n                                merge: true\n                            })\n                        ];\n                    case 2:\n                        _state.sent();\n                        if (!(workout.logs && workout.logs.length > 0)) return [\n                            3,\n                            4\n                        ];\n                        batch = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.writeBatch)(_config__WEBPACK_IMPORTED_MODULE_1__.db);\n                        logsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(workoutRef, \"logs\");\n                        workout.logs.forEach(function(log) {\n                            var logRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(logsRef, log.id);\n                            batch.set(logRef, log.toDictionary(), {\n                                merge: true\n                            });\n                        });\n                        return [\n                            4,\n                            batch.commit()\n                        ];\n                    case 3:\n                        _state.sent();\n                        _state.label = 4;\n                    case 4:\n                        return [\n                            3,\n                            6\n                        ];\n                    case 5:\n                        error = _state.sent();\n                        console.error(\"Error updating workout:\", error);\n                        throw error;\n                    case 6:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    /**\n   * Fetch the user's current workout (either QueuedUp or InProgress).\n   */ _proto.fetchCurrentWorkout = function fetchCurrentWorkout(userId) {\n        var _this = this;\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var session;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        return [\n                            4,\n                            _this.fetchCurrentWorkoutSession(userId)\n                        ];\n                    case 1:\n                        session = _state.sent();\n                        return [\n                            2,\n                            session.workout\n                        ];\n                }\n            });\n        })();\n    };\n    _proto.getAllSweatlists = function getAllSweatlists(userId) {\n        var _this = this;\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var workoutsRef, exercisesWithVideos, workoutsSnapshot, workouts, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, workoutDoc, workoutData, workoutId, mappedExercises, workout, logsRef, logsSnapshot, err, error, firestoreError;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        if (!userId) {\n                            throw new Error(\"User ID is required\");\n                        }\n                        // Reference to the user's workout collection\n                        workoutsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", userId, \"MyCreatedWorkouts\");\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            12,\n                            ,\n                            13\n                        ]);\n                        return [\n                            4,\n                            _this.fetchAndMapExercisesWithVideos()\n                        ];\n                    case 2:\n                        exercisesWithVideos = _state.sent();\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(workoutsRef)\n                        ];\n                    case 3:\n                        workoutsSnapshot = _state.sent();\n                        workouts = [];\n                        _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n                        _state.label = 4;\n                    case 4:\n                        _state.trys.push([\n                            4,\n                            9,\n                            10,\n                            11\n                        ]);\n                        _iterator = workoutsSnapshot.docs[Symbol.iterator]();\n                        _state.label = 5;\n                    case 5:\n                        if (!!(_iteratorNormalCompletion = (_step = _iterator.next()).done)) return [\n                            3,\n                            8\n                        ];\n                        workoutDoc = _step.value;\n                        workoutData = workoutDoc.data();\n                        workoutId = workoutDoc.id;\n                        // Map the exercises in the workout to the full exercise objects with videos\n                        mappedExercises = (workoutData.exercises || []).map(function(exerciseRef) {\n                            var fullExercise = exercisesWithVideos.find(function(ex) {\n                                return ex.name === exerciseRef.exercise.name;\n                            });\n                            console.log(\"This is the mapped exercise: \" + fullExercise);\n                            return (0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_14__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({}, exerciseRef), {\n                                exercise: fullExercise || exerciseRef\n                            });\n                        });\n                        // Parse workout data into the desired structure\n                        workout = new _workout_types__WEBPACK_IMPORTED_MODULE_6__.Workout({\n                            id: workoutData.id || \"\",\n                            roundWorkoutId: workoutData.roundWorkoutId || \"\",\n                            collectionId: workoutData.collectionId,\n                            exercises: mappedExercises,\n                            challenge: workoutData.challenge,\n                            logs: [],\n                            title: workoutData.title || \"\",\n                            description: workoutData.description || \"\",\n                            duration: workoutData.duration || 0,\n                            workoutRating: workoutData.workoutRating,\n                            useAuthorContent: workoutData.useAuthorContent || false,\n                            isCompleted: workoutData.isCompleted || false,\n                            workoutStatus: workoutData.workoutStatus || \"notStarted\",\n                            startTime: workoutData.startTime ? new Date(workoutData.startTime) : undefined,\n                            order: workoutData.order,\n                            author: workoutData.author || userId,\n                            createdAt: workoutData.createdAt ? new Date(workoutData.createdAt) : new Date(),\n                            updatedAt: workoutData.updatedAt ? new Date(workoutData.updatedAt) : new Date(),\n                            zone: workoutData.zone || \"FULL_BODY\"\n                        });\n                        // Fetch and process logs\n                        logsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", userId, \"MyCreatedWorkouts\", workoutId, \"logs\");\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(logsRef)\n                        ];\n                    case 6:\n                        logsSnapshot = _state.sent();\n                        workout.logs = logsSnapshot.docs.map(function(logDoc) {\n                            return (0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_14__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({}, logDoc.data()), {\n                                id: logDoc.id\n                            });\n                        });\n                        workouts.push(workout);\n                        _state.label = 7;\n                    case 7:\n                        _iteratorNormalCompletion = true;\n                        return [\n                            3,\n                            5\n                        ];\n                    case 8:\n                        return [\n                            3,\n                            11\n                        ];\n                    case 9:\n                        err = _state.sent();\n                        _didIteratorError = true;\n                        _iteratorError = err;\n                        return [\n                            3,\n                            11\n                        ];\n                    case 10:\n                        try {\n                            if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n                                _iterator[\"return\"]();\n                            }\n                        } finally{\n                            if (_didIteratorError) {\n                                throw _iteratorError;\n                            }\n                        }\n                        return [\n                            7\n                        ];\n                    case 11:\n                        return [\n                            2,\n                            workouts\n                        ];\n                    case 12:\n                        error = _state.sent();\n                        firestoreError = error;\n                        console.error(\"Error fetching sweatlists:\", firestoreError.message);\n                        throw new Error(\"Failed to fetch sweatlists\");\n                    case 13:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    _proto.getUserChallengesByChallengeId = function getUserChallengesByChallengeId(challengeId) {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var userChallengesRef, q, snapshot, userChallenges, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        userChallengesRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"user-challenge\");\n                        q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(userChallengesRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"challengeId\", \"==\", challengeId));\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            3,\n                            ,\n                            4\n                        ]);\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q)\n                        ];\n                    case 2:\n                        snapshot = _state.sent();\n                        userChallenges = snapshot.docs.map(function(doc) {\n                            var data = doc.data();\n                            return new _workout_types__WEBPACK_IMPORTED_MODULE_6__.UserChallenge(data);\n                        });\n                        if (userChallenges.length > 0) {\n                            return [\n                                2,\n                                {\n                                    userChallenges: userChallenges\n                                }\n                            ];\n                        } else {\n                            return [\n                                2,\n                                {\n                                    userChallenges: [],\n                                    error: \"No user challenges found for this challenge.\"\n                                }\n                            ];\n                        }\n                        return [\n                            3,\n                            4\n                        ];\n                    case 3:\n                        error = _state.sent();\n                        console.error(\"Error fetching user challenges by challengeId:\", error);\n                        return [\n                            2,\n                            {\n                                userChallenges: [],\n                                error: error instanceof Error ? error.message : \"Unknown error\"\n                            }\n                        ];\n                    case 4:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    /**\n   * Fetches workout summaries for a specific date.\n   * @param date - The date for which workout summaries are being fetched.\n   * @returns A promise resolving to an array of workout summaries.\n   * @throws If no user is signed in or if the Firestore query fails.\n   */ _proto.fetchWorkoutSummaries = function fetchWorkoutSummaries(date) {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var currentUser, formattedDate, summariesRef, q, snapshot, error, firestoreError;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        currentUser = _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser;\n                        if (!(currentUser === null || currentUser === void 0 ? void 0 : currentUser.id)) {\n                            throw new Error(\"No user is signed in\");\n                        }\n                        // Format the date to match the format in Firestore ('MM-dd-yyyy')\n                        formattedDate = (0,_barrel_optimize_names_format_date_fns__WEBPACK_IMPORTED_MODULE_16__.format)(date, \"MM-dd-yyyy\");\n                        // Reference to the user's workoutSummaries subcollection\n                        summariesRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", currentUser.id, \"workoutSummaries\");\n                        // Create a query to filter documents by the specified date\n                        q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(summariesRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"date\", \"==\", formattedDate));\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            3,\n                            ,\n                            4\n                        ]);\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q)\n                        ];\n                    case 2:\n                        snapshot = _state.sent();\n                        // Map the documents to an array of WorkoutSummary objects\n                        return [\n                            2,\n                            snapshot.docs.map(function(doc) {\n                                return (0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({\n                                    id: doc.id\n                                }, doc.data());\n                            })\n                        ];\n                    case 3:\n                        error = _state.sent();\n                        firestoreError = error;\n                        console.error(\"Error fetching workout summaries:\", firestoreError.message);\n                        throw new Error(firestoreError.message);\n                    case 4:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    _proto.fetchAllWorkoutSummaries = function fetchAllWorkoutSummaries() {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var currentUser, summariesRef, q, snapshot, error, firestoreError;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        currentUser = _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser;\n                        if (!(currentUser === null || currentUser === void 0 ? void 0 : currentUser.id)) {\n                            throw new Error(\"No user is signed in\");\n                        }\n                        // Reference to the user's workoutSummaries subcollection\n                        summariesRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", currentUser.id, \"workoutSummary\");\n                        // Query to retrieve all workout summaries, sorted by `createdAt` in ascending order\n                        q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(summariesRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.orderBy)(\"createdAt\", \"asc\")); // Adjust field name based on your schema\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            3,\n                            ,\n                            4\n                        ]);\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q)\n                        ];\n                    case 2:\n                        snapshot = _state.sent();\n                        // Map the documents to an array of WorkoutSummary objects\n                        return [\n                            2,\n                            snapshot.docs.map(function(doc) {\n                                return (0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({\n                                    id: doc.id\n                                }, doc.data());\n                            })\n                        ];\n                    case 3:\n                        error = _state.sent();\n                        firestoreError = error;\n                        console.error(\"Error fetching all workout summaries:\", firestoreError.message);\n                        throw new Error(firestoreError.message);\n                    case 4:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    /**\n * Fetch user challenges by userId.\n * @param userId The ID of the user to fetch challenges for.\n * @returns A promise resolving to an array of user challenges.\n * @throws If the Firestore query fails.\n */ _proto.fetchUserChallengesByUserId = function fetchUserChallengesByUserId(userId) {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var userChallengesRef, q, snapshot, userChallenges, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        userChallengesRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"user-challenge\");\n                        q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(userChallengesRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"userId\", \"==\", userId));\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            3,\n                            ,\n                            4\n                        ]);\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q)\n                        ];\n                    case 2:\n                        snapshot = _state.sent();\n                        // console.log(`Total challenges fetched: ${snapshot.docs.length}`);\n                        userChallenges = snapshot.docs.map(function(doc) {\n                            var data = doc.data();\n                            // console.log(`Processing challenge with ID: ${doc.id}`, data);\n                            return (0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_14__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({\n                                id: doc.id\n                            }, data), {\n                                challenge: data.challenge ? new _workout_types__WEBPACK_IMPORTED_MODULE_6__.Challenge({\n                                    id: data.challenge.id,\n                                    title: data.challenge.title,\n                                    subtitle: data.challenge.subtitle,\n                                    participants: data.challenge.participants || [],\n                                    status: data.challenge.status,\n                                    startDate: data.challenge.startDate ? new Date(data.challenge.startDate) : new Date(),\n                                    endDate: data.challenge.endDate ? new Date(data.challenge.endDate) : new Date(),\n                                    createdAt: data.challenge.createdAt ? new Date(data.challenge.createdAt) : new Date(),\n                                    updatedAt: data.challenge.updatedAt ? new Date(data.challenge.updatedAt) : new Date(),\n                                    introVideos: (data.challenge.introVideos || []).map(function(v) {\n                                        return new _workout_types__WEBPACK_IMPORTED_MODULE_6__.IntroVideo({\n                                            id: v.id,\n                                            userId: v.userId,\n                                            videoUrl: v.videoUrl\n                                        });\n                                    })\n                                }) : undefined,\n                                createdAt: (0,_utils_timestamp__WEBPACK_IMPORTED_MODULE_7__.convertTimestamp)(data.createdAt),\n                                updatedAt: (0,_utils_timestamp__WEBPACK_IMPORTED_MODULE_7__.convertTimestamp)(data.updatedAt)\n                            });\n                        });\n                        // console.log('All challenges after processing:', JSON.stringify(userChallenges, null, 2));\n                        return [\n                            2,\n                            userChallenges\n                        ];\n                    case 3:\n                        error = _state.sent();\n                        console.error(\"Error fetching user challenges by userId:\", error);\n                        throw error;\n                    case 4:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    _proto.fetchCollectionWithSweatLists = function fetchCollectionWithSweatLists(collectionId) {\n        var _this = this;\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var collection, sweatLists, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, sweatlistIdentifier, _ref, workout, error, err, error1;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        _state.trys.push([\n                            0,\n                            12,\n                            ,\n                            13\n                        ]);\n                        return [\n                            4,\n                            _this.getCollectionById(collectionId)\n                        ];\n                    case 1:\n                        collection = _state.sent();\n                        // Fetch sweat lists (workouts)\n                        sweatLists = [];\n                        _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n                        _state.label = 2;\n                    case 2:\n                        _state.trys.push([\n                            2,\n                            9,\n                            10,\n                            11\n                        ]);\n                        _iterator = (collection.sweatlistIds || [])[Symbol.iterator]();\n                        _state.label = 3;\n                    case 3:\n                        if (!!(_iteratorNormalCompletion = (_step = _iterator.next()).done)) return [\n                            3,\n                            8\n                        ];\n                        sweatlistIdentifier = _step.value;\n                        _state.label = 4;\n                    case 4:\n                        _state.trys.push([\n                            4,\n                            6,\n                            ,\n                            7\n                        ]);\n                        return [\n                            4,\n                            _this.fetchSavedWorkout(sweatlistIdentifier.sweatlistAuthorId, sweatlistIdentifier.id)\n                        ];\n                    case 5:\n                        _ref = _swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_17__._.apply(void 0, [\n                            _state.sent(),\n                            1\n                        ]), workout = _ref[0];\n                        if (workout) {\n                            sweatLists.push(workout);\n                        }\n                        return [\n                            3,\n                            7\n                        ];\n                    case 6:\n                        error = _state.sent();\n                        console.error(\"Error fetching workout \".concat(sweatlistIdentifier.id, \":\"), error);\n                        return [\n                            3,\n                            7\n                        ];\n                    case 7:\n                        _iteratorNormalCompletion = true;\n                        return [\n                            3,\n                            3\n                        ];\n                    case 8:\n                        return [\n                            3,\n                            11\n                        ];\n                    case 9:\n                        err = _state.sent();\n                        _didIteratorError = true;\n                        _iteratorError = err;\n                        return [\n                            3,\n                            11\n                        ];\n                    case 10:\n                        try {\n                            if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n                                _iterator[\"return\"]();\n                            }\n                        } finally{\n                            if (_didIteratorError) {\n                                throw _iteratorError;\n                            }\n                        }\n                        return [\n                            7\n                        ];\n                    case 11:\n                        return [\n                            2,\n                            {\n                                collection: collection,\n                                sweatLists: sweatLists\n                            }\n                        ];\n                    case 12:\n                        error1 = _state.sent();\n                        console.error(\"Error fetching collection with sweat lists:\", error1);\n                        throw error1;\n                    case 13:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    _proto.fetchSavedWorkout = function fetchSavedWorkout(userId, workoutId) {\n        var _this = this;\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var workoutRef, workoutSnap, workoutData, exercisesWithVideos, mappedExercises, workout, logsRef, logsSnapshot, logs, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        _state.trys.push([\n                            0,\n                            4,\n                            ,\n                            5\n                        ]);\n                        // Fetch workout document\n                        workoutRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", userId, \"MyCreatedWorkouts\", workoutId);\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(workoutRef)\n                        ];\n                    case 1:\n                        workoutSnap = _state.sent();\n                        if (!workoutSnap.exists()) {\n                            return [\n                                2,\n                                [\n                                    null,\n                                    null\n                                ]\n                            ];\n                        }\n                        workoutData = workoutSnap.data();\n                        return [\n                            4,\n                            _this.fetchAndMapExercisesWithVideos()\n                        ];\n                    case 2:\n                        exercisesWithVideos = _state.sent();\n                        // Map the exercises\n                        mappedExercises = (workoutData.exercises || []).map(function(exerciseRef) {\n                            var fullExercise = exercisesWithVideos.find(function(ex) {\n                                return ex.name === exerciseRef.exercise.name;\n                            });\n                            return (0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_14__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({}, exerciseRef), {\n                                exercise: fullExercise || exerciseRef.exercise\n                            });\n                        });\n                        workoutData.exercises = mappedExercises;\n                        workout = new _workout_types__WEBPACK_IMPORTED_MODULE_6__.Workout((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({\n                            id: workoutId\n                        }, workoutData));\n                        // Fetch and map logs\n                        logsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(workoutRef, \"logs\");\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(logsRef)\n                        ];\n                    case 3:\n                        logsSnapshot = _state.sent();\n                        console.log(\"Found logs count:\", logsSnapshot.size);\n                        logs = logsSnapshot.docs.map(function(logDoc) {\n                            var _logData_exercise_category, _logData_exercise_category1, _logData_exercise_category2, _logData_exercise_category3, _logData_exercise_category4, _logData_exercise_category5, _updatedExercise_category_details, _updatedExercise_category;\n                            var logData = logDoc.data();\n                            console.log(\"Raw log data from Firebase:\", {\n                                exerciseName: logData.exercise.name,\n                                category: logData.exercise.category\n                            });\n                            var fullExercise = exercisesWithVideos.find(function(ex) {\n                                return ex.name === logData.exercise.name;\n                            });\n                            // Create the category with the correct structure\n                            var exerciseCategory = {\n                                type: \"weight-training\",\n                                details: {\n                                    sets: ((_logData_exercise_category = logData.exercise.category) === null || _logData_exercise_category === void 0 ? void 0 : _logData_exercise_category.sets) || 3,\n                                    reps: Array.isArray((_logData_exercise_category1 = logData.exercise.category) === null || _logData_exercise_category1 === void 0 ? void 0 : _logData_exercise_category1.reps) ? logData.exercise.category.reps : [\n                                        ((_logData_exercise_category2 = logData.exercise.category) === null || _logData_exercise_category2 === void 0 ? void 0 : _logData_exercise_category2.reps) || \"12\"\n                                    ],\n                                    weight: ((_logData_exercise_category3 = logData.exercise.category) === null || _logData_exercise_category3 === void 0 ? void 0 : _logData_exercise_category3.weight) || 0,\n                                    screenTime: ((_logData_exercise_category4 = logData.exercise.category) === null || _logData_exercise_category4 === void 0 ? void 0 : _logData_exercise_category4.screenTime) || 0,\n                                    selectedVideo: ((_logData_exercise_category5 = logData.exercise.category) === null || _logData_exercise_category5 === void 0 ? void 0 : _logData_exercise_category5.selectedVideo) || null\n                                }\n                            };\n                            console.log(\"Constructed category:\", exerciseCategory);\n                            // Merge with template exercise but preserve our category\n                            var updatedExercise = fullExercise ? (0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_14__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({}, fullExercise), {\n                                category: exerciseCategory\n                            }) : (0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_14__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({}, logData.exercise), {\n                                category: exerciseCategory\n                            });\n                            console.log(\"Final exercise category:\", {\n                                name: updatedExercise.name,\n                                category: updatedExercise.category,\n                                screenTime: (_updatedExercise_category = updatedExercise.category) === null || _updatedExercise_category === void 0 ? void 0 : (_updatedExercise_category_details = _updatedExercise_category.details) === null || _updatedExercise_category_details === void 0 ? void 0 : _updatedExercise_category_details.screenTime\n                            });\n                            return new _exercise_types__WEBPACK_IMPORTED_MODULE_3__.ExerciseLog({\n                                id: logDoc.id,\n                                workoutId: workoutId,\n                                userId: userId,\n                                exercise: updatedExercise,\n                                logs: logData.logs || [],\n                                feedback: logData.feedback || \"\",\n                                note: logData.note || \"\",\n                                recommendedWeight: logData.recommendedWeight || \"calculating...\",\n                                isSplit: logData.isSplit || false,\n                                isBodyWeight: logData.isBodyWeight || false,\n                                logSubmitted: logData.logSubmitted || false,\n                                logIsEditing: logData.logIsEditing || false,\n                                isCompleted: logData.isCompleted || false,\n                                order: logData.order || null,\n                                completedAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_8__.convertFirestoreTimestamp)(logData.completedAt),\n                                createdAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_8__.convertFirestoreTimestamp)(logData.createdAt),\n                                updatedAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_8__.convertFirestoreTimestamp)(logData.updatedAt)\n                            });\n                        });\n                        workout.logs = logs;\n                        return [\n                            2,\n                            [\n                                workout,\n                                logs\n                            ]\n                        ];\n                    case 4:\n                        error = _state.sent();\n                        console.error(\"Error fetching saved workout:\", error);\n                        throw error;\n                    case 5:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    /**\n * Fetch user challenges by challengeId.\n * @param challengeId The ID of the challenge to fetch associated user challenges for.\n * @returns A promise resolving to an array of user challenges.\n * @throws If the Firestore query fails.\n */ _proto.fetchUserChallengesByChallengeId = function fetchUserChallengesByChallengeId(challengeId) {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var userChallengesRef, q, snapshot, userChallenges, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        userChallengesRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"user-challenge\");\n                        q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(userChallengesRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"challengeId\", \"==\", challengeId));\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            3,\n                            ,\n                            4\n                        ]);\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q)\n                        ];\n                    case 2:\n                        snapshot = _state.sent();\n                        // console.log(`Total user challenges fetched: ${snapshot.docs.length}`);\n                        userChallenges = snapshot.docs.map(function(doc) {\n                            var data = doc.data();\n                            // console.log(`Processing user challenge with ID: ${doc.id}`, data);\n                            return (0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_14__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({\n                                id: doc.id\n                            }, data), {\n                                challenge: data.challenge ? new _workout_types__WEBPACK_IMPORTED_MODULE_6__.Challenge({\n                                    id: data.challenge.id,\n                                    title: data.challenge.title,\n                                    subtitle: data.challenge.subtitle,\n                                    participants: data.challenge.participants || [],\n                                    status: data.challenge.status,\n                                    startDate: data.challenge.startDate ? new Date(data.challenge.startDate) : new Date(),\n                                    endDate: data.challenge.endDate ? new Date(data.challenge.endDate) : new Date(),\n                                    createdAt: data.challenge.createdAt ? new Date(data.challenge.createdAt) : new Date(),\n                                    updatedAt: data.challenge.updatedAt ? new Date(data.challenge.updatedAt) : new Date(),\n                                    introVideos: (data.challenge.introVideos || []).map(function(v) {\n                                        return new _workout_types__WEBPACK_IMPORTED_MODULE_6__.IntroVideo({\n                                            id: v.id,\n                                            userId: v.userId,\n                                            videoUrl: v.videoUrl\n                                        });\n                                    })\n                                }) : undefined,\n                                createdAt: (0,_utils_timestamp__WEBPACK_IMPORTED_MODULE_7__.convertTimestamp)(data.createdAt),\n                                updatedAt: (0,_utils_timestamp__WEBPACK_IMPORTED_MODULE_7__.convertTimestamp)(data.updatedAt)\n                            });\n                        });\n                        // console.log('All user challenges after processing:', JSON.stringify(userChallenges, null, 2));\n                        return [\n                            2,\n                            userChallenges\n                        ];\n                    case 3:\n                        error = _state.sent();\n                        console.error(\"Error fetching user challenges by challengeId:\", error);\n                        throw error;\n                    case 4:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    _proto.getCollectionById = function getCollectionById(id) {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var docRef, docSnap, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        console.log(\"Fetching collection with id:\", id);\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            3,\n                            ,\n                            4\n                        ]);\n                        docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"sweatlist-collection\", id);\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(docRef)\n                        ];\n                    case 2:\n                        docSnap = _state.sent();\n                        if (docSnap.exists()) {\n                            return [\n                                2,\n                                new _workout_types__WEBPACK_IMPORTED_MODULE_6__.SweatlistCollection((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({\n                                    id: docSnap.id\n                                }, docSnap.data()))\n                            ];\n                        } else {\n                            throw new Error(\"Collection not found\");\n                        }\n                        return [\n                            3,\n                            4\n                        ];\n                    case 3:\n                        error = _state.sent();\n                        console.error(\"Error getting collection by ID:\", error);\n                        throw error;\n                    case 4:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    // In WorkoutService class\n    _proto.getCollectionsByIds = function getCollectionsByIds(collectionIds) {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var collections, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        _state.trys.push([\n                            0,\n                            2,\n                            ,\n                            3\n                        ]);\n                        return [\n                            4,\n                            Promise.all(collectionIds.map(function() {\n                                var _ref = (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function(id) {\n                                    var docRef, docSnap, error;\n                                    return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                                        switch(_state.label){\n                                            case 0:\n                                                _state.trys.push([\n                                                    0,\n                                                    2,\n                                                    ,\n                                                    3\n                                                ]);\n                                                docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"sweatlist-collection\", id);\n                                                return [\n                                                    4,\n                                                    (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(docRef)\n                                                ];\n                                            case 1:\n                                                docSnap = _state.sent();\n                                                if (docSnap.exists()) {\n                                                    return [\n                                                        2,\n                                                        new _workout_types__WEBPACK_IMPORTED_MODULE_6__.SweatlistCollection((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({\n                                                            id: docSnap.id\n                                                        }, docSnap.data()))\n                                                    ];\n                                                }\n                                                return [\n                                                    2,\n                                                    null\n                                                ];\n                                            case 2:\n                                                error = _state.sent();\n                                                console.error(\"Error fetching collection \".concat(id, \":\"), error);\n                                                return [\n                                                    2,\n                                                    null\n                                                ];\n                                            case 3:\n                                                return [\n                                                    2\n                                                ];\n                                        }\n                                    });\n                                });\n                                return function(id) {\n                                    return _ref.apply(this, arguments);\n                                };\n                            }()))\n                        ];\n                    case 1:\n                        collections = _state.sent();\n                        // Filter out any null values from failed fetches\n                        return [\n                            2,\n                            collections.filter(function(collection) {\n                                return collection !== null;\n                            })\n                        ];\n                    case 2:\n                        error = _state.sent();\n                        console.error(\"Error fetching collections:\", error);\n                        throw error;\n                    case 3:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    _proto.fetchCollections = function fetchCollections(userId) {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var collectionsRef, qArray, snapshotArray, collectionsFromArray, qString, snapshotString, collectionsFromString, combined, uniqueCollections, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        if (!userId) {\n                            throw new Error(\"User ID is required\");\n                        }\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            4,\n                            ,\n                            5\n                        ]);\n                        collectionsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"sweatlist-collection\");\n                        // Query for records where ownerId is an array that contains the userId.\n                        qArray = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(collectionsRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"ownerId\", \"array-contains\", userId));\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(qArray)\n                        ];\n                    case 2:\n                        snapshotArray = _state.sent();\n                        collectionsFromArray = snapshotArray.docs.map(function(doc) {\n                            var data = (0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({\n                                id: doc.id\n                            }, doc.data());\n                            return new _workout_types__WEBPACK_IMPORTED_MODULE_6__.SweatlistCollection(data);\n                        });\n                        console.log(\"The array collections\", collectionsFromArray);\n                        // Query for records where ownerId is a string equal to the userId.\n                        qString = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(collectionsRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"ownerId\", \"==\", userId));\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(qString)\n                        ];\n                    case 3:\n                        snapshotString = _state.sent();\n                        collectionsFromString = snapshotString.docs.map(function(doc) {\n                            var data = (0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({\n                                id: doc.id\n                            }, doc.data());\n                            return new _workout_types__WEBPACK_IMPORTED_MODULE_6__.SweatlistCollection(data);\n                        });\n                        console.log(\"The string collections\", collectionsFromString);\n                        // Combine both arrays and remove duplicates (if any) based on the collection id.\n                        combined = (0,_swc_helpers_to_consumable_array__WEBPACK_IMPORTED_MODULE_18__._)(collectionsFromArray).concat((0,_swc_helpers_to_consumable_array__WEBPACK_IMPORTED_MODULE_18__._)(collectionsFromString));\n                        uniqueCollections = new Map();\n                        combined.forEach(function(collection) {\n                            uniqueCollections.set(collection.id, collection);\n                        });\n                        return [\n                            2,\n                            Array.from(uniqueCollections.values())\n                        ];\n                    case 4:\n                        error = _state.sent();\n                        console.error(\"Error fetching sweatlists:\", error);\n                        throw error;\n                    case 5:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    /**\n   * Fetch user challenges by userId and filter for active challenges.\n   * @returns A promise resolving to an array of active challenges.\n   * @throws If no user is signed in or if the Firestore query fails.\n   */ _proto.fetchActiveChallenges = function fetchActiveChallenges() {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var currentUser, userChallengesRef, q, snapshot, allChallenges, activeChallenges, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        currentUser = _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser;\n                        if (!(currentUser === null || currentUser === void 0 ? void 0 : currentUser.id)) {\n                            throw new Error(\"No user is signed in\");\n                        }\n                        userChallengesRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"user-challenge\");\n                        q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(userChallengesRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"userId\", \"==\", currentUser.id));\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            3,\n                            ,\n                            4\n                        ]);\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q)\n                        ];\n                    case 2:\n                        snapshot = _state.sent();\n                        // console.log(`Total challenges fetched: ${snapshot.docs.length}`);\n                        allChallenges = snapshot.docs.map(function(doc) {\n                            var data = doc.data();\n                            // console.log(`Processing challenge with ID: ${doc.id}`, data);\n                            // Use the Challenge constructor to parse the challenge data\n                            // console.log(\"date before format: \" + convertFirestoreTimestamp(data.challenge.startDate));\n                            var challenge = data.challenge ? new _workout_types__WEBPACK_IMPORTED_MODULE_6__.Challenge({\n                                id: data.challenge.id,\n                                title: data.challenge.title,\n                                subtitle: data.challenge.subtitle,\n                                participants: data.challenge.participants || [],\n                                status: data.challenge.status,\n                                startDate: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_8__.convertFirestoreTimestamp)(data.challenge.startDate),\n                                endDate: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_8__.convertFirestoreTimestamp)(data.challenge.endDate),\n                                createdAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_8__.convertFirestoreTimestamp)(data.challenge.createdAt),\n                                updatedAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_8__.convertFirestoreTimestamp)(data.challenge.updatedAt),\n                                introVideos: (data.challenge.introVideos || []).map(function(v) {\n                                    return new _workout_types__WEBPACK_IMPORTED_MODULE_6__.IntroVideo({\n                                        id: v.id,\n                                        userId: v.userId,\n                                        videoUrl: v.videoUrl\n                                    });\n                                })\n                            }) : undefined;\n                            return (0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_14__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({\n                                id: doc.id\n                            }, data), {\n                                challenge: challenge,\n                                createdAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_8__.convertFirestoreTimestamp)(data.createdAt),\n                                updatedAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_8__.convertFirestoreTimestamp)(data.updatedAt)\n                            });\n                        });\n                        // console.log('All challenges after processing:', JSON.stringify(allChallenges, null, 2));\n                        // Filter for active challenges (endDate > current date)\n                        activeChallenges = allChallenges.filter(function(userChallenge) {\n                            var _userChallenge_challenge;\n                            var endDate = (_userChallenge_challenge = userChallenge.challenge) === null || _userChallenge_challenge === void 0 ? void 0 : _userChallenge_challenge.endDate;\n                            // console.log(\n                            //   `Evaluating challenge ID: ${userChallenge.id}, End Date: ${endDate}, Current Date: ${new Date()}`\n                            // );\n                            return endDate && endDate > new Date();\n                        });\n                        // console.log(`Total active challenges: ${activeChallenges.length}`, activeChallenges);\n                        return [\n                            2,\n                            activeChallenges\n                        ];\n                    case 3:\n                        error = _state.sent();\n                        console.error(\"Error fetching active challenges:\", error);\n                        throw error;\n                    case 4:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    /**\n   * Fetch user challenges by userId.\n   * @returns A promise resolving to an array of challenges.\n   * @throws If no user is signed in or if the Firestore query fails.\n   */ _proto.fetchUserChallenges = function fetchUserChallenges() {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var currentUser, userChallengesRef, q, snapshot, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        currentUser = _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser;\n                        if (!(currentUser === null || currentUser === void 0 ? void 0 : currentUser.id)) {\n                            throw new Error(\"No user is signed in\");\n                        }\n                        // Reference to the user-challenge collection\n                        userChallengesRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"user-challenge\");\n                        // Query challenges where userId matches the current user's ID\n                        q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(userChallengesRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"userId\", \"==\", currentUser.id));\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            3,\n                            ,\n                            4\n                        ]);\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q)\n                        ];\n                    case 2:\n                        snapshot = _state.sent();\n                        // Map documents to an array of Challenge objects\n                        return [\n                            2,\n                            snapshot.docs.map(function(doc) {\n                                return new _workout_types__WEBPACK_IMPORTED_MODULE_6__.UserChallenge((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({\n                                    id: doc.id\n                                }, doc.data()));\n                            })\n                        ];\n                    case 3:\n                        error = _state.sent();\n                        console.error(\"Error fetching user challenges:\", error);\n                        throw new Error(\"Failed to fetch user challenges\");\n                    case 4:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    //update the workout summary,\n    _proto.updateWorkoutSummary = function updateWorkoutSummary(param) {\n        var userId = param.userId, workoutId = param.workoutId, summary = param.summary;\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var summaryRef, summaryData, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        if (!userId) {\n                            throw new Error(\"No user ID provided\");\n                        }\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            3,\n                            ,\n                            4\n                        ]);\n                        // Create a reference to the collection\n                        summaryRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", userId, \"workoutSummary\", summary.id);\n                        // Convert summary to a plain object for Firestore\n                        summaryData = {\n                            id: summary.id,\n                            workoutId: summary.workoutId,\n                            exercises: summary.exercises,\n                            bodyParts: summary.bodyParts,\n                            secondaryBodyParts: summary.secondaryBodyParts,\n                            workoutTitle: summary.workoutTitle,\n                            caloriesBurned: summary.caloriesBurned,\n                            workoutRating: summary.workoutRating,\n                            exercisesCompleted: summary.exercisesCompleted,\n                            aiInsight: summary.aiInsight,\n                            recommendations: summary.recommendations,\n                            gifURLs: summary.gifURLs,\n                            recommendedWork: summary.recommendedWork,\n                            isCompleted: summary.isCompleted,\n                            createdAt: summary.createdAt,\n                            updatedAt: new Date(),\n                            completedAt: summary.completedAt,\n                            duration: summary.duration\n                        };\n                        // Set data with merge enabled (equivalent to Swift's setData with merge: true)\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)(summaryRef, summaryData, {\n                                merge: true\n                            })\n                        ];\n                    case 2:\n                        _state.sent();\n                        console.log(\"Workout summary document updated successfully\");\n                        return [\n                            3,\n                            4\n                        ];\n                    case 3:\n                        error = _state.sent();\n                        console.error(\"Error updating workout summary:\", error);\n                        throw error;\n                    case 4:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    _proto.updateWorkoutLogs = function updateWorkoutLogs(param) {\n        var userId = param.userId, workoutId = param.workoutId, logs = param.logs;\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var workoutRef, logsRef, batch, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        _state.trys.push([\n                            0,\n                            2,\n                            ,\n                            3\n                        ]);\n                        workoutRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", userId, \"workoutSessions\", workoutId);\n                        logsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(workoutRef, \"logs\");\n                        batch = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.writeBatch)(_config__WEBPACK_IMPORTED_MODULE_1__.db);\n                        logs.forEach(function(log) {\n                            var logDocRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(logsRef, log.id);\n                            batch.update(logDocRef, (0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({}, log.toDictionary()));\n                        });\n                        return [\n                            4,\n                            batch.commit()\n                        ];\n                    case 1:\n                        _state.sent();\n                        return [\n                            3,\n                            3\n                        ];\n                    case 2:\n                        error = _state.sent();\n                        console.error(\"Error updating workout logs:\", error);\n                        throw error;\n                    case 3:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    // The cancelWorkout method – it deletes the workout session and summary (if any),\n    // cleans up the local state, and logs the cancellation.\n    _proto.cancelWorkout = function cancelWorkout(workout, workoutSummary) {\n        var _this = this;\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var _userService_currentUser, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        if (!((_userService_currentUser = _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser) === null || _userService_currentUser === void 0 ? void 0 : _userService_currentUser.id) || !workout) {\n                            throw new Error(\"User not authenticated.\");\n                        }\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            5,\n                            ,\n                            6\n                        ]);\n                        return [\n                            4,\n                            _this.deleteWorkoutSession(workout.id)\n                        ];\n                    case 2:\n                        _state.sent();\n                        if (!workoutSummary) return [\n                            3,\n                            4\n                        ];\n                        return [\n                            4,\n                            _this.deleteWorkoutSummary(workoutSummary.id)\n                        ];\n                    case 3:\n                        _state.sent();\n                        _state.label = 4;\n                    case 4:\n                        _this.cleanUpWorkoutInProgress();\n                        console.log(\"Workout canceled and cleaned up successfully.\");\n                        return [\n                            3,\n                            6\n                        ];\n                    case 5:\n                        error = _state.sent();\n                        console.error(\"Error canceling workout:\", error);\n                        throw error;\n                    case 6:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    // Deletes a workout session document and all its subcollection \"logs\"\n    _proto.deleteWorkoutSession = function deleteWorkoutSession(workoutId) {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var _userService_currentUser, userId, workoutRef, logsRef, logsSnapshot, batch, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        if (!((_userService_currentUser = _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser) === null || _userService_currentUser === void 0 ? void 0 : _userService_currentUser.id) || !workoutId) {\n                            throw new Error(\"User not authenticated.\");\n                        }\n                        userId = _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser.id;\n                        workoutRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", userId, \"workoutSessions\", workoutId);\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            4,\n                            ,\n                            5\n                        ]);\n                        // Delete all logs in the subcollection\n                        logsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(workoutRef, \"logs\");\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(logsRef)\n                        ];\n                    case 2:\n                        logsSnapshot = _state.sent();\n                        batch = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.writeBatch)(_config__WEBPACK_IMPORTED_MODULE_1__.db);\n                        logsSnapshot.docs.forEach(function(logDoc) {\n                            batch[\"delete\"](logDoc.ref);\n                        });\n                        // Delete the main workout document\n                        batch[\"delete\"](workoutRef);\n                        return [\n                            4,\n                            batch.commit()\n                        ];\n                    case 3:\n                        _state.sent();\n                        console.log(\"Workout session and logs deleted successfully.\");\n                        return [\n                            3,\n                            5\n                        ];\n                    case 4:\n                        error = _state.sent();\n                        console.error(\"Error deleting workout session:\", error);\n                        throw error;\n                    case 5:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    // Deletes the workout summary document.\n    _proto.deleteWorkoutSummary = function deleteWorkoutSummary(workoutSummaryId) {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var _userService_currentUser, summaryRef, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        if (!workoutSummaryId || !((_userService_currentUser = _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser) === null || _userService_currentUser === void 0 ? void 0 : _userService_currentUser.id)) {\n                            return [\n                                2\n                            ];\n                        }\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            3,\n                            ,\n                            4\n                        ]);\n                        summaryRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser.id, \"workoutSummary\", workoutSummaryId);\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.deleteDoc)(summaryRef)\n                        ];\n                    case 2:\n                        _state.sent();\n                        console.log(\"Workout summary deleted successfully.\");\n                        return [\n                            3,\n                            4\n                        ];\n                    case 3:\n                        error = _state.sent();\n                        console.error(\"Error deleting workout summary:\", error);\n                        throw error;\n                    case 4:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    // Clean up local storage and in-memory workout state.\n    _proto.cleanUpWorkoutInProgress = function cleanUpWorkoutInProgress() {\n        _redux_store__WEBPACK_IMPORTED_MODULE_9__.store.dispatch((0,_redux_workoutSlice__WEBPACK_IMPORTED_MODULE_10__.resetWorkoutState)());\n    };\n    /**\n   * Fetch the workout session from Firestore, returning { workout, logs }.\n   * Checks first for a QueuedUp session, then for InProgress.\n   */ _proto.fetchCurrentWorkoutSession = function fetchCurrentWorkoutSession(userId) {\n        var _this = this;\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var exerciseSnapshot, videoSnapshot, exerciseVideos, exercisesWithVideos, workoutSessionsRef, q, snap;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        if (!userId) throw new Error(\"No user ID provided\");\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"exercises\"))\n                        ];\n                    case 1:\n                        exerciseSnapshot = _state.sent();\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"exerciseVideos\"))\n                        ];\n                    case 2:\n                        videoSnapshot = _state.sent();\n                        exerciseVideos = videoSnapshot.docs.map(function(doc) {\n                            return new _exercise_types__WEBPACK_IMPORTED_MODULE_3__.ExerciseVideo((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({\n                                id: doc.id\n                            }, doc.data()));\n                        });\n                        exercisesWithVideos = exerciseSnapshot.docs.map(function(doc) {\n                            var exercise = new _exercise_types__WEBPACK_IMPORTED_MODULE_3__.Exercise((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({\n                                id: doc.id\n                            }, doc.data()));\n                            var matchingVideos = exerciseVideos.filter(function(video) {\n                                return video.exercise.toLowerCase() === exercise.name.toLowerCase();\n                            });\n                            return new _exercise_types__WEBPACK_IMPORTED_MODULE_3__.Exercise((0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_14__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({}, exercise), {\n                                videos: matchingVideos\n                            }));\n                        });\n                        workoutSessionsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", userId, \"workoutSessions\");\n                        q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(workoutSessionsRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"status\", \"==\", _workout_types__WEBPACK_IMPORTED_MODULE_6__.WorkoutStatus.QueuedUp));\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q)\n                        ];\n                    case 3:\n                        snap = _state.sent();\n                        if (!snap.empty) {\n                            return [\n                                2,\n                                _this.processWorkoutSessionDocument(snap.docs[0], exercisesWithVideos)\n                            ];\n                        }\n                        q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(workoutSessionsRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"status\", \"==\", _workout_types__WEBPACK_IMPORTED_MODULE_6__.WorkoutStatus.InProgress));\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q)\n                        ];\n                    case 4:\n                        snap = _state.sent();\n                        if (!snap.empty) {\n                            return [\n                                2,\n                                _this.processWorkoutSessionDocument(snap.docs[0], exercisesWithVideos)\n                            ];\n                        }\n                        return [\n                            2,\n                            {\n                                workout: null,\n                                logs: null\n                            }\n                        ];\n                }\n            });\n        })();\n    };\n    _proto.fetchAndMapExercisesWithVideos = function fetchAndMapExercisesWithVideos() {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var exerciseSnapshot, exercises, videoSnapshot, exerciseVideos, exercisesWithVideos, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        _state.trys.push([\n                            0,\n                            3,\n                            ,\n                            4\n                        ]);\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"exercises\"))\n                        ];\n                    case 1:\n                        exerciseSnapshot = _state.sent();\n                        exercises = exerciseSnapshot.docs.map(function(doc) {\n                            return new _exercise_types__WEBPACK_IMPORTED_MODULE_3__.Exercise((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({\n                                id: doc.id\n                            }, doc.data()));\n                        });\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"exerciseVideos\"))\n                        ];\n                    case 2:\n                        videoSnapshot = _state.sent();\n                        exerciseVideos = videoSnapshot.docs.map(function(doc) {\n                            return new _exercise_types__WEBPACK_IMPORTED_MODULE_3__.ExerciseVideo((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({\n                                id: doc.id\n                            }, doc.data()));\n                        });\n                        // console.log(`Fetched ${exerciseVideos.length} exercise videos`);\n                        // 3. Map videos to exercises\n                        exercisesWithVideos = exercises.map(function(exercise) {\n                            var matchingVideos = exerciseVideos.filter(function(video) {\n                                return video.exercise.toLowerCase() === exercise.name.toLowerCase();\n                            });\n                            return new _exercise_types__WEBPACK_IMPORTED_MODULE_3__.Exercise((0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_14__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({}, exercise), {\n                                videos: matchingVideos\n                            }));\n                        });\n                        // console.log('Finished mapping exercises with videos');\n                        // console.log(`Total exercises with videos: ${exercisesWithVideos.length}`);\n                        return [\n                            2,\n                            exercisesWithVideos\n                        ];\n                    case 3:\n                        error = _state.sent();\n                        console.error(\"Error fetching and mapping exercises with videos:\", error);\n                        throw error;\n                    case 4:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    /**\n   * Helper to build the Workout object + any logs from the snapshot.\n   */ _proto.fetchAllWorkoutSessions = function fetchAllWorkoutSessions(userId) {\n        var _this = this;\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var exerciseSnapshot, exercises, videoSnapshot, exerciseVideos, exercisesWithVideos, workoutSessionsRef, snap, sessions, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        if (!userId) {\n                            throw new Error(\"No user ID provided\");\n                        }\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            6,\n                            ,\n                            7\n                        ]);\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"exercises\"))\n                        ];\n                    case 2:\n                        exerciseSnapshot = _state.sent();\n                        exercises = exerciseSnapshot.docs.map(function(doc) {\n                            return new _exercise_types__WEBPACK_IMPORTED_MODULE_3__.Exercise((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({\n                                id: doc.id\n                            }, doc.data()));\n                        });\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"exerciseVideos\"))\n                        ];\n                    case 3:\n                        videoSnapshot = _state.sent();\n                        exerciseVideos = videoSnapshot.docs.map(function(doc) {\n                            return new _exercise_types__WEBPACK_IMPORTED_MODULE_3__.ExerciseVideo((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({\n                                id: doc.id\n                            }, doc.data()));\n                        });\n                        exercisesWithVideos = exercises.map(function(exercise) {\n                            var matchingVideos = exerciseVideos.filter(function(video) {\n                                return video.exercise.toLowerCase() === exercise.name.toLowerCase();\n                            });\n                            return new _exercise_types__WEBPACK_IMPORTED_MODULE_3__.Exercise((0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_14__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({}, exercise), {\n                                videos: matchingVideos\n                            }));\n                        });\n                        workoutSessionsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", userId, \"workoutSessions\");\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(workoutSessionsRef)\n                        ];\n                    case 4:\n                        snap = _state.sent();\n                        if (snap.empty) {\n                            console.log(\"No workout sessions found for user\");\n                            return [\n                                2,\n                                []\n                            ];\n                        }\n                        return [\n                            4,\n                            Promise.all(snap.docs.map(function() {\n                                var _ref = (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function(doc) {\n                                    var sessionData;\n                                    return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                                        switch(_state.label){\n                                            case 0:\n                                                return [\n                                                    4,\n                                                    _this.processWorkoutSessionDocument(doc, exercisesWithVideos)\n                                                ];\n                                            case 1:\n                                                sessionData = _state.sent();\n                                                if (sessionData.logs) {\n                                                    sessionData.logs.sort(function(a, b) {\n                                                        var _a_order;\n                                                        var orderA = (_a_order = a.order) !== null && _a_order !== void 0 ? _a_order : 0;\n                                                        var _b_order;\n                                                        var orderB = (_b_order = b.order) !== null && _b_order !== void 0 ? _b_order : 0;\n                                                        return orderA - orderB;\n                                                    });\n                                                }\n                                                return [\n                                                    2,\n                                                    sessionData\n                                                ];\n                                        }\n                                    });\n                                });\n                                return function(doc) {\n                                    return _ref.apply(this, arguments);\n                                };\n                            }()))\n                        ];\n                    case 5:\n                        sessions = _state.sent();\n                        return [\n                            2,\n                            sessions\n                        ];\n                    case 6:\n                        error = _state.sent();\n                        console.error(\"Error fetching workout sessions:\", error);\n                        throw error;\n                    case 7:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    // Add the updateUserChallenge method\n    _proto.updateUserChallenge = function updateUserChallenge(challenge) {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var _userService_currentUser, challengeRef, challengeData, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        if (!((_userService_currentUser = _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser) === null || _userService_currentUser === void 0 ? void 0 : _userService_currentUser.id)) {\n                            throw new Error(\"No user is signed in\");\n                        }\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            3,\n                            ,\n                            4\n                        ]);\n                        challengeRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"user-challenge\", challenge.id);\n                        challengeData = (0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_14__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({}, challenge), {\n                            updatedAt: new Date()\n                        });\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)(challengeRef, challengeData, {\n                                merge: true\n                            })\n                        ];\n                    case 2:\n                        _state.sent();\n                        console.log(\"User challenge updated successfully\");\n                        return [\n                            3,\n                            4\n                        ];\n                    case 3:\n                        error = _state.sent();\n                        console.error(\"Error updating user challenge:\", error);\n                        throw error;\n                    case 4:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    _proto.updateCollection = function updateCollection(collection) {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var collRef, newDocRef, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        _state.trys.push([\n                            0,\n                            2,\n                            ,\n                            3\n                        ]);\n                        collRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"sweatlist-collection\");\n                        // If collection.id is empty, generate a new doc ID and assign it.\n                        if (!collection.id || collection.id.trim() === \"\") {\n                            newDocRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(collRef);\n                            collection.id = newDocRef.id;\n                        }\n                        // Ensure the challenge id matches the collection id.\n                        if (collection.challenge) {\n                            collection.challenge.id = collection.id;\n                        }\n                        // Update the updatedAt field.\n                        collection.updatedAt = new Date();\n                        // Save the collection to Firestore.\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(collRef, collection.id), collection.toDictionary())\n                        ];\n                    case 1:\n                        _state.sent();\n                        console.log(\"Collection updated successfully\");\n                        return [\n                            2,\n                            collection\n                        ];\n                    case 2:\n                        error = _state.sent();\n                        console.error(\"Error updating collection document:\", error);\n                        throw new Error(\"Error while updating the collection\");\n                    case 3:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    _proto.processWorkoutSessionDocument = function processWorkoutSessionDocument(workoutDoc, exercisesWithVideos) {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var data, mappedExercises, workout, logsRef, logsSnapshot, logs;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        data = workoutDoc.data();\n                        // Map exercises with their full data and videos\n                        mappedExercises = (data.exercises || []).map(function(exerciseRef) {\n                            var _exerciseRef_exercise_name, _exerciseRef_exercise;\n                            // Find the full exercise with videos\n                            var exerciseNameLower = (_exerciseRef_exercise = exerciseRef.exercise) === null || _exerciseRef_exercise === void 0 ? void 0 : (_exerciseRef_exercise_name = _exerciseRef_exercise.name) === null || _exerciseRef_exercise_name === void 0 ? void 0 : _exerciseRef_exercise_name.toLowerCase().trim();\n                            var fullExercise = exercisesWithVideos.find(function(ex) {\n                                return ex.name.toLowerCase().trim() === exerciseNameLower;\n                            });\n                            // If full exercise found, return it, otherwise use the original\n                            return (0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_14__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({}, exerciseRef), {\n                                exercise: fullExercise || exerciseRef.exercise\n                            });\n                        });\n                        // Create the workout with mapped exercises\n                        workout = new _workout_types__WEBPACK_IMPORTED_MODULE_6__.Workout({\n                            id: workoutDoc.id,\n                            roundWorkoutId: data.roundWorkoutId || \"\",\n                            exercises: mappedExercises,\n                            title: data.title || \"\",\n                            description: data.description || \"\",\n                            duration: data.duration || 0,\n                            useAuthorContent: data.useAuthorContent || false,\n                            isCompleted: data.isCompleted || false,\n                            workoutStatus: data.workoutStatus || _workout_types__WEBPACK_IMPORTED_MODULE_6__.WorkoutStatus.Archived,\n                            author: data.author || \"\",\n                            createdAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_8__.convertFirestoreTimestamp)(data.createdAt),\n                            updatedAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_8__.convertFirestoreTimestamp)(data.updatedAt),\n                            startTime: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_8__.convertFirestoreTimestamp)(data.startTime),\n                            collectionId: data.collectionId,\n                            challenge: data.challenge,\n                            logs: (data.logs || []).map(function(logData) {\n                                var _logData_exercise_name, _logData_exercise;\n                                // Map logs with full exercises\n                                var exerciseNameLower = (_logData_exercise = logData.exercise) === null || _logData_exercise === void 0 ? void 0 : (_logData_exercise_name = _logData_exercise.name) === null || _logData_exercise_name === void 0 ? void 0 : _logData_exercise_name.toLowerCase().trim();\n                                var fullExercise = exercisesWithVideos.find(function(ex) {\n                                    return ex.name.toLowerCase().trim() === exerciseNameLower;\n                                });\n                                return (0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_14__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({}, logData), {\n                                    exercise: fullExercise || logData.exercise\n                                });\n                            }),\n                            workoutRating: data.workoutRating,\n                            order: data.order,\n                            zone: data.zone || _workout_types__WEBPACK_IMPORTED_MODULE_6__.BodyZone.FullBody\n                        });\n                        // Fetch logs from subcollection\n                        logsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(workoutDoc.ref, \"logs\");\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(logsRef)\n                        ];\n                    case 1:\n                        logsSnapshot = _state.sent();\n                        logs = logsSnapshot.docs.map(function(logDoc) {\n                            var _logData_exercise_name, _logData_exercise;\n                            var logData = logDoc.data();\n                            // Find the full exercise with videos\n                            var exerciseNameLower = (_logData_exercise = logData.exercise) === null || _logData_exercise === void 0 ? void 0 : (_logData_exercise_name = _logData_exercise.name) === null || _logData_exercise_name === void 0 ? void 0 : _logData_exercise_name.toLowerCase().trim();\n                            var fullExercise = exercisesWithVideos.find(function(ex) {\n                                return ex.name.toLowerCase().trim() === exerciseNameLower;\n                            });\n                            var updatedExercise = fullExercise ? (0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_14__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({}, fullExercise), {\n                                category: logData.exercise.category\n                            }) : logData.exercise;\n                            // Prepare log data with full exercise\n                            var preparedLogData = (0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_14__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({}, logData), {\n                                id: logDoc.id,\n                                workoutId: workout.id,\n                                exercise: updatedExercise,\n                                createdAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_8__.convertFirestoreTimestamp)(logData.createdAt),\n                                updatedAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_8__.convertFirestoreTimestamp)(logData.updatedAt)\n                            });\n                            // Use the ExerciseLog constructor to ensure proper mapping\n                            return new _exercise_types__WEBPACK_IMPORTED_MODULE_3__.ExerciseLog(preparedLogData);\n                        });\n                        return [\n                            2,\n                            {\n                                workout: workout,\n                                logs: logs\n                            }\n                        ];\n                }\n            });\n        })();\n    };\n    _proto.saveWorkoutSession = function saveWorkoutSession(param) {\n        var userId = param.userId, workout = param.workout, logs = param.logs;\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var currentDate, cleanWorkout, workoutSessionRef, logsRef, logBatch, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        if (!userId) throw new Error(\"No user ID provided\");\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            4,\n                            ,\n                            5\n                        ]);\n                        console.log(\"Incoming logs:\", logs.map(function(log) {\n                            var _log_exercise_category;\n                            return {\n                                name: log.exercise.name,\n                                category: log.exercise.category,\n                                originalType: (_log_exercise_category = log.exercise.category) === null || _log_exercise_category === void 0 ? void 0 : _log_exercise_category.type\n                            };\n                        }));\n                        currentDate = new Date();\n                        cleanWorkout = new _workout_types__WEBPACK_IMPORTED_MODULE_6__.Workout((0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_14__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({}, workout), {\n                            roundWorkoutId: \"\".concat(workout.id, \"-\").concat(currentDate.getTime()),\n                            workoutStatus: _workout_types__WEBPACK_IMPORTED_MODULE_6__.WorkoutStatus.QueuedUp,\n                            createdAt: currentDate,\n                            updatedAt: currentDate,\n                            startTime: currentDate,\n                            logs: []\n                        }));\n                        workoutSessionRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", userId, \"workoutSessions\"));\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)(workoutSessionRef, cleanWorkout.toDictionary())\n                        ];\n                    case 2:\n                        _state.sent();\n                        logsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(workoutSessionRef, \"logs\");\n                        logBatch = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.writeBatch)(_config__WEBPACK_IMPORTED_MODULE_1__.db);\n                        logs.forEach(function(log, index) {\n                            var _log_exercise_category, _log_exercise_category1, _log_exercise_category_details, _log_exercise_category_details1, _log_exercise_category_details2, _log_exercise_category_details3, _log_exercise_category_details4, _log_exercise_category_details5, _log_exercise_category2, _log_exercise_category_details6, _log_exercise_category3, _log_exercise_category_details7, _log_exercise_category4, _log_exercise_category_details8, _log_exercise_category5, _log_exercise_category_details9, _log_exercise_category6;\n                            var logDocRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(logsRef, \"\".concat(log.id, \"-\").concat(currentDate.getTime()));\n                            console.log(\"Processing log \".concat(index, \":\"), {\n                                name: log.exercise.name,\n                                originalCategory: log.exercise.category,\n                                originalType: (_log_exercise_category = log.exercise.category) === null || _log_exercise_category === void 0 ? void 0 : _log_exercise_category.type\n                            });\n                            // Preserve the category structure\n                            var exerciseWithCategory = (0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_14__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({}, log.exercise.toDictionary()), {\n                                category: ((_log_exercise_category1 = log.exercise.category) === null || _log_exercise_category1 === void 0 ? void 0 : _log_exercise_category1.type) === \"weight-training\" ? {\n                                    type: \"weight-training\",\n                                    details: {\n                                        sets: ((_log_exercise_category_details = log.exercise.category.details) === null || _log_exercise_category_details === void 0 ? void 0 : _log_exercise_category_details.sets) || 3,\n                                        reps: ((_log_exercise_category_details1 = log.exercise.category.details) === null || _log_exercise_category_details1 === void 0 ? void 0 : _log_exercise_category_details1.reps) || [\n                                            \"12\"\n                                        ],\n                                        weight: ((_log_exercise_category_details2 = log.exercise.category.details) === null || _log_exercise_category_details2 === void 0 ? void 0 : _log_exercise_category_details2.weight) || 0,\n                                        screenTime: ((_log_exercise_category_details3 = log.exercise.category.details) === null || _log_exercise_category_details3 === void 0 ? void 0 : _log_exercise_category_details3.screenTime) || 0,\n                                        selectedVideo: ((_log_exercise_category_details4 = log.exercise.category.details) === null || _log_exercise_category_details4 === void 0 ? void 0 : _log_exercise_category_details4.selectedVideo) || null\n                                    }\n                                } : {\n                                    type: \"cardio\",\n                                    details: {\n                                        duration: ((_log_exercise_category2 = log.exercise.category) === null || _log_exercise_category2 === void 0 ? void 0 : (_log_exercise_category_details5 = _log_exercise_category2.details) === null || _log_exercise_category_details5 === void 0 ? void 0 : _log_exercise_category_details5.duration) || 60,\n                                        bpm: ((_log_exercise_category3 = log.exercise.category) === null || _log_exercise_category3 === void 0 ? void 0 : (_log_exercise_category_details6 = _log_exercise_category3.details) === null || _log_exercise_category_details6 === void 0 ? void 0 : _log_exercise_category_details6.bpm) || 140,\n                                        calories: ((_log_exercise_category4 = log.exercise.category) === null || _log_exercise_category4 === void 0 ? void 0 : (_log_exercise_category_details7 = _log_exercise_category4.details) === null || _log_exercise_category_details7 === void 0 ? void 0 : _log_exercise_category_details7.calories) || 0,\n                                        screenTime: ((_log_exercise_category5 = log.exercise.category) === null || _log_exercise_category5 === void 0 ? void 0 : (_log_exercise_category_details8 = _log_exercise_category5.details) === null || _log_exercise_category_details8 === void 0 ? void 0 : _log_exercise_category_details8.screenTime) || 0,\n                                        selectedVideo: ((_log_exercise_category6 = log.exercise.category) === null || _log_exercise_category6 === void 0 ? void 0 : (_log_exercise_category_details9 = _log_exercise_category6.details) === null || _log_exercise_category_details9 === void 0 ? void 0 : _log_exercise_category_details9.selectedVideo) || null\n                                    }\n                                }\n                            });\n                            console.log(\"Saving exercise with category:\", exerciseWithCategory.category);\n                            logBatch.set(logDocRef, {\n                                id: logDocRef.id,\n                                workoutId: workoutSessionRef.id,\n                                exercise: exerciseWithCategory,\n                                order: index,\n                                createdAt: currentDate.getTime(),\n                                updatedAt: currentDate.getTime(),\n                                logSubmitted: false,\n                                isCompleted: false\n                            });\n                        });\n                        return [\n                            4,\n                            logBatch.commit()\n                        ];\n                    case 3:\n                        _state.sent();\n                        return [\n                            2,\n                            cleanWorkout\n                        ];\n                    case 4:\n                        error = _state.sent();\n                        console.error(\"Error saving workout session:\", error);\n                        throw error;\n                    case 5:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    /**\n   * Example \"join challenge\" method using the client SDK (no admin privileges).\n   * This creates a doc in `user-challenge` with the userId, challengeId, etc.\n   */ _proto.joinChallenge = function joinChallenge(param) {\n        var username = param.username, challengeId = param.challengeId;\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var currentUser, usersRef, userQuery, userSnapshot, userDoc, userData, userId, challengeRef, challengeSnap, challenge, userChallengeId, userChallengeData;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        // 1) Make sure we have a signed-in user\n                        currentUser = _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser;\n                        if (!currentUser) {\n                            throw new Error(\"No user is signed in\");\n                        }\n                        // 2) Find the user doc by username\n                        usersRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\");\n                        userQuery = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(usersRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"username\", \"==\", username));\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(userQuery)\n                        ];\n                    case 1:\n                        userSnapshot = _state.sent();\n                        if (userSnapshot.empty) {\n                            throw new Error(\"User not found\");\n                        }\n                        userDoc = userSnapshot.docs[0];\n                        userData = userDoc.data();\n                        userId = userDoc.id;\n                        // 3) Check if the challenge doc exists\n                        challengeRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"sweatlist-collection\", challengeId);\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(challengeRef)\n                        ];\n                    case 2:\n                        challengeSnap = _state.sent();\n                        if (!challengeSnap.exists()) {\n                            throw new Error(\"Challenge not found\");\n                        }\n                        challenge = challengeSnap.data();\n                        // 4) Build new user-challenge document\n                        userChallengeId = \"\".concat(challengeId, \"-\").concat(userId, \"-\").concat(Date.now());\n                        userChallengeData = {\n                            id: userChallengeId,\n                            challenge: challenge,\n                            challengeId: challengeId,\n                            userId: userId,\n                            fcmToken: userData.fcmToken || \"\",\n                            profileImage: userData.profileImage || {},\n                            progress: 0,\n                            completedWorkouts: [],\n                            isCompleted: false,\n                            uid: userId,\n                            location: userData.location || null,\n                            city: \"\",\n                            country: \"\",\n                            timezone: \"\",\n                            username: username,\n                            joinDate: new Date(),\n                            createdAt: new Date(),\n                            updatedAt: new Date(),\n                            pulsePoints: {\n                                baseCompletion: 0,\n                                firstCompletion: 0,\n                                streakBonus: 0,\n                                checkInBonus: 0,\n                                effortRating: 0,\n                                chatParticipation: 0,\n                                locationCheckin: 0,\n                                contentEngagement: 0,\n                                encouragementSent: 0,\n                                encouragementReceived: 0\n                            },\n                            currentStreak: 0,\n                            encouragedUsers: [],\n                            encouragedByUsers: [],\n                            checkIns: []\n                        };\n                        // 5) Store user-challenge doc\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"user-challenge\", userChallengeId), userChallengeData)\n                        ];\n                    case 3:\n                        _state.sent();\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    (0,_swc_helpers_create_class__WEBPACK_IMPORTED_MODULE_19__._)(WorkoutService, [\n        {\n            key: \"currentWorkout\",\n            get: // Replace getters/setters to use Redux\n            function get() {\n                return _redux_store__WEBPACK_IMPORTED_MODULE_9__.store.getState().workout.currentWorkout;\n            },\n            set: function set(workout) {\n                _redux_store__WEBPACK_IMPORTED_MODULE_9__.store.dispatch((0,_redux_workoutSlice__WEBPACK_IMPORTED_MODULE_10__.setCurrentWorkout)(workout));\n            }\n        },\n        {\n            key: \"currentWorkoutLogs\",\n            get: function get() {\n                return _redux_store__WEBPACK_IMPORTED_MODULE_9__.store.getState().workout.currentExerciseLogs;\n            },\n            set: function set(logs) {\n                _redux_store__WEBPACK_IMPORTED_MODULE_9__.store.dispatch((0,_redux_workoutSlice__WEBPACK_IMPORTED_MODULE_10__.setCurrentExerciseLogs)(logs));\n            }\n        },\n        {\n            key: \"currentWorkoutSummary\",\n            get: function get() {\n                return _redux_store__WEBPACK_IMPORTED_MODULE_9__.store.getState().workout.workoutSummary;\n            },\n            set: function set(workoutSummary) {\n                _redux_store__WEBPACK_IMPORTED_MODULE_9__.store.dispatch((0,_redux_workoutSlice__WEBPACK_IMPORTED_MODULE_10__.setWorkoutSummary)(workoutSummary));\n            }\n        }\n    ]);\n    return WorkoutService;\n}();\nvar workoutService = new WorkoutService();\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYXBpL2ZpcmViYXNlL3dvcmtvdXQvc2VydmljZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxzQ0FBc0M7Ozs7Ozs7OztBQWdCVjtBQUVHO0FBQ087QUFVUztBQUNPO0FBQ0o7QUFDZ0U7QUFDckQ7QUFDM0I7QUFDMkMsQ0FBQyx5QkFBeUI7QUFDakM7QUFDMEI7QUFFbkQ7QUFDaUY7QUFVOUgsbUNBQUs7O2FBQUNvQztnRkFBQUE7O2lCQUFBQTtJQTJCSEMsT0FBQUEsVUFFQSxHQUZBQSxTQUFBQTtRQUNDLE9BQU9wQyx1REFBR0EsQ0FBQ0QsOERBQVVBLENBQUNZLHVDQUFFQSxFQUFFLGFBQWEwQixFQUFFO0lBQzNDO0lBRUEsT0FBTUMsbUJBeUJMLEdBekJELFNBQU1BLG9CQUNKQyxNQUFjLEVBQ2RDLFNBQWlCLEVBQ2pCQyxTQUFpQjtlQUhuQjtnQkFTVUMsWUFDQUMsWUFPQUMsYUFJQ0M7Ozs7Ozs7Ozs7d0JBZlBDLFFBQVFDLEdBQUcsQ0FBQyw2QkFBNkI7NEJBQUVSLFFBQUFBOzRCQUFRQyxXQUFBQTs0QkFBV0MsV0FBQUE7d0JBQVU7d0JBRXhFLG1FQUFtRTt3QkFDN0RDLGFBQWExQyx1REFBR0EsQ0FBQ1csdUNBQUVBLEVBQUUsb0JBQW9COEI7d0JBQzVCOzs0QkFBTXZDLDBEQUFNQSxDQUFDd0M7Ozt3QkFBMUJDLGFBQWE7d0JBRW5CLElBQUksQ0FBQ0EsV0FBV0ssTUFBTSxJQUFJOzRCQUN4QkYsUUFBUUMsR0FBRyxDQUFDOzRCQUNaOztnQ0FBTzs7d0JBQ1Q7d0JBRU1ILGNBQWNELFdBQVdNLElBQUk7d0JBQ25DSCxRQUFRQyxHQUFHLENBQUMsdUJBQXVCSDt3QkFFbkM7OzRCQUFPLElBQUl6QiwwREFBY0EsQ0FBQ3lCOzs7d0JBQ25CQzt3QkFDUEMsUUFBUUQsS0FBSyxDQUFDLG1DQUFtQ0E7d0JBQ2pEOzs0QkFBTzs7Ozs7Ozs7UUFFWDs7SUFFRSxxREFBcUQ7SUFDdkQsT0FBTUssOEJBMkhQLEdB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LHVDQUFFQSxFQUFFLGtCQUFrQmtSLGtCQUFrQkM7Ozt3QkFBekQ7Ozs7OztRQUNGOztrRUFyK0NJM1A7O1lBR0FzUixLQUFBQTtpQkFBSix1Q0FEcUM7WUFDckM7Z0JBQ0UsT0FBTzNSLCtDQUFLQSxDQUFDNFIsUUFBUSxHQUFHdE0sT0FBTyxDQUFDcU0sY0FBYztZQUNoRDtpQkFFQSxhQUFtQnJNLE9BQXVCO2dCQUN4Q3RGLCtDQUFLQSxDQUFDZ04sUUFBUSxDQUFDL00sdUVBQWlCQSxDQUFDcUY7WUFDbkM7OztZQUVJdU0sS0FBQUE7aUJBQUo7Z0JBQ0UsT0FBTzdSLCtDQUFLQSxDQUFDNFIsUUFBUSxHQUFHdE0sT0FBTyxDQUFDd00sbUJBQW1CO1lBQ3JEO2lCQUVBLGFBQXVCMU4sSUFBbUI7Z0JBQ3hDcEUsK0NBQUtBLENBQUNnTixRQUFRLENBQUM5TSw0RUFBc0JBLENBQUNrRTtZQUN4Qzs7O1lBRUkyTixLQUFBQTtpQkFBSjtnQkFDRSxPQUFPL1IsK0NBQUtBLENBQUM0UixRQUFRLEdBQUd0TSxPQUFPLENBQUNtSCxjQUFjO1lBQ2hEO2lCQUVBLGFBQTBCQSxjQUE4QjtnQkFDdER6TSwrQ0FBS0EsQ0FBQ2dOLFFBQVEsQ0FBQzVNLHVFQUFpQkEsQ0FBQ3FNO1lBQ25DOzs7V0F6QklwTTs7QUF3K0NDLElBQU13QyxpQkFBaUIsSUFBSXhDLGlCQUFpQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvYXBpL2ZpcmViYXNlL3dvcmtvdXQvc2VydmljZS50cz9jNWUyIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9hcGkvZmlyZWJhc2Uvd29ya291dC9zZXJ2aWNlLnRzXG5pbXBvcnQge1xuICBjb2xsZWN0aW9uLFxuICBkb2MsXG4gIGdldERvY3MsXG4gIGdldERvYyxcbiAgdXBkYXRlRG9jLFxuICBxdWVyeSxcbiAgd2hlcmUsXG4gIG9yZGVyQnksIFxuICBEb2N1bWVudERhdGEsXG4gIFF1ZXJ5RG9jdW1lbnRTbmFwc2hvdCxcbiAgY29sbGVjdGlvbiBhcyBmc0NvbGxlY3Rpb24sXG4gIHNldERvYyxcbiAgZGVsZXRlRG9jLFxuICB3cml0ZUJhdGNoXG59IGZyb20gJ2ZpcmViYXNlL2ZpcmVzdG9yZSc7XG5cbmltcG9ydCB7IGRiIH0gZnJvbSAnLi4vY29uZmlnJztcbmltcG9ydCB7IHVzZXJTZXJ2aWNlIH0gZnJvbSAnLi4vdXNlcic7XG5pbXBvcnQgeyBcbiAgRXhlcmNpc2VMb2csIFxuICBFeGVyY2lzZUNhdGVnb3J5LCBcbiAgRXhlcmNpc2UsIFxuICBCb2R5UGFydCwgXG4gIEV4ZXJjaXNlVmlkZW8sIFxuICBFeGVyY2lzZUF1dGhvciwgXG4gIEV4ZXJjaXNlVmlkZW9WaXNpYmlsaXR5LCBcbiAgRXhlcmNpc2VEZXRhaWwsIFxuICBFeGVyY2lzZVJlZmVyZW5jZSB9IGZyb20gJy4uL2V4ZXJjaXNlL3R5cGVzJztcbmltcG9ydCB7IGV4ZXJjaXNlU2VydmljZSB9IGZyb20gJy4uL2V4ZXJjaXNlL3NlcnZpY2UnO1xuaW1wb3J0IHsgUHJvZmlsZUltYWdlLCBVc2VyIH0gZnJvbSAnLi4vdXNlci90eXBlcydcbmltcG9ydCB7IFdvcmtvdXQsIFdvcmtvdXRTdW1tYXJ5LCBCb2R5Wm9uZSwgSW50cm9WaWRlbywgUmVwc0FuZFdlaWdodExvZywgV29ya291dFJhdGluZyB9IGZyb20gJy4uL3dvcmtvdXQvdHlwZXMnO1xuaW1wb3J0IHsgV29ya291dFN0YXR1cywgU3dlYXRsaXN0Q29sbGVjdGlvbiB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgZm9ybWF0IH0gZnJvbSAnZGF0ZS1mbnMnOyBcbmltcG9ydCB7IGNvbnZlcnRUaW1lc3RhbXAsIHNlcnZlclRpbWVzdGFtcCB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL3RpbWVzdGFtcCc7IC8vIEFkanVzdCB0aGUgaW1wb3J0IHBhdGhcbmltcG9ydCB7IGNvbnZlcnRGaXJlc3RvcmVUaW1lc3RhbXAgfSBmcm9tICcuLi8uLi8uLi91dGlscy9mb3JtYXREYXRlJztcbmltcG9ydCB7IENoYWxsZW5nZSwgQ2hhbGxlbmdlU3RhdHVzLCBVc2VyQ2hhbGxlbmdlIH0gZnJvbSAnLi4vLi4vLi4vYXBpL2ZpcmViYXNlL3dvcmtvdXQvdHlwZXMnO1xuXG5pbXBvcnQgeyBzdG9yZSB9IGZyb20gJy4uLy4uLy4uL3JlZHV4L3N0b3JlJztcbmltcG9ydCB7IHNldEN1cnJlbnRXb3Jrb3V0LCBzZXRDdXJyZW50RXhlcmNpc2VMb2dzLCByZXNldFdvcmtvdXRTdGF0ZSwgc2V0V29ya291dFN1bW1hcnkgfSBmcm9tICcuLi8uLi8uLi9yZWR1eC93b3Jrb3V0U2xpY2UnO1xuXG5cbmludGVyZmFjZSBGaXJlc3RvcmVFcnJvciB7XG4gIGNvZGU6IHN0cmluZztcbiAgbWVzc2FnZTogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIHN0YWNrPzogc3RyaW5nO1xufVxuXG5jbGFzcyBXb3Jrb3V0U2VydmljZSB7XG5cbi8vIFJlcGxhY2UgZ2V0dGVycy9zZXR0ZXJzIHRvIHVzZSBSZWR1eFxuICBnZXQgY3VycmVudFdvcmtvdXQoKTogV29ya291dCB8IG51bGwge1xuICAgIHJldHVybiBzdG9yZS5nZXRTdGF0ZSgpLndvcmtvdXQuY3VycmVudFdvcmtvdXQ7XG4gIH1cblxuICBzZXQgY3VycmVudFdvcmtvdXQod29ya291dDogV29ya291dCB8IG51bGwpIHtcbiAgICBzdG9yZS5kaXNwYXRjaChzZXRDdXJyZW50V29ya291dCh3b3Jrb3V0KSk7XG4gIH1cblxuICBnZXQgY3VycmVudFdvcmtvdXRMb2dzKCk6IEV4ZXJjaXNlTG9nW10ge1xuICAgIHJldHVybiBzdG9yZS5nZXRTdGF0ZSgpLndvcmtvdXQuY3VycmVudEV4ZXJjaXNlTG9ncztcbiAgfVxuXG4gIHNldCBjdXJyZW50V29ya291dExvZ3MobG9nczogRXhlcmNpc2VMb2dbXSkge1xuICAgIHN0b3JlLmRpc3BhdGNoKHNldEN1cnJlbnRFeGVyY2lzZUxvZ3MobG9ncykpO1xuICB9XG5cbiAgZ2V0IGN1cnJlbnRXb3Jrb3V0U3VtbWFyeSgpOiBXb3Jrb3V0U3VtbWFyeSB8IG51bGwge1xuICAgIHJldHVybiBzdG9yZS5nZXRTdGF0ZSgpLndvcmtvdXQud29ya291dFN1bW1hcnk7XG4gIH1cblxuICBzZXQgY3VycmVudFdvcmtvdXRTdW1tYXJ5KHdvcmtvdXRTdW1tYXJ5OiBXb3Jrb3V0U3VtbWFyeSkge1xuICAgIHN0b3JlLmRpc3BhdGNoKHNldFdvcmtvdXRTdW1tYXJ5KHdvcmtvdXRTdW1tYXJ5KSk7XG4gIH1cblxuICAgZ2VuZXJhdGVJZCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBkb2MoY29sbGVjdGlvbihkYiwgJ3dvcmtvdXRzJykpLmlkO1xuICB9XG5cbiAgYXN5bmMgZmV0Y2hXb3Jrb3V0U3VtbWFyeShcbiAgICB1c2VySWQ6IHN0cmluZyxcbiAgICB3b3Jrb3V0SWQ6IHN0cmluZyxcbiAgICBzdW1tYXJ5SWQ6IHN0cmluZ1xuICApOiBQcm9taXNlPFdvcmtvdXRTdW1tYXJ5IHwgbnVsbD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZygnRmV0Y2hpbmcgd29ya291dCBzdW1tYXJ5OicsIHsgdXNlcklkLCB3b3Jrb3V0SWQsIHN1bW1hcnlJZCB9KTtcbiAgICAgIFxuICAgICAgLy8gQXNzdW1pbmcgc3VtbWFyaWVzIGFyZSBzdG9yZWQgaW4gYSAnd29ya291dFN1bW1hcmllcycgY29sbGVjdGlvblxuICAgICAgY29uc3Qgc3VtbWFyeVJlZiA9IGRvYyhkYiwgJ3dvcmtvdXRTdW1tYXJpZXMnLCBzdW1tYXJ5SWQpO1xuICAgICAgY29uc3Qgc3VtbWFyeURvYyA9IGF3YWl0IGdldERvYyhzdW1tYXJ5UmVmKTtcbiAgXG4gICAgICBpZiAoIXN1bW1hcnlEb2MuZXhpc3RzKCkpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1N1bW1hcnkgZG9jdW1lbnQgbm90IGZvdW5kJyk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICBcbiAgICAgIGNvbnN0IHN1bW1hcnlEYXRhID0gc3VtbWFyeURvYy5kYXRhKCk7XG4gICAgICBjb25zb2xlLmxvZygnRm91bmQgc3VtbWFyeSBkYXRhOicsIHN1bW1hcnlEYXRhKTtcbiAgXG4gICAgICByZXR1cm4gbmV3IFdvcmtvdXRTdW1tYXJ5KHN1bW1hcnlEYXRhKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgd29ya291dCBzdW1tYXJ5OicsIGVycm9yKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuICBcbiAgICAvLyBVcGRhdGUgdGhlIGZvcm1hdFdvcmtvdXRBbmRJbml0aWFsaXplTG9ncyBmdW5jdGlvblxuICBhc3luYyBmb3JtYXRXb3Jrb3V0QW5kSW5pdGlhbGl6ZUxvZ3MoXG4gICAgICBleGVyY2lzZURldGFpbHM6IEV4ZXJjaXNlRGV0YWlsW10sXG4gICAgICB3b3Jrb3V0QXV0aG9yPzogc3RyaW5nXG4gICAgKTogUHJvbWlzZTx7IHdvcmtvdXQ6IFdvcmtvdXQ7IGV4ZXJjaXNlTG9nczogRXhlcmNpc2VMb2dbXSB9PiB7XG4gICAgICBjb25zdCB3b3JrSWQgPSB0aGlzLmdlbmVyYXRlSWQoKTsgLy8gVXNlIHRoaXMuZ2VuZXJhdGVJZCgpIHNpbmNlIGl0J3MgYSBjbGFzcyBtZXRob2RcbiAgICAgIGNvbnN0IGV4ZXJjaXNlUmVmZXJlbmNlczogRXhlcmNpc2VSZWZlcmVuY2VbXSA9IFtdO1xuICAgICAgY29uc3QgZXhlcmNpc2VMb2dzOiBFeGVyY2lzZUxvZ1tdID0gW107XG5cbiAgLy8gRW5zdXJlIGV4ZXJjaXNlIGRldGFpbHMgYXJlIHZhbGlkIGJlZm9yZSBwcm9jZXNzaW5nXG4gIGNvbnN0IHZhbGlkRXhlcmNpc2VEZXRhaWxzID0gZXhlcmNpc2VEZXRhaWxzLmZpbHRlcihkZXRhaWwgPT4gZGV0YWlsPy5leGVyY2lzZSAmJiBkZXRhaWwuZXhlcmNpc2UuaWQpO1xuXG4gIHZhbGlkRXhlcmNpc2VEZXRhaWxzLmZvckVhY2goKGRldGFpbCwgaW5kZXgpID0+IHtcbiAgICBpZiAoZGV0YWlsLmV4ZXJjaXNlLmlkID09IG51bGwpIHsgcmV0dXJuIH1cblxuICAgIC8vIENyZWF0ZSB0aGUgY2F0ZWdvcnkgZmlyc3RcbiAgICBjb25zdCBjYXRlZ29yeSA9IHtcbiAgICAgIHR5cGU6IGRldGFpbC5jYXRlZ29yeT8udHlwZSB8fCAnd2VpZ2h0LXRyYWluaW5nJyxcbiAgICAgIGRldGFpbHM6IGRldGFpbC5jYXRlZ29yeT8udHlwZSA9PT0gJ3dlaWdodC10cmFpbmluZycgXG4gICAgICAgID8ge1xuICAgICAgICAgICAgc2V0czogZGV0YWlsLmNhdGVnb3J5Py5kZXRhaWxzPy5zZXRzID8/IDMsXG4gICAgICAgICAgICByZXBzOiBkZXRhaWwuY2F0ZWdvcnk/LmRldGFpbHM/LnJlcHMgPz8gWycxMiddLFxuICAgICAgICAgICAgd2VpZ2h0OiBkZXRhaWwuY2F0ZWdvcnk/LmRldGFpbHM/LndlaWdodCA/PyAwLFxuICAgICAgICAgICAgc2NyZWVuVGltZTogZGV0YWlsLmNhdGVnb3J5Py5kZXRhaWxzPy5zY3JlZW5UaW1lID8/IDAsXG4gICAgICAgICAgICBzZWxlY3RlZFZpZGVvOiBkZXRhaWwuY2F0ZWdvcnk/LmRldGFpbHM/LnNlbGVjdGVkVmlkZW8gPz8gbnVsbFxuICAgICAgICAgIH1cbiAgICAgICAgOiB7XG4gICAgICAgICAgICBkdXJhdGlvbjogZGV0YWlsLmNhdGVnb3J5Py5kZXRhaWxzPy5kdXJhdGlvbiA/PyA2MCxcbiAgICAgICAgICAgIGJwbTogZGV0YWlsLmNhdGVnb3J5Py5kZXRhaWxzPy5icG0gPz8gMTQwLFxuICAgICAgICAgICAgY2Fsb3JpZXM6IGRldGFpbC5jYXRlZ29yeT8uZGV0YWlscz8uY2Fsb3JpZXMgPz8gMCxcbiAgICAgICAgICAgIHNjcmVlblRpbWU6IGRldGFpbC5jYXRlZ29yeT8uZGV0YWlscz8uc2NyZWVuVGltZSA/PyAwLFxuICAgICAgICAgICAgc2VsZWN0ZWRWaWRlbzogZGV0YWlsLmNhdGVnb3J5Py5kZXRhaWxzPy5zZWxlY3RlZFZpZGVvID8/IG51bGxcbiAgICAgICAgICB9XG4gICAgfTtcblxuICAgIGNvbnNvbGUubG9nKFwiQ2F0ZWdvcnkgYmVpbmcgdXNlZDpcIiwgY2F0ZWdvcnkpOyAvLyBEZWJ1ZyBsb2dcblxuICAgIC8vIENyZWF0ZSBleGVyY2lzZSBpbnN0YW5jZSB3aXRoIG91ciBuZXcgY2F0ZWdvcnlcbiAgICBjb25zdCBleGVyY2lzZUluc3RhbmNlID0gbmV3IEV4ZXJjaXNlKHtcbiAgICAgIC4uLmRldGFpbC5leGVyY2lzZSxcbiAgICAgIGlkOiBkZXRhaWwuZXhlcmNpc2UuaWQgfHwgd29ya291dFNlcnZpY2UuZ2VuZXJhdGVJZCgpLFxuICAgICAgbmFtZTogZGV0YWlsLmV4ZXJjaXNlLm5hbWUgfHwgJycsXG4gICAgICBhdXRob3I6IGRldGFpbC5leGVyY2lzZS5hdXRob3IgfHwge1xuICAgICAgICB1c2VySWQ6IHdvcmtvdXRBdXRob3IgfHwgdXNlclNlcnZpY2UuY3VycmVudFVzZXI/LmlkLFxuICAgICAgICB1c2VybmFtZTogd29ya291dEF1dGhvciB8fCB1c2VyU2VydmljZS5jdXJyZW50VXNlcj8udXNlcm5hbWVcbiAgICAgIH0sXG4gICAgICBkZXNjcmlwdGlvbjogZGV0YWlsLmV4ZXJjaXNlLmRlc2NyaXB0aW9uIHx8ICcnLFxuICAgICAgY2F0ZWdvcnk6IGNhdGVnb3J5LCAgLy8gVXNlIG91ciBuZXcgY2F0ZWdvcnkgb2JqZWN0XG4gICAgICBwcmltYXJ5Qm9keVBhcnRzOiBkZXRhaWwuZXhlcmNpc2UucHJpbWFyeUJvZHlQYXJ0cyB8fCBbXSxcbiAgICAgIHNlY29uZGFyeUJvZHlQYXJ0czogZGV0YWlsLmV4ZXJjaXNlLnNlY29uZGFyeUJvZHlQYXJ0cyB8fCBbXSxcbiAgICAgIHRhZ3M6IGRldGFpbC5leGVyY2lzZS50YWdzIHx8IFtdLFxuICAgICAgdmlkZW9zOiBkZXRhaWwuZXhlcmNpc2UudmlkZW9zIHx8IFtdLFxuICAgICAgY3JlYXRlZEF0OiBkZXRhaWwuZXhlcmNpc2UuY3JlYXRlZEF0IHx8IG5ldyBEYXRlKCksXG4gICAgICB1cGRhdGVkQXQ6IGRldGFpbC5leGVyY2lzZS51cGRhdGVkQXQgfHwgbmV3IERhdGUoKVxuICAgIH0pO1xuXG4gICAgLy8gQ3JlYXRlIGV4ZXJjaXNlIHJlZmVyZW5jZVxuICAgIGNvbnN0IGV4ZXJjaXNlUmVmOiBFeGVyY2lzZVJlZmVyZW5jZSA9IHtcbiAgICAgIGV4ZXJjaXNlOiBleGVyY2lzZUluc3RhbmNlLFxuICAgICAgZ3JvdXBJZDogZGV0YWlsLmdyb3VwSWQgfHwgMFxuICAgIH07XG4gICAgZXhlcmNpc2VSZWZlcmVuY2VzLnB1c2goZXhlcmNpc2VSZWYpO1xuXG4gICAgLy8gQ3JlYXRlIGxvZ3MgdXNpbmcgdGhlIHNhbWUgY2F0ZWdvcnkgZGV0YWlsc1xuICAgIGNvbnN0IHNldHMgPSBjYXRlZ29yeS5kZXRhaWxzPy5zZXRzID8/IDM7XG4gICAgY29uc3QgcmVwcyA9IGNhdGVnb3J5LmRldGFpbHM/LnJlcHMgPz8gWycxMiddO1xuICAgIGNvbnN0IHdlaWdodCA9IGNhdGVnb3J5LmRldGFpbHM/LndlaWdodCA/PyAwO1xuXG4gICAgLy8gQ3JlYXRlIGxvZ3MgZm9yIGVhY2ggc2V0IHdpdGggdmFsaWRhdGVkIGRhdGFcbiAgICBjb25zdCBzZXRzTG9ncyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IHNldHMgfSwgKCkgPT4gXG4gICAgICBuZXcgUmVwc0FuZFdlaWdodExvZyh7XG4gICAgICAgIHJlcHM6IHBhcnNlSW50KHJlcHNbMF0gfHwgJzEyJywgMTApLFxuICAgICAgICB3ZWlnaHQ6IHdlaWdodCB8fCAwXG4gICAgICB9KVxuICAgICk7XG5cbiAgICAvLyBDcmVhdGUgZXhlcmNpc2UgbG9nIHdpdGggdmFsaWRhdGVkIGRhdGFcbiAgICBjb25zdCBleGVyY2lzZUxvZ0lkID0gZXhlcmNpc2VTZXJ2aWNlLmdlbmVyYXRlRXhlcmNpc2VMb2dJRChcbiAgICAgIHdvcmtJZCxcbiAgICAgIHVzZXJTZXJ2aWNlLmN1cnJlbnRVc2VyPy5pZCB8fCAnYW5vbnltb3VzJ1xuICAgICk7XG5cbiAgICBjb25zdCBsb2cgPSBuZXcgRXhlcmNpc2VMb2coe1xuICAgICAgaWQ6IGV4ZXJjaXNlTG9nSWQsXG4gICAgICB3b3Jrb3V0SWQ6IHdvcmtJZCxcbiAgICAgIHVzZXJJZDogdXNlclNlcnZpY2UuY3VycmVudFVzZXI/LmlkIHx8ICdhbm9ueW1vdXMnLFxuICAgICAgZXhlcmNpc2U6IGV4ZXJjaXNlSW5zdGFuY2UsXG4gICAgICBsb2dzOiBzZXRzTG9ncyxcbiAgICAgIGZlZWRiYWNrOiAnJyxcbiAgICAgIG5vdGU6IGRldGFpbC5ub3RlcyB8fCAnJyxcbiAgICAgIGlzU3BsaXQ6IGRldGFpbC5pc1NwbGl0IHx8IGZhbHNlLFxuICAgICAgbG9nU3VibWl0dGVkOiBmYWxzZSxcbiAgICAgIGxvZ0lzRWRpdGluZzogZmFsc2UsXG4gICAgICBpc0NvbXBsZXRlZDogZmFsc2UsXG4gICAgICBvcmRlcjogaW5kZXggKyAxLFxuICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgY29tcGxldGVkQXQ6IG5ldyBEYXRlKClcbiAgICB9KTtcbiAgICBcbiAgICBleGVyY2lzZUxvZ3MucHVzaChsb2cpO1xuICB9KTtcblxuICAvLyBDcmVhdGUgd29ya291dCB3aXRoIHZhbGlkYXRlZCBkYXRhXG4gIGNvbnN0IG5ld1dvcmtvdXQgPSBuZXcgV29ya291dCh7XG4gICAgaWQ6IHdvcmtJZCxcbiAgICByb3VuZFdvcmtvdXRJZDogJycsXG4gICAgZXhlcmNpc2VzOiBleGVyY2lzZVJlZmVyZW5jZXMsXG4gICAgbG9nczogZXhlcmNpc2VMb2dzLFxuICAgIHRpdGxlOiAnJyxcbiAgICBkZXNjcmlwdGlvbjogJycsXG4gICAgZHVyYXRpb246IDAsXG4gICAgd29ya291dFJhdGluZzogJ25vbmUnIGFzIFdvcmtvdXRSYXRpbmcsXG4gICAgdXNlQXV0aG9yQ29udGVudDogZmFsc2UsXG4gICAgaXNDb21wbGV0ZWQ6IGZhbHNlLFxuICAgIHdvcmtvdXRTdGF0dXM6ICdhcmNoaXZlZCcgYXMgV29ya291dFN0YXR1cyxcbiAgICBhdXRob3I6IHVzZXJTZXJ2aWNlLmN1cnJlbnRVc2VyPy5pZCB8fCAnUHVsc2VBSScsXG4gICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICB6b25lOiBXb3Jrb3V0LmRldGVybWluZVdvcmtvdXRab25lKGV4ZXJjaXNlUmVmZXJlbmNlcykgfHwgJ2Z1bGwnIGFzIEJvZHlab25lXG4gIH0pO1xuXG4gIHJldHVybiB7IHdvcmtvdXQ6IG5ld1dvcmtvdXQsIGV4ZXJjaXNlTG9ncyB9O1xuXG59XG5cbiAgYXN5bmMgZ2V0VXNlckJ5SWQodXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPFVzZXI+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXNlckRvYyA9IGF3YWl0IGdldERvYyhkb2MoZGIsICd1c2VycycsIHVzZXJJZCkpO1xuICAgICAgaWYgKCF1c2VyRG9jLmV4aXN0cygpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVXNlciBub3QgZm91bmQnKTtcbiAgICAgIH1cbiAgXG4gICAgICByZXR1cm4gbmV3IFVzZXIoe1xuICAgICAgICBpZDogdXNlckRvYy5pZCxcbiAgICAgICAgLi4udXNlckRvYy5kYXRhKCkgXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyB1c2VyIGJ5IElEOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8vIEluIFdvcmtvdXRTZXJ2aWNlXG4gIGFzeW5jIHJldmVydEF1dGhvckZvcm1hdCh3b3Jrb3V0SWQ6IHN0cmluZywgYXV0aG9ySWQ6IHN0cmluZykge1xuICAgIGlmICghdXNlclNlcnZpY2UuY3VycmVudFVzZXI/LmlkKSB0aHJvdyBuZXcgRXJyb3IoJ05vIHVzZXIgc2lnbmVkIGluJyk7XG4gICAgXG4gICAgY29uc3Qgd29ya291dFJlZiA9IGRvYyhkYiwgJ3VzZXJzJywgdXNlclNlcnZpY2UuY3VycmVudFVzZXIuaWQsICdNeUNyZWF0ZWRXb3Jrb3V0cycsIHdvcmtvdXRJZCk7XG4gICAgYXdhaXQgdXBkYXRlRG9jKHdvcmtvdXRSZWYsIHtcbiAgICAgIGF1dGhvcjogYXV0aG9ySWRcbiAgICB9KTtcbiAgIH1cblxuYXN5bmMgdXBkYXRlV29ya291dCh3b3Jrb3V0OiBXb3Jrb3V0KTogUHJvbWlzZTx2b2lkPiB7XG4gIGlmICghdXNlclNlcnZpY2UuY3VycmVudFVzZXI/LmlkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdObyB1c2VyIGlzIHNpZ25lZCBpbicpO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB3b3Jrb3V0UmVmID0gZG9jKGRiLCAndXNlcnMnLCB1c2VyU2VydmljZS5jdXJyZW50VXNlci5pZCwgJ015Q3JlYXRlZFdvcmtvdXRzJywgd29ya291dC5pZCk7XG4gICAgYXdhaXQgc2V0RG9jKHdvcmtvdXRSZWYsIHdvcmtvdXQudG9EaWN0aW9uYXJ5KCksIHsgbWVyZ2U6IHRydWUgfSk7XG5cbiAgICAvLyBVcGRhdGUgbG9ncyBpZiB0aGV5IGV4aXN0XG4gICAgaWYgKHdvcmtvdXQubG9ncyAmJiB3b3Jrb3V0LmxvZ3MubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgYmF0Y2ggPSB3cml0ZUJhdGNoKGRiKTtcbiAgICAgIGNvbnN0IGxvZ3NSZWYgPSBjb2xsZWN0aW9uKHdvcmtvdXRSZWYsICdsb2dzJyk7XG5cbiAgICAgIHdvcmtvdXQubG9ncy5mb3JFYWNoKGxvZyA9PiB7XG4gICAgICAgIGNvbnN0IGxvZ1JlZiA9IGRvYyhsb2dzUmVmLCBsb2cuaWQpO1xuICAgICAgICBiYXRjaC5zZXQobG9nUmVmLCBsb2cudG9EaWN0aW9uYXJ5KCksIHsgbWVyZ2U6IHRydWUgfSk7XG4gICAgICB9KTtcblxuICAgICAgYXdhaXQgYmF0Y2guY29tbWl0KCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIHdvcmtvdXQ6JywgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbiAgLyoqXG4gICAqIEZldGNoIHRoZSB1c2VyJ3MgY3VycmVudCB3b3Jrb3V0IChlaXRoZXIgUXVldWVkVXAgb3IgSW5Qcm9ncmVzcykuXG4gICAqL1xuICBhc3luYyBmZXRjaEN1cnJlbnRXb3Jrb3V0KHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxXb3Jrb3V0IHwgbnVsbD4ge1xuICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCB0aGlzLmZldGNoQ3VycmVudFdvcmtvdXRTZXNzaW9uKHVzZXJJZCk7XG4gICAgcmV0dXJuIHNlc3Npb24ud29ya291dDtcbiAgfVxuXG4gIGFzeW5jIGdldEFsbFN3ZWF0bGlzdHModXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPFdvcmtvdXRbXT4ge1xuICAgIGlmICghdXNlcklkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VzZXIgSUQgaXMgcmVxdWlyZWQnKTtcbiAgICB9XG4gIFxuICAgIC8vIFJlZmVyZW5jZSB0byB0aGUgdXNlcidzIHdvcmtvdXQgY29sbGVjdGlvblxuICAgIGNvbnN0IHdvcmtvdXRzUmVmID0gY29sbGVjdGlvbihkYiwgJ3VzZXJzJywgdXNlcklkLCAnTXlDcmVhdGVkV29ya291dHMnKTtcbiAgXG4gICAgdHJ5IHtcbiAgICAgIC8vIEZldGNoIGV4ZXJjaXNlcyB3aXRoIHZpZGVvc1xuICAgICAgY29uc3QgZXhlcmNpc2VzV2l0aFZpZGVvcyA9IGF3YWl0IHRoaXMuZmV0Y2hBbmRNYXBFeGVyY2lzZXNXaXRoVmlkZW9zKCk7XG4gIFxuICAgICAgLy8gUXVlcnkgdG8gZmV0Y2ggYWxsIHdvcmtvdXRzXG4gICAgICBjb25zdCB3b3Jrb3V0c1NuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyh3b3Jrb3V0c1JlZik7XG4gICAgICBjb25zdCB3b3Jrb3V0czogV29ya291dFtdID0gW107XG4gIFxuICAgICAgLy8gUHJvY2VzcyBlYWNoIHdvcmtvdXQgZG9jdW1lbnRcbiAgICAgIGZvciAoY29uc3Qgd29ya291dERvYyBvZiB3b3Jrb3V0c1NuYXBzaG90LmRvY3MpIHtcbiAgICAgICAgY29uc3Qgd29ya291dERhdGEgPSB3b3Jrb3V0RG9jLmRhdGEoKTtcbiAgICAgICAgY29uc3Qgd29ya291dElkID0gd29ya291dERvYy5pZDtcbiAgXG4gICAgICAgIC8vIE1hcCB0aGUgZXhlcmNpc2VzIGluIHRoZSB3b3Jrb3V0IHRvIHRoZSBmdWxsIGV4ZXJjaXNlIG9iamVjdHMgd2l0aCB2aWRlb3NcbiAgICAgICAgY29uc3QgbWFwcGVkRXhlcmNpc2VzID0gKHdvcmtvdXREYXRhLmV4ZXJjaXNlcyB8fCBbXSkubWFwKChleGVyY2lzZVJlZjogYW55KSA9PiB7XG4gICAgICAgICAgY29uc3QgZnVsbEV4ZXJjaXNlID0gZXhlcmNpc2VzV2l0aFZpZGVvcy5maW5kKGV4ID0+IGV4Lm5hbWUgPT09IGV4ZXJjaXNlUmVmLmV4ZXJjaXNlLm5hbWUpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiVGhpcyBpcyB0aGUgbWFwcGVkIGV4ZXJjaXNlOiBcIiArIGZ1bGxFeGVyY2lzZSk7XG5cbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uZXhlcmNpc2VSZWYsXG4gICAgICAgICAgICBleGVyY2lzZTogZnVsbEV4ZXJjaXNlIHx8IGV4ZXJjaXNlUmVmXG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG5cbiAgXG4gICAgICAgIC8vIFBhcnNlIHdvcmtvdXQgZGF0YSBpbnRvIHRoZSBkZXNpcmVkIHN0cnVjdHVyZVxuICAgICAgICBjb25zdCB3b3Jrb3V0ID0gbmV3IFdvcmtvdXQoe1xuICAgICAgICAgIGlkOiB3b3Jrb3V0RGF0YS5pZCB8fCAnJyxcbiAgICAgICAgICByb3VuZFdvcmtvdXRJZDogd29ya291dERhdGEucm91bmRXb3Jrb3V0SWQgfHwgJycsXG4gICAgICAgICAgY29sbGVjdGlvbklkOiB3b3Jrb3V0RGF0YS5jb2xsZWN0aW9uSWQsXG4gICAgICAgICAgZXhlcmNpc2VzOiBtYXBwZWRFeGVyY2lzZXMsXG4gICAgICAgICAgY2hhbGxlbmdlOiB3b3Jrb3V0RGF0YS5jaGFsbGVuZ2UsXG4gICAgICAgICAgbG9nczogW10sXG4gICAgICAgICAgdGl0bGU6IHdvcmtvdXREYXRhLnRpdGxlIHx8ICcnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiB3b3Jrb3V0RGF0YS5kZXNjcmlwdGlvbiB8fCAnJyxcbiAgICAgICAgICBkdXJhdGlvbjogd29ya291dERhdGEuZHVyYXRpb24gfHwgMCxcbiAgICAgICAgICB3b3Jrb3V0UmF0aW5nOiB3b3Jrb3V0RGF0YS53b3Jrb3V0UmF0aW5nLFxuICAgICAgICAgIHVzZUF1dGhvckNvbnRlbnQ6IHdvcmtvdXREYXRhLnVzZUF1dGhvckNvbnRlbnQgfHwgZmFsc2UsXG4gICAgICAgICAgaXNDb21wbGV0ZWQ6IHdvcmtvdXREYXRhLmlzQ29tcGxldGVkIHx8IGZhbHNlLFxuICAgICAgICAgIHdvcmtvdXRTdGF0dXM6IHdvcmtvdXREYXRhLndvcmtvdXRTdGF0dXMgfHwgJ25vdFN0YXJ0ZWQnLFxuICAgICAgICAgIHN0YXJ0VGltZTogd29ya291dERhdGEuc3RhcnRUaW1lID8gbmV3IERhdGUod29ya291dERhdGEuc3RhcnRUaW1lKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICBvcmRlcjogd29ya291dERhdGEub3JkZXIsXG4gICAgICAgICAgYXV0aG9yOiB3b3Jrb3V0RGF0YS5hdXRob3IgfHwgdXNlcklkLFxuICAgICAgICAgIGNyZWF0ZWRBdDogd29ya291dERhdGEuY3JlYXRlZEF0ID8gbmV3IERhdGUod29ya291dERhdGEuY3JlYXRlZEF0KSA6IG5ldyBEYXRlKCksXG4gICAgICAgICAgdXBkYXRlZEF0OiB3b3Jrb3V0RGF0YS51cGRhdGVkQXQgPyBuZXcgRGF0ZSh3b3Jrb3V0RGF0YS51cGRhdGVkQXQpIDogbmV3IERhdGUoKSxcbiAgICAgICAgICB6b25lOiB3b3Jrb3V0RGF0YS56b25lIHx8ICdGVUxMX0JPRFknLFxuICAgICAgICB9KTsgICAgICAgIFxuICBcbiAgICAgICAgLy8gRmV0Y2ggYW5kIHByb2Nlc3MgbG9nc1xuICAgICAgICBjb25zdCBsb2dzUmVmID0gY29sbGVjdGlvbihkYiwgJ3VzZXJzJywgdXNlcklkLCAnTXlDcmVhdGVkV29ya291dHMnLCB3b3Jrb3V0SWQsICdsb2dzJyk7XG4gICAgICAgIGNvbnN0IGxvZ3NTbmFwc2hvdCA9IGF3YWl0IGdldERvY3MobG9nc1JlZik7XG4gICAgICAgIHdvcmtvdXQubG9ncyA9IGxvZ3NTbmFwc2hvdC5kb2NzLm1hcCgobG9nRG9jKSA9PiAoe1xuICAgICAgICAgIC4uLmxvZ0RvYy5kYXRhKCksXG4gICAgICAgICAgaWQ6IGxvZ0RvYy5pZCxcbiAgICAgICAgfSkpIGFzIEV4ZXJjaXNlTG9nW107XG4gIFxuICAgICAgICB3b3Jrb3V0cy5wdXNoKHdvcmtvdXQpO1xuICAgICAgfVxuICBcbiAgICAgIHJldHVybiB3b3Jrb3V0cztcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc3QgZmlyZXN0b3JlRXJyb3IgPSBlcnJvciBhcyBGaXJlc3RvcmVFcnJvcjtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHN3ZWF0bGlzdHM6JywgZmlyZXN0b3JlRXJyb3IubWVzc2FnZSk7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCBzd2VhdGxpc3RzJyk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ2V0VXNlckNoYWxsZW5nZXNCeUNoYWxsZW5nZUlkKGNoYWxsZW5nZUlkOiBzdHJpbmcpOiBQcm9taXNlPHsgdXNlckNoYWxsZW5nZXM6IFVzZXJDaGFsbGVuZ2VbXTsgZXJyb3I/OiBzdHJpbmcgfT4ge1xuICAgIGNvbnN0IHVzZXJDaGFsbGVuZ2VzUmVmID0gY29sbGVjdGlvbihkYiwgJ3VzZXItY2hhbGxlbmdlJyk7XG4gICAgY29uc3QgcSA9IHF1ZXJ5KHVzZXJDaGFsbGVuZ2VzUmVmLCB3aGVyZSgnY2hhbGxlbmdlSWQnLCAnPT0nLCBjaGFsbGVuZ2VJZCkpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IGdldERvY3MocSk7XG4gICAgICBjb25zdCB1c2VyQ2hhbGxlbmdlczogVXNlckNoYWxsZW5nZVtdID0gc25hcHNob3QuZG9jcy5tYXAoKGRvYzogRG9jdW1lbnREYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBkb2MuZGF0YSgpO1xuICAgICAgICByZXR1cm4gbmV3IFVzZXJDaGFsbGVuZ2UoZGF0YSk7XG4gICAgICB9KTtcbiAgICAgIGlmICh1c2VyQ2hhbGxlbmdlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiB7IHVzZXJDaGFsbGVuZ2VzIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4geyB1c2VyQ2hhbGxlbmdlczogW10sIGVycm9yOiAnTm8gdXNlciBjaGFsbGVuZ2VzIGZvdW5kIGZvciB0aGlzIGNoYWxsZW5nZS4nIH07XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHVzZXIgY2hhbGxlbmdlcyBieSBjaGFsbGVuZ2VJZDonLCBlcnJvcik7XG4gICAgICByZXR1cm4geyB1c2VyQ2hhbGxlbmdlczogW10sIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJyB9O1xuICAgIH1cbiAgfVxuICBcbiAgLyoqXG4gICAqIEZldGNoZXMgd29ya291dCBzdW1tYXJpZXMgZm9yIGEgc3BlY2lmaWMgZGF0ZS5cbiAgICogQHBhcmFtIGRhdGUgLSBUaGUgZGF0ZSBmb3Igd2hpY2ggd29ya291dCBzdW1tYXJpZXMgYXJlIGJlaW5nIGZldGNoZWQuXG4gICAqIEByZXR1cm5zIEEgcHJvbWlzZSByZXNvbHZpbmcgdG8gYW4gYXJyYXkgb2Ygd29ya291dCBzdW1tYXJpZXMuXG4gICAqIEB0aHJvd3MgSWYgbm8gdXNlciBpcyBzaWduZWQgaW4gb3IgaWYgdGhlIEZpcmVzdG9yZSBxdWVyeSBmYWlscy5cbiAgICovXG4gIGFzeW5jIGZldGNoV29ya291dFN1bW1hcmllcyhkYXRlOiBEYXRlKTogUHJvbWlzZTxXb3Jrb3V0U3VtbWFyeVtdPiB7XG4gICAgY29uc3QgY3VycmVudFVzZXIgPSB1c2VyU2VydmljZS5jdXJyZW50VXNlcjtcbiAgICBpZiAoIWN1cnJlbnRVc2VyPy5pZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyB1c2VyIGlzIHNpZ25lZCBpbicpO1xuICAgIH1cblxuICAgIC8vIEZvcm1hdCB0aGUgZGF0ZSB0byBtYXRjaCB0aGUgZm9ybWF0IGluIEZpcmVzdG9yZSAoJ01NLWRkLXl5eXknKVxuICAgIGNvbnN0IGZvcm1hdHRlZERhdGUgPSBmb3JtYXQoZGF0ZSwgJ01NLWRkLXl5eXknKTtcblxuICAgIC8vIFJlZmVyZW5jZSB0byB0aGUgdXNlcidzIHdvcmtvdXRTdW1tYXJpZXMgc3ViY29sbGVjdGlvblxuICAgIGNvbnN0IHN1bW1hcmllc1JlZiA9IGNvbGxlY3Rpb24oZGIsICd1c2VycycsIGN1cnJlbnRVc2VyLmlkLCAnd29ya291dFN1bW1hcmllcycpO1xuXG4gICAgLy8gQ3JlYXRlIGEgcXVlcnkgdG8gZmlsdGVyIGRvY3VtZW50cyBieSB0aGUgc3BlY2lmaWVkIGRhdGVcbiAgICBjb25zdCBxID0gcXVlcnkoc3VtbWFyaWVzUmVmLCB3aGVyZSgnZGF0ZScsICc9PScsIGZvcm1hdHRlZERhdGUpKTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IGdldERvY3MocSk7XG5cbiAgICAgIC8vIE1hcCB0aGUgZG9jdW1lbnRzIHRvIGFuIGFycmF5IG9mIFdvcmtvdXRTdW1tYXJ5IG9iamVjdHNcbiAgICAgIHJldHVybiBzbmFwc2hvdC5kb2NzLm1hcCgoZG9jOiBEb2N1bWVudERhdGEpOiBXb3Jrb3V0U3VtbWFyeSA9PiAoe1xuICAgICAgICBpZDogZG9jLmlkLFxuICAgICAgICAuLi5kb2MuZGF0YSgpLFxuICAgICAgfSkpO1xuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnN0IGZpcmVzdG9yZUVycm9yID0gZXJyb3IgYXMgRmlyZXN0b3JlRXJyb3I7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyB3b3Jrb3V0IHN1bW1hcmllczonLCBmaXJlc3RvcmVFcnJvci5tZXNzYWdlKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihmaXJlc3RvcmVFcnJvci5tZXNzYWdlKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBmZXRjaEFsbFdvcmtvdXRTdW1tYXJpZXMoKTogUHJvbWlzZTxXb3Jrb3V0U3VtbWFyeVtdPiB7XG4gICAgY29uc3QgY3VycmVudFVzZXIgPSB1c2VyU2VydmljZS5jdXJyZW50VXNlcjtcbiAgICBpZiAoIWN1cnJlbnRVc2VyPy5pZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyB1c2VyIGlzIHNpZ25lZCBpbicpO1xuICAgIH1cbiAgXG4gICAgLy8gUmVmZXJlbmNlIHRvIHRoZSB1c2VyJ3Mgd29ya291dFN1bW1hcmllcyBzdWJjb2xsZWN0aW9uXG4gICAgY29uc3Qgc3VtbWFyaWVzUmVmID0gY29sbGVjdGlvbihkYiwgJ3VzZXJzJywgY3VycmVudFVzZXIuaWQsICd3b3Jrb3V0U3VtbWFyeScpO1xuICBcbiAgICAvLyBRdWVyeSB0byByZXRyaWV2ZSBhbGwgd29ya291dCBzdW1tYXJpZXMsIHNvcnRlZCBieSBgY3JlYXRlZEF0YCBpbiBhc2NlbmRpbmcgb3JkZXJcbiAgICBjb25zdCBxID0gcXVlcnkoc3VtbWFyaWVzUmVmLCBvcmRlckJ5KCdjcmVhdGVkQXQnLCAnYXNjJykpOyAvLyBBZGp1c3QgZmllbGQgbmFtZSBiYXNlZCBvbiB5b3VyIHNjaGVtYVxuICBcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBnZXREb2NzKHEpO1xuICBcbiAgICAgIC8vIE1hcCB0aGUgZG9jdW1lbnRzIHRvIGFuIGFycmF5IG9mIFdvcmtvdXRTdW1tYXJ5IG9iamVjdHNcbiAgICAgIHJldHVybiBzbmFwc2hvdC5kb2NzLm1hcCgoZG9jOiBEb2N1bWVudERhdGEpOiBXb3Jrb3V0U3VtbWFyeSA9PiAoe1xuICAgICAgICBpZDogZG9jLmlkLFxuICAgICAgICAuLi5kb2MuZGF0YSgpLFxuICAgICAgfSkpO1xuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnN0IGZpcmVzdG9yZUVycm9yID0gZXJyb3IgYXMgRmlyZXN0b3JlRXJyb3I7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBhbGwgd29ya291dCBzdW1tYXJpZXM6JywgZmlyZXN0b3JlRXJyb3IubWVzc2FnZSk7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZmlyZXN0b3JlRXJyb3IubWVzc2FnZSk7XG4gICAgfVxuICB9XG5cblxuICAvKipcbiAqIEZldGNoIHVzZXIgY2hhbGxlbmdlcyBieSB1c2VySWQuXG4gKiBAcGFyYW0gdXNlcklkIFRoZSBJRCBvZiB0aGUgdXNlciB0byBmZXRjaCBjaGFsbGVuZ2VzIGZvci5cbiAqIEByZXR1cm5zIEEgcHJvbWlzZSByZXNvbHZpbmcgdG8gYW4gYXJyYXkgb2YgdXNlciBjaGFsbGVuZ2VzLlxuICogQHRocm93cyBJZiB0aGUgRmlyZXN0b3JlIHF1ZXJ5IGZhaWxzLlxuICovXG5hc3luYyBmZXRjaFVzZXJDaGFsbGVuZ2VzQnlVc2VySWQodXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPFVzZXJDaGFsbGVuZ2VbXT4ge1xuICBjb25zdCB1c2VyQ2hhbGxlbmdlc1JlZiA9IGNvbGxlY3Rpb24oZGIsICd1c2VyLWNoYWxsZW5nZScpO1xuICBjb25zdCBxID0gcXVlcnkodXNlckNoYWxsZW5nZXNSZWYsIHdoZXJlKCd1c2VySWQnLCAnPT0nLCB1c2VySWQpKTtcblxuICB0cnkge1xuICAgIC8vIGNvbnNvbGUubG9nKGBGZXRjaGluZyBjaGFsbGVuZ2VzIGZvciB1c2VyIElEOiAke3VzZXJJZH1gKTtcblxuICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhxKTtcblxuICAgIC8vIGNvbnNvbGUubG9nKGBUb3RhbCBjaGFsbGVuZ2VzIGZldGNoZWQ6ICR7c25hcHNob3QuZG9jcy5sZW5ndGh9YCk7XG5cbiAgICBjb25zdCB1c2VyQ2hhbGxlbmdlcyA9IHNuYXBzaG90LmRvY3MubWFwKChkb2M6IERvY3VtZW50RGF0YSkgPT4ge1xuICAgICAgY29uc3QgZGF0YSA9IGRvYy5kYXRhKCk7XG4gICAgICAvLyBjb25zb2xlLmxvZyhgUHJvY2Vzc2luZyBjaGFsbGVuZ2Ugd2l0aCBJRDogJHtkb2MuaWR9YCwgZGF0YSk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlkOiBkb2MuaWQsXG4gICAgICAgIC4uLmRhdGEsXG4gICAgICAgIGNoYWxsZW5nZTogZGF0YS5jaGFsbGVuZ2VcbiAgICAgICAgICA/IG5ldyBDaGFsbGVuZ2Uoe1xuICAgICAgICAgICAgICBpZDogZGF0YS5jaGFsbGVuZ2UuaWQsXG4gICAgICAgICAgICAgIHRpdGxlOiBkYXRhLmNoYWxsZW5nZS50aXRsZSxcbiAgICAgICAgICAgICAgc3VidGl0bGU6IGRhdGEuY2hhbGxlbmdlLnN1YnRpdGxlLFxuICAgICAgICAgICAgICBwYXJ0aWNpcGFudHM6IGRhdGEuY2hhbGxlbmdlLnBhcnRpY2lwYW50cyB8fCBbXSxcbiAgICAgICAgICAgICAgc3RhdHVzOiBkYXRhLmNoYWxsZW5nZS5zdGF0dXMgYXMgQ2hhbGxlbmdlU3RhdHVzLFxuICAgICAgICAgICAgICBzdGFydERhdGU6IGRhdGEuY2hhbGxlbmdlLnN0YXJ0RGF0ZSA/IG5ldyBEYXRlKGRhdGEuY2hhbGxlbmdlLnN0YXJ0RGF0ZSkgOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICBlbmREYXRlOiBkYXRhLmNoYWxsZW5nZS5lbmREYXRlID8gbmV3IERhdGUoZGF0YS5jaGFsbGVuZ2UuZW5kRGF0ZSkgOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICBjcmVhdGVkQXQ6IGRhdGEuY2hhbGxlbmdlLmNyZWF0ZWRBdCA/IG5ldyBEYXRlKGRhdGEuY2hhbGxlbmdlLmNyZWF0ZWRBdCkgOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICB1cGRhdGVkQXQ6IGRhdGEuY2hhbGxlbmdlLnVwZGF0ZWRBdCA/IG5ldyBEYXRlKGRhdGEuY2hhbGxlbmdlLnVwZGF0ZWRBdCkgOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICBpbnRyb1ZpZGVvczogKGRhdGEuY2hhbGxlbmdlLmludHJvVmlkZW9zIHx8IFtdKS5tYXAoKHY6IGFueSkgPT4gXG4gICAgICAgICAgICAgICAgbmV3IEludHJvVmlkZW8oe1xuICAgICAgICAgICAgICAgICAgaWQ6IHYuaWQsXG4gICAgICAgICAgICAgICAgICB1c2VySWQ6IHYudXNlcklkLFxuICAgICAgICAgICAgICAgICAgdmlkZW9Vcmw6IHYudmlkZW9VcmxcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICBjcmVhdGVkQXQ6IGNvbnZlcnRUaW1lc3RhbXAoZGF0YS5jcmVhdGVkQXQpLFxuICAgICAgICB1cGRhdGVkQXQ6IGNvbnZlcnRUaW1lc3RhbXAoZGF0YS51cGRhdGVkQXQpLFxuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIGNvbnNvbGUubG9nKCdBbGwgY2hhbGxlbmdlcyBhZnRlciBwcm9jZXNzaW5nOicsIEpTT04uc3RyaW5naWZ5KHVzZXJDaGFsbGVuZ2VzLCBudWxsLCAyKSk7XG5cbiAgICByZXR1cm4gdXNlckNoYWxsZW5nZXM7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgdXNlciBjaGFsbGVuZ2VzIGJ5IHVzZXJJZDonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxuYXN5bmMgZmV0Y2hDb2xsZWN0aW9uV2l0aFN3ZWF0TGlzdHMoY29sbGVjdGlvbklkOiBzdHJpbmcpOiBQcm9taXNlPHsgY29sbGVjdGlvbjogYW55LCBzd2VhdExpc3RzOiBXb3Jrb3V0W10gfT4ge1xuICB0cnkge1xuICAgIC8vIEZldGNoIHRoZSBjb2xsZWN0aW9uXG4gICAgY29uc3QgY29sbGVjdGlvbiA9IGF3YWl0IHRoaXMuZ2V0Q29sbGVjdGlvbkJ5SWQoY29sbGVjdGlvbklkKTtcblxuICAgIC8vIEZldGNoIHN3ZWF0IGxpc3RzICh3b3Jrb3V0cylcbiAgICBjb25zdCBzd2VhdExpc3RzOiBXb3Jrb3V0W10gPSBbXTtcbiAgICBcbiAgICAvLyBBc3N1bWluZyBjb2xsZWN0aW9uIGhhcyBzd2VhdGxpc3RJZHMgd2l0aCBhdXRob3IgYW5kIHdvcmtvdXQgSURzXG4gICAgZm9yIChjb25zdCBzd2VhdGxpc3RJZGVudGlmaWVyIG9mIGNvbGxlY3Rpb24uc3dlYXRsaXN0SWRzIHx8IFtdKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBbd29ya291dF0gPSBhd2FpdCB0aGlzLmZldGNoU2F2ZWRXb3Jrb3V0KFxuICAgICAgICAgIHN3ZWF0bGlzdElkZW50aWZpZXIuc3dlYXRsaXN0QXV0aG9ySWQsIFxuICAgICAgICAgIHN3ZWF0bGlzdElkZW50aWZpZXIuaWRcbiAgICAgICAgKTtcbiAgICAgICAgXG4gICAgICAgIGlmICh3b3Jrb3V0KSB7XG4gICAgICAgICAgc3dlYXRMaXN0cy5wdXNoKHdvcmtvdXQpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBmZXRjaGluZyB3b3Jrb3V0ICR7c3dlYXRsaXN0SWRlbnRpZmllci5pZH06YCwgZXJyb3IpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7IGNvbGxlY3Rpb24sIHN3ZWF0TGlzdHMgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBjb2xsZWN0aW9uIHdpdGggc3dlYXQgbGlzdHM6JywgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cblxuXG5hc3luYyBmZXRjaFNhdmVkV29ya291dCh1c2VySWQ6IHN0cmluZywgd29ya291dElkOiBzdHJpbmcpOiBQcm9taXNlPFtXb3Jrb3V0IHwgbnVsbCwgRXhlcmNpc2VMb2dbXSB8IG51bGxdPiB7XG4gIHRyeSB7XG4gICAgLy8gRmV0Y2ggd29ya291dCBkb2N1bWVudFxuICAgIGNvbnN0IHdvcmtvdXRSZWYgPSBkb2MoZGIsICd1c2VycycsIHVzZXJJZCwgJ015Q3JlYXRlZFdvcmtvdXRzJywgd29ya291dElkKTtcbiAgICBjb25zdCB3b3Jrb3V0U25hcCA9IGF3YWl0IGdldERvYyh3b3Jrb3V0UmVmKTtcbiAgICBcbiAgICBpZiAoIXdvcmtvdXRTbmFwLmV4aXN0cygpKSB7XG4gICAgICByZXR1cm4gW251bGwsIG51bGxdO1xuICAgIH1cblxuICAgIGNvbnN0IHdvcmtvdXREYXRhID0gd29ya291dFNuYXAuZGF0YSgpO1xuICAgIGNvbnN0IGV4ZXJjaXNlc1dpdGhWaWRlb3MgPSBhd2FpdCB0aGlzLmZldGNoQW5kTWFwRXhlcmNpc2VzV2l0aFZpZGVvcygpO1xuXG4gICAgLy8gTWFwIHRoZSBleGVyY2lzZXNcbiAgICBjb25zdCBtYXBwZWRFeGVyY2lzZXMgPSAod29ya291dERhdGEuZXhlcmNpc2VzIHx8IFtdKS5tYXAoKGV4ZXJjaXNlUmVmOiBhbnkpID0+IHtcbiAgICAgIGNvbnN0IGZ1bGxFeGVyY2lzZSA9IGV4ZXJjaXNlc1dpdGhWaWRlb3MuZmluZChleCA9PiBleC5uYW1lID09PSBleGVyY2lzZVJlZi5leGVyY2lzZS5uYW1lKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLmV4ZXJjaXNlUmVmLFxuICAgICAgICBleGVyY2lzZTogZnVsbEV4ZXJjaXNlIHx8IGV4ZXJjaXNlUmVmLmV4ZXJjaXNlXG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgd29ya291dERhdGEuZXhlcmNpc2VzID0gbWFwcGVkRXhlcmNpc2VzO1xuICAgIGNvbnN0IHdvcmtvdXQgPSBuZXcgV29ya291dCh7XG4gICAgICBpZDogd29ya291dElkLFxuICAgICAgLi4ud29ya291dERhdGFcbiAgICB9KTtcblxuICAgIC8vIEZldGNoIGFuZCBtYXAgbG9nc1xuICAgIGNvbnN0IGxvZ3NSZWYgPSBjb2xsZWN0aW9uKHdvcmtvdXRSZWYsICdsb2dzJyk7XG4gICAgY29uc3QgbG9nc1NuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhsb2dzUmVmKTtcbiAgICBjb25zb2xlLmxvZygnRm91bmQgbG9ncyBjb3VudDonLCBsb2dzU25hcHNob3Quc2l6ZSk7XG5cbiAgICBjb25zdCBsb2dzOiBFeGVyY2lzZUxvZ1tdID0gbG9nc1NuYXBzaG90LmRvY3MubWFwKGxvZ0RvYyA9PiB7XG4gICAgICBjb25zdCBsb2dEYXRhID0gbG9nRG9jLmRhdGEoKTtcbiAgICAgIGNvbnNvbGUubG9nKCdSYXcgbG9nIGRhdGEgZnJvbSBGaXJlYmFzZTonLCB7XG4gICAgICAgIGV4ZXJjaXNlTmFtZTogbG9nRGF0YS5leGVyY2lzZS5uYW1lLFxuICAgICAgICBjYXRlZ29yeTogbG9nRGF0YS5leGVyY2lzZS5jYXRlZ29yeVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IGZ1bGxFeGVyY2lzZSA9IGV4ZXJjaXNlc1dpdGhWaWRlb3MuZmluZChleCA9PiBleC5uYW1lID09PSBsb2dEYXRhLmV4ZXJjaXNlLm5hbWUpO1xuICAgICAgXG4gICAgICAvLyBDcmVhdGUgdGhlIGNhdGVnb3J5IHdpdGggdGhlIGNvcnJlY3Qgc3RydWN0dXJlXG4gICAgICBjb25zdCBleGVyY2lzZUNhdGVnb3J5ID0ge1xuICAgICAgICB0eXBlOiAnd2VpZ2h0LXRyYWluaW5nJyxcbiAgICAgICAgZGV0YWlsczoge1xuICAgICAgICAgIHNldHM6IGxvZ0RhdGEuZXhlcmNpc2UuY2F0ZWdvcnk/LnNldHMgfHwgMyxcbiAgICAgICAgICByZXBzOiBBcnJheS5pc0FycmF5KGxvZ0RhdGEuZXhlcmNpc2UuY2F0ZWdvcnk/LnJlcHMpIFxuICAgICAgICAgICAgPyBsb2dEYXRhLmV4ZXJjaXNlLmNhdGVnb3J5LnJlcHMgXG4gICAgICAgICAgICA6IFtsb2dEYXRhLmV4ZXJjaXNlLmNhdGVnb3J5Py5yZXBzIHx8ICcxMiddLFxuICAgICAgICAgIHdlaWdodDogbG9nRGF0YS5leGVyY2lzZS5jYXRlZ29yeT8ud2VpZ2h0IHx8IDAsXG4gICAgICAgICAgc2NyZWVuVGltZTogbG9nRGF0YS5leGVyY2lzZS5jYXRlZ29yeT8uc2NyZWVuVGltZSB8fCAwLFxuICAgICAgICAgIHNlbGVjdGVkVmlkZW86IGxvZ0RhdGEuZXhlcmNpc2UuY2F0ZWdvcnk/LnNlbGVjdGVkVmlkZW8gfHwgbnVsbFxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBjb25zb2xlLmxvZygnQ29uc3RydWN0ZWQgY2F0ZWdvcnk6JywgZXhlcmNpc2VDYXRlZ29yeSk7XG5cbiAgICAgIC8vIE1lcmdlIHdpdGggdGVtcGxhdGUgZXhlcmNpc2UgYnV0IHByZXNlcnZlIG91ciBjYXRlZ29yeVxuICAgICAgY29uc3QgdXBkYXRlZEV4ZXJjaXNlID0gZnVsbEV4ZXJjaXNlXG4gICAgICAgID8ge1xuICAgICAgICAgICAgLi4uZnVsbEV4ZXJjaXNlLFxuICAgICAgICAgICAgY2F0ZWdvcnk6IGV4ZXJjaXNlQ2F0ZWdvcnlcbiAgICAgICAgICB9XG4gICAgICAgIDoge1xuICAgICAgICAgICAgLi4ubG9nRGF0YS5leGVyY2lzZSxcbiAgICAgICAgICAgIGNhdGVnb3J5OiBleGVyY2lzZUNhdGVnb3J5XG4gICAgICAgICAgfTtcblxuICAgICAgY29uc29sZS5sb2coJ0ZpbmFsIGV4ZXJjaXNlIGNhdGVnb3J5OicsIHtcbiAgICAgICAgbmFtZTogdXBkYXRlZEV4ZXJjaXNlLm5hbWUsXG4gICAgICAgIGNhdGVnb3J5OiB1cGRhdGVkRXhlcmNpc2UuY2F0ZWdvcnksXG4gICAgICAgIHNjcmVlblRpbWU6IHVwZGF0ZWRFeGVyY2lzZS5jYXRlZ29yeT8uZGV0YWlscz8uc2NyZWVuVGltZVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIHJldHVybiBuZXcgRXhlcmNpc2VMb2coe1xuICAgICAgICBpZDogbG9nRG9jLmlkLFxuICAgICAgICB3b3Jrb3V0SWQ6IHdvcmtvdXRJZCxcbiAgICAgICAgdXNlcklkOiB1c2VySWQsXG4gICAgICAgIGV4ZXJjaXNlOiB1cGRhdGVkRXhlcmNpc2UsXG4gICAgICAgIGxvZ3M6IGxvZ0RhdGEubG9ncyB8fCBbXSxcbiAgICAgICAgZmVlZGJhY2s6IGxvZ0RhdGEuZmVlZGJhY2sgfHwgJycsXG4gICAgICAgIG5vdGU6IGxvZ0RhdGEubm90ZSB8fCAnJyxcbiAgICAgICAgcmVjb21tZW5kZWRXZWlnaHQ6IGxvZ0RhdGEucmVjb21tZW5kZWRXZWlnaHQgfHwgJ2NhbGN1bGF0aW5nLi4uJyxcbiAgICAgICAgaXNTcGxpdDogbG9nRGF0YS5pc1NwbGl0IHx8IGZhbHNlLFxuICAgICAgICBpc0JvZHlXZWlnaHQ6IGxvZ0RhdGEuaXNCb2R5V2VpZ2h0IHx8IGZhbHNlLFxuICAgICAgICBsb2dTdWJtaXR0ZWQ6IGxvZ0RhdGEubG9nU3VibWl0dGVkIHx8IGZhbHNlLFxuICAgICAgICBsb2dJc0VkaXRpbmc6IGxvZ0RhdGEubG9nSXNFZGl0aW5nIHx8IGZhbHNlLFxuICAgICAgICBpc0NvbXBsZXRlZDogbG9nRGF0YS5pc0NvbXBsZXRlZCB8fCBmYWxzZSxcbiAgICAgICAgb3JkZXI6IGxvZ0RhdGEub3JkZXIgfHwgbnVsbCxcbiAgICAgICAgY29tcGxldGVkQXQ6IGNvbnZlcnRGaXJlc3RvcmVUaW1lc3RhbXAobG9nRGF0YS5jb21wbGV0ZWRBdCksXG4gICAgICAgIGNyZWF0ZWRBdDogY29udmVydEZpcmVzdG9yZVRpbWVzdGFtcChsb2dEYXRhLmNyZWF0ZWRBdCksXG4gICAgICAgIHVwZGF0ZWRBdDogY29udmVydEZpcmVzdG9yZVRpbWVzdGFtcChsb2dEYXRhLnVwZGF0ZWRBdClcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgd29ya291dC5sb2dzID0gbG9ncztcbiAgICByZXR1cm4gW3dvcmtvdXQsIGxvZ3NdO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHNhdmVkIHdvcmtvdXQ6JywgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbi8qKlxuICogRmV0Y2ggdXNlciBjaGFsbGVuZ2VzIGJ5IGNoYWxsZW5nZUlkLlxuICogQHBhcmFtIGNoYWxsZW5nZUlkIFRoZSBJRCBvZiB0aGUgY2hhbGxlbmdlIHRvIGZldGNoIGFzc29jaWF0ZWQgdXNlciBjaGFsbGVuZ2VzIGZvci5cbiAqIEByZXR1cm5zIEEgcHJvbWlzZSByZXNvbHZpbmcgdG8gYW4gYXJyYXkgb2YgdXNlciBjaGFsbGVuZ2VzLlxuICogQHRocm93cyBJZiB0aGUgRmlyZXN0b3JlIHF1ZXJ5IGZhaWxzLlxuICovXG5hc3luYyBmZXRjaFVzZXJDaGFsbGVuZ2VzQnlDaGFsbGVuZ2VJZChjaGFsbGVuZ2VJZDogc3RyaW5nKTogUHJvbWlzZTxVc2VyQ2hhbGxlbmdlW10+IHtcbiAgY29uc3QgdXNlckNoYWxsZW5nZXNSZWYgPSBjb2xsZWN0aW9uKGRiLCAndXNlci1jaGFsbGVuZ2UnKTtcbiAgY29uc3QgcSA9IHF1ZXJ5KHVzZXJDaGFsbGVuZ2VzUmVmLCB3aGVyZSgnY2hhbGxlbmdlSWQnLCAnPT0nLCBjaGFsbGVuZ2VJZCkpO1xuXG4gIHRyeSB7XG4gICAgLy8gY29uc29sZS5sb2coYEZldGNoaW5nIHVzZXIgY2hhbGxlbmdlcyBmb3IgY2hhbGxlbmdlIElEOiAke2NoYWxsZW5nZUlkfWApO1xuXG4gICAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBnZXREb2NzKHEpO1xuXG4gICAgLy8gY29uc29sZS5sb2coYFRvdGFsIHVzZXIgY2hhbGxlbmdlcyBmZXRjaGVkOiAke3NuYXBzaG90LmRvY3MubGVuZ3RofWApO1xuXG4gICAgY29uc3QgdXNlckNoYWxsZW5nZXMgPSBzbmFwc2hvdC5kb2NzLm1hcCgoZG9jOiBEb2N1bWVudERhdGEpID0+IHtcbiAgICAgIGNvbnN0IGRhdGEgPSBkb2MuZGF0YSgpO1xuICAgICAgLy8gY29uc29sZS5sb2coYFByb2Nlc3NpbmcgdXNlciBjaGFsbGVuZ2Ugd2l0aCBJRDogJHtkb2MuaWR9YCwgZGF0YSk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlkOiBkb2MuaWQsXG4gICAgICAgIC4uLmRhdGEsXG4gICAgICAgIGNoYWxsZW5nZTogZGF0YS5jaGFsbGVuZ2VcbiAgICAgICAgICA/IG5ldyBDaGFsbGVuZ2Uoe1xuICAgICAgICAgICAgICBpZDogZGF0YS5jaGFsbGVuZ2UuaWQsXG4gICAgICAgICAgICAgIHRpdGxlOiBkYXRhLmNoYWxsZW5nZS50aXRsZSxcbiAgICAgICAgICAgICAgc3VidGl0bGU6IGRhdGEuY2hhbGxlbmdlLnN1YnRpdGxlLFxuICAgICAgICAgICAgICBwYXJ0aWNpcGFudHM6IGRhdGEuY2hhbGxlbmdlLnBhcnRpY2lwYW50cyB8fCBbXSxcbiAgICAgICAgICAgICAgc3RhdHVzOiBkYXRhLmNoYWxsZW5nZS5zdGF0dXMgYXMgQ2hhbGxlbmdlU3RhdHVzLFxuICAgICAgICAgICAgICBzdGFydERhdGU6IGRhdGEuY2hhbGxlbmdlLnN0YXJ0RGF0ZSA/IG5ldyBEYXRlKGRhdGEuY2hhbGxlbmdlLnN0YXJ0RGF0ZSkgOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICBlbmREYXRlOiBkYXRhLmNoYWxsZW5nZS5lbmREYXRlID8gbmV3IERhdGUoZGF0YS5jaGFsbGVuZ2UuZW5kRGF0ZSkgOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICBjcmVhdGVkQXQ6IGRhdGEuY2hhbGxlbmdlLmNyZWF0ZWRBdCA/IG5ldyBEYXRlKGRhdGEuY2hhbGxlbmdlLmNyZWF0ZWRBdCkgOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICB1cGRhdGVkQXQ6IGRhdGEuY2hhbGxlbmdlLnVwZGF0ZWRBdCA/IG5ldyBEYXRlKGRhdGEuY2hhbGxlbmdlLnVwZGF0ZWRBdCkgOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICBpbnRyb1ZpZGVvczogKGRhdGEuY2hhbGxlbmdlLmludHJvVmlkZW9zIHx8IFtdKS5tYXAoKHY6IGFueSkgPT4gXG4gICAgICAgICAgICAgICAgbmV3IEludHJvVmlkZW8oe1xuICAgICAgICAgICAgICAgICAgaWQ6IHYuaWQsXG4gICAgICAgICAgICAgICAgICB1c2VySWQ6IHYudXNlcklkLFxuICAgICAgICAgICAgICAgICAgdmlkZW9Vcmw6IHYudmlkZW9VcmxcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICBjcmVhdGVkQXQ6IGNvbnZlcnRUaW1lc3RhbXAoZGF0YS5jcmVhdGVkQXQpLFxuICAgICAgICB1cGRhdGVkQXQ6IGNvbnZlcnRUaW1lc3RhbXAoZGF0YS51cGRhdGVkQXQpLFxuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIGNvbnNvbGUubG9nKCdBbGwgdXNlciBjaGFsbGVuZ2VzIGFmdGVyIHByb2Nlc3Npbmc6JywgSlNPTi5zdHJpbmdpZnkodXNlckNoYWxsZW5nZXMsIG51bGwsIDIpKTtcblxuICAgIHJldHVybiB1c2VyQ2hhbGxlbmdlcztcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyB1c2VyIGNoYWxsZW5nZXMgYnkgY2hhbGxlbmdlSWQ6JywgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbmFzeW5jIGdldENvbGxlY3Rpb25CeUlkKGlkOiBzdHJpbmcpOiBQcm9taXNlPFN3ZWF0bGlzdENvbGxlY3Rpb24+IHtcbiAgY29uc29sZS5sb2coXCJGZXRjaGluZyBjb2xsZWN0aW9uIHdpdGggaWQ6XCIsIGlkKTtcbiAgdHJ5IHtcbiAgICBjb25zdCBkb2NSZWYgPSBkb2MoZGIsIFwic3dlYXRsaXN0LWNvbGxlY3Rpb25cIiwgaWQpO1xuICAgIGNvbnN0IGRvY1NuYXAgPSBhd2FpdCBnZXREb2MoZG9jUmVmKTtcbiAgICBpZiAoZG9jU25hcC5leGlzdHMoKSkge1xuICAgICAgcmV0dXJuIG5ldyBTd2VhdGxpc3RDb2xsZWN0aW9uKHtcbiAgICAgICAgaWQ6IGRvY1NuYXAuaWQsXG4gICAgICAgIC4uLmRvY1NuYXAuZGF0YSgpXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ29sbGVjdGlvbiBub3QgZm91bmRcIik7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGNvbGxlY3Rpb24gYnkgSUQ6XCIsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuXG4vLyBJbiBXb3Jrb3V0U2VydmljZSBjbGFzc1xuYXN5bmMgZ2V0Q29sbGVjdGlvbnNCeUlkcyhjb2xsZWN0aW9uSWRzOiBzdHJpbmdbXSk6IFByb21pc2U8U3dlYXRsaXN0Q29sbGVjdGlvbltdPiB7XG4gIHRyeSB7XG4gICAgLy8gVXNlIFByb21pc2UuYWxsIHRvIGZldGNoIGFsbCBjb2xsZWN0aW9ucyBpbiBwYXJhbGxlbFxuICAgIGNvbnN0IGNvbGxlY3Rpb25zID0gYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICBjb2xsZWN0aW9uSWRzLm1hcChhc3luYyAoaWQpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBkb2NSZWYgPSBkb2MoZGIsIFwic3dlYXRsaXN0LWNvbGxlY3Rpb25cIiwgaWQpO1xuICAgICAgICAgIGNvbnN0IGRvY1NuYXAgPSBhd2FpdCBnZXREb2MoZG9jUmVmKTtcbiAgICAgICAgICBpZiAoZG9jU25hcC5leGlzdHMoKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBTd2VhdGxpc3RDb2xsZWN0aW9uKHtcbiAgICAgICAgICAgICAgaWQ6IGRvY1NuYXAuaWQsXG4gICAgICAgICAgICAgIC4uLmRvY1NuYXAuZGF0YSgpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgZmV0Y2hpbmcgY29sbGVjdGlvbiAke2lkfTpgLCBlcnJvcik7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgKTtcblxuICAgIC8vIEZpbHRlciBvdXQgYW55IG51bGwgdmFsdWVzIGZyb20gZmFpbGVkIGZldGNoZXNcbiAgICByZXR1cm4gY29sbGVjdGlvbnMuZmlsdGVyKChjb2xsZWN0aW9uKTogY29sbGVjdGlvbiBpcyBTd2VhdGxpc3RDb2xsZWN0aW9uID0+IGNvbGxlY3Rpb24gIT09IG51bGwpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyBjb2xsZWN0aW9uczpcIiwgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbiAgXG5hc3luYyBmZXRjaENvbGxlY3Rpb25zKHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxTd2VhdGxpc3RDb2xsZWN0aW9uW10+IHtcbiAgaWYgKCF1c2VySWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1VzZXIgSUQgaXMgcmVxdWlyZWQnKTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3QgY29sbGVjdGlvbnNSZWYgPSBmc0NvbGxlY3Rpb24oZGIsIFwic3dlYXRsaXN0LWNvbGxlY3Rpb25cIik7XG5cbiAgICAvLyBRdWVyeSBmb3IgcmVjb3JkcyB3aGVyZSBvd25lcklkIGlzIGFuIGFycmF5IHRoYXQgY29udGFpbnMgdGhlIHVzZXJJZC5cbiAgICBjb25zdCBxQXJyYXkgPSBxdWVyeShjb2xsZWN0aW9uc1JlZiwgd2hlcmUoXCJvd25lcklkXCIsIFwiYXJyYXktY29udGFpbnNcIiwgdXNlcklkKSk7XG4gICAgY29uc3Qgc25hcHNob3RBcnJheSA9IGF3YWl0IGdldERvY3MocUFycmF5KTtcbiAgICBjb25zdCBjb2xsZWN0aW9uc0Zyb21BcnJheTogU3dlYXRsaXN0Q29sbGVjdGlvbltdID0gc25hcHNob3RBcnJheS5kb2NzLm1hcCgoZG9jOiBRdWVyeURvY3VtZW50U25hcHNob3Q8RG9jdW1lbnREYXRhPikgPT4ge1xuICAgICAgY29uc3QgZGF0YSA9IHsgaWQ6IGRvYy5pZCwgLi4uZG9jLmRhdGEoKSB9O1xuICAgICAgcmV0dXJuIG5ldyBTd2VhdGxpc3RDb2xsZWN0aW9uKGRhdGEpO1xuICAgIH0pO1xuXG4gICAgY29uc29sZS5sb2coXCJUaGUgYXJyYXkgY29sbGVjdGlvbnNcIiwgY29sbGVjdGlvbnNGcm9tQXJyYXkpO1xuXG4gICAgLy8gUXVlcnkgZm9yIHJlY29yZHMgd2hlcmUgb3duZXJJZCBpcyBhIHN0cmluZyBlcXVhbCB0byB0aGUgdXNlcklkLlxuICAgIGNvbnN0IHFTdHJpbmcgPSBxdWVyeShjb2xsZWN0aW9uc1JlZiwgd2hlcmUoXCJvd25lcklkXCIsIFwiPT1cIiwgdXNlcklkKSk7XG4gICAgY29uc3Qgc25hcHNob3RTdHJpbmcgPSBhd2FpdCBnZXREb2NzKHFTdHJpbmcpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25zRnJvbVN0cmluZzogU3dlYXRsaXN0Q29sbGVjdGlvbltdID0gc25hcHNob3RTdHJpbmcuZG9jcy5tYXAoKGRvYzogUXVlcnlEb2N1bWVudFNuYXBzaG90PERvY3VtZW50RGF0YT4pID0+IHtcbiAgICAgIGNvbnN0IGRhdGEgPSB7IGlkOiBkb2MuaWQsIC4uLmRvYy5kYXRhKCkgfTtcbiAgICAgIHJldHVybiBuZXcgU3dlYXRsaXN0Q29sbGVjdGlvbihkYXRhKTtcbiAgICB9KTtcblxuICAgIGNvbnNvbGUubG9nKFwiVGhlIHN0cmluZyBjb2xsZWN0aW9uc1wiLCBjb2xsZWN0aW9uc0Zyb21TdHJpbmcpO1xuXG5cbiAgICAvLyBDb21iaW5lIGJvdGggYXJyYXlzIGFuZCByZW1vdmUgZHVwbGljYXRlcyAoaWYgYW55KSBiYXNlZCBvbiB0aGUgY29sbGVjdGlvbiBpZC5cbiAgICBjb25zdCBjb21iaW5lZCA9IFsuLi5jb2xsZWN0aW9uc0Zyb21BcnJheSwgLi4uY29sbGVjdGlvbnNGcm9tU3RyaW5nXTtcbiAgICBjb25zdCB1bmlxdWVDb2xsZWN0aW9ucyA9IG5ldyBNYXA8c3RyaW5nLCBTd2VhdGxpc3RDb2xsZWN0aW9uPigpO1xuICAgIGNvbWJpbmVkLmZvckVhY2goY29sbGVjdGlvbiA9PiB7XG4gICAgICB1bmlxdWVDb2xsZWN0aW9ucy5zZXQoY29sbGVjdGlvbi5pZCwgY29sbGVjdGlvbik7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gQXJyYXkuZnJvbSh1bmlxdWVDb2xsZWN0aW9ucy52YWx1ZXMoKSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGZldGNoaW5nIHN3ZWF0bGlzdHM6XCIsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuXG5cblxuICAgIC8qKlxuICAgKiBGZXRjaCB1c2VyIGNoYWxsZW5nZXMgYnkgdXNlcklkIGFuZCBmaWx0ZXIgZm9yIGFjdGl2ZSBjaGFsbGVuZ2VzLlxuICAgKiBAcmV0dXJucyBBIHByb21pc2UgcmVzb2x2aW5nIHRvIGFuIGFycmF5IG9mIGFjdGl2ZSBjaGFsbGVuZ2VzLlxuICAgKiBAdGhyb3dzIElmIG5vIHVzZXIgaXMgc2lnbmVkIGluIG9yIGlmIHRoZSBGaXJlc3RvcmUgcXVlcnkgZmFpbHMuXG4gICAqL1xuICAgIGFzeW5jIGZldGNoQWN0aXZlQ2hhbGxlbmdlcygpOiBQcm9taXNlPFVzZXJDaGFsbGVuZ2VbXT4ge1xuICAgICAgY29uc3QgY3VycmVudFVzZXIgPSB1c2VyU2VydmljZS5jdXJyZW50VXNlcjtcbiAgICAgIGlmICghY3VycmVudFVzZXI/LmlkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gdXNlciBpcyBzaWduZWQgaW4nKTtcbiAgICAgIH1cbiAgICBcbiAgICAgIGNvbnN0IHVzZXJDaGFsbGVuZ2VzUmVmID0gY29sbGVjdGlvbihkYiwgJ3VzZXItY2hhbGxlbmdlJyk7XG4gICAgICBjb25zdCBxID0gcXVlcnkodXNlckNoYWxsZW5nZXNSZWYsIHdoZXJlKCd1c2VySWQnLCAnPT0nLCBjdXJyZW50VXNlci5pZCkpO1xuICAgIFxuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coYEZldGNoaW5nIGNoYWxsZW5nZXMgZm9yIHVzZXIgSUQ6ICR7Y3VycmVudFVzZXIuaWR9YCk7XG4gICAgXG4gICAgICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhxKTtcbiAgICBcbiAgICAgICAgLy8gY29uc29sZS5sb2coYFRvdGFsIGNoYWxsZW5nZXMgZmV0Y2hlZDogJHtzbmFwc2hvdC5kb2NzLmxlbmd0aH1gKTtcbiAgICBcbiAgICAgICAgY29uc3QgYWxsQ2hhbGxlbmdlcyA9IHNuYXBzaG90LmRvY3MubWFwKChkb2M6IERvY3VtZW50RGF0YSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGRhdGEgPSBkb2MuZGF0YSgpO1xuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGBQcm9jZXNzaW5nIGNoYWxsZW5nZSB3aXRoIElEOiAke2RvYy5pZH1gLCBkYXRhKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBVc2UgdGhlIENoYWxsZW5nZSBjb25zdHJ1Y3RvciB0byBwYXJzZSB0aGUgY2hhbGxlbmdlIGRhdGFcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcImRhdGUgYmVmb3JlIGZvcm1hdDogXCIgKyBjb252ZXJ0RmlyZXN0b3JlVGltZXN0YW1wKGRhdGEuY2hhbGxlbmdlLnN0YXJ0RGF0ZSkpO1xuXG4gICAgICAgICAgY29uc3QgY2hhbGxlbmdlID0gZGF0YS5jaGFsbGVuZ2VcbiAgICAgICAgICAgID8gbmV3IENoYWxsZW5nZSh7XG4gICAgICAgICAgICAgICAgaWQ6IGRhdGEuY2hhbGxlbmdlLmlkLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBkYXRhLmNoYWxsZW5nZS50aXRsZSxcbiAgICAgICAgICAgICAgICBzdWJ0aXRsZTogZGF0YS5jaGFsbGVuZ2Uuc3VidGl0bGUsXG4gICAgICAgICAgICAgICAgcGFydGljaXBhbnRzOiBkYXRhLmNoYWxsZW5nZS5wYXJ0aWNpcGFudHMgfHwgW10sXG4gICAgICAgICAgICAgICAgc3RhdHVzOiBkYXRhLmNoYWxsZW5nZS5zdGF0dXMgYXMgQ2hhbGxlbmdlU3RhdHVzLFxuICAgICAgICAgICAgICAgIHN0YXJ0RGF0ZTogY29udmVydEZpcmVzdG9yZVRpbWVzdGFtcChkYXRhLmNoYWxsZW5nZS5zdGFydERhdGUpLFxuICAgICAgICAgICAgICAgIGVuZERhdGU6IGNvbnZlcnRGaXJlc3RvcmVUaW1lc3RhbXAoZGF0YS5jaGFsbGVuZ2UuZW5kRGF0ZSksXG4gICAgICAgICAgICAgICAgY3JlYXRlZEF0OiBjb252ZXJ0RmlyZXN0b3JlVGltZXN0YW1wKGRhdGEuY2hhbGxlbmdlLmNyZWF0ZWRBdCksXG4gICAgICAgICAgICAgICAgdXBkYXRlZEF0OiBjb252ZXJ0RmlyZXN0b3JlVGltZXN0YW1wKGRhdGEuY2hhbGxlbmdlLnVwZGF0ZWRBdCksXG4gICAgICAgICAgICAgICAgaW50cm9WaWRlb3M6IChkYXRhLmNoYWxsZW5nZS5pbnRyb1ZpZGVvcyB8fCBbXSkubWFwKCh2OiBhbnkpID0+IFxuICAgICAgICAgICAgICAgICAgbmV3IEludHJvVmlkZW8oe1xuICAgICAgICAgICAgICAgICAgICBpZDogdi5pZCxcbiAgICAgICAgICAgICAgICAgICAgdXNlcklkOiB2LnVzZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgdmlkZW9Vcmw6IHYudmlkZW9VcmxcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaWQ6IGRvYy5pZCxcbiAgICAgICAgICAgIC4uLmRhdGEsXG4gICAgICAgICAgICBjaGFsbGVuZ2UsXG4gICAgICAgICAgICBjcmVhdGVkQXQ6IGNvbnZlcnRGaXJlc3RvcmVUaW1lc3RhbXAoZGF0YS5jcmVhdGVkQXQpLFxuICAgICAgICAgICAgdXBkYXRlZEF0OiBjb252ZXJ0RmlyZXN0b3JlVGltZXN0YW1wKGRhdGEudXBkYXRlZEF0KSxcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICBcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ0FsbCBjaGFsbGVuZ2VzIGFmdGVyIHByb2Nlc3Npbmc6JywgSlNPTi5zdHJpbmdpZnkoYWxsQ2hhbGxlbmdlcywgbnVsbCwgMikpO1xuICAgIFxuICAgICAgICAvLyBGaWx0ZXIgZm9yIGFjdGl2ZSBjaGFsbGVuZ2VzIChlbmREYXRlID4gY3VycmVudCBkYXRlKVxuICAgICAgICBjb25zdCBhY3RpdmVDaGFsbGVuZ2VzID0gYWxsQ2hhbGxlbmdlcy5maWx0ZXIodXNlckNoYWxsZW5nZSA9PiB7XG4gICAgICAgICAgY29uc3QgZW5kRGF0ZSA9IHVzZXJDaGFsbGVuZ2UuY2hhbGxlbmdlPy5lbmREYXRlO1xuICAgIFxuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFxuICAgICAgICAgIC8vICAgYEV2YWx1YXRpbmcgY2hhbGxlbmdlIElEOiAke3VzZXJDaGFsbGVuZ2UuaWR9LCBFbmQgRGF0ZTogJHtlbmREYXRlfSwgQ3VycmVudCBEYXRlOiAke25ldyBEYXRlKCl9YFxuICAgICAgICAgIC8vICk7XG4gICAgXG4gICAgICAgICAgcmV0dXJuIGVuZERhdGUgJiYgZW5kRGF0ZSA+IG5ldyBEYXRlKCk7XG4gICAgICAgIH0pO1xuICAgIFxuICAgICAgICAvLyBjb25zb2xlLmxvZyhgVG90YWwgYWN0aXZlIGNoYWxsZW5nZXM6ICR7YWN0aXZlQ2hhbGxlbmdlcy5sZW5ndGh9YCwgYWN0aXZlQ2hhbGxlbmdlcyk7XG4gICAgXG4gICAgICAgIHJldHVybiBhY3RpdmVDaGFsbGVuZ2VzO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgYWN0aXZlIGNoYWxsZW5nZXM6JywgZXJyb3IpO1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH1cbiAgICB9XG4gICAgXG5cbiAgLyoqXG4gICAqIEZldGNoIHVzZXIgY2hhbGxlbmdlcyBieSB1c2VySWQuXG4gICAqIEByZXR1cm5zIEEgcHJvbWlzZSByZXNvbHZpbmcgdG8gYW4gYXJyYXkgb2YgY2hhbGxlbmdlcy5cbiAgICogQHRocm93cyBJZiBubyB1c2VyIGlzIHNpZ25lZCBpbiBvciBpZiB0aGUgRmlyZXN0b3JlIHF1ZXJ5IGZhaWxzLlxuICAgKi9cbiAgYXN5bmMgZmV0Y2hVc2VyQ2hhbGxlbmdlcygpOiBQcm9taXNlPFVzZXJDaGFsbGVuZ2VbXT4ge1xuICAgIGNvbnN0IGN1cnJlbnRVc2VyID0gdXNlclNlcnZpY2UuY3VycmVudFVzZXI7XG4gICAgaWYgKCFjdXJyZW50VXNlcj8uaWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gdXNlciBpcyBzaWduZWQgaW4nKTtcbiAgICB9XG5cbiAgICAvLyBSZWZlcmVuY2UgdG8gdGhlIHVzZXItY2hhbGxlbmdlIGNvbGxlY3Rpb25cbiAgICBjb25zdCB1c2VyQ2hhbGxlbmdlc1JlZiA9IGNvbGxlY3Rpb24oZGIsICd1c2VyLWNoYWxsZW5nZScpO1xuXG4gICAgLy8gUXVlcnkgY2hhbGxlbmdlcyB3aGVyZSB1c2VySWQgbWF0Y2hlcyB0aGUgY3VycmVudCB1c2VyJ3MgSURcbiAgICBjb25zdCBxID0gcXVlcnkodXNlckNoYWxsZW5nZXNSZWYsIHdoZXJlKCd1c2VySWQnLCAnPT0nLCBjdXJyZW50VXNlci5pZCkpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhxKTtcblxuICAgICAgLy8gTWFwIGRvY3VtZW50cyB0byBhbiBhcnJheSBvZiBDaGFsbGVuZ2Ugb2JqZWN0c1xuICAgICAgcmV0dXJuIHNuYXBzaG90LmRvY3MubWFwKChkb2M6IERvY3VtZW50RGF0YSkgPT4gbmV3IFVzZXJDaGFsbGVuZ2Uoe1xuICAgICAgICBpZDogZG9jLmlkLFxuICAgICAgICAuLi5kb2MuZGF0YSgpLFxuICAgICAgfSkpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyB1c2VyIGNoYWxsZW5nZXM6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gZmV0Y2ggdXNlciBjaGFsbGVuZ2VzJyk7XG4gICAgfVxuICB9XG4gIFxuICAvL3VwZGF0ZSB0aGUgd29ya291dCBzdW1tYXJ5LFxuICBhc3luYyB1cGRhdGVXb3Jrb3V0U3VtbWFyeSh7XG4gICAgdXNlcklkLFxuICAgIHdvcmtvdXRJZCxcbiAgICBzdW1tYXJ5XG4gIH06IHtcbiAgICB1c2VySWQ6IHN0cmluZyxcbiAgICB3b3Jrb3V0SWQ6IHN0cmluZyxcbiAgICBzdW1tYXJ5OiBXb3Jrb3V0U3VtbWFyeVxuICB9KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKCF1c2VySWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gdXNlciBJRCBwcm92aWRlZCcpO1xuICAgIH1cbiAgXG4gICAgdHJ5IHtcbiAgICAgIC8vIENyZWF0ZSBhIHJlZmVyZW5jZSB0byB0aGUgY29sbGVjdGlvblxuICAgICAgY29uc3Qgc3VtbWFyeVJlZiA9IGRvYyhkYiwgJ3VzZXJzJywgdXNlcklkLCAnd29ya291dFN1bW1hcnknLCBzdW1tYXJ5LmlkKTtcbiAgXG4gICAgICAvLyBDb252ZXJ0IHN1bW1hcnkgdG8gYSBwbGFpbiBvYmplY3QgZm9yIEZpcmVzdG9yZVxuICAgICAgY29uc3Qgc3VtbWFyeURhdGEgPSB7XG4gICAgICAgIGlkOiBzdW1tYXJ5LmlkLFxuICAgICAgICB3b3Jrb3V0SWQ6IHN1bW1hcnkud29ya291dElkLFxuICAgICAgICBleGVyY2lzZXM6IHN1bW1hcnkuZXhlcmNpc2VzLFxuICAgICAgICBib2R5UGFydHM6IHN1bW1hcnkuYm9keVBhcnRzLFxuICAgICAgICBzZWNvbmRhcnlCb2R5UGFydHM6IHN1bW1hcnkuc2Vjb25kYXJ5Qm9keVBhcnRzLFxuICAgICAgICB3b3Jrb3V0VGl0bGU6IHN1bW1hcnkud29ya291dFRpdGxlLFxuICAgICAgICBjYWxvcmllc0J1cm5lZDogc3VtbWFyeS5jYWxvcmllc0J1cm5lZCxcbiAgICAgICAgd29ya291dFJhdGluZzogc3VtbWFyeS53b3Jrb3V0UmF0aW5nLFxuICAgICAgICBleGVyY2lzZXNDb21wbGV0ZWQ6IHN1bW1hcnkuZXhlcmNpc2VzQ29tcGxldGVkLFxuICAgICAgICBhaUluc2lnaHQ6IHN1bW1hcnkuYWlJbnNpZ2h0LFxuICAgICAgICByZWNvbW1lbmRhdGlvbnM6IHN1bW1hcnkucmVjb21tZW5kYXRpb25zLFxuICAgICAgICBnaWZVUkxzOiBzdW1tYXJ5LmdpZlVSTHMsXG4gICAgICAgIHJlY29tbWVuZGVkV29yazogc3VtbWFyeS5yZWNvbW1lbmRlZFdvcmssXG4gICAgICAgIGlzQ29tcGxldGVkOiBzdW1tYXJ5LmlzQ29tcGxldGVkLFxuICAgICAgICBjcmVhdGVkQXQ6IHN1bW1hcnkuY3JlYXRlZEF0LFxuICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgIGNvbXBsZXRlZEF0OiBzdW1tYXJ5LmNvbXBsZXRlZEF0LFxuICAgICAgICBkdXJhdGlvbjogc3VtbWFyeS5kdXJhdGlvblxuICAgICAgfTtcbiAgXG4gICAgICAvLyBTZXQgZGF0YSB3aXRoIG1lcmdlIGVuYWJsZWQgKGVxdWl2YWxlbnQgdG8gU3dpZnQncyBzZXREYXRhIHdpdGggbWVyZ2U6IHRydWUpXG4gICAgICBhd2FpdCBzZXREb2Moc3VtbWFyeVJlZiwgc3VtbWFyeURhdGEsIHsgbWVyZ2U6IHRydWUgfSk7XG4gIFxuICAgICAgY29uc29sZS5sb2coJ1dvcmtvdXQgc3VtbWFyeSBkb2N1bWVudCB1cGRhdGVkIHN1Y2Nlc3NmdWxseScpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyB3b3Jrb3V0IHN1bW1hcnk6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgdXBkYXRlV29ya291dExvZ3Moe1xuICAgIHVzZXJJZCxcbiAgICB3b3Jrb3V0SWQsIFxuICAgIGxvZ3NcbiAgfToge1xuICAgIHVzZXJJZDogc3RyaW5nLFxuICAgIHdvcmtvdXRJZDogc3RyaW5nLCBcbiAgICBsb2dzOiBFeGVyY2lzZUxvZ1tdXG4gIH0pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgd29ya291dFJlZiA9IGRvYyhkYiwgJ3VzZXJzJywgdXNlcklkLCAnd29ya291dFNlc3Npb25zJywgd29ya291dElkKTtcbiAgICAgIGNvbnN0IGxvZ3NSZWYgPSBjb2xsZWN0aW9uKHdvcmtvdXRSZWYsICdsb2dzJyk7XG4gICAgICBjb25zdCBiYXRjaCA9IHdyaXRlQmF0Y2goZGIpO1xuICAgICAgXG4gICAgICBsb2dzLmZvckVhY2gobG9nID0+IHtcbiAgICAgICAgY29uc3QgbG9nRG9jUmVmID0gZG9jKGxvZ3NSZWYsIGxvZy5pZCk7XG4gICAgICAgIGJhdGNoLnVwZGF0ZShsb2dEb2NSZWYsIHtcbiAgICAgICAgICAuLi5sb2cudG9EaWN0aW9uYXJ5KClcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgXG4gICAgICBhd2FpdCBiYXRjaC5jb21taXQoKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgd29ya291dCBsb2dzOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8vIFRoZSBjYW5jZWxXb3Jrb3V0IG1ldGhvZCDigJMgaXQgZGVsZXRlcyB0aGUgd29ya291dCBzZXNzaW9uIGFuZCBzdW1tYXJ5IChpZiBhbnkpLFxuLy8gY2xlYW5zIHVwIHRoZSBsb2NhbCBzdGF0ZSwgYW5kIGxvZ3MgdGhlIGNhbmNlbGxhdGlvbi5cbmFzeW5jIGNhbmNlbFdvcmtvdXQod29ya291dDogV29ya291dCB8IG51bGwsIHdvcmtvdXRTdW1tYXJ5OiBXb3Jrb3V0U3VtbWFyeSB8IG51bGwpOiBQcm9taXNlPHZvaWQ+IHtcbiAgaWYgKCF1c2VyU2VydmljZS5jdXJyZW50VXNlcj8uaWQgfHwgIXdvcmtvdXQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJVc2VyIG5vdCBhdXRoZW50aWNhdGVkLlwiKTtcbiAgfVxuXG4gIHRyeSB7ICAgIFxuICAgICAgYXdhaXQgdGhpcy5kZWxldGVXb3Jrb3V0U2Vzc2lvbih3b3Jrb3V0LmlkKTtcbiAgICAgIGlmICh3b3Jrb3V0U3VtbWFyeSkge1xuICAgICAgICBhd2FpdCB0aGlzLmRlbGV0ZVdvcmtvdXRTdW1tYXJ5KHdvcmtvdXRTdW1tYXJ5LmlkKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgdGhpcy5jbGVhblVwV29ya291dEluUHJvZ3Jlc3MoKTtcbiAgICAgIGNvbnNvbGUubG9nKFwiV29ya291dCBjYW5jZWxlZCBhbmQgY2xlYW5lZCB1cCBzdWNjZXNzZnVsbHkuXCIpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBjYW5jZWxpbmcgd29ya291dDpcIiwgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59XG4gIFxuLy8gRGVsZXRlcyBhIHdvcmtvdXQgc2Vzc2lvbiBkb2N1bWVudCBhbmQgYWxsIGl0cyBzdWJjb2xsZWN0aW9uIFwibG9nc1wiXG5hc3luYyBkZWxldGVXb3Jrb3V0U2Vzc2lvbih3b3Jrb3V0SWQ6IHN0cmluZyB8IG51bGwpOiBQcm9taXNlPHZvaWQ+IHtcbiAgaWYgKCF1c2VyU2VydmljZS5jdXJyZW50VXNlcj8uaWQgfHwgIXdvcmtvdXRJZCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlVzZXIgbm90IGF1dGhlbnRpY2F0ZWQuXCIpO1xuICB9XG4gIGNvbnN0IHVzZXJJZCA9IHVzZXJTZXJ2aWNlLmN1cnJlbnRVc2VyLmlkO1xuICBjb25zdCB3b3Jrb3V0UmVmID0gZG9jKGRiLCBcInVzZXJzXCIsIHVzZXJJZCwgXCJ3b3Jrb3V0U2Vzc2lvbnNcIiwgd29ya291dElkKTtcbiAgXG4gIHRyeSB7XG4gICAgLy8gRGVsZXRlIGFsbCBsb2dzIGluIHRoZSBzdWJjb2xsZWN0aW9uXG4gICAgY29uc3QgbG9nc1JlZiA9IGNvbGxlY3Rpb24od29ya291dFJlZiwgXCJsb2dzXCIpO1xuICAgIGNvbnN0IGxvZ3NTbmFwc2hvdCA9IGF3YWl0IGdldERvY3MobG9nc1JlZik7XG4gICAgY29uc3QgYmF0Y2ggPSB3cml0ZUJhdGNoKGRiKTtcbiAgICBcbiAgICBsb2dzU25hcHNob3QuZG9jcy5mb3JFYWNoKChsb2dEb2MpID0+IHtcbiAgICAgIGJhdGNoLmRlbGV0ZShsb2dEb2MucmVmKTtcbiAgICB9KTtcbiAgICBcbiAgICAvLyBEZWxldGUgdGhlIG1haW4gd29ya291dCBkb2N1bWVudFxuICAgIGJhdGNoLmRlbGV0ZSh3b3Jrb3V0UmVmKTtcbiAgICBcbiAgICBhd2FpdCBiYXRjaC5jb21taXQoKTtcbiAgICBjb25zb2xlLmxvZyhcIldvcmtvdXQgc2Vzc2lvbiBhbmQgbG9ncyBkZWxldGVkIHN1Y2Nlc3NmdWxseS5cIik7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGRlbGV0aW5nIHdvcmtvdXQgc2Vzc2lvbjpcIiwgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbiAgLy8gRGVsZXRlcyB0aGUgd29ya291dCBzdW1tYXJ5IGRvY3VtZW50LlxuICBhc3luYyBkZWxldGVXb3Jrb3V0U3VtbWFyeSh3b3Jrb3V0U3VtbWFyeUlkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoIXdvcmtvdXRTdW1tYXJ5SWQgfHwgIXVzZXJTZXJ2aWNlLmN1cnJlbnRVc2VyPy5pZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc3VtbWFyeVJlZiA9IGRvYyhkYiwgXCJ1c2Vyc1wiLCB1c2VyU2VydmljZS5jdXJyZW50VXNlci5pZCwgXCJ3b3Jrb3V0U3VtbWFyeVwiLCB3b3Jrb3V0U3VtbWFyeUlkKTtcbiAgICAgIGF3YWl0IGRlbGV0ZURvYyhzdW1tYXJ5UmVmKTtcbiAgICAgIGNvbnNvbGUubG9nKFwiV29ya291dCBzdW1tYXJ5IGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5LlwiKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGRlbGV0aW5nIHdvcmtvdXQgc3VtbWFyeTpcIiwgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLy8gQ2xlYW4gdXAgbG9jYWwgc3RvcmFnZSBhbmQgaW4tbWVtb3J5IHdvcmtvdXQgc3RhdGUuXG4gICAgY2xlYW5VcFdvcmtvdXRJblByb2dyZXNzKCk6IHZvaWQge1xuICAgICAgc3RvcmUuZGlzcGF0Y2gocmVzZXRXb3Jrb3V0U3RhdGUoKSk7XG4gICAgfVxuICAgICAgXG4gIFxuICAvKipcbiAgICogRmV0Y2ggdGhlIHdvcmtvdXQgc2Vzc2lvbiBmcm9tIEZpcmVzdG9yZSwgcmV0dXJuaW5nIHsgd29ya291dCwgbG9ncyB9LlxuICAgKiBDaGVja3MgZmlyc3QgZm9yIGEgUXVldWVkVXAgc2Vzc2lvbiwgdGhlbiBmb3IgSW5Qcm9ncmVzcy5cbiAgICovXG4gIGFzeW5jIGZldGNoQ3VycmVudFdvcmtvdXRTZXNzaW9uKHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTx7XG4gICAgd29ya291dDogV29ya291dCB8IG51bGw7XG4gICAgbG9nczogRXhlcmNpc2VMb2dbXSB8IG51bGw7XG4gICB9PiB7XG4gICAgaWYgKCF1c2VySWQpIHRocm93IG5ldyBFcnJvcignTm8gdXNlciBJRCBwcm92aWRlZCcpO1xuICAgXG4gICAgY29uc3QgZXhlcmNpc2VTbmFwc2hvdCA9IGF3YWl0IGdldERvY3MoY29sbGVjdGlvbihkYiwgJ2V4ZXJjaXNlcycpKTtcbiAgICBjb25zdCB2aWRlb1NuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhjb2xsZWN0aW9uKGRiLCAnZXhlcmNpc2VWaWRlb3MnKSk7XG4gICBcbiAgICBjb25zdCBleGVyY2lzZVZpZGVvcyA9IHZpZGVvU25hcHNob3QuZG9jcy5tYXAoKGRvYykgPT4gXG4gICAgICBuZXcgRXhlcmNpc2VWaWRlbyh7XG4gICAgICAgIGlkOiBkb2MuaWQsXG4gICAgICAgIC4uLmRvYy5kYXRhKClcbiAgICAgIH0pXG4gICAgKTtcbiAgIFxuICAgIGNvbnN0IGV4ZXJjaXNlc1dpdGhWaWRlb3MgPSBleGVyY2lzZVNuYXBzaG90LmRvY3MubWFwKGRvYyA9PiB7XG4gICAgICBjb25zdCBleGVyY2lzZSA9IG5ldyBFeGVyY2lzZSh7XG4gICAgICAgIGlkOiBkb2MuaWQsXG4gICAgICAgIC4uLmRvYy5kYXRhKClcbiAgICAgIH0pO1xuICAgXG4gICAgICBjb25zdCBtYXRjaGluZ1ZpZGVvcyA9IGV4ZXJjaXNlVmlkZW9zLmZpbHRlcihcbiAgICAgICAgKHZpZGVvKSA9PiB2aWRlby5leGVyY2lzZS50b0xvd2VyQ2FzZSgpID09PSBleGVyY2lzZS5uYW1lLnRvTG93ZXJDYXNlKClcbiAgICAgICk7XG4gICBcbiAgICAgIHJldHVybiBuZXcgRXhlcmNpc2Uoe1xuICAgICAgICAuLi5leGVyY2lzZSxcbiAgICAgICAgdmlkZW9zOiBtYXRjaGluZ1ZpZGVvc1xuICAgICAgfSk7XG4gICAgfSk7XG4gICBcbiAgICBjb25zdCB3b3Jrb3V0U2Vzc2lvbnNSZWYgPSBjb2xsZWN0aW9uKGRiLCAndXNlcnMnLCB1c2VySWQsICd3b3Jrb3V0U2Vzc2lvbnMnKTtcbiAgIFxuICAgIGxldCBxID0gcXVlcnkod29ya291dFNlc3Npb25zUmVmLCB3aGVyZSgnc3RhdHVzJywgJz09JywgV29ya291dFN0YXR1cy5RdWV1ZWRVcCkpO1xuICAgIGxldCBzbmFwID0gYXdhaXQgZ2V0RG9jcyhxKTtcbiAgIFxuICAgIGlmICghc25hcC5lbXB0eSkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvY2Vzc1dvcmtvdXRTZXNzaW9uRG9jdW1lbnQoc25hcC5kb2NzWzBdLCBleGVyY2lzZXNXaXRoVmlkZW9zKTtcbiAgICB9XG4gICBcbiAgICBxID0gcXVlcnkod29ya291dFNlc3Npb25zUmVmLCB3aGVyZSgnc3RhdHVzJywgJz09JywgV29ya291dFN0YXR1cy5JblByb2dyZXNzKSk7XG4gICAgc25hcCA9IGF3YWl0IGdldERvY3MocSk7XG4gICBcbiAgICBpZiAoIXNuYXAuZW1wdHkpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb2Nlc3NXb3Jrb3V0U2Vzc2lvbkRvY3VtZW50KHNuYXAuZG9jc1swXSwgZXhlcmNpc2VzV2l0aFZpZGVvcyk7XG4gICAgfVxuICAgXG4gICAgcmV0dXJuIHsgd29ya291dDogbnVsbCwgbG9nczogbnVsbCB9O1xuICAgfVxuXG4gIHByaXZhdGUgYXN5bmMgZmV0Y2hBbmRNYXBFeGVyY2lzZXNXaXRoVmlkZW9zKCk6IFByb21pc2U8RXhlcmNpc2VbXT4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBjb25zb2xlLmxvZygnU3RhcnRpbmcgZmV0Y2hBbmRNYXBFeGVyY2lzZXNXaXRoVmlkZW9zJyk7XG4gIFxuICAgICAgLy8gMS4gRmV0Y2ggYWxsIGV4ZXJjaXNlcyBcbiAgICAgIGNvbnN0IGV4ZXJjaXNlU25hcHNob3QgPSBhd2FpdCBnZXREb2NzKGNvbGxlY3Rpb24oZGIsICdleGVyY2lzZXMnKSk7XG4gICAgICBjb25zdCBleGVyY2lzZXMgPSBleGVyY2lzZVNuYXBzaG90LmRvY3MubWFwKChkb2MpID0+IFxuICAgICAgICBuZXcgRXhlcmNpc2Uoe1xuICAgICAgICAgIGlkOiBkb2MuaWQsXG4gICAgICAgICAgLi4uZG9jLmRhdGEoKVxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKGBGZXRjaGVkICR7ZXhlcmNpc2VzLmxlbmd0aH0gZXhlcmNpc2VzYCk7XG4gIFxuICAgICAgLy8gMi4gRmV0Y2ggYWxsIHZpZGVvc1xuICAgICAgY29uc3QgdmlkZW9TbmFwc2hvdCA9IGF3YWl0IGdldERvY3MoY29sbGVjdGlvbihkYiwgJ2V4ZXJjaXNlVmlkZW9zJykpO1xuICAgICAgY29uc3QgZXhlcmNpc2VWaWRlb3MgPSB2aWRlb1NuYXBzaG90LmRvY3MubWFwKChkb2MpID0+IFxuICAgICAgICBuZXcgRXhlcmNpc2VWaWRlbyh7XG4gICAgICAgICAgaWQ6IGRvYy5pZCxcbiAgICAgICAgICAuLi5kb2MuZGF0YSgpXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgICAgLy8gY29uc29sZS5sb2coYEZldGNoZWQgJHtleGVyY2lzZVZpZGVvcy5sZW5ndGh9IGV4ZXJjaXNlIHZpZGVvc2ApO1xuICBcbiAgICAgIC8vIDMuIE1hcCB2aWRlb3MgdG8gZXhlcmNpc2VzXG4gICAgICBjb25zdCBleGVyY2lzZXNXaXRoVmlkZW9zID0gZXhlcmNpc2VzLm1hcChleGVyY2lzZSA9PiB7XG4gICAgICAgIGNvbnN0IG1hdGNoaW5nVmlkZW9zID0gZXhlcmNpc2VWaWRlb3MuZmlsdGVyKFxuICAgICAgICAgICh2aWRlbykgPT4gdmlkZW8uZXhlcmNpc2UudG9Mb3dlckNhc2UoKSA9PT0gZXhlcmNpc2UubmFtZS50b0xvd2VyQ2FzZSgpXG4gICAgICAgICk7XG4gICAgICAgXG4gICAgICAgIHJldHVybiBuZXcgRXhlcmNpc2Uoe1xuICAgICAgICAgIC4uLmV4ZXJjaXNlLFxuICAgICAgICAgIHZpZGVvczogbWF0Y2hpbmdWaWRlb3NcbiAgICAgICAgfSk7XG4gICAgICAgfSk7XG4gIFxuICAgICAgLy8gY29uc29sZS5sb2coJ0ZpbmlzaGVkIG1hcHBpbmcgZXhlcmNpc2VzIHdpdGggdmlkZW9zJyk7XG4gICAgICAvLyBjb25zb2xlLmxvZyhgVG90YWwgZXhlcmNpc2VzIHdpdGggdmlkZW9zOiAke2V4ZXJjaXNlc1dpdGhWaWRlb3MubGVuZ3RofWApO1xuICAgICAgICBcbiAgICAgIHJldHVybiBleGVyY2lzZXNXaXRoVmlkZW9zO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBhbmQgbWFwcGluZyBleGVyY2lzZXMgd2l0aCB2aWRlb3M6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEhlbHBlciB0byBidWlsZCB0aGUgV29ya291dCBvYmplY3QgKyBhbnkgbG9ncyBmcm9tIHRoZSBzbmFwc2hvdC5cbiAgICovXG4gIGFzeW5jIGZldGNoQWxsV29ya291dFNlc3Npb25zKHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTx7XG4gICAgd29ya291dDogV29ya291dCB8IG51bGw7XG4gICAgbG9nczogRXhlcmNpc2VMb2dbXSB8IG51bGw7XG4gICB9W10+IHtcbiAgICBpZiAoIXVzZXJJZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyB1c2VyIElEIHByb3ZpZGVkJyk7XG4gICAgfVxuICAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGV4ZXJjaXNlU25hcHNob3QgPSBhd2FpdCBnZXREb2NzKGNvbGxlY3Rpb24oZGIsICdleGVyY2lzZXMnKSk7XG4gICAgICBjb25zdCBleGVyY2lzZXMgPSBleGVyY2lzZVNuYXBzaG90LmRvY3MubWFwKChkb2MpID0+IFxuICAgICAgICBuZXcgRXhlcmNpc2Uoe1xuICAgICAgICAgIGlkOiBkb2MuaWQsXG4gICAgICAgICAgLi4uZG9jLmRhdGEoKVxuICAgICAgICB9KVxuICAgICAgKTtcbiAgXG4gICAgICBjb25zdCB2aWRlb1NuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhjb2xsZWN0aW9uKGRiLCAnZXhlcmNpc2VWaWRlb3MnKSk7XG4gICAgICBjb25zdCBleGVyY2lzZVZpZGVvcyA9IHZpZGVvU25hcHNob3QuZG9jcy5tYXAoKGRvYykgPT4gXG4gICAgICAgIG5ldyBFeGVyY2lzZVZpZGVvKHtcbiAgICAgICAgICBpZDogZG9jLmlkLFxuICAgICAgICAgIC4uLmRvYy5kYXRhKClcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICBcbiAgICAgIGNvbnN0IGV4ZXJjaXNlc1dpdGhWaWRlb3MgPSBleGVyY2lzZXMubWFwKGV4ZXJjaXNlID0+IHtcbiAgICAgICAgY29uc3QgbWF0Y2hpbmdWaWRlb3MgPSBleGVyY2lzZVZpZGVvcy5maWx0ZXIoXG4gICAgICAgICAgKHZpZGVvKSA9PiB2aWRlby5leGVyY2lzZS50b0xvd2VyQ2FzZSgpID09PSBleGVyY2lzZS5uYW1lLnRvTG93ZXJDYXNlKClcbiAgICAgICAgKTtcbiAgIFxuICAgICAgICByZXR1cm4gbmV3IEV4ZXJjaXNlKHtcbiAgICAgICAgICAuLi5leGVyY2lzZSxcbiAgICAgICAgICB2aWRlb3M6IG1hdGNoaW5nVmlkZW9zXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICBcbiAgICAgIGNvbnN0IHdvcmtvdXRTZXNzaW9uc1JlZiA9IGNvbGxlY3Rpb24oZGIsICd1c2VycycsIHVzZXJJZCwgJ3dvcmtvdXRTZXNzaW9ucycpO1xuICAgICAgY29uc3Qgc25hcCA9IGF3YWl0IGdldERvY3Mod29ya291dFNlc3Npb25zUmVmKTtcbiAgIFxuICAgICAgaWYgKHNuYXAuZW1wdHkpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ05vIHdvcmtvdXQgc2Vzc2lvbnMgZm91bmQgZm9yIHVzZXInKTtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgXG4gICAgICBjb25zdCBzZXNzaW9ucyA9IGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICBzbmFwLmRvY3MubWFwKGFzeW5jIChkb2MpID0+IHtcbiAgICAgICAgICBjb25zdCBzZXNzaW9uRGF0YSA9IGF3YWl0IHRoaXMucHJvY2Vzc1dvcmtvdXRTZXNzaW9uRG9jdW1lbnQoXG4gICAgICAgICAgICBkb2MsIFxuICAgICAgICAgICAgZXhlcmNpc2VzV2l0aFZpZGVvc1xuICAgICAgICAgICk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKHNlc3Npb25EYXRhLmxvZ3MpIHtcbiAgICAgICAgICAgIHNlc3Npb25EYXRhLmxvZ3Muc29ydCgoYSwgYikgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBvcmRlckEgPSBhLm9yZGVyID8/IDA7XG4gICAgICAgICAgICAgIGNvbnN0IG9yZGVyQiA9IGIub3JkZXIgPz8gMDtcbiAgICAgICAgICAgICAgcmV0dXJuIG9yZGVyQSAtIG9yZGVyQjtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgIFxuICAgICAgICAgIHJldHVybiBzZXNzaW9uRGF0YTtcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICBcbiAgICAgIHJldHVybiBzZXNzaW9ucztcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgd29ya291dCBzZXNzaW9uczonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gICB9XG5cbiAgIC8vIEFkZCB0aGUgdXBkYXRlVXNlckNoYWxsZW5nZSBtZXRob2RcbiAgYXN5bmMgdXBkYXRlVXNlckNoYWxsZW5nZShjaGFsbGVuZ2U6IFVzZXJDaGFsbGVuZ2UpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoIXVzZXJTZXJ2aWNlLmN1cnJlbnRVc2VyPy5pZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHVzZXIgaXMgc2lnbmVkIGluJyk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgY2hhbGxlbmdlUmVmID0gZG9jKGRiLCAndXNlci1jaGFsbGVuZ2UnLCBjaGFsbGVuZ2UuaWQpO1xuICAgICAgICBjb25zdCBjaGFsbGVuZ2VEYXRhID0ge1xuICAgICAgICAgICAgLi4uY2hhbGxlbmdlLFxuICAgICAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpXG4gICAgICAgIH07XG5cbiAgICAgICAgYXdhaXQgc2V0RG9jKGNoYWxsZW5nZVJlZiwgY2hhbGxlbmdlRGF0YSwgeyBtZXJnZTogdHJ1ZSB9KTtcbiAgICAgICAgY29uc29sZS5sb2coJ1VzZXIgY2hhbGxlbmdlIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgdXNlciBjaGFsbGVuZ2U6JywgZXJyb3IpO1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICBhc3luYyB1cGRhdGVDb2xsZWN0aW9uKGNvbGxlY3Rpb246IFN3ZWF0bGlzdENvbGxlY3Rpb24pOiBQcm9taXNlPFN3ZWF0bGlzdENvbGxlY3Rpb24+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29sbFJlZiA9IGZzQ29sbGVjdGlvbihkYiwgXCJzd2VhdGxpc3QtY29sbGVjdGlvblwiKTtcbiAgXG4gICAgICAvLyBJZiBjb2xsZWN0aW9uLmlkIGlzIGVtcHR5LCBnZW5lcmF0ZSBhIG5ldyBkb2MgSUQgYW5kIGFzc2lnbiBpdC5cbiAgICAgIGlmICghY29sbGVjdGlvbi5pZCB8fCBjb2xsZWN0aW9uLmlkLnRyaW0oKSA9PT0gXCJcIikge1xuICAgICAgICBjb25zdCBuZXdEb2NSZWYgPSBkb2MoY29sbFJlZik7XG4gICAgICAgIGNvbGxlY3Rpb24uaWQgPSBuZXdEb2NSZWYuaWQ7XG4gICAgICB9XG4gIFxuICAgICAgLy8gRW5zdXJlIHRoZSBjaGFsbGVuZ2UgaWQgbWF0Y2hlcyB0aGUgY29sbGVjdGlvbiBpZC5cbiAgICAgIGlmIChjb2xsZWN0aW9uLmNoYWxsZW5nZSkge1xuICAgICAgICBjb2xsZWN0aW9uLmNoYWxsZW5nZS5pZCA9IGNvbGxlY3Rpb24uaWQ7XG4gICAgICB9XG4gIFxuICAgICAgLy8gVXBkYXRlIHRoZSB1cGRhdGVkQXQgZmllbGQuXG4gICAgICBjb2xsZWN0aW9uLnVwZGF0ZWRBdCA9IG5ldyBEYXRlKCk7XG4gIFxuICAgICAgLy8gU2F2ZSB0aGUgY29sbGVjdGlvbiB0byBGaXJlc3RvcmUuXG4gICAgICBhd2FpdCBzZXREb2MoZG9jKGNvbGxSZWYsIGNvbGxlY3Rpb24uaWQpLCBjb2xsZWN0aW9uLnRvRGljdGlvbmFyeSgpKTtcbiAgICAgIGNvbnNvbGUubG9nKFwiQ29sbGVjdGlvbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseVwiKTtcbiAgICAgIHJldHVybiBjb2xsZWN0aW9uO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgdXBkYXRpbmcgY29sbGVjdGlvbiBkb2N1bWVudDpcIiwgZXJyb3IpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXJyb3Igd2hpbGUgdXBkYXRpbmcgdGhlIGNvbGxlY3Rpb25cIik7XG4gICAgfVxuICB9XG4gIFxuICBwcml2YXRlIGFzeW5jIHByb2Nlc3NXb3Jrb3V0U2Vzc2lvbkRvY3VtZW50KFxuICAgIHdvcmtvdXREb2M6IFF1ZXJ5RG9jdW1lbnRTbmFwc2hvdDxEb2N1bWVudERhdGE+LFxuICAgIGV4ZXJjaXNlc1dpdGhWaWRlb3M6IEV4ZXJjaXNlW11cbiAgKTogUHJvbWlzZTx7IHdvcmtvdXQ6IFdvcmtvdXQ7IGxvZ3M6IEV4ZXJjaXNlTG9nW10gfT4ge1xuICAgIGNvbnN0IGRhdGEgPSB3b3Jrb3V0RG9jLmRhdGEoKTtcbiAgXG5cbiAgICAvLyBNYXAgZXhlcmNpc2VzIHdpdGggdGhlaXIgZnVsbCBkYXRhIGFuZCB2aWRlb3NcbiAgICBjb25zdCBtYXBwZWRFeGVyY2lzZXMgPSAoZGF0YS5leGVyY2lzZXMgfHwgW10pLm1hcCgoZXhlcmNpc2VSZWY6IGFueSkgPT4ge1xuICAgICAgLy8gRmluZCB0aGUgZnVsbCBleGVyY2lzZSB3aXRoIHZpZGVvc1xuICAgICAgY29uc3QgZXhlcmNpc2VOYW1lTG93ZXIgPSBleGVyY2lzZVJlZi5leGVyY2lzZT8ubmFtZT8udG9Mb3dlckNhc2UoKS50cmltKCk7XG4gICAgICBjb25zdCBmdWxsRXhlcmNpc2UgPSBleGVyY2lzZXNXaXRoVmlkZW9zLmZpbmQoXG4gICAgICAgIGV4ID0+IGV4Lm5hbWUudG9Mb3dlckNhc2UoKS50cmltKCkgPT09IGV4ZXJjaXNlTmFtZUxvd2VyXG4gICAgICApO1xuICBcbiAgICAgIC8vIElmIGZ1bGwgZXhlcmNpc2UgZm91bmQsIHJldHVybiBpdCwgb3RoZXJ3aXNlIHVzZSB0aGUgb3JpZ2luYWxcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLmV4ZXJjaXNlUmVmLFxuICAgICAgICBleGVyY2lzZTogZnVsbEV4ZXJjaXNlIHx8IGV4ZXJjaXNlUmVmLmV4ZXJjaXNlXG4gICAgICB9O1xuICAgIH0pO1xuICBcbiAgICAvLyBDcmVhdGUgdGhlIHdvcmtvdXQgd2l0aCBtYXBwZWQgZXhlcmNpc2VzXG4gICAgY29uc3Qgd29ya291dCA9IG5ldyBXb3Jrb3V0KHtcbiAgICAgIGlkOiB3b3Jrb3V0RG9jLmlkLFxuICAgICAgcm91bmRXb3Jrb3V0SWQ6IGRhdGEucm91bmRXb3Jrb3V0SWQgfHwgJycsXG4gICAgICBleGVyY2lzZXM6IG1hcHBlZEV4ZXJjaXNlcyxcbiAgICAgIHRpdGxlOiBkYXRhLnRpdGxlIHx8ICcnLFxuICAgICAgZGVzY3JpcHRpb246IGRhdGEuZGVzY3JpcHRpb24gfHwgJycsXG4gICAgICBkdXJhdGlvbjogZGF0YS5kdXJhdGlvbiB8fCAwLFxuICAgICAgdXNlQXV0aG9yQ29udGVudDogZGF0YS51c2VBdXRob3JDb250ZW50IHx8IGZhbHNlLFxuICAgICAgaXNDb21wbGV0ZWQ6IGRhdGEuaXNDb21wbGV0ZWQgfHwgZmFsc2UsXG4gICAgICB3b3Jrb3V0U3RhdHVzOiBkYXRhLndvcmtvdXRTdGF0dXMgfHwgV29ya291dFN0YXR1cy5BcmNoaXZlZCxcbiAgICAgIGF1dGhvcjogZGF0YS5hdXRob3IgfHwgJycsXG4gICAgICBjcmVhdGVkQXQ6IGNvbnZlcnRGaXJlc3RvcmVUaW1lc3RhbXAoZGF0YS5jcmVhdGVkQXQpLFxuICAgICAgdXBkYXRlZEF0OiBjb252ZXJ0RmlyZXN0b3JlVGltZXN0YW1wKGRhdGEudXBkYXRlZEF0KSxcbiAgICAgIHN0YXJ0VGltZTogY29udmVydEZpcmVzdG9yZVRpbWVzdGFtcChkYXRhLnN0YXJ0VGltZSksXG4gICAgICBjb2xsZWN0aW9uSWQ6IGRhdGEuY29sbGVjdGlvbklkLFxuICAgICAgY2hhbGxlbmdlOiBkYXRhLmNoYWxsZW5nZSxcbiAgICAgIGxvZ3M6IChkYXRhLmxvZ3MgfHwgW10pLm1hcCgobG9nRGF0YTogYW55KSA9PiB7XG4gICAgICAgIC8vIE1hcCBsb2dzIHdpdGggZnVsbCBleGVyY2lzZXNcbiAgICAgICAgY29uc3QgZXhlcmNpc2VOYW1lTG93ZXIgPSBsb2dEYXRhLmV4ZXJjaXNlPy5uYW1lPy50b0xvd2VyQ2FzZSgpLnRyaW0oKTtcbiAgICAgICAgY29uc3QgZnVsbEV4ZXJjaXNlID0gZXhlcmNpc2VzV2l0aFZpZGVvcy5maW5kKFxuICAgICAgICAgIGV4ID0+IGV4Lm5hbWUudG9Mb3dlckNhc2UoKS50cmltKCkgPT09IGV4ZXJjaXNlTmFtZUxvd2VyXG4gICAgICAgICk7XG4gIFxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLmxvZ0RhdGEsXG4gICAgICAgICAgZXhlcmNpc2U6IGZ1bGxFeGVyY2lzZSB8fCBsb2dEYXRhLmV4ZXJjaXNlXG4gICAgICAgIH07XG4gICAgICB9KSxcbiAgICAgIHdvcmtvdXRSYXRpbmc6IGRhdGEud29ya291dFJhdGluZyxcbiAgICAgIG9yZGVyOiBkYXRhLm9yZGVyLFxuICAgICAgem9uZTogZGF0YS56b25lIHx8IEJvZHlab25lLkZ1bGxCb2R5XG4gICAgfSk7XG4gIFxuICAgIC8vIEZldGNoIGxvZ3MgZnJvbSBzdWJjb2xsZWN0aW9uXG4gICAgY29uc3QgbG9nc1JlZiA9IGNvbGxlY3Rpb24od29ya291dERvYy5yZWYsICdsb2dzJyk7XG4gICAgY29uc3QgbG9nc1NuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhsb2dzUmVmKTtcbiAgICBcbiAgICBjb25zdCBsb2dzOiBFeGVyY2lzZUxvZ1tdID0gbG9nc1NuYXBzaG90LmRvY3MubWFwKGxvZ0RvYyA9PiB7XG4gICAgICBjb25zdCBsb2dEYXRhID0gbG9nRG9jLmRhdGEoKTtcbiAgICAgIFxuICAgICAgLy8gRmluZCB0aGUgZnVsbCBleGVyY2lzZSB3aXRoIHZpZGVvc1xuICAgICAgY29uc3QgZXhlcmNpc2VOYW1lTG93ZXIgPSBsb2dEYXRhLmV4ZXJjaXNlPy5uYW1lPy50b0xvd2VyQ2FzZSgpLnRyaW0oKTtcbiAgICAgIGNvbnN0IGZ1bGxFeGVyY2lzZSA9IGV4ZXJjaXNlc1dpdGhWaWRlb3MuZmluZChcbiAgICAgICAgZXggPT4gZXgubmFtZS50b0xvd2VyQ2FzZSgpLnRyaW0oKSA9PT0gZXhlcmNpc2VOYW1lTG93ZXJcbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IHVwZGF0ZWRFeGVyY2lzZSA9IGZ1bGxFeGVyY2lzZVxuICAgICAgPyB7XG4gICAgICAgICAgLi4uZnVsbEV4ZXJjaXNlLFxuICAgICAgICAgIGNhdGVnb3J5OiBsb2dEYXRhLmV4ZXJjaXNlLmNhdGVnb3J5LFxuICAgICAgICB9XG4gICAgICA6IGxvZ0RhdGEuZXhlcmNpc2U7XG4gIFxuICAgICAgLy8gUHJlcGFyZSBsb2cgZGF0YSB3aXRoIGZ1bGwgZXhlcmNpc2VcbiAgICAgIGNvbnN0IHByZXBhcmVkTG9nRGF0YSA9IHtcbiAgICAgICAgLi4ubG9nRGF0YSxcbiAgICAgICAgaWQ6IGxvZ0RvYy5pZCxcbiAgICAgICAgd29ya291dElkOiB3b3Jrb3V0LmlkLFxuICAgICAgICBleGVyY2lzZTogdXBkYXRlZEV4ZXJjaXNlLFxuICAgICAgICBjcmVhdGVkQXQ6IGNvbnZlcnRGaXJlc3RvcmVUaW1lc3RhbXAobG9nRGF0YS5jcmVhdGVkQXQpLFxuICAgICAgICB1cGRhdGVkQXQ6IGNvbnZlcnRGaXJlc3RvcmVUaW1lc3RhbXAobG9nRGF0YS51cGRhdGVkQXQpXG4gICAgICB9O1xuICBcbiAgICAgIC8vIFVzZSB0aGUgRXhlcmNpc2VMb2cgY29uc3RydWN0b3IgdG8gZW5zdXJlIHByb3BlciBtYXBwaW5nXG4gICAgICByZXR1cm4gbmV3IEV4ZXJjaXNlTG9nKHByZXBhcmVkTG9nRGF0YSk7XG4gICAgfSk7XG4gIFxuICAgIHJldHVybiB7IHdvcmtvdXQsIGxvZ3MgfTtcbiAgfVxuXG4gIGFzeW5jIHNhdmVXb3Jrb3V0U2Vzc2lvbih7XG4gICAgdXNlcklkLFxuICAgIHdvcmtvdXQsXG4gICAgbG9nc1xuICB9OiB7XG4gICAgdXNlcklkOiBzdHJpbmcsXG4gICAgd29ya291dDogV29ya291dCxcbiAgICBsb2dzOiBFeGVyY2lzZUxvZ1tdXG4gIH0pOiBQcm9taXNlPFdvcmtvdXQgfCBudWxsPiB7XG4gICAgaWYgKCF1c2VySWQpIHRocm93IG5ldyBFcnJvcignTm8gdXNlciBJRCBwcm92aWRlZCcpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKCdJbmNvbWluZyBsb2dzOicsIGxvZ3MubWFwKGxvZyA9PiAoe1xuICAgICAgICBuYW1lOiBsb2cuZXhlcmNpc2UubmFtZSxcbiAgICAgICAgY2F0ZWdvcnk6IGxvZy5leGVyY2lzZS5jYXRlZ29yeSxcbiAgICAgICAgb3JpZ2luYWxUeXBlOiBsb2cuZXhlcmNpc2UuY2F0ZWdvcnk/LnR5cGVcbiAgICAgIH0pKSk7XG5cbiAgICAgIGNvbnN0IGN1cnJlbnREYXRlID0gbmV3IERhdGUoKTtcbiAgICAgIFxuICAgICAgY29uc3QgY2xlYW5Xb3Jrb3V0ID0gbmV3IFdvcmtvdXQoe1xuICAgICAgICAuLi53b3Jrb3V0LFxuICAgICAgICByb3VuZFdvcmtvdXRJZDogYCR7d29ya291dC5pZH0tJHtjdXJyZW50RGF0ZS5nZXRUaW1lKCl9YCxcbiAgICAgICAgd29ya291dFN0YXR1czogV29ya291dFN0YXR1cy5RdWV1ZWRVcCxcbiAgICAgICAgY3JlYXRlZEF0OiBjdXJyZW50RGF0ZSxcbiAgICAgICAgdXBkYXRlZEF0OiBjdXJyZW50RGF0ZSxcbiAgICAgICAgc3RhcnRUaW1lOiBjdXJyZW50RGF0ZSxcbiAgICAgICAgbG9nczogW11cbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCB3b3Jrb3V0U2Vzc2lvblJlZiA9IGRvYyhjb2xsZWN0aW9uKGRiLCAndXNlcnMnLCB1c2VySWQsICd3b3Jrb3V0U2Vzc2lvbnMnKSk7XG4gICAgICBhd2FpdCBzZXREb2Mod29ya291dFNlc3Npb25SZWYsIGNsZWFuV29ya291dC50b0RpY3Rpb25hcnkoKSk7XG5cbiAgICAgIGNvbnN0IGxvZ3NSZWYgPSBjb2xsZWN0aW9uKHdvcmtvdXRTZXNzaW9uUmVmLCAnbG9ncycpO1xuICAgICAgY29uc3QgbG9nQmF0Y2ggPSB3cml0ZUJhdGNoKGRiKTtcblxuICAgICAgbG9ncy5mb3JFYWNoKChsb2csIGluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IGxvZ0RvY1JlZiA9IGRvYyhsb2dzUmVmLCBgJHtsb2cuaWR9LSR7Y3VycmVudERhdGUuZ2V0VGltZSgpfWApO1xuICAgICAgICBcbiAgICAgICAgY29uc29sZS5sb2coYFByb2Nlc3NpbmcgbG9nICR7aW5kZXh9OmAsIHtcbiAgICAgICAgICBuYW1lOiBsb2cuZXhlcmNpc2UubmFtZSxcbiAgICAgICAgICBvcmlnaW5hbENhdGVnb3J5OiBsb2cuZXhlcmNpc2UuY2F0ZWdvcnksXG4gICAgICAgICAgb3JpZ2luYWxUeXBlOiBsb2cuZXhlcmNpc2UuY2F0ZWdvcnk/LnR5cGVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gUHJlc2VydmUgdGhlIGNhdGVnb3J5IHN0cnVjdHVyZVxuICAgICAgICBjb25zdCBleGVyY2lzZVdpdGhDYXRlZ29yeSA9IHtcbiAgICAgICAgICAuLi5sb2cuZXhlcmNpc2UudG9EaWN0aW9uYXJ5KCksXG4gICAgICAgICAgY2F0ZWdvcnk6IGxvZy5leGVyY2lzZS5jYXRlZ29yeT8udHlwZSA9PT0gJ3dlaWdodC10cmFpbmluZycgXG4gICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnd2VpZ2h0LXRyYWluaW5nJyxcbiAgICAgICAgICAgICAgICBkZXRhaWxzOiB7XG4gICAgICAgICAgICAgICAgICBzZXRzOiBsb2cuZXhlcmNpc2UuY2F0ZWdvcnkuZGV0YWlscz8uc2V0cyB8fCAzLFxuICAgICAgICAgICAgICAgICAgcmVwczogbG9nLmV4ZXJjaXNlLmNhdGVnb3J5LmRldGFpbHM/LnJlcHMgfHwgWycxMiddLFxuICAgICAgICAgICAgICAgICAgd2VpZ2h0OiBsb2cuZXhlcmNpc2UuY2F0ZWdvcnkuZGV0YWlscz8ud2VpZ2h0IHx8IDAsXG4gICAgICAgICAgICAgICAgICBzY3JlZW5UaW1lOiBsb2cuZXhlcmNpc2UuY2F0ZWdvcnkuZGV0YWlscz8uc2NyZWVuVGltZSB8fCAwLFxuICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRWaWRlbzogbG9nLmV4ZXJjaXNlLmNhdGVnb3J5LmRldGFpbHM/LnNlbGVjdGVkVmlkZW8gfHwgbnVsbFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2NhcmRpbycsXG4gICAgICAgICAgICAgICAgZGV0YWlsczoge1xuICAgICAgICAgICAgICAgICAgZHVyYXRpb246IGxvZy5leGVyY2lzZS5jYXRlZ29yeT8uZGV0YWlscz8uZHVyYXRpb24gfHwgNjAsXG4gICAgICAgICAgICAgICAgICBicG06IGxvZy5leGVyY2lzZS5jYXRlZ29yeT8uZGV0YWlscz8uYnBtIHx8IDE0MCxcbiAgICAgICAgICAgICAgICAgIGNhbG9yaWVzOiBsb2cuZXhlcmNpc2UuY2F0ZWdvcnk/LmRldGFpbHM/LmNhbG9yaWVzIHx8IDAsXG4gICAgICAgICAgICAgICAgICBzY3JlZW5UaW1lOiBsb2cuZXhlcmNpc2UuY2F0ZWdvcnk/LmRldGFpbHM/LnNjcmVlblRpbWUgfHwgMCxcbiAgICAgICAgICAgICAgICAgIHNlbGVjdGVkVmlkZW86IGxvZy5leGVyY2lzZS5jYXRlZ29yeT8uZGV0YWlscz8uc2VsZWN0ZWRWaWRlbyB8fCBudWxsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc29sZS5sb2coYFNhdmluZyBleGVyY2lzZSB3aXRoIGNhdGVnb3J5OmAsIGV4ZXJjaXNlV2l0aENhdGVnb3J5LmNhdGVnb3J5KTtcblxuICAgICAgICBsb2dCYXRjaC5zZXQobG9nRG9jUmVmLCB7XG4gICAgICAgICAgaWQ6IGxvZ0RvY1JlZi5pZCxcbiAgICAgICAgICB3b3Jrb3V0SWQ6IHdvcmtvdXRTZXNzaW9uUmVmLmlkLFxuICAgICAgICAgIGV4ZXJjaXNlOiBleGVyY2lzZVdpdGhDYXRlZ29yeSxcbiAgICAgICAgICBvcmRlcjogaW5kZXgsXG4gICAgICAgICAgY3JlYXRlZEF0OiBjdXJyZW50RGF0ZS5nZXRUaW1lKCksXG4gICAgICAgICAgdXBkYXRlZEF0OiBjdXJyZW50RGF0ZS5nZXRUaW1lKCksXG4gICAgICAgICAgbG9nU3VibWl0dGVkOiBmYWxzZSxcbiAgICAgICAgICBpc0NvbXBsZXRlZDogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICB9KTsgXG5cbiAgICAgIGF3YWl0IGxvZ0JhdGNoLmNvbW1pdCgpO1xuICAgICAgXG4gICAgICByZXR1cm4gY2xlYW5Xb3Jrb3V0O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgd29ya291dCBzZXNzaW9uOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBFeGFtcGxlIFwiam9pbiBjaGFsbGVuZ2VcIiBtZXRob2QgdXNpbmcgdGhlIGNsaWVudCBTREsgKG5vIGFkbWluIHByaXZpbGVnZXMpLlxuICAgKiBUaGlzIGNyZWF0ZXMgYSBkb2MgaW4gYHVzZXItY2hhbGxlbmdlYCB3aXRoIHRoZSB1c2VySWQsIGNoYWxsZW5nZUlkLCBldGMuXG4gICAqL1xuICBhc3luYyBqb2luQ2hhbGxlbmdlKHtcbiAgICB1c2VybmFtZSxcbiAgICBjaGFsbGVuZ2VJZFxuICB9OiB7XG4gICAgdXNlcm5hbWU6IHN0cmluZztcbiAgICBjaGFsbGVuZ2VJZDogc3RyaW5nO1xuICB9KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgLy8gMSkgTWFrZSBzdXJlIHdlIGhhdmUgYSBzaWduZWQtaW4gdXNlclxuICAgIGNvbnN0IGN1cnJlbnRVc2VyID0gdXNlclNlcnZpY2UuY3VycmVudFVzZXI7XG4gICAgaWYgKCFjdXJyZW50VXNlcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyB1c2VyIGlzIHNpZ25lZCBpbicpO1xuICAgIH1cblxuICAgIC8vIDIpIEZpbmQgdGhlIHVzZXIgZG9jIGJ5IHVzZXJuYW1lXG4gICAgY29uc3QgdXNlcnNSZWYgPSBjb2xsZWN0aW9uKGRiLCAndXNlcnMnKTtcbiAgICBjb25zdCB1c2VyUXVlcnkgPSBxdWVyeSh1c2Vyc1JlZiwgd2hlcmUoJ3VzZXJuYW1lJywgJz09JywgdXNlcm5hbWUpKTtcbiAgICBjb25zdCB1c2VyU25hcHNob3QgPSBhd2FpdCBnZXREb2NzKHVzZXJRdWVyeSk7XG5cbiAgICBpZiAodXNlclNuYXBzaG90LmVtcHR5KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VzZXIgbm90IGZvdW5kJyk7XG4gICAgfVxuXG4gICAgY29uc3QgdXNlckRvYyA9IHVzZXJTbmFwc2hvdC5kb2NzWzBdO1xuICAgIGNvbnN0IHVzZXJEYXRhID0gdXNlckRvYy5kYXRhKCk7XG4gICAgY29uc3QgdXNlcklkID0gdXNlckRvYy5pZDtcblxuICAgIC8vIDMpIENoZWNrIGlmIHRoZSBjaGFsbGVuZ2UgZG9jIGV4aXN0c1xuICAgIGNvbnN0IGNoYWxsZW5nZVJlZiA9IGRvYyhkYiwgJ3N3ZWF0bGlzdC1jb2xsZWN0aW9uJywgY2hhbGxlbmdlSWQpO1xuICAgIGNvbnN0IGNoYWxsZW5nZVNuYXAgPSBhd2FpdCBnZXREb2MoY2hhbGxlbmdlUmVmKTtcblxuICAgIGlmICghY2hhbGxlbmdlU25hcC5leGlzdHMoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDaGFsbGVuZ2Ugbm90IGZvdW5kJyk7XG4gICAgfVxuXG4gICAgY29uc3QgY2hhbGxlbmdlID0gY2hhbGxlbmdlU25hcC5kYXRhKCk7XG5cbiAgICAvLyA0KSBCdWlsZCBuZXcgdXNlci1jaGFsbGVuZ2UgZG9jdW1lbnRcbiAgICBjb25zdCB1c2VyQ2hhbGxlbmdlSWQgPSBgJHtjaGFsbGVuZ2VJZH0tJHt1c2VySWR9LSR7RGF0ZS5ub3coKX1gO1xuICAgIGNvbnN0IHVzZXJDaGFsbGVuZ2VEYXRhID0ge1xuICAgICAgaWQ6IHVzZXJDaGFsbGVuZ2VJZCxcbiAgICAgIGNoYWxsZW5nZTogY2hhbGxlbmdlLFxuICAgICAgY2hhbGxlbmdlSWQsXG4gICAgICB1c2VySWQsXG4gICAgICBmY21Ub2tlbjogdXNlckRhdGEuZmNtVG9rZW4gfHwgJycsXG4gICAgICBwcm9maWxlSW1hZ2U6IHVzZXJEYXRhLnByb2ZpbGVJbWFnZSB8fCB7fSxcbiAgICAgIHByb2dyZXNzOiAwLFxuICAgICAgY29tcGxldGVkV29ya291dHM6IFtdLFxuICAgICAgaXNDb21wbGV0ZWQ6IGZhbHNlLFxuICAgICAgdWlkOiB1c2VySWQsXG4gICAgICBsb2NhdGlvbjogdXNlckRhdGEubG9jYXRpb24gfHwgbnVsbCxcbiAgICAgIGNpdHk6ICcnLFxuICAgICAgY291bnRyeTogJycsXG4gICAgICB0aW1lem9uZTogJycsXG4gICAgICB1c2VybmFtZSxcbiAgICAgIGpvaW5EYXRlOiBuZXcgRGF0ZSgpLFxuICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgcHVsc2VQb2ludHM6IHtcbiAgICAgICAgYmFzZUNvbXBsZXRpb246IDAsXG4gICAgICAgIGZpcnN0Q29tcGxldGlvbjogMCxcbiAgICAgICAgc3RyZWFrQm9udXM6IDAsXG4gICAgICAgIGNoZWNrSW5Cb251czogMCxcbiAgICAgICAgZWZmb3J0UmF0aW5nOiAwLFxuICAgICAgICBjaGF0UGFydGljaXBhdGlvbjogMCxcbiAgICAgICAgbG9jYXRpb25DaGVja2luOiAwLFxuICAgICAgICBjb250ZW50RW5nYWdlbWVudDogMCxcbiAgICAgICAgZW5jb3VyYWdlbWVudFNlbnQ6IDAsXG4gICAgICAgIGVuY291cmFnZW1lbnRSZWNlaXZlZDogMFxuICAgICAgfSxcbiAgICAgIGN1cnJlbnRTdHJlYWs6IDAsXG4gICAgICBlbmNvdXJhZ2VkVXNlcnM6IFtdLFxuICAgICAgZW5jb3VyYWdlZEJ5VXNlcnM6IFtdLFxuICAgICAgY2hlY2tJbnM6IFtdXG4gICAgfTtcblxuICAgIC8vIDUpIFN0b3JlIHVzZXItY2hhbGxlbmdlIGRvY1xuICAgIGF3YWl0IHNldERvYyhkb2MoZGIsICd1c2VyLWNoYWxsZW5nZScsIHVzZXJDaGFsbGVuZ2VJZCksIHVzZXJDaGFsbGVuZ2VEYXRhKTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3Qgd29ya291dFNlcnZpY2UgPSBuZXcgV29ya291dFNlcnZpY2UoKTsiXSwibmFtZXMiOlsiY29sbGVjdGlvbiIsImRvYyIsImdldERvY3MiLCJnZXREb2MiLCJ1cGRhdGVEb2MiLCJxdWVyeSIsIndoZXJlIiwib3JkZXJCeSIsImZzQ29sbGVjdGlvbiIsInNldERvYyIsImRlbGV0ZURvYyIsIndyaXRlQmF0Y2giLCJkYiIsInVzZXJTZXJ2aWNlIiwiRXhlcmNpc2VMb2ciLCJFeGVyY2lzZSIsIkV4ZXJjaXNlVmlkZW8iLCJleGVyY2lzZVNlcnZpY2UiLCJVc2VyIiwiV29ya291dCIsIldvcmtvdXRTdW1tYXJ5IiwiQm9keVpvbmUiLCJJbnRyb1ZpZGVvIiwiUmVwc0FuZFdlaWdodExvZyIsIldvcmtvdXRTdGF0dXMiLCJTd2VhdGxpc3RDb2xsZWN0aW9uIiwiZm9ybWF0IiwiY29udmVydFRpbWVzdGFtcCIsImNvbnZlcnRGaXJlc3RvcmVUaW1lc3RhbXAiLCJDaGFsbGVuZ2UiLCJVc2VyQ2hhbGxlbmdlIiwic3RvcmUiLCJzZXRDdXJyZW50V29ya291dCIsInNldEN1cnJlbnRFeGVyY2lzZUxvZ3MiLCJyZXNldFdvcmtvdXRTdGF0ZSIsInNldFdvcmtvdXRTdW1tYXJ5IiwiV29ya291dFNlcnZpY2UiLCJnZW5lcmF0ZUlkIiwiaWQiLCJmZXRjaFdvcmtvdXRTdW1tYXJ5IiwidXNlcklkIiwid29ya291dElkIiwic3VtbWFyeUlkIiwic3VtbWFyeVJlZiIsInN1bW1hcnlEb2MiLCJzdW1tYXJ5RGF0YSIsImVycm9yIiwiY29uc29sZSIsImxvZyIsImV4aXN0cyIsImRhdGEiLCJmb3JtYXRXb3Jrb3V0QW5kSW5pdGlhbGl6ZUxvZ3MiLCJleGVyY2lzZURldGFpbHMiLCJ3b3Jrb3V0QXV0aG9yIiwid29ya0lkIiwiZXhlcmNpc2VSZWZlcmVuY2VzIiwiZXhlcmNpc2VMb2dzIiwidmFsaWRFeGVyY2lzZURldGFpbHMiLCJuZXdXb3Jrb3V0IiwiZmlsdGVyIiwiZGV0YWlsIiwiZXhlcmNpc2UiLCJmb3JFYWNoIiwiaW5kZXgiLCJjYXRlZ29yeSIsInR5cGUiLCJkZXRhaWxzIiwic2V0cyIsInJlcHMiLCJ3ZWlnaHQiLCJzY3JlZW5UaW1lIiwic2VsZWN0ZWRWaWRlbyIsImR1cmF0aW9uIiwiYnBtIiwiY2Fsb3JpZXMiLCJleGVyY2lzZUluc3RhbmNlIiwid29ya291dFNlcnZpY2UiLCJuYW1lIiwiYXV0aG9yIiwiY3VycmVudFVzZXIiLCJ1c2VybmFtZSIsImRlc2NyaXB0aW9uIiwicHJpbWFyeUJvZHlQYXJ0cyIsInNlY29uZGFyeUJvZHlQYXJ0cyIsInRhZ3MiLCJ2aWRlb3MiLCJjcmVhdGVkQXQiLCJEYXRlIiwidXBkYXRlZEF0IiwiZXhlcmNpc2VSZWYiLCJncm91cElkIiwicHVzaCIsInNldHNMb2dzIiwiQXJyYXkiLCJmcm9tIiwibGVuZ3RoIiwicGFyc2VJbnQiLCJleGVyY2lzZUxvZ0lkIiwiZ2VuZXJhdGVFeGVyY2lzZUxvZ0lEIiwibG9ncyIsImZlZWRiYWNrIiwibm90ZSIsIm5vdGVzIiwiaXNTcGxpdCIsImxvZ1N1Ym1pdHRlZCIsImxvZ0lzRWRpdGluZyIsImlzQ29tcGxldGVkIiwib3JkZXIiLCJjb21wbGV0ZWRBdCIsInJvdW5kV29ya291dElkIiwiZXhlcmNpc2VzIiwidGl0bGUiLCJ3b3Jrb3V0UmF0aW5nIiwidXNlQXV0aG9yQ29udGVudCIsIndvcmtvdXRTdGF0dXMiLCJ6b25lIiwiZGV0ZXJtaW5lV29ya291dFpvbmUiLCJ3b3Jrb3V0IiwiZ2V0VXNlckJ5SWQiLCJ1c2VyRG9jIiwiRXJyb3IiLCJyZXZlcnRBdXRob3JGb3JtYXQiLCJhdXRob3JJZCIsIndvcmtvdXRSZWYiLCJ1cGRhdGVXb3Jrb3V0IiwiYmF0Y2giLCJsb2dzUmVmIiwidG9EaWN0aW9uYXJ5IiwibWVyZ2UiLCJsb2dSZWYiLCJzZXQiLCJjb21taXQiLCJmZXRjaEN1cnJlbnRXb3Jrb3V0Iiwic2Vzc2lvbiIsImZldGNoQ3VycmVudFdvcmtvdXRTZXNzaW9uIiwiZ2V0QWxsU3dlYXRsaXN0cyIsIndvcmtvdXRzUmVmIiwiZXhlcmNpc2VzV2l0aFZpZGVvcyIsIndvcmtvdXRzU25hcHNob3QiLCJ3b3Jrb3V0cyIsIndvcmtvdXREb2MiLCJ3b3Jrb3V0RGF0YSIsIm1hcHBlZEV4ZXJjaXNlcyIsImxvZ3NTbmFwc2hvdCIsImZpcmVzdG9yZUVycm9yIiwiZmV0Y2hBbmRNYXBFeGVyY2lzZXNXaXRoVmlkZW9zIiwiZG9jcyIsIm1hcCIsImZ1bGxFeGVyY2lzZSIsImZpbmQiLCJleCIsImNvbGxlY3Rpb25JZCIsImNoYWxsZW5nZSIsInN0YXJ0VGltZSIsInVuZGVmaW5lZCIsImxvZ0RvYyIsIm1lc3NhZ2UiLCJnZXRVc2VyQ2hhbGxlbmdlc0J5Q2hhbGxlbmdlSWQiLCJjaGFsbGVuZ2VJZCIsInVzZXJDaGFsbGVuZ2VzUmVmIiwicSIsInNuYXBzaG90IiwidXNlckNoYWxsZW5nZXMiLCJmZXRjaFdvcmtvdXRTdW1tYXJpZXMiLCJkYXRlIiwiZm9ybWF0dGVkRGF0ZSIsInN1bW1hcmllc1JlZiIsImZldGNoQWxsV29ya291dFN1bW1hcmllcyIsImZldGNoVXNlckNoYWxsZW5nZXNCeVVzZXJJZCIsInN1YnRpdGxlIiwicGFydGljaXBhbnRzIiwic3RhdHVzIiwic3RhcnREYXRlIiwiZW5kRGF0ZSIsImludHJvVmlkZW9zIiwidiIsInZpZGVvVXJsIiwiZmV0Y2hDb2xsZWN0aW9uV2l0aFN3ZWF0TGlzdHMiLCJzd2VhdExpc3RzIiwic3dlYXRsaXN0SWRlbnRpZmllciIsImdldENvbGxlY3Rpb25CeUlkIiwic3dlYXRsaXN0SWRzIiwiZmV0Y2hTYXZlZFdvcmtvdXQiLCJzd2VhdGxpc3RBdXRob3JJZCIsIndvcmtvdXRTbmFwIiwic2l6ZSIsImxvZ0RhdGEiLCJ1cGRhdGVkRXhlcmNpc2UiLCJleGVyY2lzZU5hbWUiLCJleGVyY2lzZUNhdGVnb3J5IiwiaXNBcnJheSIsInJlY29tbWVuZGVkV2VpZ2h0IiwiaXNCb2R5V2VpZ2h0IiwiZmV0Y2hVc2VyQ2hhbGxlbmdlc0J5Q2hhbGxlbmdlSWQiLCJkb2NSZWYiLCJkb2NTbmFwIiwiZ2V0Q29sbGVjdGlvbnNCeUlkcyIsImNvbGxlY3Rpb25JZHMiLCJjb2xsZWN0aW9ucyIsIlByb21pc2UiLCJhbGwiLCJmZXRjaENvbGxlY3Rpb25zIiwiY29sbGVjdGlvbnNSZWYiLCJxQXJyYXkiLCJzbmFwc2hvdEFycmF5IiwiY29sbGVjdGlvbnNGcm9tQXJyYXkiLCJxU3RyaW5nIiwic25hcHNob3RTdHJpbmciLCJjb2xsZWN0aW9uc0Zyb21TdHJpbmciLCJjb21iaW5lZCIsInVuaXF1ZUNvbGxlY3Rpb25zIiwiTWFwIiwidmFsdWVzIiwiZmV0Y2hBY3RpdmVDaGFsbGVuZ2VzIiwiYWxsQ2hhbGxlbmdlcyIsImFjdGl2ZUNoYWxsZW5nZXMiLCJ1c2VyQ2hhbGxlbmdlIiwiZmV0Y2hVc2VyQ2hhbGxlbmdlcyIsInVwZGF0ZVdvcmtvdXRTdW1tYXJ5Iiwic3VtbWFyeSIsImJvZHlQYXJ0cyIsIndvcmtvdXRUaXRsZSIsImNhbG9yaWVzQnVybmVkIiwiZXhlcmNpc2VzQ29tcGxldGVkIiwiYWlJbnNpZ2h0IiwicmVjb21tZW5kYXRpb25zIiwiZ2lmVVJMcyIsInJlY29tbWVuZGVkV29yayIsInVwZGF0ZVdvcmtvdXRMb2dzIiwibG9nRG9jUmVmIiwidXBkYXRlIiwiY2FuY2VsV29ya291dCIsIndvcmtvdXRTdW1tYXJ5IiwiZGVsZXRlV29ya291dFNlc3Npb24iLCJkZWxldGVXb3Jrb3V0U3VtbWFyeSIsImNsZWFuVXBXb3Jrb3V0SW5Qcm9ncmVzcyIsImRlbGV0ZSIsInJlZiIsIndvcmtvdXRTdW1tYXJ5SWQiLCJkaXNwYXRjaCIsImV4ZXJjaXNlU25hcHNob3QiLCJ2aWRlb1NuYXBzaG90IiwiZXhlcmNpc2VWaWRlb3MiLCJ3b3Jrb3V0U2Vzc2lvbnNSZWYiLCJzbmFwIiwibWF0Y2hpbmdWaWRlb3MiLCJ2aWRlbyIsInRvTG93ZXJDYXNlIiwiUXVldWVkVXAiLCJlbXB0eSIsInByb2Nlc3NXb3Jrb3V0U2Vzc2lvbkRvY3VtZW50IiwiSW5Qcm9ncmVzcyIsImZldGNoQWxsV29ya291dFNlc3Npb25zIiwic2Vzc2lvbnMiLCJzZXNzaW9uRGF0YSIsInNvcnQiLCJhIiwiYiIsIm9yZGVyQSIsIm9yZGVyQiIsInVwZGF0ZVVzZXJDaGFsbGVuZ2UiLCJjaGFsbGVuZ2VSZWYiLCJjaGFsbGVuZ2VEYXRhIiwidXBkYXRlQ29sbGVjdGlvbiIsImNvbGxSZWYiLCJuZXdEb2NSZWYiLCJ0cmltIiwiZXhlcmNpc2VOYW1lTG93ZXIiLCJBcmNoaXZlZCIsIkZ1bGxCb2R5IiwicHJlcGFyZWRMb2dEYXRhIiwic2F2ZVdvcmtvdXRTZXNzaW9uIiwiY3VycmVudERhdGUiLCJjbGVhbldvcmtvdXQiLCJ3b3Jrb3V0U2Vzc2lvblJlZiIsImxvZ0JhdGNoIiwib3JpZ2luYWxUeXBlIiwiZ2V0VGltZSIsIm9yaWdpbmFsQ2F0ZWdvcnkiLCJleGVyY2lzZVdpdGhDYXRlZ29yeSIsImpvaW5DaGFsbGVuZ2UiLCJ1c2Vyc1JlZiIsInVzZXJRdWVyeSIsInVzZXJTbmFwc2hvdCIsInVzZXJEYXRhIiwiY2hhbGxlbmdlU25hcCIsInVzZXJDaGFsbGVuZ2VJZCIsInVzZXJDaGFsbGVuZ2VEYXRhIiwibm93IiwiZmNtVG9rZW4iLCJwcm9maWxlSW1hZ2UiLCJwcm9ncmVzcyIsImNvbXBsZXRlZFdvcmtvdXRzIiwidWlkIiwibG9jYXRpb24iLCJjaXR5IiwiY291bnRyeSIsInRpbWV6b25lIiwiam9pbkRhdGUiLCJwdWxzZVBvaW50cyIsImJhc2VDb21wbGV0aW9uIiwiZmlyc3RDb21wbGV0aW9uIiwic3RyZWFrQm9udXMiLCJjaGVja0luQm9udXMiLCJlZmZvcnRSYXRpbmciLCJjaGF0UGFydGljaXBhdGlvbiIsImxvY2F0aW9uQ2hlY2tpbiIsImNvbnRlbnRFbmdhZ2VtZW50IiwiZW5jb3VyYWdlbWVudFNlbnQiLCJlbmNvdXJhZ2VtZW50UmVjZWl2ZWQiLCJjdXJyZW50U3RyZWFrIiwiZW5jb3VyYWdlZFVzZXJzIiwiZW5jb3VyYWdlZEJ5VXNlcnMiLCJjaGVja0lucyIsImN1cnJlbnRXb3Jrb3V0IiwiZ2V0U3RhdGUiLCJjdXJyZW50V29ya291dExvZ3MiLCJjdXJyZW50RXhlcmNpc2VMb2dzIiwiY3VycmVudFdvcmtvdXRTdW1tYXJ5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/api/firebase/workout/service.ts\n"));

/***/ })

});
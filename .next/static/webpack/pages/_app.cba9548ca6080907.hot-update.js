"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/_app",{

/***/ "./src/api/firebase/workout/service.ts":
/*!*********************************************!*\
  !*** ./src/api/firebase/workout/service.ts ***!
  \*********************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   workoutService: function() { return /* binding */ workoutService; }\n/* harmony export */ });\n/* harmony import */ var _swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @swc/helpers/_/_async_to_generator */ \"./node_modules/@swc/helpers/esm/_async_to_generator.js\");\n/* harmony import */ var _swc_helpers_class_call_check__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @swc/helpers/_/_class_call_check */ \"./node_modules/@swc/helpers/esm/_class_call_check.js\");\n/* harmony import */ var _swc_helpers_create_class__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @swc/helpers/_/_create_class */ \"./node_modules/@swc/helpers/esm/_create_class.js\");\n/* harmony import */ var _swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @swc/helpers/_/_object_spread */ \"./node_modules/@swc/helpers/esm/_object_spread.js\");\n/* harmony import */ var _swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @swc/helpers/_/_object_spread_props */ \"./node_modules/@swc/helpers/esm/_object_spread_props.js\");\n/* harmony import */ var _swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @swc/helpers/_/_sliced_to_array */ \"./node_modules/@swc/helpers/esm/_sliced_to_array.js\");\n/* harmony import */ var _swc_helpers_to_consumable_array__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @swc/helpers/_/_to_consumable_array */ \"./node_modules/@swc/helpers/esm/_to_consumable_array.js\");\n/* harmony import */ var _swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @swc/helpers/_/_ts_generator */ \"./node_modules/@swc/helpers/esm/_ts_generator.js\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/firestore */ \"./node_modules/firebase/firestore/dist/esm/index.esm.js\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config */ \"./src/api/firebase/config.ts\");\n/* harmony import */ var _user__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../user */ \"./src/api/firebase/user/index.ts\");\n/* harmony import */ var _exercise_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../exercise/types */ \"./src/api/firebase/exercise/types.ts\");\n/* harmony import */ var _exercise_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../exercise/service */ \"./src/api/firebase/exercise/service.ts\");\n/* harmony import */ var _user_types__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../user/types */ \"./src/api/firebase/user/types.ts\");\n/* harmony import */ var _workout_types__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../api/firebase/workout/types */ \"./src/api/firebase/workout/types.ts\");\n/* harmony import */ var _barrel_optimize_names_format_date_fns__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! __barrel_optimize__?names=format!=!date-fns */ \"__barrel_optimize__?names=format!=!./node_modules/date-fns/index.js\");\n/* harmony import */ var _utils_timestamp__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../utils/timestamp */ \"./src/utils/timestamp.ts\");\n/* harmony import */ var _utils_formatDate__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../utils/formatDate */ \"./src/utils/formatDate.ts\");\n/* harmony import */ var _redux_store__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../redux/store */ \"./src/redux/store.ts\");\n/* harmony import */ var _redux_workoutSlice__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../redux/workoutSlice */ \"./src/redux/workoutSlice.ts\");\n// src/api/firebase/workout/service.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n // Adjust the import path\n\n\n\n\nvar WorkoutService = /*#__PURE__*/ function() {\n    \"use strict\";\n    function WorkoutService() {\n        (0,_swc_helpers_class_call_check__WEBPACK_IMPORTED_MODULE_11__._)(this, WorkoutService);\n    }\n    var _proto = WorkoutService.prototype;\n    _proto.generateId = function generateId() {\n        return (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"workouts\")).id;\n    };\n    _proto.fetchWorkoutSummary = function fetchWorkoutSummary(userId, workoutId, summaryId) {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var summaryRef, summaryDoc, summaryData, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        _state.trys.push([\n                            0,\n                            2,\n                            ,\n                            3\n                        ]);\n                        console.log(\"Fetching workout summary:\", {\n                            userId: userId,\n                            workoutId: workoutId,\n                            summaryId: summaryId\n                        });\n                        // Assuming summaries are stored in a 'workoutSummaries' collection\n                        summaryRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", userId, \"workoutSummary\", summaryId);\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(summaryRef)\n                        ];\n                    case 1:\n                        summaryDoc = _state.sent();\n                        if (!summaryDoc.exists()) {\n                            console.log(\"Summary document not found\");\n                            return [\n                                2,\n                                null\n                            ];\n                        }\n                        summaryData = summaryDoc.data();\n                        console.log(\"Found summary data:\", summaryData);\n                        return [\n                            2,\n                            new _workout_types__WEBPACK_IMPORTED_MODULE_6__.WorkoutSummary(summaryData)\n                        ];\n                    case 2:\n                        error = _state.sent();\n                        console.error(\"Error fetching workout summary:\", error);\n                        return [\n                            2,\n                            null\n                        ];\n                    case 3:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    // Update the formatWorkoutAndInitializeLogs function\n    _proto.formatWorkoutAndInitializeLogs = function formatWorkoutAndInitializeLogs(exerciseDetails, workoutAuthor) {\n        var _this = this;\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var _userService_currentUser, workId, exerciseReferences, exerciseLogs, validExerciseDetails, newWorkout;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                workId = _this.generateId(); // Use this.generateId() since it's a class method\n                exerciseReferences = [];\n                exerciseLogs = [];\n                // Ensure exercise details are valid before processing\n                validExerciseDetails = exerciseDetails.filter(function(detail) {\n                    return (detail === null || detail === void 0 ? void 0 : detail.exercise) && detail.exercise.id;\n                });\n                validExerciseDetails.forEach(function(detail, index) {\n                    var _detail_category, _detail_category1, _detail_category_details, _detail_category2, _detail_category_details1, _detail_category3, _detail_category_details2, _detail_category4, _detail_category_details3, _detail_category5, _detail_category_details4, _detail_category6, _detail_category_details5, _detail_category7, _detail_category_details6, _detail_category8, _detail_category_details7, _detail_category9, _detail_category_details8, _detail_category10, _detail_category_details9, _detail_category11, _userService_currentUser, _userService_currentUser1, _category_details, _category_details1, _category_details2, _userService_currentUser2, _userService_currentUser3;\n                    if (detail.exercise.id == null) {\n                        return;\n                    }\n                    var _detail_category_details_sets, _detail_category_details_reps, _detail_category_details_weight, _detail_category_details_screenTime, _detail_category_details_selectedVideo, _detail_category_details_duration, _detail_category_details_bpm, _detail_category_details_calories, _detail_category_details_screenTime1, _detail_category_details_selectedVideo1;\n                    // Create the category first\n                    var category = {\n                        type: ((_detail_category = detail.category) === null || _detail_category === void 0 ? void 0 : _detail_category.type) === \"weight-training\" ? \"weight-training\" : \"cardio\",\n                        details: ((_detail_category1 = detail.category) === null || _detail_category1 === void 0 ? void 0 : _detail_category1.type) === \"weight-training\" ? {\n                            sets: (_detail_category_details_sets = (_detail_category2 = detail.category) === null || _detail_category2 === void 0 ? void 0 : (_detail_category_details = _detail_category2.details) === null || _detail_category_details === void 0 ? void 0 : _detail_category_details.sets) !== null && _detail_category_details_sets !== void 0 ? _detail_category_details_sets : 3,\n                            reps: (_detail_category_details_reps = (_detail_category3 = detail.category) === null || _detail_category3 === void 0 ? void 0 : (_detail_category_details1 = _detail_category3.details) === null || _detail_category_details1 === void 0 ? void 0 : _detail_category_details1.reps) !== null && _detail_category_details_reps !== void 0 ? _detail_category_details_reps : [\n                                \"12\"\n                            ],\n                            weight: (_detail_category_details_weight = (_detail_category4 = detail.category) === null || _detail_category4 === void 0 ? void 0 : (_detail_category_details2 = _detail_category4.details) === null || _detail_category_details2 === void 0 ? void 0 : _detail_category_details2.weight) !== null && _detail_category_details_weight !== void 0 ? _detail_category_details_weight : 0,\n                            screenTime: (_detail_category_details_screenTime = (_detail_category5 = detail.category) === null || _detail_category5 === void 0 ? void 0 : (_detail_category_details3 = _detail_category5.details) === null || _detail_category_details3 === void 0 ? void 0 : _detail_category_details3.screenTime) !== null && _detail_category_details_screenTime !== void 0 ? _detail_category_details_screenTime : 0,\n                            selectedVideo: (_detail_category_details_selectedVideo = (_detail_category6 = detail.category) === null || _detail_category6 === void 0 ? void 0 : (_detail_category_details4 = _detail_category6.details) === null || _detail_category_details4 === void 0 ? void 0 : _detail_category_details4.selectedVideo) !== null && _detail_category_details_selectedVideo !== void 0 ? _detail_category_details_selectedVideo : null\n                        } : {\n                            duration: (_detail_category_details_duration = (_detail_category7 = detail.category) === null || _detail_category7 === void 0 ? void 0 : (_detail_category_details5 = _detail_category7.details) === null || _detail_category_details5 === void 0 ? void 0 : _detail_category_details5.duration) !== null && _detail_category_details_duration !== void 0 ? _detail_category_details_duration : 60,\n                            bpm: (_detail_category_details_bpm = (_detail_category8 = detail.category) === null || _detail_category8 === void 0 ? void 0 : (_detail_category_details6 = _detail_category8.details) === null || _detail_category_details6 === void 0 ? void 0 : _detail_category_details6.bpm) !== null && _detail_category_details_bpm !== void 0 ? _detail_category_details_bpm : 140,\n                            calories: (_detail_category_details_calories = (_detail_category9 = detail.category) === null || _detail_category9 === void 0 ? void 0 : (_detail_category_details7 = _detail_category9.details) === null || _detail_category_details7 === void 0 ? void 0 : _detail_category_details7.calories) !== null && _detail_category_details_calories !== void 0 ? _detail_category_details_calories : 0,\n                            screenTime: (_detail_category_details_screenTime1 = (_detail_category10 = detail.category) === null || _detail_category10 === void 0 ? void 0 : (_detail_category_details8 = _detail_category10.details) === null || _detail_category_details8 === void 0 ? void 0 : _detail_category_details8.screenTime) !== null && _detail_category_details_screenTime1 !== void 0 ? _detail_category_details_screenTime1 : 0,\n                            selectedVideo: (_detail_category_details_selectedVideo1 = (_detail_category11 = detail.category) === null || _detail_category11 === void 0 ? void 0 : (_detail_category_details9 = _detail_category11.details) === null || _detail_category_details9 === void 0 ? void 0 : _detail_category_details9.selectedVideo) !== null && _detail_category_details_selectedVideo1 !== void 0 ? _detail_category_details_selectedVideo1 : null\n                        }\n                    };\n                    console.log(\"Category being used:\", category); // Debug log\n                    // Create exercise instance with our new category\n                    var exerciseInstance = new _exercise_types__WEBPACK_IMPORTED_MODULE_3__.Exercise((0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_14__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({}, detail.exercise), {\n                        id: detail.exercise.id || workoutService.generateId(),\n                        name: detail.exercise.name || \"\",\n                        author: detail.exercise.author || {\n                            userId: workoutAuthor || ((_userService_currentUser = _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser) === null || _userService_currentUser === void 0 ? void 0 : _userService_currentUser.id),\n                            username: workoutAuthor || ((_userService_currentUser1 = _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser) === null || _userService_currentUser1 === void 0 ? void 0 : _userService_currentUser1.username)\n                        },\n                        description: detail.exercise.description || \"\",\n                        category: category,\n                        primaryBodyParts: detail.exercise.primaryBodyParts || [],\n                        secondaryBodyParts: detail.exercise.secondaryBodyParts || [],\n                        tags: detail.exercise.tags || [],\n                        videos: detail.exercise.videos || [],\n                        createdAt: detail.exercise.createdAt || new Date(),\n                        updatedAt: detail.exercise.updatedAt || new Date()\n                    }));\n                    // Create exercise reference\n                    var exerciseRef = {\n                        exercise: exerciseInstance,\n                        groupId: detail.groupId || 0\n                    };\n                    exerciseReferences.push(exerciseRef);\n                    var _category_details_sets;\n                    // Create logs using the same category details\n                    var sets = (_category_details_sets = (_category_details = category.details) === null || _category_details === void 0 ? void 0 : _category_details.sets) !== null && _category_details_sets !== void 0 ? _category_details_sets : 3;\n                    var _category_details_reps;\n                    var reps = (_category_details_reps = (_category_details1 = category.details) === null || _category_details1 === void 0 ? void 0 : _category_details1.reps) !== null && _category_details_reps !== void 0 ? _category_details_reps : [\n                        \"12\"\n                    ];\n                    var _category_details_weight;\n                    var weight = (_category_details_weight = (_category_details2 = category.details) === null || _category_details2 === void 0 ? void 0 : _category_details2.weight) !== null && _category_details_weight !== void 0 ? _category_details_weight : 0;\n                    // Create logs for each set with validated data\n                    var setsLogs = Array.from({\n                        length: sets\n                    }, function() {\n                        return new _workout_types__WEBPACK_IMPORTED_MODULE_6__.RepsAndWeightLog({\n                            reps: parseInt(reps[0] || \"12\", 10),\n                            weight: weight || 0\n                        });\n                    });\n                    // Create exercise log with validated data\n                    var exerciseLogId = _exercise_service__WEBPACK_IMPORTED_MODULE_4__.exerciseService.generateExerciseLogID(workId, ((_userService_currentUser2 = _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser) === null || _userService_currentUser2 === void 0 ? void 0 : _userService_currentUser2.id) || \"anonymous\");\n                    var log = new _exercise_types__WEBPACK_IMPORTED_MODULE_3__.ExerciseLog({\n                        id: exerciseLogId,\n                        workoutId: workId,\n                        userId: ((_userService_currentUser3 = _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser) === null || _userService_currentUser3 === void 0 ? void 0 : _userService_currentUser3.id) || \"anonymous\",\n                        exercise: exerciseInstance,\n                        logs: setsLogs,\n                        feedback: \"\",\n                        note: detail.notes || \"\",\n                        isSplit: detail.isSplit || false,\n                        logSubmitted: false,\n                        logIsEditing: false,\n                        isCompleted: false,\n                        order: index + 1,\n                        createdAt: new Date(),\n                        updatedAt: new Date(),\n                        completedAt: new Date()\n                    });\n                    exerciseLogs.push(log);\n                });\n                // Create workout with validated data\n                newWorkout = new _workout_types__WEBPACK_IMPORTED_MODULE_6__.Workout({\n                    id: workId,\n                    roundWorkoutId: \"\",\n                    exercises: exerciseReferences,\n                    logs: exerciseLogs,\n                    title: \"\",\n                    description: \"\",\n                    duration: 0,\n                    workoutRating: \"none\",\n                    useAuthorContent: false,\n                    isCompleted: false,\n                    workoutStatus: \"archived\",\n                    author: ((_userService_currentUser = _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser) === null || _userService_currentUser === void 0 ? void 0 : _userService_currentUser.id) || \"PulseAI\",\n                    createdAt: new Date(),\n                    updatedAt: new Date(),\n                    zone: _workout_types__WEBPACK_IMPORTED_MODULE_6__.Workout.determineWorkoutZone(exerciseReferences) || \"full\"\n                });\n                return [\n                    2,\n                    {\n                        workout: newWorkout,\n                        exerciseLogs: exerciseLogs\n                    }\n                ];\n            });\n        })();\n    };\n    _proto.getUserById = function getUserById(userId) {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var userDoc, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        _state.trys.push([\n                            0,\n                            2,\n                            ,\n                            3\n                        ]);\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", userId))\n                        ];\n                    case 1:\n                        userDoc = _state.sent();\n                        if (!userDoc.exists()) {\n                            throw new Error(\"User not found\");\n                        }\n                        return [\n                            2,\n                            new _user_types__WEBPACK_IMPORTED_MODULE_5__.User((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({\n                                id: userDoc.id\n                            }, userDoc.data()))\n                        ];\n                    case 2:\n                        error = _state.sent();\n                        console.error(\"Error getting user by ID:\", error);\n                        throw error;\n                    case 3:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    // In WorkoutService\n    _proto.revertAuthorFormat = function revertAuthorFormat(workoutId, authorId) {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var _userService_currentUser, workoutRef;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        if (!((_userService_currentUser = _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser) === null || _userService_currentUser === void 0 ? void 0 : _userService_currentUser.id)) throw new Error(\"No user signed in\");\n                        workoutRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser.id, \"MyCreatedWorkouts\", workoutId);\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.updateDoc)(workoutRef, {\n                                author: authorId\n                            })\n                        ];\n                    case 1:\n                        _state.sent();\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    _proto.updateWorkout = function updateWorkout(workout) {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var _userService_currentUser, workoutRef, batch, logsRef, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        if (!((_userService_currentUser = _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser) === null || _userService_currentUser === void 0 ? void 0 : _userService_currentUser.id)) {\n                            throw new Error(\"No user is signed in\");\n                        }\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            5,\n                            ,\n                            6\n                        ]);\n                        workoutRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser.id, \"MyCreatedWorkouts\", workout.id);\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)(workoutRef, workout.toDictionary(), {\n                                merge: true\n                            })\n                        ];\n                    case 2:\n                        _state.sent();\n                        if (!(workout.logs && workout.logs.length > 0)) return [\n                            3,\n                            4\n                        ];\n                        batch = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.writeBatch)(_config__WEBPACK_IMPORTED_MODULE_1__.db);\n                        logsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(workoutRef, \"logs\");\n                        workout.logs.forEach(function(log) {\n                            var logRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(logsRef, log.id);\n                            batch.set(logRef, log.toDictionary(), {\n                                merge: true\n                            });\n                        });\n                        return [\n                            4,\n                            batch.commit()\n                        ];\n                    case 3:\n                        _state.sent();\n                        _state.label = 4;\n                    case 4:\n                        return [\n                            3,\n                            6\n                        ];\n                    case 5:\n                        error = _state.sent();\n                        console.error(\"Error updating workout:\", error);\n                        throw error;\n                    case 6:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    /**\n   * Fetch the user's current workout (either QueuedUp or InProgress).\n   */ _proto.fetchCurrentWorkout = function fetchCurrentWorkout(userId) {\n        var _this = this;\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var session;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        return [\n                            4,\n                            _this.fetchCurrentWorkoutSession(userId)\n                        ];\n                    case 1:\n                        session = _state.sent();\n                        return [\n                            2,\n                            session.workout\n                        ];\n                }\n            });\n        })();\n    };\n    _proto.getAllSweatlists = function getAllSweatlists(userId) {\n        var _this = this;\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var workoutsRef, exercisesWithVideos, workoutsSnapshot, workouts, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, workoutDoc, workoutData, workoutId, mappedExercises, workout, logsRef, logsSnapshot, err, error, firestoreError;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        if (!userId) {\n                            throw new Error(\"User ID is required\");\n                        }\n                        // Reference to the user's workout collection\n                        workoutsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", userId, \"MyCreatedWorkouts\");\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            12,\n                            ,\n                            13\n                        ]);\n                        return [\n                            4,\n                            _this.fetchAndMapExercisesWithVideos()\n                        ];\n                    case 2:\n                        exercisesWithVideos = _state.sent();\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(workoutsRef)\n                        ];\n                    case 3:\n                        workoutsSnapshot = _state.sent();\n                        workouts = [];\n                        _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n                        _state.label = 4;\n                    case 4:\n                        _state.trys.push([\n                            4,\n                            9,\n                            10,\n                            11\n                        ]);\n                        _iterator = workoutsSnapshot.docs[Symbol.iterator]();\n                        _state.label = 5;\n                    case 5:\n                        if (!!(_iteratorNormalCompletion = (_step = _iterator.next()).done)) return [\n                            3,\n                            8\n                        ];\n                        workoutDoc = _step.value;\n                        workoutData = workoutDoc.data();\n                        workoutId = workoutDoc.id;\n                        // Map the exercises in the workout to the full exercise objects with videos\n                        mappedExercises = (workoutData.exercises || []).map(function(exerciseRef) {\n                            var fullExercise = exercisesWithVideos.find(function(ex) {\n                                return ex.name === exerciseRef.exercise.name;\n                            });\n                            console.log(\"This is the mapped exercise: \" + fullExercise);\n                            return (0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_14__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({}, exerciseRef), {\n                                exercise: fullExercise || exerciseRef\n                            });\n                        });\n                        // Parse workout data into the desired structure\n                        workout = new _workout_types__WEBPACK_IMPORTED_MODULE_6__.Workout({\n                            id: workoutData.id || \"\",\n                            roundWorkoutId: workoutData.roundWorkoutId || \"\",\n                            collectionId: workoutData.collectionId,\n                            exercises: mappedExercises,\n                            challenge: workoutData.challenge,\n                            logs: [],\n                            title: workoutData.title || \"\",\n                            description: workoutData.description || \"\",\n                            duration: workoutData.duration || 0,\n                            workoutRating: workoutData.workoutRating,\n                            useAuthorContent: workoutData.useAuthorContent || false,\n                            isCompleted: workoutData.isCompleted || false,\n                            workoutStatus: workoutData.workoutStatus || \"notStarted\",\n                            startTime: workoutData.startTime ? new Date(workoutData.startTime) : undefined,\n                            order: workoutData.order,\n                            author: workoutData.author || userId,\n                            createdAt: workoutData.createdAt ? new Date(workoutData.createdAt) : new Date(),\n                            updatedAt: workoutData.updatedAt ? new Date(workoutData.updatedAt) : new Date(),\n                            zone: workoutData.zone || \"FULL_BODY\"\n                        });\n                        // Fetch and process logs\n                        logsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", userId, \"MyCreatedWorkouts\", workoutId, \"logs\");\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(logsRef)\n                        ];\n                    case 6:\n                        logsSnapshot = _state.sent();\n                        workout.logs = logsSnapshot.docs.map(function(logDoc) {\n                            return (0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_14__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({}, logDoc.data()), {\n                                id: logDoc.id\n                            });\n                        });\n                        workouts.push(workout);\n                        _state.label = 7;\n                    case 7:\n                        _iteratorNormalCompletion = true;\n                        return [\n                            3,\n                            5\n                        ];\n                    case 8:\n                        return [\n                            3,\n                            11\n                        ];\n                    case 9:\n                        err = _state.sent();\n                        _didIteratorError = true;\n                        _iteratorError = err;\n                        return [\n                            3,\n                            11\n                        ];\n                    case 10:\n                        try {\n                            if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n                                _iterator[\"return\"]();\n                            }\n                        } finally{\n                            if (_didIteratorError) {\n                                throw _iteratorError;\n                            }\n                        }\n                        return [\n                            7\n                        ];\n                    case 11:\n                        return [\n                            2,\n                            workouts\n                        ];\n                    case 12:\n                        error = _state.sent();\n                        firestoreError = error;\n                        console.error(\"Error fetching sweatlists:\", firestoreError.message);\n                        throw new Error(\"Failed to fetch sweatlists\");\n                    case 13:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    _proto.getUserChallengesByChallengeId = function getUserChallengesByChallengeId(challengeId) {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var userChallengesRef, q, snapshot, userChallenges, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        userChallengesRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"user-challenge\");\n                        q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(userChallengesRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"challengeId\", \"==\", challengeId));\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            3,\n                            ,\n                            4\n                        ]);\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q)\n                        ];\n                    case 2:\n                        snapshot = _state.sent();\n                        userChallenges = snapshot.docs.map(function(doc) {\n                            var data = doc.data();\n                            return new _workout_types__WEBPACK_IMPORTED_MODULE_6__.UserChallenge(data);\n                        });\n                        if (userChallenges.length > 0) {\n                            return [\n                                2,\n                                {\n                                    userChallenges: userChallenges\n                                }\n                            ];\n                        } else {\n                            return [\n                                2,\n                                {\n                                    userChallenges: [],\n                                    error: \"No user challenges found for this challenge.\"\n                                }\n                            ];\n                        }\n                        return [\n                            3,\n                            4\n                        ];\n                    case 3:\n                        error = _state.sent();\n                        console.error(\"Error fetching user challenges by challengeId:\", error);\n                        return [\n                            2,\n                            {\n                                userChallenges: [],\n                                error: error instanceof Error ? error.message : \"Unknown error\"\n                            }\n                        ];\n                    case 4:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    /**\n   * Fetches workout summaries for a specific date.\n   * @param date - The date for which workout summaries are being fetched.\n   * @returns A promise resolving to an array of workout summaries.\n   * @throws If no user is signed in or if the Firestore query fails.\n   */ _proto.fetchWorkoutSummaries = function fetchWorkoutSummaries(date) {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var currentUser, formattedDate, summariesRef, q, snapshot, error, firestoreError;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        currentUser = _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser;\n                        if (!(currentUser === null || currentUser === void 0 ? void 0 : currentUser.id)) {\n                            throw new Error(\"No user is signed in\");\n                        }\n                        // Format the date to match the format in Firestore ('MM-dd-yyyy')\n                        formattedDate = (0,_barrel_optimize_names_format_date_fns__WEBPACK_IMPORTED_MODULE_16__.format)(date, \"MM-dd-yyyy\");\n                        // Reference to the user's workoutSummaries subcollection\n                        summariesRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", currentUser.id, \"workoutSummaries\");\n                        // Create a query to filter documents by the specified date\n                        q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(summariesRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"date\", \"==\", formattedDate));\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            3,\n                            ,\n                            4\n                        ]);\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q)\n                        ];\n                    case 2:\n                        snapshot = _state.sent();\n                        // Map the documents to an array of WorkoutSummary objects\n                        return [\n                            2,\n                            snapshot.docs.map(function(doc) {\n                                return (0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({\n                                    id: doc.id\n                                }, doc.data());\n                            })\n                        ];\n                    case 3:\n                        error = _state.sent();\n                        firestoreError = error;\n                        console.error(\"Error fetching workout summaries:\", firestoreError.message);\n                        throw new Error(firestoreError.message);\n                    case 4:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    _proto.fetchAllWorkoutSummaries = function fetchAllWorkoutSummaries() {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var currentUser, summariesRef, q, snapshot, error, firestoreError;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        currentUser = _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser;\n                        if (!(currentUser === null || currentUser === void 0 ? void 0 : currentUser.id)) {\n                            throw new Error(\"No user is signed in\");\n                        }\n                        // Reference to the user's workoutSummaries subcollection\n                        summariesRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", currentUser.id, \"workoutSummary\");\n                        // Query to retrieve all workout summaries, sorted by `createdAt` in ascending order\n                        q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(summariesRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.orderBy)(\"createdAt\", \"asc\")); // Adjust field name based on your schema\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            3,\n                            ,\n                            4\n                        ]);\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q)\n                        ];\n                    case 2:\n                        snapshot = _state.sent();\n                        // Map the documents to an array of WorkoutSummary objects\n                        return [\n                            2,\n                            snapshot.docs.map(function(doc) {\n                                return (0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({\n                                    id: doc.id\n                                }, doc.data());\n                            })\n                        ];\n                    case 3:\n                        error = _state.sent();\n                        firestoreError = error;\n                        console.error(\"Error fetching all workout summaries:\", firestoreError.message);\n                        throw new Error(firestoreError.message);\n                    case 4:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    /**\n * Fetch user challenges by userId.\n * @param userId The ID of the user to fetch challenges for.\n * @returns A promise resolving to an array of user challenges.\n * @throws If the Firestore query fails.\n */ _proto.fetchUserChallengesByUserId = function fetchUserChallengesByUserId(userId) {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var userChallengesRef, q, snapshot, userChallenges, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        userChallengesRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"user-challenge\");\n                        q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(userChallengesRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"userId\", \"==\", userId));\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            3,\n                            ,\n                            4\n                        ]);\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q)\n                        ];\n                    case 2:\n                        snapshot = _state.sent();\n                        // console.log(`Total challenges fetched: ${snapshot.docs.length}`);\n                        userChallenges = snapshot.docs.map(function(doc) {\n                            var data = doc.data();\n                            // console.log(`Processing challenge with ID: ${doc.id}`, data);\n                            return (0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_14__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({\n                                id: doc.id\n                            }, data), {\n                                challenge: data.challenge ? new _workout_types__WEBPACK_IMPORTED_MODULE_6__.Challenge({\n                                    id: data.challenge.id,\n                                    title: data.challenge.title,\n                                    subtitle: data.challenge.subtitle,\n                                    participants: data.challenge.participants || [],\n                                    status: data.challenge.status,\n                                    startDate: data.challenge.startDate ? new Date(data.challenge.startDate) : new Date(),\n                                    endDate: data.challenge.endDate ? new Date(data.challenge.endDate) : new Date(),\n                                    createdAt: data.challenge.createdAt ? new Date(data.challenge.createdAt) : new Date(),\n                                    updatedAt: data.challenge.updatedAt ? new Date(data.challenge.updatedAt) : new Date(),\n                                    introVideos: (data.challenge.introVideos || []).map(function(v) {\n                                        return new _workout_types__WEBPACK_IMPORTED_MODULE_6__.IntroVideo({\n                                            id: v.id,\n                                            userId: v.userId,\n                                            videoUrl: v.videoUrl\n                                        });\n                                    })\n                                }) : undefined,\n                                createdAt: (0,_utils_timestamp__WEBPACK_IMPORTED_MODULE_7__.convertTimestamp)(data.createdAt),\n                                updatedAt: (0,_utils_timestamp__WEBPACK_IMPORTED_MODULE_7__.convertTimestamp)(data.updatedAt)\n                            });\n                        });\n                        // console.log('All challenges after processing:', JSON.stringify(userChallenges, null, 2));\n                        return [\n                            2,\n                            userChallenges\n                        ];\n                    case 3:\n                        error = _state.sent();\n                        console.error(\"Error fetching user challenges by userId:\", error);\n                        throw error;\n                    case 4:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    _proto.fetchCollectionWithSweatLists = function fetchCollectionWithSweatLists(collectionId) {\n        var _this = this;\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var collection, sweatLists, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, sweatlistIdentifier, _ref, workout, error, err, error1;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        _state.trys.push([\n                            0,\n                            12,\n                            ,\n                            13\n                        ]);\n                        return [\n                            4,\n                            _this.getCollectionById(collectionId)\n                        ];\n                    case 1:\n                        collection = _state.sent();\n                        // Fetch sweat lists (workouts)\n                        sweatLists = [];\n                        _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n                        _state.label = 2;\n                    case 2:\n                        _state.trys.push([\n                            2,\n                            9,\n                            10,\n                            11\n                        ]);\n                        _iterator = (collection.sweatlistIds || [])[Symbol.iterator]();\n                        _state.label = 3;\n                    case 3:\n                        if (!!(_iteratorNormalCompletion = (_step = _iterator.next()).done)) return [\n                            3,\n                            8\n                        ];\n                        sweatlistIdentifier = _step.value;\n                        _state.label = 4;\n                    case 4:\n                        _state.trys.push([\n                            4,\n                            6,\n                            ,\n                            7\n                        ]);\n                        return [\n                            4,\n                            _this.fetchSavedWorkout(sweatlistIdentifier.sweatlistAuthorId, sweatlistIdentifier.id)\n                        ];\n                    case 5:\n                        _ref = _swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_17__._.apply(void 0, [\n                            _state.sent(),\n                            1\n                        ]), workout = _ref[0];\n                        if (workout) {\n                            sweatLists.push(workout);\n                        }\n                        return [\n                            3,\n                            7\n                        ];\n                    case 6:\n                        error = _state.sent();\n                        console.error(\"Error fetching workout \".concat(sweatlistIdentifier.id, \":\"), error);\n                        return [\n                            3,\n                            7\n                        ];\n                    case 7:\n                        _iteratorNormalCompletion = true;\n                        return [\n                            3,\n                            3\n                        ];\n                    case 8:\n                        return [\n                            3,\n                            11\n                        ];\n                    case 9:\n                        err = _state.sent();\n                        _didIteratorError = true;\n                        _iteratorError = err;\n                        return [\n                            3,\n                            11\n                        ];\n                    case 10:\n                        try {\n                            if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n                                _iterator[\"return\"]();\n                            }\n                        } finally{\n                            if (_didIteratorError) {\n                                throw _iteratorError;\n                            }\n                        }\n                        return [\n                            7\n                        ];\n                    case 11:\n                        return [\n                            2,\n                            {\n                                collection: collection,\n                                sweatLists: sweatLists\n                            }\n                        ];\n                    case 12:\n                        error1 = _state.sent();\n                        console.error(\"Error fetching collection with sweat lists:\", error1);\n                        throw error1;\n                    case 13:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    _proto.fetchSavedWorkout = function fetchSavedWorkout(userId, workoutId) {\n        var _this = this;\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var _workoutData_exercises, workoutRef, workoutSnap, workoutData, exercisesWithVideos, mappedExercises, workout, logsRef, logsSnapshot, logs, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        _state.trys.push([\n                            0,\n                            4,\n                            ,\n                            5\n                        ]);\n                        workoutRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", userId, \"MyCreatedWorkouts\", workoutId);\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(workoutRef)\n                        ];\n                    case 1:\n                        workoutSnap = _state.sent();\n                        if (!workoutSnap.exists()) {\n                            return [\n                                2,\n                                [\n                                    null,\n                                    null\n                                ]\n                            ];\n                        }\n                        workoutData = workoutSnap.data();\n                        console.log(\"1. Raw workout data from DB:\", JSON.stringify({\n                            exercises: (_workoutData_exercises = workoutData.exercises) === null || _workoutData_exercises === void 0 ? void 0 : _workoutData_exercises.map(function(ex) {\n                                return {\n                                    name: ex.exercise.name,\n                                    category: ex.exercise.category\n                                };\n                            })\n                        }, null, 2));\n                        return [\n                            4,\n                            _this.fetchAndMapExercisesWithVideos()\n                        ];\n                    case 2:\n                        exercisesWithVideos = _state.sent();\n                        // Map the exercises while preserving original data\n                        mappedExercises = (workoutData.exercises || []).map(function(exerciseRef) {\n                            var _matchingExercise_videos, _mappedExercise_exercise_category_details, _mappedExercise_exercise_category, _mappedExercise_exercise_videos;\n                            var matchingExercise = exercisesWithVideos.find(function(ex) {\n                                return ex.name === exerciseRef.exercise.name;\n                            });\n                            console.log(\"2. Processing exercise:\", JSON.stringify({\n                                exerciseName: exerciseRef.exercise.name,\n                                originalCategory: exerciseRef.exercise.category,\n                                matchingExerciseFound: !!matchingExercise,\n                                matchingExerciseDetails: matchingExercise ? {\n                                    name: matchingExercise.name,\n                                    category: matchingExercise.category,\n                                    videoCount: (_matchingExercise_videos = matchingExercise.videos) === null || _matchingExercise_videos === void 0 ? void 0 : _matchingExercise_videos.length\n                                } : null\n                            }, null, 2));\n                            var mappedExercise = (0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_14__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({}, exerciseRef), {\n                                exercise: new _exercise_types__WEBPACK_IMPORTED_MODULE_3__.Exercise((0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_14__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({}, exerciseRef.exercise), {\n                                    videos: (matchingExercise === null || matchingExercise === void 0 ? void 0 : matchingExercise.videos) || [],\n                                    category: exerciseRef.exercise.category\n                                }))\n                            });\n                            console.log(\"3. After mapping exercise:\", JSON.stringify({\n                                exerciseName: mappedExercise.exercise.name,\n                                categoryPreserved: mappedExercise.exercise.category,\n                                screenTimePreserved: (_mappedExercise_exercise_category = mappedExercise.exercise.category) === null || _mappedExercise_exercise_category === void 0 ? void 0 : (_mappedExercise_exercise_category_details = _mappedExercise_exercise_category.details) === null || _mappedExercise_exercise_category_details === void 0 ? void 0 : _mappedExercise_exercise_category_details.screenTime,\n                                videoCount: (_mappedExercise_exercise_videos = mappedExercise.exercise.videos) === null || _mappedExercise_exercise_videos === void 0 ? void 0 : _mappedExercise_exercise_videos.length\n                            }, null, 2));\n                            return mappedExercise;\n                        });\n                        workoutData.exercises = mappedExercises;\n                        workout = new _workout_types__WEBPACK_IMPORTED_MODULE_6__.Workout((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({\n                            id: workoutId\n                        }, workoutData));\n                        console.log(\"4. Final workout exercises:\", JSON.stringify({\n                            exercises: workout.exercises.map(function(ex) {\n                                var _ex_exercise_category_details, _ex_exercise_category, _ex_exercise_videos;\n                                return {\n                                    name: ex.exercise.name,\n                                    category: ex.exercise.category,\n                                    screenTime: (_ex_exercise_category = ex.exercise.category) === null || _ex_exercise_category === void 0 ? void 0 : (_ex_exercise_category_details = _ex_exercise_category.details) === null || _ex_exercise_category_details === void 0 ? void 0 : _ex_exercise_category_details.screenTime,\n                                    videoCount: (_ex_exercise_videos = ex.exercise.videos) === null || _ex_exercise_videos === void 0 ? void 0 : _ex_exercise_videos.length\n                                };\n                            })\n                        }, null, 2));\n                        // Similarly for logs, preserve original exercise data\n                        logsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(workoutRef, \"logs\");\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(logsRef)\n                        ];\n                    case 3:\n                        logsSnapshot = _state.sent();\n                        logs = logsSnapshot.docs.map(function(logDoc) {\n                            var logData = logDoc.data();\n                            var matchingExercise = exercisesWithVideos.find(function(ex) {\n                                return ex.name === logData.exercise.name;\n                            });\n                            return new _exercise_types__WEBPACK_IMPORTED_MODULE_3__.ExerciseLog({\n                                id: logDoc.id,\n                                workoutId: workoutId,\n                                userId: userId,\n                                exercise: new _exercise_types__WEBPACK_IMPORTED_MODULE_3__.Exercise((0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_14__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({}, logData.exercise), {\n                                    videos: (matchingExercise === null || matchingExercise === void 0 ? void 0 : matchingExercise.videos) || [],\n                                    category: logData.exercise.category // Preserve original category\n                                })),\n                                logs: logData.logs || [],\n                                feedback: logData.feedback || \"\",\n                                note: logData.note || \"\",\n                                recommendedWeight: logData.recommendedWeight || \"calculating...\",\n                                isSplit: logData.isSplit || false,\n                                isBodyWeight: logData.isBodyWeight || false,\n                                logSubmitted: logData.logSubmitted || false,\n                                logIsEditing: logData.logIsEditing || false,\n                                isCompleted: logData.isCompleted || false,\n                                order: logData.order || null,\n                                completedAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_8__.convertFirestoreTimestamp)(logData.completedAt),\n                                createdAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_8__.convertFirestoreTimestamp)(logData.createdAt),\n                                updatedAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_8__.convertFirestoreTimestamp)(logData.updatedAt)\n                            });\n                        });\n                        workout.logs = logs;\n                        return [\n                            2,\n                            [\n                                workout,\n                                logs\n                            ]\n                        ];\n                    case 4:\n                        error = _state.sent();\n                        console.error(\"Error fetching saved workout:\", error);\n                        throw error;\n                    case 5:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    /**\n * Fetch user challenges by challengeId.\n * @param challengeId The ID of the challenge to fetch associated user challenges for.\n * @returns A promise resolving to an array of user challenges.\n * @throws If the Firestore query fails.\n */ _proto.fetchUserChallengesByChallengeId = function fetchUserChallengesByChallengeId(challengeId) {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var userChallengesRef, q, snapshot, userChallenges, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        userChallengesRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"user-challenge\");\n                        q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(userChallengesRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"challengeId\", \"==\", challengeId));\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            3,\n                            ,\n                            4\n                        ]);\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q)\n                        ];\n                    case 2:\n                        snapshot = _state.sent();\n                        // console.log(`Total user challenges fetched: ${snapshot.docs.length}`);\n                        userChallenges = snapshot.docs.map(function(doc) {\n                            var data = doc.data();\n                            // console.log(`Processing user challenge with ID: ${doc.id}`, data);\n                            return (0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_14__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({\n                                id: doc.id\n                            }, data), {\n                                challenge: data.challenge ? new _workout_types__WEBPACK_IMPORTED_MODULE_6__.Challenge({\n                                    id: data.challenge.id,\n                                    title: data.challenge.title,\n                                    subtitle: data.challenge.subtitle,\n                                    participants: data.challenge.participants || [],\n                                    status: data.challenge.status,\n                                    startDate: data.challenge.startDate ? new Date(data.challenge.startDate) : new Date(),\n                                    endDate: data.challenge.endDate ? new Date(data.challenge.endDate) : new Date(),\n                                    createdAt: data.challenge.createdAt ? new Date(data.challenge.createdAt) : new Date(),\n                                    updatedAt: data.challenge.updatedAt ? new Date(data.challenge.updatedAt) : new Date(),\n                                    introVideos: (data.challenge.introVideos || []).map(function(v) {\n                                        return new _workout_types__WEBPACK_IMPORTED_MODULE_6__.IntroVideo({\n                                            id: v.id,\n                                            userId: v.userId,\n                                            videoUrl: v.videoUrl\n                                        });\n                                    })\n                                }) : undefined,\n                                createdAt: (0,_utils_timestamp__WEBPACK_IMPORTED_MODULE_7__.convertTimestamp)(data.createdAt),\n                                updatedAt: (0,_utils_timestamp__WEBPACK_IMPORTED_MODULE_7__.convertTimestamp)(data.updatedAt)\n                            });\n                        });\n                        // console.log('All user challenges after processing:', JSON.stringify(userChallenges, null, 2));\n                        return [\n                            2,\n                            userChallenges\n                        ];\n                    case 3:\n                        error = _state.sent();\n                        console.error(\"Error fetching user challenges by challengeId:\", error);\n                        throw error;\n                    case 4:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    _proto.getCollectionById = function getCollectionById(id) {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var docRef, docSnap, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        console.log(\"Fetching collection with id:\", id);\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            3,\n                            ,\n                            4\n                        ]);\n                        docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"sweatlist-collection\", id);\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(docRef)\n                        ];\n                    case 2:\n                        docSnap = _state.sent();\n                        if (docSnap.exists()) {\n                            return [\n                                2,\n                                new _workout_types__WEBPACK_IMPORTED_MODULE_6__.SweatlistCollection((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({\n                                    id: docSnap.id\n                                }, docSnap.data()))\n                            ];\n                        } else {\n                            throw new Error(\"Collection not found\");\n                        }\n                        return [\n                            3,\n                            4\n                        ];\n                    case 3:\n                        error = _state.sent();\n                        console.error(\"Error getting collection by ID:\", error);\n                        throw error;\n                    case 4:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    // In WorkoutService class\n    _proto.getCollectionsByIds = function getCollectionsByIds(collectionIds) {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var collections, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        _state.trys.push([\n                            0,\n                            2,\n                            ,\n                            3\n                        ]);\n                        return [\n                            4,\n                            Promise.all(collectionIds.map(function() {\n                                var _ref = (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function(id) {\n                                    var docRef, docSnap, error;\n                                    return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                                        switch(_state.label){\n                                            case 0:\n                                                _state.trys.push([\n                                                    0,\n                                                    2,\n                                                    ,\n                                                    3\n                                                ]);\n                                                docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"sweatlist-collection\", id);\n                                                return [\n                                                    4,\n                                                    (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(docRef)\n                                                ];\n                                            case 1:\n                                                docSnap = _state.sent();\n                                                if (docSnap.exists()) {\n                                                    return [\n                                                        2,\n                                                        new _workout_types__WEBPACK_IMPORTED_MODULE_6__.SweatlistCollection((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({\n                                                            id: docSnap.id\n                                                        }, docSnap.data()))\n                                                    ];\n                                                }\n                                                return [\n                                                    2,\n                                                    null\n                                                ];\n                                            case 2:\n                                                error = _state.sent();\n                                                console.error(\"Error fetching collection \".concat(id, \":\"), error);\n                                                return [\n                                                    2,\n                                                    null\n                                                ];\n                                            case 3:\n                                                return [\n                                                    2\n                                                ];\n                                        }\n                                    });\n                                });\n                                return function(id) {\n                                    return _ref.apply(this, arguments);\n                                };\n                            }()))\n                        ];\n                    case 1:\n                        collections = _state.sent();\n                        // Filter out any null values from failed fetches\n                        return [\n                            2,\n                            collections.filter(function(collection) {\n                                return collection !== null;\n                            })\n                        ];\n                    case 2:\n                        error = _state.sent();\n                        console.error(\"Error fetching collections:\", error);\n                        throw error;\n                    case 3:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    _proto.fetchCollections = function fetchCollections(userId) {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var collectionsRef, qArray, snapshotArray, collectionsFromArray, qString, snapshotString, collectionsFromString, combined, uniqueCollections, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        if (!userId) {\n                            throw new Error(\"User ID is required\");\n                        }\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            4,\n                            ,\n                            5\n                        ]);\n                        collectionsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"sweatlist-collection\");\n                        // Query for records where ownerId is an array that contains the userId.\n                        qArray = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(collectionsRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"ownerId\", \"array-contains\", userId));\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(qArray)\n                        ];\n                    case 2:\n                        snapshotArray = _state.sent();\n                        collectionsFromArray = snapshotArray.docs.map(function(doc) {\n                            var data = (0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({\n                                id: doc.id\n                            }, doc.data());\n                            return new _workout_types__WEBPACK_IMPORTED_MODULE_6__.SweatlistCollection(data);\n                        });\n                        console.log(\"The array collections\", collectionsFromArray);\n                        // Query for records where ownerId is a string equal to the userId.\n                        qString = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(collectionsRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"ownerId\", \"==\", userId));\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(qString)\n                        ];\n                    case 3:\n                        snapshotString = _state.sent();\n                        collectionsFromString = snapshotString.docs.map(function(doc) {\n                            var data = (0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({\n                                id: doc.id\n                            }, doc.data());\n                            return new _workout_types__WEBPACK_IMPORTED_MODULE_6__.SweatlistCollection(data);\n                        });\n                        console.log(\"The string collections\", collectionsFromString);\n                        // Combine both arrays and remove duplicates (if any) based on the collection id.\n                        combined = (0,_swc_helpers_to_consumable_array__WEBPACK_IMPORTED_MODULE_18__._)(collectionsFromArray).concat((0,_swc_helpers_to_consumable_array__WEBPACK_IMPORTED_MODULE_18__._)(collectionsFromString));\n                        uniqueCollections = new Map();\n                        combined.forEach(function(collection) {\n                            uniqueCollections.set(collection.id, collection);\n                        });\n                        return [\n                            2,\n                            Array.from(uniqueCollections.values())\n                        ];\n                    case 4:\n                        error = _state.sent();\n                        console.error(\"Error fetching sweatlists:\", error);\n                        throw error;\n                    case 5:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    /**\n   * Fetch user challenges by userId and filter for active challenges.\n   * @returns A promise resolving to an array of active challenges.\n   * @throws If no user is signed in or if the Firestore query fails.\n   */ _proto.fetchActiveChallenges = function fetchActiveChallenges() {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var currentUser, userChallengesRef, q, snapshot, allChallenges, activeChallenges, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        currentUser = _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser;\n                        if (!(currentUser === null || currentUser === void 0 ? void 0 : currentUser.id)) {\n                            throw new Error(\"No user is signed in\");\n                        }\n                        userChallengesRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"user-challenge\");\n                        q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(userChallengesRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"userId\", \"==\", currentUser.id));\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            3,\n                            ,\n                            4\n                        ]);\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q)\n                        ];\n                    case 2:\n                        snapshot = _state.sent();\n                        // console.log(`Total challenges fetched: ${snapshot.docs.length}`);\n                        allChallenges = snapshot.docs.map(function(doc) {\n                            var data = doc.data();\n                            // console.log(`Processing challenge with ID: ${doc.id}`, data);\n                            // Use the Challenge constructor to parse the challenge data\n                            // console.log(\"date before format: \" + convertFirestoreTimestamp(data.challenge.startDate));\n                            var challenge = data.challenge ? new _workout_types__WEBPACK_IMPORTED_MODULE_6__.Challenge({\n                                id: data.challenge.id,\n                                title: data.challenge.title,\n                                subtitle: data.challenge.subtitle,\n                                participants: data.challenge.participants || [],\n                                status: data.challenge.status,\n                                startDate: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_8__.convertFirestoreTimestamp)(data.challenge.startDate),\n                                endDate: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_8__.convertFirestoreTimestamp)(data.challenge.endDate),\n                                createdAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_8__.convertFirestoreTimestamp)(data.challenge.createdAt),\n                                updatedAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_8__.convertFirestoreTimestamp)(data.challenge.updatedAt),\n                                introVideos: (data.challenge.introVideos || []).map(function(v) {\n                                    return new _workout_types__WEBPACK_IMPORTED_MODULE_6__.IntroVideo({\n                                        id: v.id,\n                                        userId: v.userId,\n                                        videoUrl: v.videoUrl\n                                    });\n                                })\n                            }) : undefined;\n                            return (0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_14__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({\n                                id: doc.id\n                            }, data), {\n                                challenge: challenge,\n                                createdAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_8__.convertFirestoreTimestamp)(data.createdAt),\n                                updatedAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_8__.convertFirestoreTimestamp)(data.updatedAt)\n                            });\n                        });\n                        // console.log('All challenges after processing:', JSON.stringify(allChallenges, null, 2));\n                        // Filter for active challenges (endDate > current date)\n                        activeChallenges = allChallenges.filter(function(userChallenge) {\n                            var _userChallenge_challenge;\n                            var endDate = (_userChallenge_challenge = userChallenge.challenge) === null || _userChallenge_challenge === void 0 ? void 0 : _userChallenge_challenge.endDate;\n                            // console.log(\n                            //   `Evaluating challenge ID: ${userChallenge.id}, End Date: ${endDate}, Current Date: ${new Date()}`\n                            // );\n                            return endDate && endDate > new Date();\n                        });\n                        // console.log(`Total active challenges: ${activeChallenges.length}`, activeChallenges);\n                        return [\n                            2,\n                            activeChallenges\n                        ];\n                    case 3:\n                        error = _state.sent();\n                        console.error(\"Error fetching active challenges:\", error);\n                        throw error;\n                    case 4:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    /**\n   * Fetch user challenges by userId.\n   * @returns A promise resolving to an array of challenges.\n   * @throws If no user is signed in or if the Firestore query fails.\n   */ _proto.fetchUserChallenges = function fetchUserChallenges() {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var currentUser, userChallengesRef, q, snapshot, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        currentUser = _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser;\n                        if (!(currentUser === null || currentUser === void 0 ? void 0 : currentUser.id)) {\n                            throw new Error(\"No user is signed in\");\n                        }\n                        // Reference to the user-challenge collection\n                        userChallengesRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"user-challenge\");\n                        // Query challenges where userId matches the current user's ID\n                        q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(userChallengesRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"userId\", \"==\", currentUser.id));\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            3,\n                            ,\n                            4\n                        ]);\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q)\n                        ];\n                    case 2:\n                        snapshot = _state.sent();\n                        // Map documents to an array of Challenge objects\n                        return [\n                            2,\n                            snapshot.docs.map(function(doc) {\n                                return new _workout_types__WEBPACK_IMPORTED_MODULE_6__.UserChallenge((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({\n                                    id: doc.id\n                                }, doc.data()));\n                            })\n                        ];\n                    case 3:\n                        error = _state.sent();\n                        console.error(\"Error fetching user challenges:\", error);\n                        throw new Error(\"Failed to fetch user challenges\");\n                    case 4:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    //update the workout summary,\n    _proto.updateWorkoutSummary = function updateWorkoutSummary(param) {\n        var userId = param.userId, workoutId = param.workoutId, summary = param.summary;\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var summaryRef, summaryData, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        if (!userId) {\n                            throw new Error(\"No user ID provided\");\n                        }\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            3,\n                            ,\n                            4\n                        ]);\n                        summaryRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", userId, \"workoutSummary\", summary.id);\n                        // Update the updatedAt timestamp\n                        summary.updatedAt = new Date();\n                        // Use the toDictionary method to convert to Firestore format\n                        summaryData = summary.toDictionary();\n                        console.log(\"Updating workout summary:\", {\n                            path: \"users/\".concat(userId, \"/workoutSummary/\").concat(summary.id),\n                            data: summaryData\n                        });\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)(summaryRef, summaryData, {\n                                merge: true\n                            })\n                        ];\n                    case 2:\n                        _state.sent();\n                        console.log(\"Workout summary document updated successfully\");\n                        return [\n                            3,\n                            4\n                        ];\n                    case 3:\n                        error = _state.sent();\n                        console.error(\"Error updating workout summary:\", error);\n                        throw error;\n                    case 4:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    _proto.updateWorkoutLogs = function updateWorkoutLogs(param) {\n        var userId = param.userId, workoutId = param.workoutId, logs = param.logs;\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var workoutRef, logsRef, batch, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        _state.trys.push([\n                            0,\n                            2,\n                            ,\n                            3\n                        ]);\n                        workoutRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", userId, \"workoutSessions\", workoutId);\n                        logsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(workoutRef, \"logs\");\n                        batch = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.writeBatch)(_config__WEBPACK_IMPORTED_MODULE_1__.db);\n                        logs.forEach(function(log) {\n                            var logDocRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(logsRef, log.id);\n                            batch.update(logDocRef, (0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({}, log.toDictionary()));\n                        });\n                        return [\n                            4,\n                            batch.commit()\n                        ];\n                    case 1:\n                        _state.sent();\n                        return [\n                            3,\n                            3\n                        ];\n                    case 2:\n                        error = _state.sent();\n                        console.error(\"Error updating workout logs:\", error);\n                        throw error;\n                    case 3:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    // The cancelWorkout method  it deletes the workout session and summary (if any),\n    // cleans up the local state, and logs the cancellation.\n    _proto.cancelWorkout = function cancelWorkout(workout, workoutSummary) {\n        var _this = this;\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var _userService_currentUser, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        if (!((_userService_currentUser = _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser) === null || _userService_currentUser === void 0 ? void 0 : _userService_currentUser.id) || !workout) {\n                            throw new Error(\"User not authenticated.\");\n                        }\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            5,\n                            ,\n                            6\n                        ]);\n                        return [\n                            4,\n                            _this.deleteWorkoutSession(workout.id)\n                        ];\n                    case 2:\n                        _state.sent();\n                        if (!workoutSummary) return [\n                            3,\n                            4\n                        ];\n                        return [\n                            4,\n                            _this.deleteWorkoutSummary(workoutSummary.id)\n                        ];\n                    case 3:\n                        _state.sent();\n                        _state.label = 4;\n                    case 4:\n                        _this.cleanUpWorkoutInProgress();\n                        console.log(\"Workout canceled and cleaned up successfully.\");\n                        return [\n                            3,\n                            6\n                        ];\n                    case 5:\n                        error = _state.sent();\n                        console.error(\"Error canceling workout:\", error);\n                        throw error;\n                    case 6:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    // Deletes a workout session document and all its subcollection \"logs\"\n    _proto.deleteWorkoutSession = function deleteWorkoutSession(workoutId) {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var _userService_currentUser, userId, workoutRef, logsRef, logsSnapshot, batch, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        if (!((_userService_currentUser = _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser) === null || _userService_currentUser === void 0 ? void 0 : _userService_currentUser.id) || !workoutId) {\n                            throw new Error(\"User not authenticated.\");\n                        }\n                        userId = _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser.id;\n                        workoutRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", userId, \"workoutSessions\", workoutId);\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            4,\n                            ,\n                            5\n                        ]);\n                        // Delete all logs in the subcollection\n                        logsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(workoutRef, \"logs\");\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(logsRef)\n                        ];\n                    case 2:\n                        logsSnapshot = _state.sent();\n                        batch = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.writeBatch)(_config__WEBPACK_IMPORTED_MODULE_1__.db);\n                        logsSnapshot.docs.forEach(function(logDoc) {\n                            batch[\"delete\"](logDoc.ref);\n                        });\n                        // Delete the main workout document\n                        batch[\"delete\"](workoutRef);\n                        return [\n                            4,\n                            batch.commit()\n                        ];\n                    case 3:\n                        _state.sent();\n                        console.log(\"Workout session and logs deleted successfully.\");\n                        return [\n                            3,\n                            5\n                        ];\n                    case 4:\n                        error = _state.sent();\n                        console.error(\"Error deleting workout session:\", error);\n                        throw error;\n                    case 5:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    // Deletes the workout summary document.\n    _proto.deleteWorkoutSummary = function deleteWorkoutSummary(workoutSummaryId) {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var _userService_currentUser, summaryRef, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        if (!workoutSummaryId || !((_userService_currentUser = _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser) === null || _userService_currentUser === void 0 ? void 0 : _userService_currentUser.id)) {\n                            return [\n                                2\n                            ];\n                        }\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            3,\n                            ,\n                            4\n                        ]);\n                        summaryRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser.id, \"workoutSummary\", workoutSummaryId);\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.deleteDoc)(summaryRef)\n                        ];\n                    case 2:\n                        _state.sent();\n                        console.log(\"Workout summary deleted successfully.\");\n                        return [\n                            3,\n                            4\n                        ];\n                    case 3:\n                        error = _state.sent();\n                        console.error(\"Error deleting workout summary:\", error);\n                        throw error;\n                    case 4:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    // Clean up local storage and in-memory workout state.\n    _proto.cleanUpWorkoutInProgress = function cleanUpWorkoutInProgress() {\n        _redux_store__WEBPACK_IMPORTED_MODULE_9__.store.dispatch((0,_redux_workoutSlice__WEBPACK_IMPORTED_MODULE_10__.resetWorkoutState)());\n    };\n    /**\n   * Fetch the workout session from Firestore, returning { workout, logs }.\n   * Checks first for a QueuedUp session, then for InProgress.\n   */ _proto.fetchCurrentWorkoutSession = function fetchCurrentWorkoutSession(userId) {\n        var _this = this;\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var exerciseSnapshot, videoSnapshot, exerciseVideos, exercisesWithVideos, workoutSessionsRef, q, snap;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        if (!userId) throw new Error(\"No user ID provided\");\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"exercises\"))\n                        ];\n                    case 1:\n                        exerciseSnapshot = _state.sent();\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"exerciseVideos\"))\n                        ];\n                    case 2:\n                        videoSnapshot = _state.sent();\n                        exerciseVideos = videoSnapshot.docs.map(function(doc) {\n                            return new _exercise_types__WEBPACK_IMPORTED_MODULE_3__.ExerciseVideo((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({\n                                id: doc.id\n                            }, doc.data()));\n                        });\n                        exercisesWithVideos = exerciseSnapshot.docs.map(function(doc) {\n                            var exercise = new _exercise_types__WEBPACK_IMPORTED_MODULE_3__.Exercise((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({\n                                id: doc.id\n                            }, doc.data()));\n                            var matchingVideos = exerciseVideos.filter(function(video) {\n                                return video.exercise.toLowerCase() === exercise.name.toLowerCase();\n                            });\n                            return new _exercise_types__WEBPACK_IMPORTED_MODULE_3__.Exercise((0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_14__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({}, exercise), {\n                                videos: matchingVideos\n                            }));\n                        });\n                        workoutSessionsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", userId, \"workoutSessions\");\n                        q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(workoutSessionsRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"status\", \"==\", _workout_types__WEBPACK_IMPORTED_MODULE_6__.WorkoutStatus.QueuedUp));\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q)\n                        ];\n                    case 3:\n                        snap = _state.sent();\n                        if (!snap.empty) {\n                            return [\n                                2,\n                                _this.processWorkoutSessionDocument(snap.docs[0], exercisesWithVideos)\n                            ];\n                        }\n                        q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(workoutSessionsRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"status\", \"==\", _workout_types__WEBPACK_IMPORTED_MODULE_6__.WorkoutStatus.InProgress));\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q)\n                        ];\n                    case 4:\n                        snap = _state.sent();\n                        if (!snap.empty) {\n                            return [\n                                2,\n                                _this.processWorkoutSessionDocument(snap.docs[0], exercisesWithVideos)\n                            ];\n                        }\n                        return [\n                            2,\n                            {\n                                workout: null,\n                                logs: null\n                            }\n                        ];\n                }\n            });\n        })();\n    };\n    _proto.fetchAndMapExercisesWithVideos = function fetchAndMapExercisesWithVideos() {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var exerciseSnapshot, exercises, videoSnapshot, exerciseVideos, exercisesWithVideos, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        _state.trys.push([\n                            0,\n                            3,\n                            ,\n                            4\n                        ]);\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"exercises\"))\n                        ];\n                    case 1:\n                        exerciseSnapshot = _state.sent();\n                        exercises = exerciseSnapshot.docs.map(function(doc) {\n                            return new _exercise_types__WEBPACK_IMPORTED_MODULE_3__.Exercise((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({\n                                id: doc.id\n                            }, doc.data()));\n                        });\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"exerciseVideos\"))\n                        ];\n                    case 2:\n                        videoSnapshot = _state.sent();\n                        exerciseVideos = videoSnapshot.docs.map(function(doc) {\n                            return new _exercise_types__WEBPACK_IMPORTED_MODULE_3__.ExerciseVideo((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({\n                                id: doc.id\n                            }, doc.data()));\n                        });\n                        // console.log(`Fetched ${exerciseVideos.length} exercise videos`);\n                        // 3. Map videos to exercises\n                        exercisesWithVideos = exercises.map(function(exercise) {\n                            var matchingVideos = exerciseVideos.filter(function(video) {\n                                return video.exercise.toLowerCase() === exercise.name.toLowerCase();\n                            });\n                            return new _exercise_types__WEBPACK_IMPORTED_MODULE_3__.Exercise((0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_14__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({}, exercise), {\n                                videos: matchingVideos\n                            }));\n                        });\n                        // console.log('Finished mapping exercises with videos');\n                        // console.log(`Total exercises with videos: ${exercisesWithVideos.length}`);\n                        return [\n                            2,\n                            exercisesWithVideos\n                        ];\n                    case 3:\n                        error = _state.sent();\n                        console.error(\"Error fetching and mapping exercises with videos:\", error);\n                        throw error;\n                    case 4:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    /**\n   * Helper to build the Workout object + any logs from the snapshot.\n   */ _proto.fetchAllWorkoutSessions = function fetchAllWorkoutSessions(userId) {\n        var _this = this;\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var exerciseSnapshot, exercises, videoSnapshot, exerciseVideos, exercisesWithVideos, workoutSessionsRef, snap, sessions, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        if (!userId) {\n                            throw new Error(\"No user ID provided\");\n                        }\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            6,\n                            ,\n                            7\n                        ]);\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"exercises\"))\n                        ];\n                    case 2:\n                        exerciseSnapshot = _state.sent();\n                        exercises = exerciseSnapshot.docs.map(function(doc) {\n                            return new _exercise_types__WEBPACK_IMPORTED_MODULE_3__.Exercise((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({\n                                id: doc.id\n                            }, doc.data()));\n                        });\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"exerciseVideos\"))\n                        ];\n                    case 3:\n                        videoSnapshot = _state.sent();\n                        exerciseVideos = videoSnapshot.docs.map(function(doc) {\n                            return new _exercise_types__WEBPACK_IMPORTED_MODULE_3__.ExerciseVideo((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({\n                                id: doc.id\n                            }, doc.data()));\n                        });\n                        exercisesWithVideos = exercises.map(function(exercise) {\n                            var matchingVideos = exerciseVideos.filter(function(video) {\n                                return video.exercise.toLowerCase() === exercise.name.toLowerCase();\n                            });\n                            return new _exercise_types__WEBPACK_IMPORTED_MODULE_3__.Exercise((0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_14__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({}, exercise), {\n                                videos: matchingVideos\n                            }));\n                        });\n                        workoutSessionsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", userId, \"workoutSessions\");\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(workoutSessionsRef)\n                        ];\n                    case 4:\n                        snap = _state.sent();\n                        if (snap.empty) {\n                            console.log(\"No workout sessions found for user\");\n                            return [\n                                2,\n                                []\n                            ];\n                        }\n                        return [\n                            4,\n                            Promise.all(snap.docs.map(function() {\n                                var _ref = (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function(doc) {\n                                    var sessionData;\n                                    return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                                        switch(_state.label){\n                                            case 0:\n                                                return [\n                                                    4,\n                                                    _this.processWorkoutSessionDocument(doc, exercisesWithVideos)\n                                                ];\n                                            case 1:\n                                                sessionData = _state.sent();\n                                                if (sessionData.logs) {\n                                                    sessionData.logs.sort(function(a, b) {\n                                                        var _a_order;\n                                                        var orderA = (_a_order = a.order) !== null && _a_order !== void 0 ? _a_order : 0;\n                                                        var _b_order;\n                                                        var orderB = (_b_order = b.order) !== null && _b_order !== void 0 ? _b_order : 0;\n                                                        return orderA - orderB;\n                                                    });\n                                                }\n                                                return [\n                                                    2,\n                                                    sessionData\n                                                ];\n                                        }\n                                    });\n                                });\n                                return function(doc) {\n                                    return _ref.apply(this, arguments);\n                                };\n                            }()))\n                        ];\n                    case 5:\n                        sessions = _state.sent();\n                        return [\n                            2,\n                            sessions\n                        ];\n                    case 6:\n                        error = _state.sent();\n                        console.error(\"Error fetching workout sessions:\", error);\n                        throw error;\n                    case 7:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    // Add the updateUserChallenge method\n    _proto.updateUserChallenge = function updateUserChallenge(challenge) {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var _userService_currentUser, challengeRef, challengeData, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        if (!((_userService_currentUser = _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser) === null || _userService_currentUser === void 0 ? void 0 : _userService_currentUser.id)) {\n                            throw new Error(\"No user is signed in\");\n                        }\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            3,\n                            ,\n                            4\n                        ]);\n                        challengeRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"user-challenge\", challenge.id);\n                        challengeData = (0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_14__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({}, challenge), {\n                            updatedAt: new Date()\n                        });\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)(challengeRef, challengeData, {\n                                merge: true\n                            })\n                        ];\n                    case 2:\n                        _state.sent();\n                        console.log(\"User challenge updated successfully\");\n                        return [\n                            3,\n                            4\n                        ];\n                    case 3:\n                        error = _state.sent();\n                        console.error(\"Error updating user challenge:\", error);\n                        throw error;\n                    case 4:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    _proto.updateCollection = function updateCollection(collection) {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var collRef, newDocRef, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        _state.trys.push([\n                            0,\n                            2,\n                            ,\n                            3\n                        ]);\n                        collRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"sweatlist-collection\");\n                        // If collection.id is empty, generate a new doc ID and assign it.\n                        if (!collection.id || collection.id.trim() === \"\") {\n                            newDocRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(collRef);\n                            collection.id = newDocRef.id;\n                        }\n                        // Ensure the challenge id matches the collection id.\n                        if (collection.challenge) {\n                            collection.challenge.id = collection.id;\n                        }\n                        // Update the updatedAt field.\n                        collection.updatedAt = new Date();\n                        // Save the collection to Firestore.\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(collRef, collection.id), collection.toDictionary())\n                        ];\n                    case 1:\n                        _state.sent();\n                        console.log(\"Collection updated successfully\");\n                        return [\n                            2,\n                            collection\n                        ];\n                    case 2:\n                        error = _state.sent();\n                        console.error(\"Error updating collection document:\", error);\n                        throw new Error(\"Error while updating the collection\");\n                    case 3:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    _proto.processWorkoutSessionDocument = function processWorkoutSessionDocument(workoutDoc, exercisesWithVideos) {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var data, mappedExercises, workout, logsRef, logsSnapshot, logs;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        data = workoutDoc.data();\n                        // Map exercises with their full data and videos\n                        mappedExercises = (data.exercises || []).map(function(exerciseRef) {\n                            var _exerciseRef_exercise_name, _exerciseRef_exercise;\n                            // Find the full exercise with videos\n                            var exerciseNameLower = (_exerciseRef_exercise = exerciseRef.exercise) === null || _exerciseRef_exercise === void 0 ? void 0 : (_exerciseRef_exercise_name = _exerciseRef_exercise.name) === null || _exerciseRef_exercise_name === void 0 ? void 0 : _exerciseRef_exercise_name.toLowerCase().trim();\n                            var fullExercise = exercisesWithVideos.find(function(ex) {\n                                return ex.name.toLowerCase().trim() === exerciseNameLower;\n                            });\n                            // If full exercise found, return it, otherwise use the original\n                            return (0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_14__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({}, exerciseRef), {\n                                exercise: fullExercise || exerciseRef.exercise\n                            });\n                        });\n                        // Create the workout with mapped exercises\n                        workout = new _workout_types__WEBPACK_IMPORTED_MODULE_6__.Workout({\n                            id: workoutDoc.id,\n                            roundWorkoutId: data.roundWorkoutId || \"\",\n                            exercises: mappedExercises,\n                            title: data.title || \"\",\n                            description: data.description || \"\",\n                            duration: data.duration || 0,\n                            useAuthorContent: data.useAuthorContent || false,\n                            isCompleted: data.isCompleted || false,\n                            workoutStatus: data.workoutStatus || _workout_types__WEBPACK_IMPORTED_MODULE_6__.WorkoutStatus.Archived,\n                            author: data.author || \"\",\n                            createdAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_8__.convertFirestoreTimestamp)(data.createdAt),\n                            updatedAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_8__.convertFirestoreTimestamp)(data.updatedAt),\n                            startTime: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_8__.convertFirestoreTimestamp)(data.startTime),\n                            collectionId: data.collectionId,\n                            challenge: data.challenge,\n                            logs: (data.logs || []).map(function(logData) {\n                                var _logData_exercise_name, _logData_exercise;\n                                // Map logs with full exercises\n                                var exerciseNameLower = (_logData_exercise = logData.exercise) === null || _logData_exercise === void 0 ? void 0 : (_logData_exercise_name = _logData_exercise.name) === null || _logData_exercise_name === void 0 ? void 0 : _logData_exercise_name.toLowerCase().trim();\n                                var fullExercise = exercisesWithVideos.find(function(ex) {\n                                    return ex.name.toLowerCase().trim() === exerciseNameLower;\n                                });\n                                return (0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_14__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({}, logData), {\n                                    exercise: fullExercise || logData.exercise\n                                });\n                            }),\n                            workoutRating: data.workoutRating,\n                            order: data.order,\n                            zone: data.zone || _workout_types__WEBPACK_IMPORTED_MODULE_6__.BodyZone.FullBody\n                        });\n                        // Fetch logs from subcollection\n                        logsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(workoutDoc.ref, \"logs\");\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(logsRef)\n                        ];\n                    case 1:\n                        logsSnapshot = _state.sent();\n                        logs = logsSnapshot.docs.map(function(logDoc) {\n                            var _logData_exercise_name, _logData_exercise;\n                            var logData = logDoc.data();\n                            // Find the full exercise with videos\n                            var exerciseNameLower = (_logData_exercise = logData.exercise) === null || _logData_exercise === void 0 ? void 0 : (_logData_exercise_name = _logData_exercise.name) === null || _logData_exercise_name === void 0 ? void 0 : _logData_exercise_name.toLowerCase().trim();\n                            var fullExercise = exercisesWithVideos.find(function(ex) {\n                                return ex.name.toLowerCase().trim() === exerciseNameLower;\n                            });\n                            var updatedExercise = fullExercise ? (0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_14__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({}, fullExercise), {\n                                category: logData.exercise.category\n                            }) : logData.exercise;\n                            // Prepare log data with full exercise\n                            var preparedLogData = (0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_14__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({}, logData), {\n                                id: logDoc.id,\n                                workoutId: workout.id,\n                                exercise: updatedExercise,\n                                createdAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_8__.convertFirestoreTimestamp)(logData.createdAt),\n                                updatedAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_8__.convertFirestoreTimestamp)(logData.updatedAt)\n                            });\n                            // Use the ExerciseLog constructor to ensure proper mapping\n                            return new _exercise_types__WEBPACK_IMPORTED_MODULE_3__.ExerciseLog(preparedLogData);\n                        });\n                        return [\n                            2,\n                            {\n                                workout: workout,\n                                logs: logs\n                            }\n                        ];\n                }\n            });\n        })();\n    };\n    _proto.saveWorkoutSession = function saveWorkoutSession(param) {\n        var userId = param.userId, workout = param.workout, logs = param.logs;\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var currentDate, cleanWorkout, workoutSessionRef, logsRef, logBatch, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        if (!userId) throw new Error(\"No user ID provided\");\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            4,\n                            ,\n                            5\n                        ]);\n                        console.log(\"Incoming logs:\", logs.map(function(log) {\n                            var _log_exercise_category;\n                            return {\n                                name: log.exercise.name,\n                                category: log.exercise.category,\n                                originalType: (_log_exercise_category = log.exercise.category) === null || _log_exercise_category === void 0 ? void 0 : _log_exercise_category.type\n                            };\n                        }));\n                        currentDate = new Date();\n                        cleanWorkout = new _workout_types__WEBPACK_IMPORTED_MODULE_6__.Workout((0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_14__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({}, workout), {\n                            roundWorkoutId: \"\".concat(workout.id, \"-\").concat(currentDate.getTime()),\n                            workoutStatus: _workout_types__WEBPACK_IMPORTED_MODULE_6__.WorkoutStatus.QueuedUp,\n                            createdAt: currentDate,\n                            updatedAt: currentDate,\n                            startTime: currentDate,\n                            logs: []\n                        }));\n                        workoutSessionRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", userId, \"workoutSessions\"));\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)(workoutSessionRef, cleanWorkout.toDictionary())\n                        ];\n                    case 2:\n                        _state.sent();\n                        logsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(workoutSessionRef, \"logs\");\n                        logBatch = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.writeBatch)(_config__WEBPACK_IMPORTED_MODULE_1__.db);\n                        logs.forEach(function(log, index) {\n                            var _log_exercise_category, _log_exercise_category1, _log_exercise_category_details, _log_exercise_category_details1, _log_exercise_category_details2, _log_exercise_category_details3, _log_exercise_category_details4, _log_exercise_category_details5, _log_exercise_category2, _log_exercise_category_details6, _log_exercise_category3, _log_exercise_category_details7, _log_exercise_category4, _log_exercise_category_details8, _log_exercise_category5, _log_exercise_category_details9, _log_exercise_category6;\n                            var logDocRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(logsRef, \"\".concat(log.id, \"-\").concat(currentDate.getTime()));\n                            console.log(\"Processing log \".concat(index, \":\"), {\n                                name: log.exercise.name,\n                                originalCategory: log.exercise.category,\n                                originalType: (_log_exercise_category = log.exercise.category) === null || _log_exercise_category === void 0 ? void 0 : _log_exercise_category.type\n                            });\n                            // Preserve the category structure\n                            var exerciseWithCategory = (0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_14__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_15__._)({}, log.exercise.toDictionary()), {\n                                category: ((_log_exercise_category1 = log.exercise.category) === null || _log_exercise_category1 === void 0 ? void 0 : _log_exercise_category1.type) === \"weight-training\" ? {\n                                    type: \"weight-training\",\n                                    details: {\n                                        sets: ((_log_exercise_category_details = log.exercise.category.details) === null || _log_exercise_category_details === void 0 ? void 0 : _log_exercise_category_details.sets) || 3,\n                                        reps: ((_log_exercise_category_details1 = log.exercise.category.details) === null || _log_exercise_category_details1 === void 0 ? void 0 : _log_exercise_category_details1.reps) || [\n                                            \"12\"\n                                        ],\n                                        weight: ((_log_exercise_category_details2 = log.exercise.category.details) === null || _log_exercise_category_details2 === void 0 ? void 0 : _log_exercise_category_details2.weight) || 0,\n                                        screenTime: ((_log_exercise_category_details3 = log.exercise.category.details) === null || _log_exercise_category_details3 === void 0 ? void 0 : _log_exercise_category_details3.screenTime) || 0,\n                                        selectedVideo: ((_log_exercise_category_details4 = log.exercise.category.details) === null || _log_exercise_category_details4 === void 0 ? void 0 : _log_exercise_category_details4.selectedVideo) || null\n                                    }\n                                } : {\n                                    type: \"cardio\",\n                                    details: {\n                                        duration: ((_log_exercise_category2 = log.exercise.category) === null || _log_exercise_category2 === void 0 ? void 0 : (_log_exercise_category_details5 = _log_exercise_category2.details) === null || _log_exercise_category_details5 === void 0 ? void 0 : _log_exercise_category_details5.duration) || 60,\n                                        bpm: ((_log_exercise_category3 = log.exercise.category) === null || _log_exercise_category3 === void 0 ? void 0 : (_log_exercise_category_details6 = _log_exercise_category3.details) === null || _log_exercise_category_details6 === void 0 ? void 0 : _log_exercise_category_details6.bpm) || 140,\n                                        calories: ((_log_exercise_category4 = log.exercise.category) === null || _log_exercise_category4 === void 0 ? void 0 : (_log_exercise_category_details7 = _log_exercise_category4.details) === null || _log_exercise_category_details7 === void 0 ? void 0 : _log_exercise_category_details7.calories) || 0,\n                                        screenTime: ((_log_exercise_category5 = log.exercise.category) === null || _log_exercise_category5 === void 0 ? void 0 : (_log_exercise_category_details8 = _log_exercise_category5.details) === null || _log_exercise_category_details8 === void 0 ? void 0 : _log_exercise_category_details8.screenTime) || 0,\n                                        selectedVideo: ((_log_exercise_category6 = log.exercise.category) === null || _log_exercise_category6 === void 0 ? void 0 : (_log_exercise_category_details9 = _log_exercise_category6.details) === null || _log_exercise_category_details9 === void 0 ? void 0 : _log_exercise_category_details9.selectedVideo) || null\n                                    }\n                                }\n                            });\n                            console.log(\"Saving exercise with category:\", exerciseWithCategory.category);\n                            logBatch.set(logDocRef, {\n                                id: logDocRef.id,\n                                workoutId: workoutSessionRef.id,\n                                exercise: exerciseWithCategory,\n                                order: index,\n                                createdAt: currentDate.getTime(),\n                                updatedAt: currentDate.getTime(),\n                                logSubmitted: false,\n                                isCompleted: false\n                            });\n                        });\n                        return [\n                            4,\n                            logBatch.commit()\n                        ];\n                    case 3:\n                        _state.sent();\n                        return [\n                            2,\n                            cleanWorkout\n                        ];\n                    case 4:\n                        error = _state.sent();\n                        console.error(\"Error saving workout session:\", error);\n                        throw error;\n                    case 5:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    /**\n   * Example \"join challenge\" method using the client SDK (no admin privileges).\n   * This creates a doc in `user-challenge` with the userId, challengeId, etc.\n   */ _proto.joinChallenge = function joinChallenge(param) {\n        var username = param.username, challengeId = param.challengeId;\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_12__._)(function() {\n            var currentUser, usersRef, userQuery, userSnapshot, userDoc, userData, userId, challengeRef, challengeSnap, challenge, userChallengeId, userChallengeData;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_13__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        // 1) Make sure we have a signed-in user\n                        currentUser = _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser;\n                        if (!currentUser) {\n                            throw new Error(\"No user is signed in\");\n                        }\n                        // 2) Find the user doc by username\n                        usersRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\");\n                        userQuery = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(usersRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"username\", \"==\", username));\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(userQuery)\n                        ];\n                    case 1:\n                        userSnapshot = _state.sent();\n                        if (userSnapshot.empty) {\n                            throw new Error(\"User not found\");\n                        }\n                        userDoc = userSnapshot.docs[0];\n                        userData = userDoc.data();\n                        userId = userDoc.id;\n                        // 3) Check if the challenge doc exists\n                        challengeRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"sweatlist-collection\", challengeId);\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(challengeRef)\n                        ];\n                    case 2:\n                        challengeSnap = _state.sent();\n                        if (!challengeSnap.exists()) {\n                            throw new Error(\"Challenge not found\");\n                        }\n                        challenge = challengeSnap.data();\n                        // 4) Build new user-challenge document\n                        userChallengeId = \"\".concat(challengeId, \"-\").concat(userId, \"-\").concat(Date.now());\n                        userChallengeData = {\n                            id: userChallengeId,\n                            challenge: challenge,\n                            challengeId: challengeId,\n                            userId: userId,\n                            fcmToken: userData.fcmToken || \"\",\n                            profileImage: userData.profileImage || {},\n                            progress: 0,\n                            completedWorkouts: [],\n                            isCompleted: false,\n                            uid: userId,\n                            location: userData.location || null,\n                            city: \"\",\n                            country: \"\",\n                            timezone: \"\",\n                            username: username,\n                            joinDate: new Date(),\n                            createdAt: new Date(),\n                            updatedAt: new Date(),\n                            pulsePoints: {\n                                baseCompletion: 0,\n                                firstCompletion: 0,\n                                streakBonus: 0,\n                                checkInBonus: 0,\n                                effortRating: 0,\n                                chatParticipation: 0,\n                                locationCheckin: 0,\n                                contentEngagement: 0,\n                                encouragementSent: 0,\n                                encouragementReceived: 0\n                            },\n                            currentStreak: 0,\n                            encouragedUsers: [],\n                            encouragedByUsers: [],\n                            checkIns: []\n                        };\n                        // 5) Store user-challenge doc\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"user-challenge\", userChallengeId), userChallengeData)\n                        ];\n                    case 3:\n                        _state.sent();\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    (0,_swc_helpers_create_class__WEBPACK_IMPORTED_MODULE_19__._)(WorkoutService, [\n        {\n            key: \"currentWorkout\",\n            get: // Replace getters/setters to use Redux\n            function get() {\n                return _redux_store__WEBPACK_IMPORTED_MODULE_9__.store.getState().workout.currentWorkout;\n            },\n            set: function set(workout) {\n                _redux_store__WEBPACK_IMPORTED_MODULE_9__.store.dispatch((0,_redux_workoutSlice__WEBPACK_IMPORTED_MODULE_10__.setCurrentWorkout)(workout));\n            }\n        },\n        {\n            key: \"currentWorkoutLogs\",\n            get: function get() {\n                return _redux_store__WEBPACK_IMPORTED_MODULE_9__.store.getState().workout.currentExerciseLogs;\n            },\n            set: function set(logs) {\n                _redux_store__WEBPACK_IMPORTED_MODULE_9__.store.dispatch((0,_redux_workoutSlice__WEBPACK_IMPORTED_MODULE_10__.setCurrentExerciseLogs)(logs));\n            }\n        },\n        {\n            key: \"currentWorkoutSummary\",\n            get: function get() {\n                return _redux_store__WEBPACK_IMPORTED_MODULE_9__.store.getState().workout.workoutSummary;\n            },\n            set: function set(workoutSummary) {\n                _redux_store__WEBPACK_IMPORTED_MODULE_9__.store.dispatch((0,_redux_workoutSlice__WEBPACK_IMPORTED_MODULE_10__.setWorkoutSummary)(workoutSummary));\n            }\n        }\n    ]);\n    return WorkoutService;\n}();\nvar workoutService = new WorkoutService();\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q25CQyxtQkFBbUI7Z0NBQ25CQyx1QkFBdUI7NEJBQ3pCOzRCQUNBQyxlQUFlOzRCQUNmQyxlQUFlOzRCQUNmQyxpQkFBaUI7NEJBQ2pCQyxRQUFRO3dCQUNWO3dCQUVBLDhCQUE4Qjt3QkFDOUI7OzRCQUFNL1MsMERBQU1BLENBQUNSLHVEQUFHQSxDQUFDVyx1Q0FBRUEsRUFBRSxrQkFBa0JpUixrQkFBa0JDOzs7d0JBQXpEOzs7Ozs7UUFDRjs7a0VBNTlDSTFQOztZQUdBcVIsS0FBQUE7aUJBQUosdUNBRHFDO1lBQ3JDO2dCQUNFLE9BQU8xUiwrQ0FBS0EsQ0FBQzJSLFFBQVEsR0FBR3JNLE9BQU8sQ0FBQ29NLGNBQWM7WUFDaEQ7aUJBRUEsYUFBbUJwTSxPQUF1QjtnQkFDeEN0RiwrQ0FBS0EsQ0FBQytNLFFBQVEsQ0FBQzlNLHVFQUFpQkEsQ0FBQ3FGO1lBQ25DOzs7WUFFSXNNLEtBQUFBO2lCQUFKO2dCQUNFLE9BQU81UiwrQ0FBS0EsQ0FBQzJSLFFBQVEsR0FBR3JNLE9BQU8sQ0FBQ3VNLG1CQUFtQjtZQUNyRDtpQkFFQSxhQUF1QnpOLElBQW1CO2dCQUN4Q3BFLCtDQUFLQSxDQUFDK00sUUFBUSxDQUFDN00sNEVBQXNCQSxDQUFDa0U7WUFDeEM7OztZQUVJME4sS0FBQUE7aUJBQUo7Z0JBQ0UsT0FBTzlSLCtDQUFLQSxDQUFDMlIsUUFBUSxHQUFHck0sT0FBTyxDQUFDa0gsY0FBYztZQUNoRDtpQkFFQSxhQUEwQkEsY0FBOEI7Z0JBQ3REeE0sK0NBQUtBLENBQUMrTSxRQUFRLENBQUMzTSx1RUFBaUJBLENBQUNvTTtZQUNuQzs7O1dBekJJbk07O0FBKzlDQyxJQUFNd0MsaUJBQWlCLElBQUl4QyxpQkFBaUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2FwaS9maXJlYmFzZS93b3Jrb3V0L3NlcnZpY2UudHM/YzVlMiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvYXBpL2ZpcmViYXNlL3dvcmtvdXQvc2VydmljZS50c1xuaW1wb3J0IHtcbiAgY29sbGVjdGlvbixcbiAgZG9jLFxuICBnZXREb2NzLFxuICBnZXREb2MsXG4gIHVwZGF0ZURvYyxcbiAgcXVlcnksXG4gIHdoZXJlLFxuICBvcmRlckJ5LCBcbiAgRG9jdW1lbnREYXRhLFxuICBRdWVyeURvY3VtZW50U25hcHNob3QsXG4gIGNvbGxlY3Rpb24gYXMgZnNDb2xsZWN0aW9uLFxuICBzZXREb2MsXG4gIGRlbGV0ZURvYyxcbiAgd3JpdGVCYXRjaFxufSBmcm9tICdmaXJlYmFzZS9maXJlc3RvcmUnO1xuXG5pbXBvcnQgeyBkYiB9IGZyb20gJy4uL2NvbmZpZyc7XG5pbXBvcnQgeyB1c2VyU2VydmljZSB9IGZyb20gJy4uL3VzZXInO1xuaW1wb3J0IHsgXG4gIEV4ZXJjaXNlTG9nLCBcbiAgRXhlcmNpc2VDYXRlZ29yeSwgXG4gIEV4ZXJjaXNlLCBcbiAgQm9keVBhcnQsIFxuICBFeGVyY2lzZVZpZGVvLCBcbiAgRXhlcmNpc2VBdXRob3IsIFxuICBFeGVyY2lzZVZpZGVvVmlzaWJpbGl0eSwgXG4gIEV4ZXJjaXNlRGV0YWlsLCBcbiAgRXhlcmNpc2VSZWZlcmVuY2UgfSBmcm9tICcuLi9leGVyY2lzZS90eXBlcyc7XG5pbXBvcnQgeyBleGVyY2lzZVNlcnZpY2UgfSBmcm9tICcuLi9leGVyY2lzZS9zZXJ2aWNlJztcbmltcG9ydCB7IFByb2ZpbGVJbWFnZSwgVXNlciB9IGZyb20gJy4uL3VzZXIvdHlwZXMnXG5pbXBvcnQgeyBXb3Jrb3V0LCBXb3Jrb3V0U3VtbWFyeSwgQm9keVpvbmUsIEludHJvVmlkZW8sIFJlcHNBbmRXZWlnaHRMb2csIFdvcmtvdXRSYXRpbmcgfSBmcm9tICcuLi93b3Jrb3V0L3R5cGVzJztcbmltcG9ydCB7IFdvcmtvdXRTdGF0dXMsIFN3ZWF0bGlzdENvbGxlY3Rpb24gfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IGZvcm1hdCB9IGZyb20gJ2RhdGUtZm5zJzsgXG5pbXBvcnQgeyBjb252ZXJ0VGltZXN0YW1wLCBzZXJ2ZXJUaW1lc3RhbXAgfSBmcm9tICcuLi8uLi8uLi91dGlscy90aW1lc3RhbXAnOyAvLyBBZGp1c3QgdGhlIGltcG9ydCBwYXRoXG5pbXBvcnQgeyBjb252ZXJ0RmlyZXN0b3JlVGltZXN0YW1wIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvZm9ybWF0RGF0ZSc7XG5pbXBvcnQgeyBDaGFsbGVuZ2UsIENoYWxsZW5nZVN0YXR1cywgVXNlckNoYWxsZW5nZSB9IGZyb20gJy4uLy4uLy4uL2FwaS9maXJlYmFzZS93b3Jrb3V0L3R5cGVzJztcblxuaW1wb3J0IHsgc3RvcmUgfSBmcm9tICcuLi8uLi8uLi9yZWR1eC9zdG9yZSc7XG5pbXBvcnQgeyBzZXRDdXJyZW50V29ya291dCwgc2V0Q3VycmVudEV4ZXJjaXNlTG9ncywgcmVzZXRXb3Jrb3V0U3RhdGUsIHNldFdvcmtvdXRTdW1tYXJ5IH0gZnJvbSAnLi4vLi4vLi4vcmVkdXgvd29ya291dFNsaWNlJztcblxuXG5pbnRlcmZhY2UgRmlyZXN0b3JlRXJyb3Ige1xuICBjb2RlOiBzdHJpbmc7XG4gIG1lc3NhZ2U6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBzdGFjaz86IHN0cmluZztcbn1cblxuY2xhc3MgV29ya291dFNlcnZpY2Uge1xuXG4vLyBSZXBsYWNlIGdldHRlcnMvc2V0dGVycyB0byB1c2UgUmVkdXhcbiAgZ2V0IGN1cnJlbnRXb3Jrb3V0KCk6IFdvcmtvdXQgfCBudWxsIHtcbiAgICByZXR1cm4gc3RvcmUuZ2V0U3RhdGUoKS53b3Jrb3V0LmN1cnJlbnRXb3Jrb3V0O1xuICB9XG5cbiAgc2V0IGN1cnJlbnRXb3Jrb3V0KHdvcmtvdXQ6IFdvcmtvdXQgfCBudWxsKSB7XG4gICAgc3RvcmUuZGlzcGF0Y2goc2V0Q3VycmVudFdvcmtvdXQod29ya291dCkpO1xuICB9XG5cbiAgZ2V0IGN1cnJlbnRXb3Jrb3V0TG9ncygpOiBFeGVyY2lzZUxvZ1tdIHtcbiAgICByZXR1cm4gc3RvcmUuZ2V0U3RhdGUoKS53b3Jrb3V0LmN1cnJlbnRFeGVyY2lzZUxvZ3M7XG4gIH1cblxuICBzZXQgY3VycmVudFdvcmtvdXRMb2dzKGxvZ3M6IEV4ZXJjaXNlTG9nW10pIHtcbiAgICBzdG9yZS5kaXNwYXRjaChzZXRDdXJyZW50RXhlcmNpc2VMb2dzKGxvZ3MpKTtcbiAgfVxuXG4gIGdldCBjdXJyZW50V29ya291dFN1bW1hcnkoKTogV29ya291dFN1bW1hcnkgfCBudWxsIHtcbiAgICByZXR1cm4gc3RvcmUuZ2V0U3RhdGUoKS53b3Jrb3V0LndvcmtvdXRTdW1tYXJ5O1xuICB9XG5cbiAgc2V0IGN1cnJlbnRXb3Jrb3V0U3VtbWFyeSh3b3Jrb3V0U3VtbWFyeTogV29ya291dFN1bW1hcnkpIHtcbiAgICBzdG9yZS5kaXNwYXRjaChzZXRXb3Jrb3V0U3VtbWFyeSh3b3Jrb3V0U3VtbWFyeSkpO1xuICB9XG5cbiAgIGdlbmVyYXRlSWQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gZG9jKGNvbGxlY3Rpb24oZGIsICd3b3Jrb3V0cycpKS5pZDtcbiAgfVxuXG4gIGFzeW5jIGZldGNoV29ya291dFN1bW1hcnkoXG4gICAgdXNlcklkOiBzdHJpbmcsXG4gICAgd29ya291dElkOiBzdHJpbmcsXG4gICAgc3VtbWFyeUlkOiBzdHJpbmdcbiAgKTogUHJvbWlzZTxXb3Jrb3V0U3VtbWFyeSB8IG51bGw+IHtcbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coJ0ZldGNoaW5nIHdvcmtvdXQgc3VtbWFyeTonLCB7IHVzZXJJZCwgd29ya291dElkLCBzdW1tYXJ5SWQgfSk7XG4gICAgICBcbiAgICAgIC8vIEFzc3VtaW5nIHN1bW1hcmllcyBhcmUgc3RvcmVkIGluIGEgJ3dvcmtvdXRTdW1tYXJpZXMnIGNvbGxlY3Rpb25cbiAgICAgIGNvbnN0IHN1bW1hcnlSZWYgPSBkb2MoZGIsICd1c2VycycsIHVzZXJJZCwgJ3dvcmtvdXRTdW1tYXJ5Jywgc3VtbWFyeUlkKTtcbiAgICAgIGNvbnN0IHN1bW1hcnlEb2MgPSBhd2FpdCBnZXREb2Moc3VtbWFyeVJlZik7XG4gIFxuICAgICAgaWYgKCFzdW1tYXJ5RG9jLmV4aXN0cygpKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdTdW1tYXJ5IGRvY3VtZW50IG5vdCBmb3VuZCcpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgXG4gICAgICBjb25zdCBzdW1tYXJ5RGF0YSA9IHN1bW1hcnlEb2MuZGF0YSgpO1xuICAgICAgY29uc29sZS5sb2coJ0ZvdW5kIHN1bW1hcnkgZGF0YTonLCBzdW1tYXJ5RGF0YSk7XG4gIFxuICAgICAgcmV0dXJuIG5ldyBXb3Jrb3V0U3VtbWFyeShzdW1tYXJ5RGF0YSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHdvcmtvdXQgc3VtbWFyeTonLCBlcnJvcik7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICAgIC8vIFVwZGF0ZSB0aGUgZm9ybWF0V29ya291dEFuZEluaXRpYWxpemVMb2dzIGZ1bmN0aW9uXG4gIGFzeW5jIGZvcm1hdFdvcmtvdXRBbmRJbml0aWFsaXplTG9ncyhcbiAgICAgIGV4ZXJjaXNlRGV0YWlsczogRXhlcmNpc2VEZXRhaWxbXSxcbiAgICAgIHdvcmtvdXRBdXRob3I/OiBzdHJpbmdcbiAgICApOiBQcm9taXNlPHsgd29ya291dDogV29ya291dDsgZXhlcmNpc2VMb2dzOiBFeGVyY2lzZUxvZ1tdIH0+IHtcbiAgICAgIGNvbnN0IHdvcmtJZCA9IHRoaXMuZ2VuZXJhdGVJZCgpOyAvLyBVc2UgdGhpcy5nZW5lcmF0ZUlkKCkgc2luY2UgaXQncyBhIGNsYXNzIG1ldGhvZFxuICAgICAgY29uc3QgZXhlcmNpc2VSZWZlcmVuY2VzOiBFeGVyY2lzZVJlZmVyZW5jZVtdID0gW107XG4gICAgICBjb25zdCBleGVyY2lzZUxvZ3M6IEV4ZXJjaXNlTG9nW10gPSBbXTtcblxuICAvLyBFbnN1cmUgZXhlcmNpc2UgZGV0YWlscyBhcmUgdmFsaWQgYmVmb3JlIHByb2Nlc3NpbmdcbiAgY29uc3QgdmFsaWRFeGVyY2lzZURldGFpbHMgPSBleGVyY2lzZURldGFpbHMuZmlsdGVyKGRldGFpbCA9PiBkZXRhaWw/LmV4ZXJjaXNlICYmIGRldGFpbC5leGVyY2lzZS5pZCk7XG5cbiAgdmFsaWRFeGVyY2lzZURldGFpbHMuZm9yRWFjaCgoZGV0YWlsLCBpbmRleCkgPT4ge1xuICAgIGlmIChkZXRhaWwuZXhlcmNpc2UuaWQgPT0gbnVsbCkgeyByZXR1cm4gfVxuXG4gICAgLy8gQ3JlYXRlIHRoZSBjYXRlZ29yeSBmaXJzdFxuICAgIGNvbnN0IGNhdGVnb3J5ID0ge1xuICAgICAgdHlwZTogZGV0YWlsLmNhdGVnb3J5Py50eXBlID09PSAnd2VpZ2h0LXRyYWluaW5nJyBcbiAgICAgICAgPyAnd2VpZ2h0LXRyYWluaW5nJ1xuICAgICAgICA6ICdjYXJkaW8nLFxuICAgICAgZGV0YWlsczogZGV0YWlsLmNhdGVnb3J5Py50eXBlID09PSAnd2VpZ2h0LXRyYWluaW5nJyBcbiAgICAgICAgPyB7XG4gICAgICAgICAgICBzZXRzOiBkZXRhaWwuY2F0ZWdvcnk/LmRldGFpbHM/LnNldHMgPz8gMyxcbiAgICAgICAgICAgIHJlcHM6IGRldGFpbC5jYXRlZ29yeT8uZGV0YWlscz8ucmVwcyA/PyBbJzEyJ10sXG4gICAgICAgICAgICB3ZWlnaHQ6IGRldGFpbC5jYXRlZ29yeT8uZGV0YWlscz8ud2VpZ2h0ID8/IDAsXG4gICAgICAgICAgICBzY3JlZW5UaW1lOiBkZXRhaWwuY2F0ZWdvcnk/LmRldGFpbHM/LnNjcmVlblRpbWUgPz8gMCxcbiAgICAgICAgICAgIHNlbGVjdGVkVmlkZW86IGRldGFpbC5jYXRlZ29yeT8uZGV0YWlscz8uc2VsZWN0ZWRWaWRlbyA/PyBudWxsXG4gICAgICAgICAgfVxuICAgICAgICA6IHtcbiAgICAgICAgICAgIGR1cmF0aW9uOiBkZXRhaWwuY2F0ZWdvcnk/LmRldGFpbHM/LmR1cmF0aW9uID8/IDYwLFxuICAgICAgICAgICAgYnBtOiBkZXRhaWwuY2F0ZWdvcnk/LmRldGFpbHM/LmJwbSA/PyAxNDAsXG4gICAgICAgICAgICBjYWxvcmllczogZGV0YWlsLmNhdGVnb3J5Py5kZXRhaWxzPy5jYWxvcmllcyA/PyAwLFxuICAgICAgICAgICAgc2NyZWVuVGltZTogZGV0YWlsLmNhdGVnb3J5Py5kZXRhaWxzPy5zY3JlZW5UaW1lID8/IDAsXG4gICAgICAgICAgICBzZWxlY3RlZFZpZGVvOiBkZXRhaWwuY2F0ZWdvcnk/LmRldGFpbHM/LnNlbGVjdGVkVmlkZW8gPz8gbnVsbFxuICAgICAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc29sZS5sb2coXCJDYXRlZ29yeSBiZWluZyB1c2VkOlwiLCBjYXRlZ29yeSk7IC8vIERlYnVnIGxvZ1xuXG4gICAgLy8gQ3JlYXRlIGV4ZXJjaXNlIGluc3RhbmNlIHdpdGggb3VyIG5ldyBjYXRlZ29yeVxuICAgIGNvbnN0IGV4ZXJjaXNlSW5zdGFuY2UgPSBuZXcgRXhlcmNpc2Uoe1xuICAgICAgLi4uZGV0YWlsLmV4ZXJjaXNlLFxuICAgICAgaWQ6IGRldGFpbC5leGVyY2lzZS5pZCB8fCB3b3Jrb3V0U2VydmljZS5nZW5lcmF0ZUlkKCksXG4gICAgICBuYW1lOiBkZXRhaWwuZXhlcmNpc2UubmFtZSB8fCAnJyxcbiAgICAgIGF1dGhvcjogZGV0YWlsLmV4ZXJjaXNlLmF1dGhvciB8fCB7XG4gICAgICAgIHVzZXJJZDogd29ya291dEF1dGhvciB8fCB1c2VyU2VydmljZS5jdXJyZW50VXNlcj8uaWQsXG4gICAgICAgIHVzZXJuYW1lOiB3b3Jrb3V0QXV0aG9yIHx8IHVzZXJTZXJ2aWNlLmN1cnJlbnRVc2VyPy51c2VybmFtZVxuICAgICAgfSxcbiAgICAgIGRlc2NyaXB0aW9uOiBkZXRhaWwuZXhlcmNpc2UuZGVzY3JpcHRpb24gfHwgJycsXG4gICAgICBjYXRlZ29yeTogY2F0ZWdvcnksICAvLyBVc2Ugb3VyIG5ldyBjYXRlZ29yeSBvYmplY3RcbiAgICAgIHByaW1hcnlCb2R5UGFydHM6IGRldGFpbC5leGVyY2lzZS5wcmltYXJ5Qm9keVBhcnRzIHx8IFtdLFxuICAgICAgc2Vjb25kYXJ5Qm9keVBhcnRzOiBkZXRhaWwuZXhlcmNpc2Uuc2Vjb25kYXJ5Qm9keVBhcnRzIHx8IFtdLFxuICAgICAgdGFnczogZGV0YWlsLmV4ZXJjaXNlLnRhZ3MgfHwgW10sXG4gICAgICB2aWRlb3M6IGRldGFpbC5leGVyY2lzZS52aWRlb3MgfHwgW10sXG4gICAgICBjcmVhdGVkQXQ6IGRldGFpbC5leGVyY2lzZS5jcmVhdGVkQXQgfHwgbmV3IERhdGUoKSxcbiAgICAgIHVwZGF0ZWRBdDogZGV0YWlsLmV4ZXJjaXNlLnVwZGF0ZWRBdCB8fCBuZXcgRGF0ZSgpXG4gICAgfSk7XG5cbiAgICAvLyBDcmVhdGUgZXhlcmNpc2UgcmVmZXJlbmNlXG4gICAgY29uc3QgZXhlcmNpc2VSZWY6IEV4ZXJjaXNlUmVmZXJlbmNlID0ge1xuICAgICAgZXhlcmNpc2U6IGV4ZXJjaXNlSW5zdGFuY2UsXG4gICAgICBncm91cElkOiBkZXRhaWwuZ3JvdXBJZCB8fCAwXG4gICAgfTtcbiAgICBleGVyY2lzZVJlZmVyZW5jZXMucHVzaChleGVyY2lzZVJlZik7XG5cbiAgICAvLyBDcmVhdGUgbG9ncyB1c2luZyB0aGUgc2FtZSBjYXRlZ29yeSBkZXRhaWxzXG4gICAgY29uc3Qgc2V0cyA9IGNhdGVnb3J5LmRldGFpbHM/LnNldHMgPz8gMztcbiAgICBjb25zdCByZXBzID0gY2F0ZWdvcnkuZGV0YWlscz8ucmVwcyA/PyBbJzEyJ107XG4gICAgY29uc3Qgd2VpZ2h0ID0gY2F0ZWdvcnkuZGV0YWlscz8ud2VpZ2h0ID8/IDA7XG5cbiAgICAvLyBDcmVhdGUgbG9ncyBmb3IgZWFjaCBzZXQgd2l0aCB2YWxpZGF0ZWQgZGF0YVxuICAgIGNvbnN0IHNldHNMb2dzID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogc2V0cyB9LCAoKSA9PiBcbiAgICAgIG5ldyBSZXBzQW5kV2VpZ2h0TG9nKHtcbiAgICAgICAgcmVwczogcGFyc2VJbnQocmVwc1swXSB8fCAnMTInLCAxMCksXG4gICAgICAgIHdlaWdodDogd2VpZ2h0IHx8IDBcbiAgICAgIH0pXG4gICAgKTtcblxuICAgIC8vIENyZWF0ZSBleGVyY2lzZSBsb2cgd2l0aCB2YWxpZGF0ZWQgZGF0YVxuICAgIGNvbnN0IGV4ZXJjaXNlTG9nSWQgPSBleGVyY2lzZVNlcnZpY2UuZ2VuZXJhdGVFeGVyY2lzZUxvZ0lEKFxuICAgICAgd29ya0lkLFxuICAgICAgdXNlclNlcnZpY2UuY3VycmVudFVzZXI/LmlkIHx8ICdhbm9ueW1vdXMnXG4gICAgKTtcblxuICAgIGNvbnN0IGxvZyA9IG5ldyBFeGVyY2lzZUxvZyh7XG4gICAgICBpZDogZXhlcmNpc2VMb2dJZCxcbiAgICAgIHdvcmtvdXRJZDogd29ya0lkLFxuICAgICAgdXNlcklkOiB1c2VyU2VydmljZS5jdXJyZW50VXNlcj8uaWQgfHwgJ2Fub255bW91cycsXG4gICAgICBleGVyY2lzZTogZXhlcmNpc2VJbnN0YW5jZSxcbiAgICAgIGxvZ3M6IHNldHNMb2dzLFxuICAgICAgZmVlZGJhY2s6ICcnLFxuICAgICAgbm90ZTogZGV0YWlsLm5vdGVzIHx8ICcnLFxuICAgICAgaXNTcGxpdDogZGV0YWlsLmlzU3BsaXQgfHwgZmFsc2UsXG4gICAgICBsb2dTdWJtaXR0ZWQ6IGZhbHNlLFxuICAgICAgbG9nSXNFZGl0aW5nOiBmYWxzZSxcbiAgICAgIGlzQ29tcGxldGVkOiBmYWxzZSxcbiAgICAgIG9yZGVyOiBpbmRleCArIDEsXG4gICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICBjb21wbGV0ZWRBdDogbmV3IERhdGUoKVxuICAgIH0pO1xuICAgIFxuICAgIGV4ZXJjaXNlTG9ncy5wdXNoKGxvZyk7XG4gIH0pO1xuXG4gIC8vIENyZWF0ZSB3b3Jrb3V0IHdpdGggdmFsaWRhdGVkIGRhdGFcbiAgY29uc3QgbmV3V29ya291dCA9IG5ldyBXb3Jrb3V0KHtcbiAgICBpZDogd29ya0lkLFxuICAgIHJvdW5kV29ya291dElkOiAnJyxcbiAgICBleGVyY2lzZXM6IGV4ZXJjaXNlUmVmZXJlbmNlcyxcbiAgICBsb2dzOiBleGVyY2lzZUxvZ3MsXG4gICAgdGl0bGU6ICcnLFxuICAgIGRlc2NyaXB0aW9uOiAnJyxcbiAgICBkdXJhdGlvbjogMCxcbiAgICB3b3Jrb3V0UmF0aW5nOiAnbm9uZScgYXMgV29ya291dFJhdGluZyxcbiAgICB1c2VBdXRob3JDb250ZW50OiBmYWxzZSxcbiAgICBpc0NvbXBsZXRlZDogZmFsc2UsXG4gICAgd29ya291dFN0YXR1czogJ2FyY2hpdmVkJyBhcyBXb3Jrb3V0U3RhdHVzLFxuICAgIGF1dGhvcjogdXNlclNlcnZpY2UuY3VycmVudFVzZXI/LmlkIHx8ICdQdWxzZUFJJyxcbiAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgIHpvbmU6IFdvcmtvdXQuZGV0ZXJtaW5lV29ya291dFpvbmUoZXhlcmNpc2VSZWZlcmVuY2VzKSB8fCAnZnVsbCcgYXMgQm9keVpvbmVcbiAgfSk7XG5cbiAgcmV0dXJuIHsgd29ya291dDogbmV3V29ya291dCwgZXhlcmNpc2VMb2dzIH07XG5cbn1cblxuICBhc3luYyBnZXRVc2VyQnlJZCh1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8VXNlcj4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1c2VyRG9jID0gYXdhaXQgZ2V0RG9jKGRvYyhkYiwgJ3VzZXJzJywgdXNlcklkKSk7XG4gICAgICBpZiAoIXVzZXJEb2MuZXhpc3RzKCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVc2VyIG5vdCBmb3VuZCcpO1xuICAgICAgfVxuICBcbiAgICAgIHJldHVybiBuZXcgVXNlcih7XG4gICAgICAgIGlkOiB1c2VyRG9jLmlkLFxuICAgICAgICAuLi51c2VyRG9jLmRhdGEoKSBcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIHVzZXIgYnkgSUQ6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLy8gSW4gV29ya291dFNlcnZpY2VcbiAgYXN5bmMgcmV2ZXJ0QXV0aG9yRm9ybWF0KHdvcmtvdXRJZDogc3RyaW5nLCBhdXRob3JJZDogc3RyaW5nKSB7XG4gICAgaWYgKCF1c2VyU2VydmljZS5jdXJyZW50VXNlcj8uaWQpIHRocm93IG5ldyBFcnJvcignTm8gdXNlciBzaWduZWQgaW4nKTtcbiAgICBcbiAgICBjb25zdCB3b3Jrb3V0UmVmID0gZG9jKGRiLCAndXNlcnMnLCB1c2VyU2VydmljZS5jdXJyZW50VXNlci5pZCwgJ015Q3JlYXRlZFdvcmtvdXRzJywgd29ya291dElkKTtcbiAgICBhd2FpdCB1cGRhdGVEb2Mod29ya291dFJlZiwge1xuICAgICAgYXV0aG9yOiBhdXRob3JJZFxuICAgIH0pO1xuICAgfVxuXG5hc3luYyB1cGRhdGVXb3Jrb3V0KHdvcmtvdXQ6IFdvcmtvdXQpOiBQcm9taXNlPHZvaWQ+IHtcbiAgaWYgKCF1c2VyU2VydmljZS5jdXJyZW50VXNlcj8uaWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHVzZXIgaXMgc2lnbmVkIGluJyk7XG4gIH1cblxuICB0cnkge1xuICAgIGNvbnN0IHdvcmtvdXRSZWYgPSBkb2MoZGIsICd1c2VycycsIHVzZXJTZXJ2aWNlLmN1cnJlbnRVc2VyLmlkLCAnTXlDcmVhdGVkV29ya291dHMnLCB3b3Jrb3V0LmlkKTtcbiAgICBhd2FpdCBzZXREb2Mod29ya291dFJlZiwgd29ya291dC50b0RpY3Rpb25hcnkoKSwgeyBtZXJnZTogdHJ1ZSB9KTtcblxuICAgIC8vIFVwZGF0ZSBsb2dzIGlmIHRoZXkgZXhpc3RcbiAgICBpZiAod29ya291dC5sb2dzICYmIHdvcmtvdXQubG9ncy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBiYXRjaCA9IHdyaXRlQmF0Y2goZGIpO1xuICAgICAgY29uc3QgbG9nc1JlZiA9IGNvbGxlY3Rpb24od29ya291dFJlZiwgJ2xvZ3MnKTtcblxuICAgICAgd29ya291dC5sb2dzLmZvckVhY2gobG9nID0+IHtcbiAgICAgICAgY29uc3QgbG9nUmVmID0gZG9jKGxvZ3NSZWYsIGxvZy5pZCk7XG4gICAgICAgIGJhdGNoLnNldChsb2dSZWYsIGxvZy50b0RpY3Rpb25hcnkoKSwgeyBtZXJnZTogdHJ1ZSB9KTtcbiAgICAgIH0pO1xuXG4gICAgICBhd2FpdCBiYXRjaC5jb21taXQoKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgd29ya291dDonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxuICAvKipcbiAgICogRmV0Y2ggdGhlIHVzZXIncyBjdXJyZW50IHdvcmtvdXQgKGVpdGhlciBRdWV1ZWRVcCBvciBJblByb2dyZXNzKS5cbiAgICovXG4gIGFzeW5jIGZldGNoQ3VycmVudFdvcmtvdXQodXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPFdvcmtvdXQgfCBudWxsPiB7XG4gICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IHRoaXMuZmV0Y2hDdXJyZW50V29ya291dFNlc3Npb24odXNlcklkKTtcbiAgICByZXR1cm4gc2Vzc2lvbi53b3Jrb3V0O1xuICB9XG5cbiAgYXN5bmMgZ2V0QWxsU3dlYXRsaXN0cyh1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8V29ya291dFtdPiB7XG4gICAgaWYgKCF1c2VySWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVXNlciBJRCBpcyByZXF1aXJlZCcpO1xuICAgIH1cbiAgXG4gICAgLy8gUmVmZXJlbmNlIHRvIHRoZSB1c2VyJ3Mgd29ya291dCBjb2xsZWN0aW9uXG4gICAgY29uc3Qgd29ya291dHNSZWYgPSBjb2xsZWN0aW9uKGRiLCAndXNlcnMnLCB1c2VySWQsICdNeUNyZWF0ZWRXb3Jrb3V0cycpO1xuICBcbiAgICB0cnkge1xuICAgICAgLy8gRmV0Y2ggZXhlcmNpc2VzIHdpdGggdmlkZW9zXG4gICAgICBjb25zdCBleGVyY2lzZXNXaXRoVmlkZW9zID0gYXdhaXQgdGhpcy5mZXRjaEFuZE1hcEV4ZXJjaXNlc1dpdGhWaWRlb3MoKTtcbiAgXG4gICAgICAvLyBRdWVyeSB0byBmZXRjaCBhbGwgd29ya291dHNcbiAgICAgIGNvbnN0IHdvcmtvdXRzU25hcHNob3QgPSBhd2FpdCBnZXREb2NzKHdvcmtvdXRzUmVmKTtcbiAgICAgIGNvbnN0IHdvcmtvdXRzOiBXb3Jrb3V0W10gPSBbXTtcbiAgXG4gICAgICAvLyBQcm9jZXNzIGVhY2ggd29ya291dCBkb2N1bWVudFxuICAgICAgZm9yIChjb25zdCB3b3Jrb3V0RG9jIG9mIHdvcmtvdXRzU25hcHNob3QuZG9jcykge1xuICAgICAgICBjb25zdCB3b3Jrb3V0RGF0YSA9IHdvcmtvdXREb2MuZGF0YSgpO1xuICAgICAgICBjb25zdCB3b3Jrb3V0SWQgPSB3b3Jrb3V0RG9jLmlkO1xuICBcbiAgICAgICAgLy8gTWFwIHRoZSBleGVyY2lzZXMgaW4gdGhlIHdvcmtvdXQgdG8gdGhlIGZ1bGwgZXhlcmNpc2Ugb2JqZWN0cyB3aXRoIHZpZGVvc1xuICAgICAgICBjb25zdCBtYXBwZWRFeGVyY2lzZXMgPSAod29ya291dERhdGEuZXhlcmNpc2VzIHx8IFtdKS5tYXAoKGV4ZXJjaXNlUmVmOiBhbnkpID0+IHtcbiAgICAgICAgICBjb25zdCBmdWxsRXhlcmNpc2UgPSBleGVyY2lzZXNXaXRoVmlkZW9zLmZpbmQoZXggPT4gZXgubmFtZSA9PT0gZXhlcmNpc2VSZWYuZXhlcmNpc2UubmFtZSk7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJUaGlzIGlzIHRoZSBtYXBwZWQgZXhlcmNpc2U6IFwiICsgZnVsbEV4ZXJjaXNlKTtcblxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5leGVyY2lzZVJlZixcbiAgICAgICAgICAgIGV4ZXJjaXNlOiBmdWxsRXhlcmNpc2UgfHwgZXhlcmNpc2VSZWZcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcblxuICBcbiAgICAgICAgLy8gUGFyc2Ugd29ya291dCBkYXRhIGludG8gdGhlIGRlc2lyZWQgc3RydWN0dXJlXG4gICAgICAgIGNvbnN0IHdvcmtvdXQgPSBuZXcgV29ya291dCh7XG4gICAgICAgICAgaWQ6IHdvcmtvdXREYXRhLmlkIHx8ICcnLFxuICAgICAgICAgIHJvdW5kV29ya291dElkOiB3b3Jrb3V0RGF0YS5yb3VuZFdvcmtvdXRJZCB8fCAnJyxcbiAgICAgICAgICBjb2xsZWN0aW9uSWQ6IHdvcmtvdXREYXRhLmNvbGxlY3Rpb25JZCxcbiAgICAgICAgICBleGVyY2lzZXM6IG1hcHBlZEV4ZXJjaXNlcyxcbiAgICAgICAgICBjaGFsbGVuZ2U6IHdvcmtvdXREYXRhLmNoYWxsZW5nZSxcbiAgICAgICAgICBsb2dzOiBbXSxcbiAgICAgICAgICB0aXRsZTogd29ya291dERhdGEudGl0bGUgfHwgJycsXG4gICAgICAgICAgZGVzY3JpcHRpb246IHdvcmtvdXREYXRhLmRlc2NyaXB0aW9uIHx8ICcnLFxuICAgICAgICAgIGR1cmF0aW9uOiB3b3Jrb3V0RGF0YS5kdXJhdGlvbiB8fCAwLFxuICAgICAgICAgIHdvcmtvdXRSYXRpbmc6IHdvcmtvdXREYXRhLndvcmtvdXRSYXRpbmcsXG4gICAgICAgICAgdXNlQXV0aG9yQ29udGVudDogd29ya291dERhdGEudXNlQXV0aG9yQ29udGVudCB8fCBmYWxzZSxcbiAgICAgICAgICBpc0NvbXBsZXRlZDogd29ya291dERhdGEuaXNDb21wbGV0ZWQgfHwgZmFsc2UsXG4gICAgICAgICAgd29ya291dFN0YXR1czogd29ya291dERhdGEud29ya291dFN0YXR1cyB8fCAnbm90U3RhcnRlZCcsXG4gICAgICAgICAgc3RhcnRUaW1lOiB3b3Jrb3V0RGF0YS5zdGFydFRpbWUgPyBuZXcgRGF0ZSh3b3Jrb3V0RGF0YS5zdGFydFRpbWUpIDogdW5kZWZpbmVkLFxuICAgICAgICAgIG9yZGVyOiB3b3Jrb3V0RGF0YS5vcmRlcixcbiAgICAgICAgICBhdXRob3I6IHdvcmtvdXREYXRhLmF1dGhvciB8fCB1c2VySWQsXG4gICAgICAgICAgY3JlYXRlZEF0OiB3b3Jrb3V0RGF0YS5jcmVhdGVkQXQgPyBuZXcgRGF0ZSh3b3Jrb3V0RGF0YS5jcmVhdGVkQXQpIDogbmV3IERhdGUoKSxcbiAgICAgICAgICB1cGRhdGVkQXQ6IHdvcmtvdXREYXRhLnVwZGF0ZWRBdCA/IG5ldyBEYXRlKHdvcmtvdXREYXRhLnVwZGF0ZWRBdCkgOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgIHpvbmU6IHdvcmtvdXREYXRhLnpvbmUgfHwgJ0ZVTExfQk9EWScsXG4gICAgICAgIH0pOyAgICAgICAgXG4gIFxuICAgICAgICAvLyBGZXRjaCBhbmQgcHJvY2VzcyBsb2dzXG4gICAgICAgIGNvbnN0IGxvZ3NSZWYgPSBjb2xsZWN0aW9uKGRiLCAndXNlcnMnLCB1c2VySWQsICdNeUNyZWF0ZWRXb3Jrb3V0cycsIHdvcmtvdXRJZCwgJ2xvZ3MnKTtcbiAgICAgICAgY29uc3QgbG9nc1NuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhsb2dzUmVmKTtcbiAgICAgICAgd29ya291dC5sb2dzID0gbG9nc1NuYXBzaG90LmRvY3MubWFwKChsb2dEb2MpID0+ICh7XG4gICAgICAgICAgLi4ubG9nRG9jLmRhdGEoKSxcbiAgICAgICAgICBpZDogbG9nRG9jLmlkLFxuICAgICAgICB9KSkgYXMgRXhlcmNpc2VMb2dbXTtcbiAgXG4gICAgICAgIHdvcmtvdXRzLnB1c2god29ya291dCk7XG4gICAgICB9XG4gIFxuICAgICAgcmV0dXJuIHdvcmtvdXRzO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zdCBmaXJlc3RvcmVFcnJvciA9IGVycm9yIGFzIEZpcmVzdG9yZUVycm9yO1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgc3dlYXRsaXN0czonLCBmaXJlc3RvcmVFcnJvci5tZXNzYWdlKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGZldGNoIHN3ZWF0bGlzdHMnKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBnZXRVc2VyQ2hhbGxlbmdlc0J5Q2hhbGxlbmdlSWQoY2hhbGxlbmdlSWQ6IHN0cmluZyk6IFByb21pc2U8eyB1c2VyQ2hhbGxlbmdlczogVXNlckNoYWxsZW5nZVtdOyBlcnJvcj86IHN0cmluZyB9PiB7XG4gICAgY29uc3QgdXNlckNoYWxsZW5nZXNSZWYgPSBjb2xsZWN0aW9uKGRiLCAndXNlci1jaGFsbGVuZ2UnKTtcbiAgICBjb25zdCBxID0gcXVlcnkodXNlckNoYWxsZW5nZXNSZWYsIHdoZXJlKCdjaGFsbGVuZ2VJZCcsICc9PScsIGNoYWxsZW5nZUlkKSk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhxKTtcbiAgICAgIGNvbnN0IHVzZXJDaGFsbGVuZ2VzOiBVc2VyQ2hhbGxlbmdlW10gPSBzbmFwc2hvdC5kb2NzLm1hcCgoZG9jOiBEb2N1bWVudERhdGEpID0+IHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGRvYy5kYXRhKCk7XG4gICAgICAgIHJldHVybiBuZXcgVXNlckNoYWxsZW5nZShkYXRhKTtcbiAgICAgIH0pO1xuICAgICAgaWYgKHVzZXJDaGFsbGVuZ2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIHsgdXNlckNoYWxsZW5nZXMgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB7IHVzZXJDaGFsbGVuZ2VzOiBbXSwgZXJyb3I6ICdObyB1c2VyIGNoYWxsZW5nZXMgZm91bmQgZm9yIHRoaXMgY2hhbGxlbmdlLicgfTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgdXNlciBjaGFsbGVuZ2VzIGJ5IGNoYWxsZW5nZUlkOicsIGVycm9yKTtcbiAgICAgIHJldHVybiB7IHVzZXJDaGFsbGVuZ2VzOiBbXSwgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InIH07XG4gICAgfVxuICB9XG4gIFxuICAvKipcbiAgICogRmV0Y2hlcyB3b3Jrb3V0IHN1bW1hcmllcyBmb3IgYSBzcGVjaWZpYyBkYXRlLlxuICAgKiBAcGFyYW0gZGF0ZSAtIFRoZSBkYXRlIGZvciB3aGljaCB3b3Jrb3V0IHN1bW1hcmllcyBhcmUgYmVpbmcgZmV0Y2hlZC5cbiAgICogQHJldHVybnMgQSBwcm9taXNlIHJlc29sdmluZyB0byBhbiBhcnJheSBvZiB3b3Jrb3V0IHN1bW1hcmllcy5cbiAgICogQHRocm93cyBJZiBubyB1c2VyIGlzIHNpZ25lZCBpbiBvciBpZiB0aGUgRmlyZXN0b3JlIHF1ZXJ5IGZhaWxzLlxuICAgKi9cbiAgYXN5bmMgZmV0Y2hXb3Jrb3V0U3VtbWFyaWVzKGRhdGU6IERhdGUpOiBQcm9taXNlPFdvcmtvdXRTdW1tYXJ5W10+IHtcbiAgICBjb25zdCBjdXJyZW50VXNlciA9IHVzZXJTZXJ2aWNlLmN1cnJlbnRVc2VyO1xuICAgIGlmICghY3VycmVudFVzZXI/LmlkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHVzZXIgaXMgc2lnbmVkIGluJyk7XG4gICAgfVxuXG4gICAgLy8gRm9ybWF0IHRoZSBkYXRlIHRvIG1hdGNoIHRoZSBmb3JtYXQgaW4gRmlyZXN0b3JlICgnTU0tZGQteXl5eScpXG4gICAgY29uc3QgZm9ybWF0dGVkRGF0ZSA9IGZvcm1hdChkYXRlLCAnTU0tZGQteXl5eScpO1xuXG4gICAgLy8gUmVmZXJlbmNlIHRvIHRoZSB1c2VyJ3Mgd29ya291dFN1bW1hcmllcyBzdWJjb2xsZWN0aW9uXG4gICAgY29uc3Qgc3VtbWFyaWVzUmVmID0gY29sbGVjdGlvbihkYiwgJ3VzZXJzJywgY3VycmVudFVzZXIuaWQsICd3b3Jrb3V0U3VtbWFyaWVzJyk7XG5cbiAgICAvLyBDcmVhdGUgYSBxdWVyeSB0byBmaWx0ZXIgZG9jdW1lbnRzIGJ5IHRoZSBzcGVjaWZpZWQgZGF0ZVxuICAgIGNvbnN0IHEgPSBxdWVyeShzdW1tYXJpZXNSZWYsIHdoZXJlKCdkYXRlJywgJz09JywgZm9ybWF0dGVkRGF0ZSkpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhxKTtcblxuICAgICAgLy8gTWFwIHRoZSBkb2N1bWVudHMgdG8gYW4gYXJyYXkgb2YgV29ya291dFN1bW1hcnkgb2JqZWN0c1xuICAgICAgcmV0dXJuIHNuYXBzaG90LmRvY3MubWFwKChkb2M6IERvY3VtZW50RGF0YSk6IFdvcmtvdXRTdW1tYXJ5ID0+ICh7XG4gICAgICAgIGlkOiBkb2MuaWQsXG4gICAgICAgIC4uLmRvYy5kYXRhKCksXG4gICAgICB9KSk7XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc3QgZmlyZXN0b3JlRXJyb3IgPSBlcnJvciBhcyBGaXJlc3RvcmVFcnJvcjtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHdvcmtvdXQgc3VtbWFyaWVzOicsIGZpcmVzdG9yZUVycm9yLm1lc3NhZ2UpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGZpcmVzdG9yZUVycm9yLm1lc3NhZ2UpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGZldGNoQWxsV29ya291dFN1bW1hcmllcygpOiBQcm9taXNlPFdvcmtvdXRTdW1tYXJ5W10+IHtcbiAgICBjb25zdCBjdXJyZW50VXNlciA9IHVzZXJTZXJ2aWNlLmN1cnJlbnRVc2VyO1xuICAgIGlmICghY3VycmVudFVzZXI/LmlkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHVzZXIgaXMgc2lnbmVkIGluJyk7XG4gICAgfVxuICBcbiAgICAvLyBSZWZlcmVuY2UgdG8gdGhlIHVzZXIncyB3b3Jrb3V0U3VtbWFyaWVzIHN1YmNvbGxlY3Rpb25cbiAgICBjb25zdCBzdW1tYXJpZXNSZWYgPSBjb2xsZWN0aW9uKGRiLCAndXNlcnMnLCBjdXJyZW50VXNlci5pZCwgJ3dvcmtvdXRTdW1tYXJ5Jyk7XG4gIFxuICAgIC8vIFF1ZXJ5IHRvIHJldHJpZXZlIGFsbCB3b3Jrb3V0IHN1bW1hcmllcywgc29ydGVkIGJ5IGBjcmVhdGVkQXRgIGluIGFzY2VuZGluZyBvcmRlclxuICAgIGNvbnN0IHEgPSBxdWVyeShzdW1tYXJpZXNSZWYsIG9yZGVyQnkoJ2NyZWF0ZWRBdCcsICdhc2MnKSk7IC8vIEFkanVzdCBmaWVsZCBuYW1lIGJhc2VkIG9uIHlvdXIgc2NoZW1hXG4gIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IGdldERvY3MocSk7XG4gIFxuICAgICAgLy8gTWFwIHRoZSBkb2N1bWVudHMgdG8gYW4gYXJyYXkgb2YgV29ya291dFN1bW1hcnkgb2JqZWN0c1xuICAgICAgcmV0dXJuIHNuYXBzaG90LmRvY3MubWFwKChkb2M6IERvY3VtZW50RGF0YSk6IFdvcmtvdXRTdW1tYXJ5ID0+ICh7XG4gICAgICAgIGlkOiBkb2MuaWQsXG4gICAgICAgIC4uLmRvYy5kYXRhKCksXG4gICAgICB9KSk7XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc3QgZmlyZXN0b3JlRXJyb3IgPSBlcnJvciBhcyBGaXJlc3RvcmVFcnJvcjtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGFsbCB3b3Jrb3V0IHN1bW1hcmllczonLCBmaXJlc3RvcmVFcnJvci5tZXNzYWdlKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihmaXJlc3RvcmVFcnJvci5tZXNzYWdlKTtcbiAgICB9XG4gIH1cblxuXG4gIC8qKlxuICogRmV0Y2ggdXNlciBjaGFsbGVuZ2VzIGJ5IHVzZXJJZC5cbiAqIEBwYXJhbSB1c2VySWQgVGhlIElEIG9mIHRoZSB1c2VyIHRvIGZldGNoIGNoYWxsZW5nZXMgZm9yLlxuICogQHJldHVybnMgQSBwcm9taXNlIHJlc29sdmluZyB0byBhbiBhcnJheSBvZiB1c2VyIGNoYWxsZW5nZXMuXG4gKiBAdGhyb3dzIElmIHRoZSBGaXJlc3RvcmUgcXVlcnkgZmFpbHMuXG4gKi9cbmFzeW5jIGZldGNoVXNlckNoYWxsZW5nZXNCeVVzZXJJZCh1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8VXNlckNoYWxsZW5nZVtdPiB7XG4gIGNvbnN0IHVzZXJDaGFsbGVuZ2VzUmVmID0gY29sbGVjdGlvbihkYiwgJ3VzZXItY2hhbGxlbmdlJyk7XG4gIGNvbnN0IHEgPSBxdWVyeSh1c2VyQ2hhbGxlbmdlc1JlZiwgd2hlcmUoJ3VzZXJJZCcsICc9PScsIHVzZXJJZCkpO1xuXG4gIHRyeSB7XG4gICAgLy8gY29uc29sZS5sb2coYEZldGNoaW5nIGNoYWxsZW5nZXMgZm9yIHVzZXIgSUQ6ICR7dXNlcklkfWApO1xuXG4gICAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBnZXREb2NzKHEpO1xuXG4gICAgLy8gY29uc29sZS5sb2coYFRvdGFsIGNoYWxsZW5nZXMgZmV0Y2hlZDogJHtzbmFwc2hvdC5kb2NzLmxlbmd0aH1gKTtcblxuICAgIGNvbnN0IHVzZXJDaGFsbGVuZ2VzID0gc25hcHNob3QuZG9jcy5tYXAoKGRvYzogRG9jdW1lbnREYXRhKSA9PiB7XG4gICAgICBjb25zdCBkYXRhID0gZG9jLmRhdGEoKTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKGBQcm9jZXNzaW5nIGNoYWxsZW5nZSB3aXRoIElEOiAke2RvYy5pZH1gLCBkYXRhKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IGRvYy5pZCxcbiAgICAgICAgLi4uZGF0YSxcbiAgICAgICAgY2hhbGxlbmdlOiBkYXRhLmNoYWxsZW5nZVxuICAgICAgICAgID8gbmV3IENoYWxsZW5nZSh7XG4gICAgICAgICAgICAgIGlkOiBkYXRhLmNoYWxsZW5nZS5pZCxcbiAgICAgICAgICAgICAgdGl0bGU6IGRhdGEuY2hhbGxlbmdlLnRpdGxlLFxuICAgICAgICAgICAgICBzdWJ0aXRsZTogZGF0YS5jaGFsbGVuZ2Uuc3VidGl0bGUsXG4gICAgICAgICAgICAgIHBhcnRpY2lwYW50czogZGF0YS5jaGFsbGVuZ2UucGFydGljaXBhbnRzIHx8IFtdLFxuICAgICAgICAgICAgICBzdGF0dXM6IGRhdGEuY2hhbGxlbmdlLnN0YXR1cyBhcyBDaGFsbGVuZ2VTdGF0dXMsXG4gICAgICAgICAgICAgIHN0YXJ0RGF0ZTogZGF0YS5jaGFsbGVuZ2Uuc3RhcnREYXRlID8gbmV3IERhdGUoZGF0YS5jaGFsbGVuZ2Uuc3RhcnREYXRlKSA6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgIGVuZERhdGU6IGRhdGEuY2hhbGxlbmdlLmVuZERhdGUgPyBuZXcgRGF0ZShkYXRhLmNoYWxsZW5nZS5lbmREYXRlKSA6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgIGNyZWF0ZWRBdDogZGF0YS5jaGFsbGVuZ2UuY3JlYXRlZEF0ID8gbmV3IERhdGUoZGF0YS5jaGFsbGVuZ2UuY3JlYXRlZEF0KSA6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgIHVwZGF0ZWRBdDogZGF0YS5jaGFsbGVuZ2UudXBkYXRlZEF0ID8gbmV3IERhdGUoZGF0YS5jaGFsbGVuZ2UudXBkYXRlZEF0KSA6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgIGludHJvVmlkZW9zOiAoZGF0YS5jaGFsbGVuZ2UuaW50cm9WaWRlb3MgfHwgW10pLm1hcCgodjogYW55KSA9PiBcbiAgICAgICAgICAgICAgICBuZXcgSW50cm9WaWRlbyh7XG4gICAgICAgICAgICAgICAgICBpZDogdi5pZCxcbiAgICAgICAgICAgICAgICAgIHVzZXJJZDogdi51c2VySWQsXG4gICAgICAgICAgICAgICAgICB2aWRlb1VybDogdi52aWRlb1VybFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgIGNyZWF0ZWRBdDogY29udmVydFRpbWVzdGFtcChkYXRhLmNyZWF0ZWRBdCksXG4gICAgICAgIHVwZGF0ZWRBdDogY29udmVydFRpbWVzdGFtcChkYXRhLnVwZGF0ZWRBdCksXG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLy8gY29uc29sZS5sb2coJ0FsbCBjaGFsbGVuZ2VzIGFmdGVyIHByb2Nlc3Npbmc6JywgSlNPTi5zdHJpbmdpZnkodXNlckNoYWxsZW5nZXMsIG51bGwsIDIpKTtcblxuICAgIHJldHVybiB1c2VyQ2hhbGxlbmdlcztcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyB1c2VyIGNoYWxsZW5nZXMgYnkgdXNlcklkOicsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuXG5hc3luYyBmZXRjaENvbGxlY3Rpb25XaXRoU3dlYXRMaXN0cyhjb2xsZWN0aW9uSWQ6IHN0cmluZyk6IFByb21pc2U8eyBjb2xsZWN0aW9uOiBhbnksIHN3ZWF0TGlzdHM6IFdvcmtvdXRbXSB9PiB7XG4gIHRyeSB7XG4gICAgLy8gRmV0Y2ggdGhlIGNvbGxlY3Rpb25cbiAgICBjb25zdCBjb2xsZWN0aW9uID0gYXdhaXQgdGhpcy5nZXRDb2xsZWN0aW9uQnlJZChjb2xsZWN0aW9uSWQpO1xuXG4gICAgLy8gRmV0Y2ggc3dlYXQgbGlzdHMgKHdvcmtvdXRzKVxuICAgIGNvbnN0IHN3ZWF0TGlzdHM6IFdvcmtvdXRbXSA9IFtdO1xuICAgIFxuICAgIC8vIEFzc3VtaW5nIGNvbGxlY3Rpb24gaGFzIHN3ZWF0bGlzdElkcyB3aXRoIGF1dGhvciBhbmQgd29ya291dCBJRHNcbiAgICBmb3IgKGNvbnN0IHN3ZWF0bGlzdElkZW50aWZpZXIgb2YgY29sbGVjdGlvbi5zd2VhdGxpc3RJZHMgfHwgW10pIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IFt3b3Jrb3V0XSA9IGF3YWl0IHRoaXMuZmV0Y2hTYXZlZFdvcmtvdXQoXG4gICAgICAgICAgc3dlYXRsaXN0SWRlbnRpZmllci5zd2VhdGxpc3RBdXRob3JJZCwgXG4gICAgICAgICAgc3dlYXRsaXN0SWRlbnRpZmllci5pZFxuICAgICAgICApO1xuICAgICAgICBcbiAgICAgICAgaWYgKHdvcmtvdXQpIHtcbiAgICAgICAgICBzd2VhdExpc3RzLnB1c2god29ya291dCk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGZldGNoaW5nIHdvcmtvdXQgJHtzd2VhdGxpc3RJZGVudGlmaWVyLmlkfTpgLCBlcnJvcik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgY29sbGVjdGlvbiwgc3dlYXRMaXN0cyB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGNvbGxlY3Rpb24gd2l0aCBzd2VhdCBsaXN0czonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxuYXN5bmMgZmV0Y2hTYXZlZFdvcmtvdXQodXNlcklkOiBzdHJpbmcsIHdvcmtvdXRJZDogc3RyaW5nKTogUHJvbWlzZTxbV29ya291dCB8IG51bGwsIEV4ZXJjaXNlTG9nW10gfCBudWxsXT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHdvcmtvdXRSZWYgPSBkb2MoZGIsICd1c2VycycsIHVzZXJJZCwgJ015Q3JlYXRlZFdvcmtvdXRzJywgd29ya291dElkKTtcbiAgICBjb25zdCB3b3Jrb3V0U25hcCA9IGF3YWl0IGdldERvYyh3b3Jrb3V0UmVmKTtcbiAgICBcbiAgICBpZiAoIXdvcmtvdXRTbmFwLmV4aXN0cygpKSB7XG4gICAgICByZXR1cm4gW251bGwsIG51bGxdO1xuICAgIH1cblxuICAgIGNvbnN0IHdvcmtvdXREYXRhID0gd29ya291dFNuYXAuZGF0YSgpO1xuICAgIGNvbnNvbGUubG9nKFwiMS4gUmF3IHdvcmtvdXQgZGF0YSBmcm9tIERCOlwiLCBKU09OLnN0cmluZ2lmeSh7XG4gICAgICBleGVyY2lzZXM6IHdvcmtvdXREYXRhLmV4ZXJjaXNlcz8ubWFwKChleDogYW55KSA9PiAoe1xuICAgICAgICBuYW1lOiBleC5leGVyY2lzZS5uYW1lLFxuICAgICAgICBjYXRlZ29yeTogZXguZXhlcmNpc2UuY2F0ZWdvcnlcbiAgICAgIH0pKVxuICAgIH0sIG51bGwsIDIpKTtcblxuICAgIGNvbnN0IGV4ZXJjaXNlc1dpdGhWaWRlb3MgPSBhd2FpdCB0aGlzLmZldGNoQW5kTWFwRXhlcmNpc2VzV2l0aFZpZGVvcygpO1xuXG4gICAgLy8gTWFwIHRoZSBleGVyY2lzZXMgd2hpbGUgcHJlc2VydmluZyBvcmlnaW5hbCBkYXRhXG4gICAgY29uc3QgbWFwcGVkRXhlcmNpc2VzID0gKHdvcmtvdXREYXRhLmV4ZXJjaXNlcyB8fCBbXSkubWFwKChleGVyY2lzZVJlZjogYW55KSA9PiB7XG4gICAgICBjb25zdCBtYXRjaGluZ0V4ZXJjaXNlID0gZXhlcmNpc2VzV2l0aFZpZGVvcy5maW5kKGV4ID0+IGV4Lm5hbWUgPT09IGV4ZXJjaXNlUmVmLmV4ZXJjaXNlLm5hbWUpO1xuICAgICAgXG4gICAgICBjb25zb2xlLmxvZyhcIjIuIFByb2Nlc3NpbmcgZXhlcmNpc2U6XCIsIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgZXhlcmNpc2VOYW1lOiBleGVyY2lzZVJlZi5leGVyY2lzZS5uYW1lLFxuICAgICAgICBvcmlnaW5hbENhdGVnb3J5OiBleGVyY2lzZVJlZi5leGVyY2lzZS5jYXRlZ29yeSxcbiAgICAgICAgbWF0Y2hpbmdFeGVyY2lzZUZvdW5kOiAhIW1hdGNoaW5nRXhlcmNpc2UsXG4gICAgICAgIG1hdGNoaW5nRXhlcmNpc2VEZXRhaWxzOiBtYXRjaGluZ0V4ZXJjaXNlID8ge1xuICAgICAgICAgIG5hbWU6IG1hdGNoaW5nRXhlcmNpc2UubmFtZSxcbiAgICAgICAgICBjYXRlZ29yeTogbWF0Y2hpbmdFeGVyY2lzZS5jYXRlZ29yeSxcbiAgICAgICAgICB2aWRlb0NvdW50OiBtYXRjaGluZ0V4ZXJjaXNlLnZpZGVvcz8ubGVuZ3RoXG4gICAgICAgIH0gOiBudWxsXG4gICAgICB9LCBudWxsLCAyKSk7XG5cbiAgICAgIGNvbnN0IG1hcHBlZEV4ZXJjaXNlID0ge1xuICAgICAgICAuLi5leGVyY2lzZVJlZixcbiAgICAgICAgZXhlcmNpc2U6IG5ldyBFeGVyY2lzZSh7XG4gICAgICAgICAgLi4uZXhlcmNpc2VSZWYuZXhlcmNpc2UsXG4gICAgICAgICAgdmlkZW9zOiBtYXRjaGluZ0V4ZXJjaXNlPy52aWRlb3MgfHwgW10sXG4gICAgICAgICAgY2F0ZWdvcnk6IGV4ZXJjaXNlUmVmLmV4ZXJjaXNlLmNhdGVnb3J5XG4gICAgICAgIH0pXG4gICAgICB9O1xuXG4gICAgICBjb25zb2xlLmxvZyhcIjMuIEFmdGVyIG1hcHBpbmcgZXhlcmNpc2U6XCIsIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgZXhlcmNpc2VOYW1lOiBtYXBwZWRFeGVyY2lzZS5leGVyY2lzZS5uYW1lLFxuICAgICAgICBjYXRlZ29yeVByZXNlcnZlZDogbWFwcGVkRXhlcmNpc2UuZXhlcmNpc2UuY2F0ZWdvcnksXG4gICAgICAgIHNjcmVlblRpbWVQcmVzZXJ2ZWQ6IG1hcHBlZEV4ZXJjaXNlLmV4ZXJjaXNlLmNhdGVnb3J5Py5kZXRhaWxzPy5zY3JlZW5UaW1lLFxuICAgICAgICB2aWRlb0NvdW50OiBtYXBwZWRFeGVyY2lzZS5leGVyY2lzZS52aWRlb3M/Lmxlbmd0aFxuICAgICAgfSwgbnVsbCwgMikpO1xuXG4gICAgICByZXR1cm4gbWFwcGVkRXhlcmNpc2U7XG4gICAgfSk7XG5cbiAgICB3b3Jrb3V0RGF0YS5leGVyY2lzZXMgPSBtYXBwZWRFeGVyY2lzZXM7XG4gICAgY29uc3Qgd29ya291dCA9IG5ldyBXb3Jrb3V0KHtcbiAgICAgIGlkOiB3b3Jrb3V0SWQsXG4gICAgICAuLi53b3Jrb3V0RGF0YVxuICAgIH0pO1xuXG4gICAgY29uc29sZS5sb2coXCI0LiBGaW5hbCB3b3Jrb3V0IGV4ZXJjaXNlczpcIiwgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgZXhlcmNpc2VzOiB3b3Jrb3V0LmV4ZXJjaXNlcy5tYXAoZXggPT4gKHtcbiAgICAgICAgbmFtZTogZXguZXhlcmNpc2UubmFtZSxcbiAgICAgICAgY2F0ZWdvcnk6IGV4LmV4ZXJjaXNlLmNhdGVnb3J5LFxuICAgICAgICBzY3JlZW5UaW1lOiBleC5leGVyY2lzZS5jYXRlZ29yeT8uZGV0YWlscz8uc2NyZWVuVGltZSxcbiAgICAgICAgdmlkZW9Db3VudDogZXguZXhlcmNpc2UudmlkZW9zPy5sZW5ndGhcbiAgICAgIH0pKVxuICAgIH0sIG51bGwsIDIpKTtcblxuICAgIC8vIFNpbWlsYXJseSBmb3IgbG9ncywgcHJlc2VydmUgb3JpZ2luYWwgZXhlcmNpc2UgZGF0YVxuICAgIGNvbnN0IGxvZ3NSZWYgPSBjb2xsZWN0aW9uKHdvcmtvdXRSZWYsICdsb2dzJyk7XG4gICAgY29uc3QgbG9nc1NuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhsb2dzUmVmKTtcblxuICAgIGNvbnN0IGxvZ3M6IEV4ZXJjaXNlTG9nW10gPSBsb2dzU25hcHNob3QuZG9jcy5tYXAobG9nRG9jID0+IHtcbiAgICAgIGNvbnN0IGxvZ0RhdGEgPSBsb2dEb2MuZGF0YSgpO1xuICAgICAgY29uc3QgbWF0Y2hpbmdFeGVyY2lzZSA9IGV4ZXJjaXNlc1dpdGhWaWRlb3MuZmluZChleCA9PiBleC5uYW1lID09PSBsb2dEYXRhLmV4ZXJjaXNlLm5hbWUpO1xuICAgICAgXG4gICAgICByZXR1cm4gbmV3IEV4ZXJjaXNlTG9nKHtcbiAgICAgICAgaWQ6IGxvZ0RvYy5pZCxcbiAgICAgICAgd29ya291dElkOiB3b3Jrb3V0SWQsXG4gICAgICAgIHVzZXJJZDogdXNlcklkLFxuICAgICAgICBleGVyY2lzZTogbmV3IEV4ZXJjaXNlKHtcbiAgICAgICAgICAuLi5sb2dEYXRhLmV4ZXJjaXNlLFxuICAgICAgICAgIHZpZGVvczogbWF0Y2hpbmdFeGVyY2lzZT8udmlkZW9zIHx8IFtdLCAvLyBPbmx5IHRha2UgdGhlIHZpZGVvc1xuICAgICAgICAgIGNhdGVnb3J5OiBsb2dEYXRhLmV4ZXJjaXNlLmNhdGVnb3J5IC8vIFByZXNlcnZlIG9yaWdpbmFsIGNhdGVnb3J5XG4gICAgICAgIH0pLFxuICAgICAgICBsb2dzOiBsb2dEYXRhLmxvZ3MgfHwgW10sXG4gICAgICAgIGZlZWRiYWNrOiBsb2dEYXRhLmZlZWRiYWNrIHx8ICcnLFxuICAgICAgICBub3RlOiBsb2dEYXRhLm5vdGUgfHwgJycsXG4gICAgICAgIHJlY29tbWVuZGVkV2VpZ2h0OiBsb2dEYXRhLnJlY29tbWVuZGVkV2VpZ2h0IHx8ICdjYWxjdWxhdGluZy4uLicsXG4gICAgICAgIGlzU3BsaXQ6IGxvZ0RhdGEuaXNTcGxpdCB8fCBmYWxzZSxcbiAgICAgICAgaXNCb2R5V2VpZ2h0OiBsb2dEYXRhLmlzQm9keVdlaWdodCB8fCBmYWxzZSxcbiAgICAgICAgbG9nU3VibWl0dGVkOiBsb2dEYXRhLmxvZ1N1Ym1pdHRlZCB8fCBmYWxzZSxcbiAgICAgICAgbG9nSXNFZGl0aW5nOiBsb2dEYXRhLmxvZ0lzRWRpdGluZyB8fCBmYWxzZSxcbiAgICAgICAgaXNDb21wbGV0ZWQ6IGxvZ0RhdGEuaXNDb21wbGV0ZWQgfHwgZmFsc2UsXG4gICAgICAgIG9yZGVyOiBsb2dEYXRhLm9yZGVyIHx8IG51bGwsXG4gICAgICAgIGNvbXBsZXRlZEF0OiBjb252ZXJ0RmlyZXN0b3JlVGltZXN0YW1wKGxvZ0RhdGEuY29tcGxldGVkQXQpLFxuICAgICAgICBjcmVhdGVkQXQ6IGNvbnZlcnRGaXJlc3RvcmVUaW1lc3RhbXAobG9nRGF0YS5jcmVhdGVkQXQpLFxuICAgICAgICB1cGRhdGVkQXQ6IGNvbnZlcnRGaXJlc3RvcmVUaW1lc3RhbXAobG9nRGF0YS51cGRhdGVkQXQpXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHdvcmtvdXQubG9ncyA9IGxvZ3M7XG4gICAgcmV0dXJuIFt3b3Jrb3V0LCBsb2dzXTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBzYXZlZCB3b3Jrb3V0OicsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuXG4vKipcbiAqIEZldGNoIHVzZXIgY2hhbGxlbmdlcyBieSBjaGFsbGVuZ2VJZC5cbiAqIEBwYXJhbSBjaGFsbGVuZ2VJZCBUaGUgSUQgb2YgdGhlIGNoYWxsZW5nZSB0byBmZXRjaCBhc3NvY2lhdGVkIHVzZXIgY2hhbGxlbmdlcyBmb3IuXG4gKiBAcmV0dXJucyBBIHByb21pc2UgcmVzb2x2aW5nIHRvIGFuIGFycmF5IG9mIHVzZXIgY2hhbGxlbmdlcy5cbiAqIEB0aHJvd3MgSWYgdGhlIEZpcmVzdG9yZSBxdWVyeSBmYWlscy5cbiAqL1xuYXN5bmMgZmV0Y2hVc2VyQ2hhbGxlbmdlc0J5Q2hhbGxlbmdlSWQoY2hhbGxlbmdlSWQ6IHN0cmluZyk6IFByb21pc2U8VXNlckNoYWxsZW5nZVtdPiB7XG4gIGNvbnN0IHVzZXJDaGFsbGVuZ2VzUmVmID0gY29sbGVjdGlvbihkYiwgJ3VzZXItY2hhbGxlbmdlJyk7XG4gIGNvbnN0IHEgPSBxdWVyeSh1c2VyQ2hhbGxlbmdlc1JlZiwgd2hlcmUoJ2NoYWxsZW5nZUlkJywgJz09JywgY2hhbGxlbmdlSWQpKTtcblxuICB0cnkge1xuICAgIC8vIGNvbnNvbGUubG9nKGBGZXRjaGluZyB1c2VyIGNoYWxsZW5nZXMgZm9yIGNoYWxsZW5nZSBJRDogJHtjaGFsbGVuZ2VJZH1gKTtcblxuICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhxKTtcblxuICAgIC8vIGNvbnNvbGUubG9nKGBUb3RhbCB1c2VyIGNoYWxsZW5nZXMgZmV0Y2hlZDogJHtzbmFwc2hvdC5kb2NzLmxlbmd0aH1gKTtcblxuICAgIGNvbnN0IHVzZXJDaGFsbGVuZ2VzID0gc25hcHNob3QuZG9jcy5tYXAoKGRvYzogRG9jdW1lbnREYXRhKSA9PiB7XG4gICAgICBjb25zdCBkYXRhID0gZG9jLmRhdGEoKTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKGBQcm9jZXNzaW5nIHVzZXIgY2hhbGxlbmdlIHdpdGggSUQ6ICR7ZG9jLmlkfWAsIGRhdGEpO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZDogZG9jLmlkLFxuICAgICAgICAuLi5kYXRhLFxuICAgICAgICBjaGFsbGVuZ2U6IGRhdGEuY2hhbGxlbmdlXG4gICAgICAgICAgPyBuZXcgQ2hhbGxlbmdlKHtcbiAgICAgICAgICAgICAgaWQ6IGRhdGEuY2hhbGxlbmdlLmlkLFxuICAgICAgICAgICAgICB0aXRsZTogZGF0YS5jaGFsbGVuZ2UudGl0bGUsXG4gICAgICAgICAgICAgIHN1YnRpdGxlOiBkYXRhLmNoYWxsZW5nZS5zdWJ0aXRsZSxcbiAgICAgICAgICAgICAgcGFydGljaXBhbnRzOiBkYXRhLmNoYWxsZW5nZS5wYXJ0aWNpcGFudHMgfHwgW10sXG4gICAgICAgICAgICAgIHN0YXR1czogZGF0YS5jaGFsbGVuZ2Uuc3RhdHVzIGFzIENoYWxsZW5nZVN0YXR1cyxcbiAgICAgICAgICAgICAgc3RhcnREYXRlOiBkYXRhLmNoYWxsZW5nZS5zdGFydERhdGUgPyBuZXcgRGF0ZShkYXRhLmNoYWxsZW5nZS5zdGFydERhdGUpIDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgZW5kRGF0ZTogZGF0YS5jaGFsbGVuZ2UuZW5kRGF0ZSA/IG5ldyBEYXRlKGRhdGEuY2hhbGxlbmdlLmVuZERhdGUpIDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgY3JlYXRlZEF0OiBkYXRhLmNoYWxsZW5nZS5jcmVhdGVkQXQgPyBuZXcgRGF0ZShkYXRhLmNoYWxsZW5nZS5jcmVhdGVkQXQpIDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgdXBkYXRlZEF0OiBkYXRhLmNoYWxsZW5nZS51cGRhdGVkQXQgPyBuZXcgRGF0ZShkYXRhLmNoYWxsZW5nZS51cGRhdGVkQXQpIDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgaW50cm9WaWRlb3M6IChkYXRhLmNoYWxsZW5nZS5pbnRyb1ZpZGVvcyB8fCBbXSkubWFwKCh2OiBhbnkpID0+IFxuICAgICAgICAgICAgICAgIG5ldyBJbnRyb1ZpZGVvKHtcbiAgICAgICAgICAgICAgICAgIGlkOiB2LmlkLFxuICAgICAgICAgICAgICAgICAgdXNlcklkOiB2LnVzZXJJZCxcbiAgICAgICAgICAgICAgICAgIHZpZGVvVXJsOiB2LnZpZGVvVXJsXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgY3JlYXRlZEF0OiBjb252ZXJ0VGltZXN0YW1wKGRhdGEuY3JlYXRlZEF0KSxcbiAgICAgICAgdXBkYXRlZEF0OiBjb252ZXJ0VGltZXN0YW1wKGRhdGEudXBkYXRlZEF0KSxcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvLyBjb25zb2xlLmxvZygnQWxsIHVzZXIgY2hhbGxlbmdlcyBhZnRlciBwcm9jZXNzaW5nOicsIEpTT04uc3RyaW5naWZ5KHVzZXJDaGFsbGVuZ2VzLCBudWxsLCAyKSk7XG5cbiAgICByZXR1cm4gdXNlckNoYWxsZW5nZXM7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgdXNlciBjaGFsbGVuZ2VzIGJ5IGNoYWxsZW5nZUlkOicsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuXG5hc3luYyBnZXRDb2xsZWN0aW9uQnlJZChpZDogc3RyaW5nKTogUHJvbWlzZTxTd2VhdGxpc3RDb2xsZWN0aW9uPiB7XG4gIGNvbnNvbGUubG9nKFwiRmV0Y2hpbmcgY29sbGVjdGlvbiB3aXRoIGlkOlwiLCBpZCk7XG4gIHRyeSB7XG4gICAgY29uc3QgZG9jUmVmID0gZG9jKGRiLCBcInN3ZWF0bGlzdC1jb2xsZWN0aW9uXCIsIGlkKTtcbiAgICBjb25zdCBkb2NTbmFwID0gYXdhaXQgZ2V0RG9jKGRvY1JlZik7XG4gICAgaWYgKGRvY1NuYXAuZXhpc3RzKCkpIHtcbiAgICAgIHJldHVybiBuZXcgU3dlYXRsaXN0Q29sbGVjdGlvbih7XG4gICAgICAgIGlkOiBkb2NTbmFwLmlkLFxuICAgICAgICAuLi5kb2NTbmFwLmRhdGEoKVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvbGxlY3Rpb24gbm90IGZvdW5kXCIpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBjb2xsZWN0aW9uIGJ5IElEOlwiLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxuLy8gSW4gV29ya291dFNlcnZpY2UgY2xhc3NcbmFzeW5jIGdldENvbGxlY3Rpb25zQnlJZHMoY29sbGVjdGlvbklkczogc3RyaW5nW10pOiBQcm9taXNlPFN3ZWF0bGlzdENvbGxlY3Rpb25bXT4ge1xuICB0cnkge1xuICAgIC8vIFVzZSBQcm9taXNlLmFsbCB0byBmZXRjaCBhbGwgY29sbGVjdGlvbnMgaW4gcGFyYWxsZWxcbiAgICBjb25zdCBjb2xsZWN0aW9ucyA9IGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgY29sbGVjdGlvbklkcy5tYXAoYXN5bmMgKGlkKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgZG9jUmVmID0gZG9jKGRiLCBcInN3ZWF0bGlzdC1jb2xsZWN0aW9uXCIsIGlkKTtcbiAgICAgICAgICBjb25zdCBkb2NTbmFwID0gYXdhaXQgZ2V0RG9jKGRvY1JlZik7XG4gICAgICAgICAgaWYgKGRvY1NuYXAuZXhpc3RzKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU3dlYXRsaXN0Q29sbGVjdGlvbih7XG4gICAgICAgICAgICAgIGlkOiBkb2NTbmFwLmlkLFxuICAgICAgICAgICAgICAuLi5kb2NTbmFwLmRhdGEoKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGZldGNoaW5nIGNvbGxlY3Rpb24gJHtpZH06YCwgZXJyb3IpO1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICk7XG5cbiAgICAvLyBGaWx0ZXIgb3V0IGFueSBudWxsIHZhbHVlcyBmcm9tIGZhaWxlZCBmZXRjaGVzXG4gICAgcmV0dXJuIGNvbGxlY3Rpb25zLmZpbHRlcigoY29sbGVjdGlvbik6IGNvbGxlY3Rpb24gaXMgU3dlYXRsaXN0Q29sbGVjdGlvbiA9PiBjb2xsZWN0aW9uICE9PSBudWxsKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgY29sbGVjdGlvbnM6XCIsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuXG4gIFxuYXN5bmMgZmV0Y2hDb2xsZWN0aW9ucyh1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8U3dlYXRsaXN0Q29sbGVjdGlvbltdPiB7XG4gIGlmICghdXNlcklkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdVc2VyIElEIGlzIHJlcXVpcmVkJyk7XG4gIH1cblxuICB0cnkge1xuICAgIGNvbnN0IGNvbGxlY3Rpb25zUmVmID0gZnNDb2xsZWN0aW9uKGRiLCBcInN3ZWF0bGlzdC1jb2xsZWN0aW9uXCIpO1xuXG4gICAgLy8gUXVlcnkgZm9yIHJlY29yZHMgd2hlcmUgb3duZXJJZCBpcyBhbiBhcnJheSB0aGF0IGNvbnRhaW5zIHRoZSB1c2VySWQuXG4gICAgY29uc3QgcUFycmF5ID0gcXVlcnkoY29sbGVjdGlvbnNSZWYsIHdoZXJlKFwib3duZXJJZFwiLCBcImFycmF5LWNvbnRhaW5zXCIsIHVzZXJJZCkpO1xuICAgIGNvbnN0IHNuYXBzaG90QXJyYXkgPSBhd2FpdCBnZXREb2NzKHFBcnJheSk7XG4gICAgY29uc3QgY29sbGVjdGlvbnNGcm9tQXJyYXk6IFN3ZWF0bGlzdENvbGxlY3Rpb25bXSA9IHNuYXBzaG90QXJyYXkuZG9jcy5tYXAoKGRvYzogUXVlcnlEb2N1bWVudFNuYXBzaG90PERvY3VtZW50RGF0YT4pID0+IHtcbiAgICAgIGNvbnN0IGRhdGEgPSB7IGlkOiBkb2MuaWQsIC4uLmRvYy5kYXRhKCkgfTtcbiAgICAgIHJldHVybiBuZXcgU3dlYXRsaXN0Q29sbGVjdGlvbihkYXRhKTtcbiAgICB9KTtcblxuICAgIGNvbnNvbGUubG9nKFwiVGhlIGFycmF5IGNvbGxlY3Rpb25zXCIsIGNvbGxlY3Rpb25zRnJvbUFycmF5KTtcblxuICAgIC8vIFF1ZXJ5IGZvciByZWNvcmRzIHdoZXJlIG93bmVySWQgaXMgYSBzdHJpbmcgZXF1YWwgdG8gdGhlIHVzZXJJZC5cbiAgICBjb25zdCBxU3RyaW5nID0gcXVlcnkoY29sbGVjdGlvbnNSZWYsIHdoZXJlKFwib3duZXJJZFwiLCBcIj09XCIsIHVzZXJJZCkpO1xuICAgIGNvbnN0IHNuYXBzaG90U3RyaW5nID0gYXdhaXQgZ2V0RG9jcyhxU3RyaW5nKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uc0Zyb21TdHJpbmc6IFN3ZWF0bGlzdENvbGxlY3Rpb25bXSA9IHNuYXBzaG90U3RyaW5nLmRvY3MubWFwKChkb2M6IFF1ZXJ5RG9jdW1lbnRTbmFwc2hvdDxEb2N1bWVudERhdGE+KSA9PiB7XG4gICAgICBjb25zdCBkYXRhID0geyBpZDogZG9jLmlkLCAuLi5kb2MuZGF0YSgpIH07XG4gICAgICByZXR1cm4gbmV3IFN3ZWF0bGlzdENvbGxlY3Rpb24oZGF0YSk7XG4gICAgfSk7XG5cbiAgICBjb25zb2xlLmxvZyhcIlRoZSBzdHJpbmcgY29sbGVjdGlvbnNcIiwgY29sbGVjdGlvbnNGcm9tU3RyaW5nKTtcblxuXG4gICAgLy8gQ29tYmluZSBib3RoIGFycmF5cyBhbmQgcmVtb3ZlIGR1cGxpY2F0ZXMgKGlmIGFueSkgYmFzZWQgb24gdGhlIGNvbGxlY3Rpb24gaWQuXG4gICAgY29uc3QgY29tYmluZWQgPSBbLi4uY29sbGVjdGlvbnNGcm9tQXJyYXksIC4uLmNvbGxlY3Rpb25zRnJvbVN0cmluZ107XG4gICAgY29uc3QgdW5pcXVlQ29sbGVjdGlvbnMgPSBuZXcgTWFwPHN0cmluZywgU3dlYXRsaXN0Q29sbGVjdGlvbj4oKTtcbiAgICBjb21iaW5lZC5mb3JFYWNoKGNvbGxlY3Rpb24gPT4ge1xuICAgICAgdW5pcXVlQ29sbGVjdGlvbnMuc2V0KGNvbGxlY3Rpb24uaWQsIGNvbGxlY3Rpb24pO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIEFycmF5LmZyb20odW5pcXVlQ29sbGVjdGlvbnMudmFsdWVzKCkpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyBzd2VhdGxpc3RzOlwiLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxuXG5cbiAgICAvKipcbiAgICogRmV0Y2ggdXNlciBjaGFsbGVuZ2VzIGJ5IHVzZXJJZCBhbmQgZmlsdGVyIGZvciBhY3RpdmUgY2hhbGxlbmdlcy5cbiAgICogQHJldHVybnMgQSBwcm9taXNlIHJlc29sdmluZyB0byBhbiBhcnJheSBvZiBhY3RpdmUgY2hhbGxlbmdlcy5cbiAgICogQHRocm93cyBJZiBubyB1c2VyIGlzIHNpZ25lZCBpbiBvciBpZiB0aGUgRmlyZXN0b3JlIHF1ZXJ5IGZhaWxzLlxuICAgKi9cbiAgICBhc3luYyBmZXRjaEFjdGl2ZUNoYWxsZW5nZXMoKTogUHJvbWlzZTxVc2VyQ2hhbGxlbmdlW10+IHtcbiAgICAgIGNvbnN0IGN1cnJlbnRVc2VyID0gdXNlclNlcnZpY2UuY3VycmVudFVzZXI7XG4gICAgICBpZiAoIWN1cnJlbnRVc2VyPy5pZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHVzZXIgaXMgc2lnbmVkIGluJyk7XG4gICAgICB9XG4gICAgXG4gICAgICBjb25zdCB1c2VyQ2hhbGxlbmdlc1JlZiA9IGNvbGxlY3Rpb24oZGIsICd1c2VyLWNoYWxsZW5nZScpO1xuICAgICAgY29uc3QgcSA9IHF1ZXJ5KHVzZXJDaGFsbGVuZ2VzUmVmLCB3aGVyZSgndXNlcklkJywgJz09JywgY3VycmVudFVzZXIuaWQpKTtcbiAgICBcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGBGZXRjaGluZyBjaGFsbGVuZ2VzIGZvciB1c2VyIElEOiAke2N1cnJlbnRVc2VyLmlkfWApO1xuICAgIFxuICAgICAgICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IGdldERvY3MocSk7XG4gICAgXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGBUb3RhbCBjaGFsbGVuZ2VzIGZldGNoZWQ6ICR7c25hcHNob3QuZG9jcy5sZW5ndGh9YCk7XG4gICAgXG4gICAgICAgIGNvbnN0IGFsbENoYWxsZW5nZXMgPSBzbmFwc2hvdC5kb2NzLm1hcCgoZG9jOiBEb2N1bWVudERhdGEpID0+IHtcbiAgICAgICAgICBjb25zdCBkYXRhID0gZG9jLmRhdGEoKTtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgUHJvY2Vzc2luZyBjaGFsbGVuZ2Ugd2l0aCBJRDogJHtkb2MuaWR9YCwgZGF0YSk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gVXNlIHRoZSBDaGFsbGVuZ2UgY29uc3RydWN0b3IgdG8gcGFyc2UgdGhlIGNoYWxsZW5nZSBkYXRhXG4gICAgICAgICAgLy8gY29uc29sZS5sb2coXCJkYXRlIGJlZm9yZSBmb3JtYXQ6IFwiICsgY29udmVydEZpcmVzdG9yZVRpbWVzdGFtcChkYXRhLmNoYWxsZW5nZS5zdGFydERhdGUpKTtcblxuICAgICAgICAgIGNvbnN0IGNoYWxsZW5nZSA9IGRhdGEuY2hhbGxlbmdlXG4gICAgICAgICAgICA/IG5ldyBDaGFsbGVuZ2Uoe1xuICAgICAgICAgICAgICAgIGlkOiBkYXRhLmNoYWxsZW5nZS5pZCxcbiAgICAgICAgICAgICAgICB0aXRsZTogZGF0YS5jaGFsbGVuZ2UudGl0bGUsXG4gICAgICAgICAgICAgICAgc3VidGl0bGU6IGRhdGEuY2hhbGxlbmdlLnN1YnRpdGxlLFxuICAgICAgICAgICAgICAgIHBhcnRpY2lwYW50czogZGF0YS5jaGFsbGVuZ2UucGFydGljaXBhbnRzIHx8IFtdLFxuICAgICAgICAgICAgICAgIHN0YXR1czogZGF0YS5jaGFsbGVuZ2Uuc3RhdHVzIGFzIENoYWxsZW5nZVN0YXR1cyxcbiAgICAgICAgICAgICAgICBzdGFydERhdGU6IGNvbnZlcnRGaXJlc3RvcmVUaW1lc3RhbXAoZGF0YS5jaGFsbGVuZ2Uuc3RhcnREYXRlKSxcbiAgICAgICAgICAgICAgICBlbmREYXRlOiBjb252ZXJ0RmlyZXN0b3JlVGltZXN0YW1wKGRhdGEuY2hhbGxlbmdlLmVuZERhdGUpLFxuICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogY29udmVydEZpcmVzdG9yZVRpbWVzdGFtcChkYXRhLmNoYWxsZW5nZS5jcmVhdGVkQXQpLFxuICAgICAgICAgICAgICAgIHVwZGF0ZWRBdDogY29udmVydEZpcmVzdG9yZVRpbWVzdGFtcChkYXRhLmNoYWxsZW5nZS51cGRhdGVkQXQpLFxuICAgICAgICAgICAgICAgIGludHJvVmlkZW9zOiAoZGF0YS5jaGFsbGVuZ2UuaW50cm9WaWRlb3MgfHwgW10pLm1hcCgodjogYW55KSA9PiBcbiAgICAgICAgICAgICAgICAgIG5ldyBJbnRyb1ZpZGVvKHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IHYuaWQsXG4gICAgICAgICAgICAgICAgICAgIHVzZXJJZDogdi51c2VySWQsXG4gICAgICAgICAgICAgICAgICAgIHZpZGVvVXJsOiB2LnZpZGVvVXJsXG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGlkOiBkb2MuaWQsXG4gICAgICAgICAgICAuLi5kYXRhLFxuICAgICAgICAgICAgY2hhbGxlbmdlLFxuICAgICAgICAgICAgY3JlYXRlZEF0OiBjb252ZXJ0RmlyZXN0b3JlVGltZXN0YW1wKGRhdGEuY3JlYXRlZEF0KSxcbiAgICAgICAgICAgIHVwZGF0ZWRBdDogY29udmVydEZpcmVzdG9yZVRpbWVzdGFtcChkYXRhLnVwZGF0ZWRBdCksXG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdBbGwgY2hhbGxlbmdlcyBhZnRlciBwcm9jZXNzaW5nOicsIEpTT04uc3RyaW5naWZ5KGFsbENoYWxsZW5nZXMsIG51bGwsIDIpKTtcbiAgICBcbiAgICAgICAgLy8gRmlsdGVyIGZvciBhY3RpdmUgY2hhbGxlbmdlcyAoZW5kRGF0ZSA+IGN1cnJlbnQgZGF0ZSlcbiAgICAgICAgY29uc3QgYWN0aXZlQ2hhbGxlbmdlcyA9IGFsbENoYWxsZW5nZXMuZmlsdGVyKHVzZXJDaGFsbGVuZ2UgPT4ge1xuICAgICAgICAgIGNvbnN0IGVuZERhdGUgPSB1c2VyQ2hhbGxlbmdlLmNoYWxsZW5nZT8uZW5kRGF0ZTtcbiAgICBcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcbiAgICAgICAgICAvLyAgIGBFdmFsdWF0aW5nIGNoYWxsZW5nZSBJRDogJHt1c2VyQ2hhbGxlbmdlLmlkfSwgRW5kIERhdGU6ICR7ZW5kRGF0ZX0sIEN1cnJlbnQgRGF0ZTogJHtuZXcgRGF0ZSgpfWBcbiAgICAgICAgICAvLyApO1xuICAgIFxuICAgICAgICAgIHJldHVybiBlbmREYXRlICYmIGVuZERhdGUgPiBuZXcgRGF0ZSgpO1xuICAgICAgICB9KTtcbiAgICBcbiAgICAgICAgLy8gY29uc29sZS5sb2coYFRvdGFsIGFjdGl2ZSBjaGFsbGVuZ2VzOiAke2FjdGl2ZUNoYWxsZW5nZXMubGVuZ3RofWAsIGFjdGl2ZUNoYWxsZW5nZXMpO1xuICAgIFxuICAgICAgICByZXR1cm4gYWN0aXZlQ2hhbGxlbmdlcztcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGFjdGl2ZSBjaGFsbGVuZ2VzOicsIGVycm9yKTtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9XG4gICAgfVxuICAgIFxuXG4gIC8qKlxuICAgKiBGZXRjaCB1c2VyIGNoYWxsZW5nZXMgYnkgdXNlcklkLlxuICAgKiBAcmV0dXJucyBBIHByb21pc2UgcmVzb2x2aW5nIHRvIGFuIGFycmF5IG9mIGNoYWxsZW5nZXMuXG4gICAqIEB0aHJvd3MgSWYgbm8gdXNlciBpcyBzaWduZWQgaW4gb3IgaWYgdGhlIEZpcmVzdG9yZSBxdWVyeSBmYWlscy5cbiAgICovXG4gIGFzeW5jIGZldGNoVXNlckNoYWxsZW5nZXMoKTogUHJvbWlzZTxVc2VyQ2hhbGxlbmdlW10+IHtcbiAgICBjb25zdCBjdXJyZW50VXNlciA9IHVzZXJTZXJ2aWNlLmN1cnJlbnRVc2VyO1xuICAgIGlmICghY3VycmVudFVzZXI/LmlkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHVzZXIgaXMgc2lnbmVkIGluJyk7XG4gICAgfVxuXG4gICAgLy8gUmVmZXJlbmNlIHRvIHRoZSB1c2VyLWNoYWxsZW5nZSBjb2xsZWN0aW9uXG4gICAgY29uc3QgdXNlckNoYWxsZW5nZXNSZWYgPSBjb2xsZWN0aW9uKGRiLCAndXNlci1jaGFsbGVuZ2UnKTtcblxuICAgIC8vIFF1ZXJ5IGNoYWxsZW5nZXMgd2hlcmUgdXNlcklkIG1hdGNoZXMgdGhlIGN1cnJlbnQgdXNlcidzIElEXG4gICAgY29uc3QgcSA9IHF1ZXJ5KHVzZXJDaGFsbGVuZ2VzUmVmLCB3aGVyZSgndXNlcklkJywgJz09JywgY3VycmVudFVzZXIuaWQpKTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IGdldERvY3MocSk7XG5cbiAgICAgIC8vIE1hcCBkb2N1bWVudHMgdG8gYW4gYXJyYXkgb2YgQ2hhbGxlbmdlIG9iamVjdHNcbiAgICAgIHJldHVybiBzbmFwc2hvdC5kb2NzLm1hcCgoZG9jOiBEb2N1bWVudERhdGEpID0+IG5ldyBVc2VyQ2hhbGxlbmdlKHtcbiAgICAgICAgaWQ6IGRvYy5pZCxcbiAgICAgICAgLi4uZG9jLmRhdGEoKSxcbiAgICAgIH0pKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgdXNlciBjaGFsbGVuZ2VzOicsIGVycm9yKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGZldGNoIHVzZXIgY2hhbGxlbmdlcycpO1xuICAgIH1cbiAgfVxuICBcbiAgLy91cGRhdGUgdGhlIHdvcmtvdXQgc3VtbWFyeSxcbiAgYXN5bmMgdXBkYXRlV29ya291dFN1bW1hcnkoe1xuICAgIHVzZXJJZCxcbiAgICB3b3Jrb3V0SWQsXG4gICAgc3VtbWFyeVxuICB9OiB7XG4gICAgdXNlcklkOiBzdHJpbmcsXG4gICAgd29ya291dElkOiBzdHJpbmcsXG4gICAgc3VtbWFyeTogV29ya291dFN1bW1hcnlcbiAgfSk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICghdXNlcklkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHVzZXIgSUQgcHJvdmlkZWQnKTtcbiAgICB9XG4gIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCBzdW1tYXJ5UmVmID0gZG9jKGRiLCAndXNlcnMnLCB1c2VySWQsICd3b3Jrb3V0U3VtbWFyeScsIHN1bW1hcnkuaWQpO1xuXG4gICAgICAvLyBVcGRhdGUgdGhlIHVwZGF0ZWRBdCB0aW1lc3RhbXBcbiAgICAgIHN1bW1hcnkudXBkYXRlZEF0ID0gbmV3IERhdGUoKTtcblxuICAgICAgLy8gVXNlIHRoZSB0b0RpY3Rpb25hcnkgbWV0aG9kIHRvIGNvbnZlcnQgdG8gRmlyZXN0b3JlIGZvcm1hdFxuICAgICAgY29uc3Qgc3VtbWFyeURhdGEgPSBzdW1tYXJ5LnRvRGljdGlvbmFyeSgpO1xuXG4gICAgICBjb25zb2xlLmxvZygnVXBkYXRpbmcgd29ya291dCBzdW1tYXJ5OicsIHtcbiAgICAgICAgcGF0aDogYHVzZXJzLyR7dXNlcklkfS93b3Jrb3V0U3VtbWFyeS8ke3N1bW1hcnkuaWR9YCxcbiAgICAgICAgZGF0YTogc3VtbWFyeURhdGFcbiAgICAgIH0pO1xuXG4gICAgICBhd2FpdCBzZXREb2Moc3VtbWFyeVJlZiwgc3VtbWFyeURhdGEsIHsgbWVyZ2U6IHRydWUgfSk7XG4gICAgICBjb25zb2xlLmxvZygnV29ya291dCBzdW1tYXJ5IGRvY3VtZW50IHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIHdvcmtvdXQgc3VtbWFyeTonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICBhc3luYyB1cGRhdGVXb3Jrb3V0TG9ncyh7XG4gICAgdXNlcklkLFxuICAgIHdvcmtvdXRJZCwgXG4gICAgbG9nc1xuICB9OiB7XG4gICAgdXNlcklkOiBzdHJpbmcsXG4gICAgd29ya291dElkOiBzdHJpbmcsIFxuICAgIGxvZ3M6IEV4ZXJjaXNlTG9nW11cbiAgfSk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB3b3Jrb3V0UmVmID0gZG9jKGRiLCAndXNlcnMnLCB1c2VySWQsICd3b3Jrb3V0U2Vzc2lvbnMnLCB3b3Jrb3V0SWQpO1xuICAgICAgY29uc3QgbG9nc1JlZiA9IGNvbGxlY3Rpb24od29ya291dFJlZiwgJ2xvZ3MnKTtcbiAgICAgIGNvbnN0IGJhdGNoID0gd3JpdGVCYXRjaChkYik7XG4gICAgICBcbiAgICAgIGxvZ3MuZm9yRWFjaChsb2cgPT4ge1xuICAgICAgICBjb25zdCBsb2dEb2NSZWYgPSBkb2MobG9nc1JlZiwgbG9nLmlkKTtcbiAgICAgICAgYmF0Y2gudXBkYXRlKGxvZ0RvY1JlZiwge1xuICAgICAgICAgIC4uLmxvZy50b0RpY3Rpb25hcnkoKVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICBcbiAgICAgIGF3YWl0IGJhdGNoLmNvbW1pdCgpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyB3b3Jrb3V0IGxvZ3M6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLy8gVGhlIGNhbmNlbFdvcmtvdXQgbWV0aG9kIOKAkyBpdCBkZWxldGVzIHRoZSB3b3Jrb3V0IHNlc3Npb24gYW5kIHN1bW1hcnkgKGlmIGFueSksXG4vLyBjbGVhbnMgdXAgdGhlIGxvY2FsIHN0YXRlLCBhbmQgbG9ncyB0aGUgY2FuY2VsbGF0aW9uLlxuYXN5bmMgY2FuY2VsV29ya291dCh3b3Jrb3V0OiBXb3Jrb3V0IHwgbnVsbCwgd29ya291dFN1bW1hcnk6IFdvcmtvdXRTdW1tYXJ5IHwgbnVsbCk6IFByb21pc2U8dm9pZD4ge1xuICBpZiAoIXVzZXJTZXJ2aWNlLmN1cnJlbnRVc2VyPy5pZCB8fCAhd29ya291dCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlVzZXIgbm90IGF1dGhlbnRpY2F0ZWQuXCIpO1xuICB9XG5cbiAgdHJ5IHsgICAgXG4gICAgICBhd2FpdCB0aGlzLmRlbGV0ZVdvcmtvdXRTZXNzaW9uKHdvcmtvdXQuaWQpO1xuICAgICAgaWYgKHdvcmtvdXRTdW1tYXJ5KSB7XG4gICAgICAgIGF3YWl0IHRoaXMuZGVsZXRlV29ya291dFN1bW1hcnkod29ya291dFN1bW1hcnkuaWQpO1xuICAgICAgfVxuICAgICAgXG4gICAgICB0aGlzLmNsZWFuVXBXb3Jrb3V0SW5Qcm9ncmVzcygpO1xuICAgICAgY29uc29sZS5sb2coXCJXb3Jrb3V0IGNhbmNlbGVkIGFuZCBjbGVhbmVkIHVwIHN1Y2Nlc3NmdWxseS5cIik7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGNhbmNlbGluZyB3b3Jrb3V0OlwiLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cbiAgXG4vLyBEZWxldGVzIGEgd29ya291dCBzZXNzaW9uIGRvY3VtZW50IGFuZCBhbGwgaXRzIHN1YmNvbGxlY3Rpb24gXCJsb2dzXCJcbmFzeW5jIGRlbGV0ZVdvcmtvdXRTZXNzaW9uKHdvcmtvdXRJZDogc3RyaW5nIHwgbnVsbCk6IFByb21pc2U8dm9pZD4ge1xuICBpZiAoIXVzZXJTZXJ2aWNlLmN1cnJlbnRVc2VyPy5pZCB8fCAhd29ya291dElkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVXNlciBub3QgYXV0aGVudGljYXRlZC5cIik7XG4gIH1cbiAgY29uc3QgdXNlcklkID0gdXNlclNlcnZpY2UuY3VycmVudFVzZXIuaWQ7XG4gIGNvbnN0IHdvcmtvdXRSZWYgPSBkb2MoZGIsIFwidXNlcnNcIiwgdXNlcklkLCBcIndvcmtvdXRTZXNzaW9uc1wiLCB3b3Jrb3V0SWQpO1xuICBcbiAgdHJ5IHtcbiAgICAvLyBEZWxldGUgYWxsIGxvZ3MgaW4gdGhlIHN1YmNvbGxlY3Rpb25cbiAgICBjb25zdCBsb2dzUmVmID0gY29sbGVjdGlvbih3b3Jrb3V0UmVmLCBcImxvZ3NcIik7XG4gICAgY29uc3QgbG9nc1NuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhsb2dzUmVmKTtcbiAgICBjb25zdCBiYXRjaCA9IHdyaXRlQmF0Y2goZGIpO1xuICAgIFxuICAgIGxvZ3NTbmFwc2hvdC5kb2NzLmZvckVhY2goKGxvZ0RvYykgPT4ge1xuICAgICAgYmF0Y2guZGVsZXRlKGxvZ0RvYy5yZWYpO1xuICAgIH0pO1xuICAgIFxuICAgIC8vIERlbGV0ZSB0aGUgbWFpbiB3b3Jrb3V0IGRvY3VtZW50XG4gICAgYmF0Y2guZGVsZXRlKHdvcmtvdXRSZWYpO1xuICAgIFxuICAgIGF3YWl0IGJhdGNoLmNvbW1pdCgpO1xuICAgIGNvbnNvbGUubG9nKFwiV29ya291dCBzZXNzaW9uIGFuZCBsb2dzIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5LlwiKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgd29ya291dCBzZXNzaW9uOlwiLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxuICAvLyBEZWxldGVzIHRoZSB3b3Jrb3V0IHN1bW1hcnkgZG9jdW1lbnQuXG4gIGFzeW5jIGRlbGV0ZVdvcmtvdXRTdW1tYXJ5KHdvcmtvdXRTdW1tYXJ5SWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICghd29ya291dFN1bW1hcnlJZCB8fCAhdXNlclNlcnZpY2UuY3VycmVudFVzZXI/LmlkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCBzdW1tYXJ5UmVmID0gZG9jKGRiLCBcInVzZXJzXCIsIHVzZXJTZXJ2aWNlLmN1cnJlbnRVc2VyLmlkLCBcIndvcmtvdXRTdW1tYXJ5XCIsIHdvcmtvdXRTdW1tYXJ5SWQpO1xuICAgICAgYXdhaXQgZGVsZXRlRG9jKHN1bW1hcnlSZWYpO1xuICAgICAgY29uc29sZS5sb2coXCJXb3Jrb3V0IHN1bW1hcnkgZGVsZXRlZCBzdWNjZXNzZnVsbHkuXCIpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgd29ya291dCBzdW1tYXJ5OlwiLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvLyBDbGVhbiB1cCBsb2NhbCBzdG9yYWdlIGFuZCBpbi1tZW1vcnkgd29ya291dCBzdGF0ZS5cbiAgICBjbGVhblVwV29ya291dEluUHJvZ3Jlc3MoKTogdm9pZCB7XG4gICAgICBzdG9yZS5kaXNwYXRjaChyZXNldFdvcmtvdXRTdGF0ZSgpKTtcbiAgICB9XG4gICAgICBcbiAgXG4gIC8qKlxuICAgKiBGZXRjaCB0aGUgd29ya291dCBzZXNzaW9uIGZyb20gRmlyZXN0b3JlLCByZXR1cm5pbmcgeyB3b3Jrb3V0LCBsb2dzIH0uXG4gICAqIENoZWNrcyBmaXJzdCBmb3IgYSBRdWV1ZWRVcCBzZXNzaW9uLCB0aGVuIGZvciBJblByb2dyZXNzLlxuICAgKi9cbiAgYXN5bmMgZmV0Y2hDdXJyZW50V29ya291dFNlc3Npb24odXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPHtcbiAgICB3b3Jrb3V0OiBXb3Jrb3V0IHwgbnVsbDtcbiAgICBsb2dzOiBFeGVyY2lzZUxvZ1tdIHwgbnVsbDtcbiAgIH0+IHtcbiAgICBpZiAoIXVzZXJJZCkgdGhyb3cgbmV3IEVycm9yKCdObyB1c2VyIElEIHByb3ZpZGVkJyk7XG4gICBcbiAgICBjb25zdCBleGVyY2lzZVNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhjb2xsZWN0aW9uKGRiLCAnZXhlcmNpc2VzJykpO1xuICAgIGNvbnN0IHZpZGVvU25hcHNob3QgPSBhd2FpdCBnZXREb2NzKGNvbGxlY3Rpb24oZGIsICdleGVyY2lzZVZpZGVvcycpKTtcbiAgIFxuICAgIGNvbnN0IGV4ZXJjaXNlVmlkZW9zID0gdmlkZW9TbmFwc2hvdC5kb2NzLm1hcCgoZG9jKSA9PiBcbiAgICAgIG5ldyBFeGVyY2lzZVZpZGVvKHtcbiAgICAgICAgaWQ6IGRvYy5pZCxcbiAgICAgICAgLi4uZG9jLmRhdGEoKVxuICAgICAgfSlcbiAgICApO1xuICAgXG4gICAgY29uc3QgZXhlcmNpc2VzV2l0aFZpZGVvcyA9IGV4ZXJjaXNlU25hcHNob3QuZG9jcy5tYXAoZG9jID0+IHtcbiAgICAgIGNvbnN0IGV4ZXJjaXNlID0gbmV3IEV4ZXJjaXNlKHtcbiAgICAgICAgaWQ6IGRvYy5pZCxcbiAgICAgICAgLi4uZG9jLmRhdGEoKVxuICAgICAgfSk7XG4gICBcbiAgICAgIGNvbnN0IG1hdGNoaW5nVmlkZW9zID0gZXhlcmNpc2VWaWRlb3MuZmlsdGVyKFxuICAgICAgICAodmlkZW8pID0+IHZpZGVvLmV4ZXJjaXNlLnRvTG93ZXJDYXNlKCkgPT09IGV4ZXJjaXNlLm5hbWUudG9Mb3dlckNhc2UoKVxuICAgICAgKTtcbiAgIFxuICAgICAgcmV0dXJuIG5ldyBFeGVyY2lzZSh7XG4gICAgICAgIC4uLmV4ZXJjaXNlLFxuICAgICAgICB2aWRlb3M6IG1hdGNoaW5nVmlkZW9zXG4gICAgICB9KTtcbiAgICB9KTtcbiAgIFxuICAgIGNvbnN0IHdvcmtvdXRTZXNzaW9uc1JlZiA9IGNvbGxlY3Rpb24oZGIsICd1c2VycycsIHVzZXJJZCwgJ3dvcmtvdXRTZXNzaW9ucycpO1xuICAgXG4gICAgbGV0IHEgPSBxdWVyeSh3b3Jrb3V0U2Vzc2lvbnNSZWYsIHdoZXJlKCdzdGF0dXMnLCAnPT0nLCBXb3Jrb3V0U3RhdHVzLlF1ZXVlZFVwKSk7XG4gICAgbGV0IHNuYXAgPSBhd2FpdCBnZXREb2NzKHEpO1xuICAgXG4gICAgaWYgKCFzbmFwLmVtcHR5KSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9jZXNzV29ya291dFNlc3Npb25Eb2N1bWVudChzbmFwLmRvY3NbMF0sIGV4ZXJjaXNlc1dpdGhWaWRlb3MpO1xuICAgIH1cbiAgIFxuICAgIHEgPSBxdWVyeSh3b3Jrb3V0U2Vzc2lvbnNSZWYsIHdoZXJlKCdzdGF0dXMnLCAnPT0nLCBXb3Jrb3V0U3RhdHVzLkluUHJvZ3Jlc3MpKTtcbiAgICBzbmFwID0gYXdhaXQgZ2V0RG9jcyhxKTtcbiAgIFxuICAgIGlmICghc25hcC5lbXB0eSkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvY2Vzc1dvcmtvdXRTZXNzaW9uRG9jdW1lbnQoc25hcC5kb2NzWzBdLCBleGVyY2lzZXNXaXRoVmlkZW9zKTtcbiAgICB9XG4gICBcbiAgICByZXR1cm4geyB3b3Jrb3V0OiBudWxsLCBsb2dzOiBudWxsIH07XG4gICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBmZXRjaEFuZE1hcEV4ZXJjaXNlc1dpdGhWaWRlb3MoKTogUHJvbWlzZTxFeGVyY2lzZVtdPiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIGNvbnNvbGUubG9nKCdTdGFydGluZyBmZXRjaEFuZE1hcEV4ZXJjaXNlc1dpdGhWaWRlb3MnKTtcbiAgXG4gICAgICAvLyAxLiBGZXRjaCBhbGwgZXhlcmNpc2VzIFxuICAgICAgY29uc3QgZXhlcmNpc2VTbmFwc2hvdCA9IGF3YWl0IGdldERvY3MoY29sbGVjdGlvbihkYiwgJ2V4ZXJjaXNlcycpKTtcbiAgICAgIGNvbnN0IGV4ZXJjaXNlcyA9IGV4ZXJjaXNlU25hcHNob3QuZG9jcy5tYXAoKGRvYykgPT4gXG4gICAgICAgIG5ldyBFeGVyY2lzZSh7XG4gICAgICAgICAgaWQ6IGRvYy5pZCxcbiAgICAgICAgICAuLi5kb2MuZGF0YSgpXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgICAgLy8gY29uc29sZS5sb2coYEZldGNoZWQgJHtleGVyY2lzZXMubGVuZ3RofSBleGVyY2lzZXNgKTtcbiAgXG4gICAgICAvLyAyLiBGZXRjaCBhbGwgdmlkZW9zXG4gICAgICBjb25zdCB2aWRlb1NuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhjb2xsZWN0aW9uKGRiLCAnZXhlcmNpc2VWaWRlb3MnKSk7XG4gICAgICBjb25zdCBleGVyY2lzZVZpZGVvcyA9IHZpZGVvU25hcHNob3QuZG9jcy5tYXAoKGRvYykgPT4gXG4gICAgICAgIG5ldyBFeGVyY2lzZVZpZGVvKHtcbiAgICAgICAgICBpZDogZG9jLmlkLFxuICAgICAgICAgIC4uLmRvYy5kYXRhKClcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgICAvLyBjb25zb2xlLmxvZyhgRmV0Y2hlZCAke2V4ZXJjaXNlVmlkZW9zLmxlbmd0aH0gZXhlcmNpc2UgdmlkZW9zYCk7XG4gIFxuICAgICAgLy8gMy4gTWFwIHZpZGVvcyB0byBleGVyY2lzZXNcbiAgICAgIGNvbnN0IGV4ZXJjaXNlc1dpdGhWaWRlb3MgPSBleGVyY2lzZXMubWFwKGV4ZXJjaXNlID0+IHtcbiAgICAgICAgY29uc3QgbWF0Y2hpbmdWaWRlb3MgPSBleGVyY2lzZVZpZGVvcy5maWx0ZXIoXG4gICAgICAgICAgKHZpZGVvKSA9PiB2aWRlby5leGVyY2lzZS50b0xvd2VyQ2FzZSgpID09PSBleGVyY2lzZS5uYW1lLnRvTG93ZXJDYXNlKClcbiAgICAgICAgKTtcbiAgICAgICBcbiAgICAgICAgcmV0dXJuIG5ldyBFeGVyY2lzZSh7XG4gICAgICAgICAgLi4uZXhlcmNpc2UsXG4gICAgICAgICAgdmlkZW9zOiBtYXRjaGluZ1ZpZGVvc1xuICAgICAgICB9KTtcbiAgICAgICB9KTtcbiAgXG4gICAgICAvLyBjb25zb2xlLmxvZygnRmluaXNoZWQgbWFwcGluZyBleGVyY2lzZXMgd2l0aCB2aWRlb3MnKTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKGBUb3RhbCBleGVyY2lzZXMgd2l0aCB2aWRlb3M6ICR7ZXhlcmNpc2VzV2l0aFZpZGVvcy5sZW5ndGh9YCk7XG4gICAgICAgIFxuICAgICAgcmV0dXJuIGV4ZXJjaXNlc1dpdGhWaWRlb3M7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGFuZCBtYXBwaW5nIGV4ZXJjaXNlcyB3aXRoIHZpZGVvczonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSGVscGVyIHRvIGJ1aWxkIHRoZSBXb3Jrb3V0IG9iamVjdCArIGFueSBsb2dzIGZyb20gdGhlIHNuYXBzaG90LlxuICAgKi9cbiAgYXN5bmMgZmV0Y2hBbGxXb3Jrb3V0U2Vzc2lvbnModXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPHtcbiAgICB3b3Jrb3V0OiBXb3Jrb3V0IHwgbnVsbDtcbiAgICBsb2dzOiBFeGVyY2lzZUxvZ1tdIHwgbnVsbDtcbiAgIH1bXT4ge1xuICAgIGlmICghdXNlcklkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHVzZXIgSUQgcHJvdmlkZWQnKTtcbiAgICB9XG4gICBcbiAgICB0cnkge1xuICAgICAgY29uc3QgZXhlcmNpc2VTbmFwc2hvdCA9IGF3YWl0IGdldERvY3MoY29sbGVjdGlvbihkYiwgJ2V4ZXJjaXNlcycpKTtcbiAgICAgIGNvbnN0IGV4ZXJjaXNlcyA9IGV4ZXJjaXNlU25hcHNob3QuZG9jcy5tYXAoKGRvYykgPT4gXG4gICAgICAgIG5ldyBFeGVyY2lzZSh7XG4gICAgICAgICAgaWQ6IGRvYy5pZCxcbiAgICAgICAgICAuLi5kb2MuZGF0YSgpXG4gICAgICAgIH0pXG4gICAgICApO1xuICBcbiAgICAgIGNvbnN0IHZpZGVvU25hcHNob3QgPSBhd2FpdCBnZXREb2NzKGNvbGxlY3Rpb24oZGIsICdleGVyY2lzZVZpZGVvcycpKTtcbiAgICAgIGNvbnN0IGV4ZXJjaXNlVmlkZW9zID0gdmlkZW9TbmFwc2hvdC5kb2NzLm1hcCgoZG9jKSA9PiBcbiAgICAgICAgbmV3IEV4ZXJjaXNlVmlkZW8oe1xuICAgICAgICAgIGlkOiBkb2MuaWQsXG4gICAgICAgICAgLi4uZG9jLmRhdGEoKVxuICAgICAgICB9KVxuICAgICAgKTtcbiAgIFxuICAgICAgY29uc3QgZXhlcmNpc2VzV2l0aFZpZGVvcyA9IGV4ZXJjaXNlcy5tYXAoZXhlcmNpc2UgPT4ge1xuICAgICAgICBjb25zdCBtYXRjaGluZ1ZpZGVvcyA9IGV4ZXJjaXNlVmlkZW9zLmZpbHRlcihcbiAgICAgICAgICAodmlkZW8pID0+IHZpZGVvLmV4ZXJjaXNlLnRvTG93ZXJDYXNlKCkgPT09IGV4ZXJjaXNlLm5hbWUudG9Mb3dlckNhc2UoKVxuICAgICAgICApO1xuICAgXG4gICAgICAgIHJldHVybiBuZXcgRXhlcmNpc2Uoe1xuICAgICAgICAgIC4uLmV4ZXJjaXNlLFxuICAgICAgICAgIHZpZGVvczogbWF0Y2hpbmdWaWRlb3NcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgIFxuICAgICAgY29uc3Qgd29ya291dFNlc3Npb25zUmVmID0gY29sbGVjdGlvbihkYiwgJ3VzZXJzJywgdXNlcklkLCAnd29ya291dFNlc3Npb25zJyk7XG4gICAgICBjb25zdCBzbmFwID0gYXdhaXQgZ2V0RG9jcyh3b3Jrb3V0U2Vzc2lvbnNSZWYpO1xuICAgXG4gICAgICBpZiAoc25hcC5lbXB0eSkge1xuICAgICAgICBjb25zb2xlLmxvZygnTm8gd29ya291dCBzZXNzaW9ucyBmb3VuZCBmb3IgdXNlcicpO1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICBcbiAgICAgIGNvbnN0IHNlc3Npb25zID0gYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICAgIHNuYXAuZG9jcy5tYXAoYXN5bmMgKGRvYykgPT4ge1xuICAgICAgICAgIGNvbnN0IHNlc3Npb25EYXRhID0gYXdhaXQgdGhpcy5wcm9jZXNzV29ya291dFNlc3Npb25Eb2N1bWVudChcbiAgICAgICAgICAgIGRvYywgXG4gICAgICAgICAgICBleGVyY2lzZXNXaXRoVmlkZW9zXG4gICAgICAgICAgKTtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoc2Vzc2lvbkRhdGEubG9ncykge1xuICAgICAgICAgICAgc2Vzc2lvbkRhdGEubG9ncy5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IG9yZGVyQSA9IGEub3JkZXIgPz8gMDtcbiAgICAgICAgICAgICAgY29uc3Qgb3JkZXJCID0gYi5vcmRlciA/PyAwO1xuICAgICAgICAgICAgICByZXR1cm4gb3JkZXJBIC0gb3JkZXJCO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgXG4gICAgICAgICAgcmV0dXJuIHNlc3Npb25EYXRhO1xuICAgICAgICB9KVxuICAgICAgKTtcbiAgIFxuICAgICAgcmV0dXJuIHNlc3Npb25zO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyB3b3Jrb3V0IHNlc3Npb25zOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgIH1cblxuICAgLy8gQWRkIHRoZSB1cGRhdGVVc2VyQ2hhbGxlbmdlIG1ldGhvZFxuICBhc3luYyB1cGRhdGVVc2VyQ2hhbGxlbmdlKGNoYWxsZW5nZTogVXNlckNoYWxsZW5nZSk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICghdXNlclNlcnZpY2UuY3VycmVudFVzZXI/LmlkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gdXNlciBpcyBzaWduZWQgaW4nKTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCBjaGFsbGVuZ2VSZWYgPSBkb2MoZGIsICd1c2VyLWNoYWxsZW5nZScsIGNoYWxsZW5nZS5pZCk7XG4gICAgICAgIGNvbnN0IGNoYWxsZW5nZURhdGEgPSB7XG4gICAgICAgICAgICAuLi5jaGFsbGVuZ2UsXG4gICAgICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKClcbiAgICAgICAgfTtcblxuICAgICAgICBhd2FpdCBzZXREb2MoY2hhbGxlbmdlUmVmLCBjaGFsbGVuZ2VEYXRhLCB7IG1lcmdlOiB0cnVlIH0pO1xuICAgICAgICBjb25zb2xlLmxvZygnVXNlciBjaGFsbGVuZ2UgdXBkYXRlZCBzdWNjZXNzZnVsbHknKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyB1c2VyIGNoYWxsZW5nZTonLCBlcnJvcik7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZUNvbGxlY3Rpb24oY29sbGVjdGlvbjogU3dlYXRsaXN0Q29sbGVjdGlvbik6IFByb21pc2U8U3dlYXRsaXN0Q29sbGVjdGlvbj4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb2xsUmVmID0gZnNDb2xsZWN0aW9uKGRiLCBcInN3ZWF0bGlzdC1jb2xsZWN0aW9uXCIpO1xuICBcbiAgICAgIC8vIElmIGNvbGxlY3Rpb24uaWQgaXMgZW1wdHksIGdlbmVyYXRlIGEgbmV3IGRvYyBJRCBhbmQgYXNzaWduIGl0LlxuICAgICAgaWYgKCFjb2xsZWN0aW9uLmlkIHx8IGNvbGxlY3Rpb24uaWQudHJpbSgpID09PSBcIlwiKSB7XG4gICAgICAgIGNvbnN0IG5ld0RvY1JlZiA9IGRvYyhjb2xsUmVmKTtcbiAgICAgICAgY29sbGVjdGlvbi5pZCA9IG5ld0RvY1JlZi5pZDtcbiAgICAgIH1cbiAgXG4gICAgICAvLyBFbnN1cmUgdGhlIGNoYWxsZW5nZSBpZCBtYXRjaGVzIHRoZSBjb2xsZWN0aW9uIGlkLlxuICAgICAgaWYgKGNvbGxlY3Rpb24uY2hhbGxlbmdlKSB7XG4gICAgICAgIGNvbGxlY3Rpb24uY2hhbGxlbmdlLmlkID0gY29sbGVjdGlvbi5pZDtcbiAgICAgIH1cbiAgXG4gICAgICAvLyBVcGRhdGUgdGhlIHVwZGF0ZWRBdCBmaWVsZC5cbiAgICAgIGNvbGxlY3Rpb24udXBkYXRlZEF0ID0gbmV3IERhdGUoKTtcbiAgXG4gICAgICAvLyBTYXZlIHRoZSBjb2xsZWN0aW9uIHRvIEZpcmVzdG9yZS5cbiAgICAgIGF3YWl0IHNldERvYyhkb2MoY29sbFJlZiwgY29sbGVjdGlvbi5pZCksIGNvbGxlY3Rpb24udG9EaWN0aW9uYXJ5KCkpO1xuICAgICAgY29uc29sZS5sb2coXCJDb2xsZWN0aW9uIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5XCIpO1xuICAgICAgcmV0dXJuIGNvbGxlY3Rpb247XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciB1cGRhdGluZyBjb2xsZWN0aW9uIGRvY3VtZW50OlwiLCBlcnJvcik7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciB3aGlsZSB1cGRhdGluZyB0aGUgY29sbGVjdGlvblwiKTtcbiAgICB9XG4gIH1cbiAgXG4gIHByaXZhdGUgYXN5bmMgcHJvY2Vzc1dvcmtvdXRTZXNzaW9uRG9jdW1lbnQoXG4gICAgd29ya291dERvYzogUXVlcnlEb2N1bWVudFNuYXBzaG90PERvY3VtZW50RGF0YT4sXG4gICAgZXhlcmNpc2VzV2l0aFZpZGVvczogRXhlcmNpc2VbXVxuICApOiBQcm9taXNlPHsgd29ya291dDogV29ya291dDsgbG9nczogRXhlcmNpc2VMb2dbXSB9PiB7XG4gICAgY29uc3QgZGF0YSA9IHdvcmtvdXREb2MuZGF0YSgpO1xuICBcblxuICAgIC8vIE1hcCBleGVyY2lzZXMgd2l0aCB0aGVpciBmdWxsIGRhdGEgYW5kIHZpZGVvc1xuICAgIGNvbnN0IG1hcHBlZEV4ZXJjaXNlcyA9IChkYXRhLmV4ZXJjaXNlcyB8fCBbXSkubWFwKChleGVyY2lzZVJlZjogYW55KSA9PiB7XG4gICAgICAvLyBGaW5kIHRoZSBmdWxsIGV4ZXJjaXNlIHdpdGggdmlkZW9zXG4gICAgICBjb25zdCBleGVyY2lzZU5hbWVMb3dlciA9IGV4ZXJjaXNlUmVmLmV4ZXJjaXNlPy5uYW1lPy50b0xvd2VyQ2FzZSgpLnRyaW0oKTtcbiAgICAgIGNvbnN0IGZ1bGxFeGVyY2lzZSA9IGV4ZXJjaXNlc1dpdGhWaWRlb3MuZmluZChcbiAgICAgICAgZXggPT4gZXgubmFtZS50b0xvd2VyQ2FzZSgpLnRyaW0oKSA9PT0gZXhlcmNpc2VOYW1lTG93ZXJcbiAgICAgICk7XG4gIFxuICAgICAgLy8gSWYgZnVsbCBleGVyY2lzZSBmb3VuZCwgcmV0dXJuIGl0LCBvdGhlcndpc2UgdXNlIHRoZSBvcmlnaW5hbFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uZXhlcmNpc2VSZWYsXG4gICAgICAgIGV4ZXJjaXNlOiBmdWxsRXhlcmNpc2UgfHwgZXhlcmNpc2VSZWYuZXhlcmNpc2VcbiAgICAgIH07XG4gICAgfSk7XG4gIFxuICAgIC8vIENyZWF0ZSB0aGUgd29ya291dCB3aXRoIG1hcHBlZCBleGVyY2lzZXNcbiAgICBjb25zdCB3b3Jrb3V0ID0gbmV3IFdvcmtvdXQoe1xuICAgICAgaWQ6IHdvcmtvdXREb2MuaWQsXG4gICAgICByb3VuZFdvcmtvdXRJZDogZGF0YS5yb3VuZFdvcmtvdXRJZCB8fCAnJyxcbiAgICAgIGV4ZXJjaXNlczogbWFwcGVkRXhlcmNpc2VzLFxuICAgICAgdGl0bGU6IGRhdGEudGl0bGUgfHwgJycsXG4gICAgICBkZXNjcmlwdGlvbjogZGF0YS5kZXNjcmlwdGlvbiB8fCAnJyxcbiAgICAgIGR1cmF0aW9uOiBkYXRhLmR1cmF0aW9uIHx8IDAsXG4gICAgICB1c2VBdXRob3JDb250ZW50OiBkYXRhLnVzZUF1dGhvckNvbnRlbnQgfHwgZmFsc2UsXG4gICAgICBpc0NvbXBsZXRlZDogZGF0YS5pc0NvbXBsZXRlZCB8fCBmYWxzZSxcbiAgICAgIHdvcmtvdXRTdGF0dXM6IGRhdGEud29ya291dFN0YXR1cyB8fCBXb3Jrb3V0U3RhdHVzLkFyY2hpdmVkLFxuICAgICAgYXV0aG9yOiBkYXRhLmF1dGhvciB8fCAnJyxcbiAgICAgIGNyZWF0ZWRBdDogY29udmVydEZpcmVzdG9yZVRpbWVzdGFtcChkYXRhLmNyZWF0ZWRBdCksXG4gICAgICB1cGRhdGVkQXQ6IGNvbnZlcnRGaXJlc3RvcmVUaW1lc3RhbXAoZGF0YS51cGRhdGVkQXQpLFxuICAgICAgc3RhcnRUaW1lOiBjb252ZXJ0RmlyZXN0b3JlVGltZXN0YW1wKGRhdGEuc3RhcnRUaW1lKSxcbiAgICAgIGNvbGxlY3Rpb25JZDogZGF0YS5jb2xsZWN0aW9uSWQsXG4gICAgICBjaGFsbGVuZ2U6IGRhdGEuY2hhbGxlbmdlLFxuICAgICAgbG9nczogKGRhdGEubG9ncyB8fCBbXSkubWFwKChsb2dEYXRhOiBhbnkpID0+IHtcbiAgICAgICAgLy8gTWFwIGxvZ3Mgd2l0aCBmdWxsIGV4ZXJjaXNlc1xuICAgICAgICBjb25zdCBleGVyY2lzZU5hbWVMb3dlciA9IGxvZ0RhdGEuZXhlcmNpc2U/Lm5hbWU/LnRvTG93ZXJDYXNlKCkudHJpbSgpO1xuICAgICAgICBjb25zdCBmdWxsRXhlcmNpc2UgPSBleGVyY2lzZXNXaXRoVmlkZW9zLmZpbmQoXG4gICAgICAgICAgZXggPT4gZXgubmFtZS50b0xvd2VyQ2FzZSgpLnRyaW0oKSA9PT0gZXhlcmNpc2VOYW1lTG93ZXJcbiAgICAgICAgKTtcbiAgXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4ubG9nRGF0YSxcbiAgICAgICAgICBleGVyY2lzZTogZnVsbEV4ZXJjaXNlIHx8IGxvZ0RhdGEuZXhlcmNpc2VcbiAgICAgICAgfTtcbiAgICAgIH0pLFxuICAgICAgd29ya291dFJhdGluZzogZGF0YS53b3Jrb3V0UmF0aW5nLFxuICAgICAgb3JkZXI6IGRhdGEub3JkZXIsXG4gICAgICB6b25lOiBkYXRhLnpvbmUgfHwgQm9keVpvbmUuRnVsbEJvZHlcbiAgICB9KTtcbiAgXG4gICAgLy8gRmV0Y2ggbG9ncyBmcm9tIHN1YmNvbGxlY3Rpb25cbiAgICBjb25zdCBsb2dzUmVmID0gY29sbGVjdGlvbih3b3Jrb3V0RG9jLnJlZiwgJ2xvZ3MnKTtcbiAgICBjb25zdCBsb2dzU25hcHNob3QgPSBhd2FpdCBnZXREb2NzKGxvZ3NSZWYpO1xuICAgIFxuICAgIGNvbnN0IGxvZ3M6IEV4ZXJjaXNlTG9nW10gPSBsb2dzU25hcHNob3QuZG9jcy5tYXAobG9nRG9jID0+IHtcbiAgICAgIGNvbnN0IGxvZ0RhdGEgPSBsb2dEb2MuZGF0YSgpO1xuICAgICAgXG4gICAgICAvLyBGaW5kIHRoZSBmdWxsIGV4ZXJjaXNlIHdpdGggdmlkZW9zXG4gICAgICBjb25zdCBleGVyY2lzZU5hbWVMb3dlciA9IGxvZ0RhdGEuZXhlcmNpc2U/Lm5hbWU/LnRvTG93ZXJDYXNlKCkudHJpbSgpO1xuICAgICAgY29uc3QgZnVsbEV4ZXJjaXNlID0gZXhlcmNpc2VzV2l0aFZpZGVvcy5maW5kKFxuICAgICAgICBleCA9PiBleC5uYW1lLnRvTG93ZXJDYXNlKCkudHJpbSgpID09PSBleGVyY2lzZU5hbWVMb3dlclxuICAgICAgKTtcblxuICAgICAgY29uc3QgdXBkYXRlZEV4ZXJjaXNlID0gZnVsbEV4ZXJjaXNlXG4gICAgICA/IHtcbiAgICAgICAgICAuLi5mdWxsRXhlcmNpc2UsXG4gICAgICAgICAgY2F0ZWdvcnk6IGxvZ0RhdGEuZXhlcmNpc2UuY2F0ZWdvcnksXG4gICAgICAgIH1cbiAgICAgIDogbG9nRGF0YS5leGVyY2lzZTtcbiAgXG4gICAgICAvLyBQcmVwYXJlIGxvZyBkYXRhIHdpdGggZnVsbCBleGVyY2lzZVxuICAgICAgY29uc3QgcHJlcGFyZWRMb2dEYXRhID0ge1xuICAgICAgICAuLi5sb2dEYXRhLFxuICAgICAgICBpZDogbG9nRG9jLmlkLFxuICAgICAgICB3b3Jrb3V0SWQ6IHdvcmtvdXQuaWQsXG4gICAgICAgIGV4ZXJjaXNlOiB1cGRhdGVkRXhlcmNpc2UsXG4gICAgICAgIGNyZWF0ZWRBdDogY29udmVydEZpcmVzdG9yZVRpbWVzdGFtcChsb2dEYXRhLmNyZWF0ZWRBdCksXG4gICAgICAgIHVwZGF0ZWRBdDogY29udmVydEZpcmVzdG9yZVRpbWVzdGFtcChsb2dEYXRhLnVwZGF0ZWRBdClcbiAgICAgIH07XG4gIFxuICAgICAgLy8gVXNlIHRoZSBFeGVyY2lzZUxvZyBjb25zdHJ1Y3RvciB0byBlbnN1cmUgcHJvcGVyIG1hcHBpbmdcbiAgICAgIHJldHVybiBuZXcgRXhlcmNpc2VMb2cocHJlcGFyZWRMb2dEYXRhKTtcbiAgICB9KTtcbiAgXG4gICAgcmV0dXJuIHsgd29ya291dCwgbG9ncyB9O1xuICB9XG5cbiAgYXN5bmMgc2F2ZVdvcmtvdXRTZXNzaW9uKHtcbiAgICB1c2VySWQsXG4gICAgd29ya291dCxcbiAgICBsb2dzXG4gIH06IHtcbiAgICB1c2VySWQ6IHN0cmluZyxcbiAgICB3b3Jrb3V0OiBXb3Jrb3V0LFxuICAgIGxvZ3M6IEV4ZXJjaXNlTG9nW11cbiAgfSk6IFByb21pc2U8V29ya291dCB8IG51bGw+IHtcbiAgICBpZiAoIXVzZXJJZCkgdGhyb3cgbmV3IEVycm9yKCdObyB1c2VyIElEIHByb3ZpZGVkJyk7XG5cbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coJ0luY29taW5nIGxvZ3M6JywgbG9ncy5tYXAobG9nID0+ICh7XG4gICAgICAgIG5hbWU6IGxvZy5leGVyY2lzZS5uYW1lLFxuICAgICAgICBjYXRlZ29yeTogbG9nLmV4ZXJjaXNlLmNhdGVnb3J5LFxuICAgICAgICBvcmlnaW5hbFR5cGU6IGxvZy5leGVyY2lzZS5jYXRlZ29yeT8udHlwZVxuICAgICAgfSkpKTtcblxuICAgICAgY29uc3QgY3VycmVudERhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgXG4gICAgICBjb25zdCBjbGVhbldvcmtvdXQgPSBuZXcgV29ya291dCh7XG4gICAgICAgIC4uLndvcmtvdXQsXG4gICAgICAgIHJvdW5kV29ya291dElkOiBgJHt3b3Jrb3V0LmlkfS0ke2N1cnJlbnREYXRlLmdldFRpbWUoKX1gLFxuICAgICAgICB3b3Jrb3V0U3RhdHVzOiBXb3Jrb3V0U3RhdHVzLlF1ZXVlZFVwLFxuICAgICAgICBjcmVhdGVkQXQ6IGN1cnJlbnREYXRlLFxuICAgICAgICB1cGRhdGVkQXQ6IGN1cnJlbnREYXRlLFxuICAgICAgICBzdGFydFRpbWU6IGN1cnJlbnREYXRlLFxuICAgICAgICBsb2dzOiBbXVxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHdvcmtvdXRTZXNzaW9uUmVmID0gZG9jKGNvbGxlY3Rpb24oZGIsICd1c2VycycsIHVzZXJJZCwgJ3dvcmtvdXRTZXNzaW9ucycpKTtcbiAgICAgIGF3YWl0IHNldERvYyh3b3Jrb3V0U2Vzc2lvblJlZiwgY2xlYW5Xb3Jrb3V0LnRvRGljdGlvbmFyeSgpKTtcblxuICAgICAgY29uc3QgbG9nc1JlZiA9IGNvbGxlY3Rpb24od29ya291dFNlc3Npb25SZWYsICdsb2dzJyk7XG4gICAgICBjb25zdCBsb2dCYXRjaCA9IHdyaXRlQmF0Y2goZGIpO1xuXG4gICAgICBsb2dzLmZvckVhY2goKGxvZywgaW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgbG9nRG9jUmVmID0gZG9jKGxvZ3NSZWYsIGAke2xvZy5pZH0tJHtjdXJyZW50RGF0ZS5nZXRUaW1lKCl9YCk7XG4gICAgICAgIFxuICAgICAgICBjb25zb2xlLmxvZyhgUHJvY2Vzc2luZyBsb2cgJHtpbmRleH06YCwge1xuICAgICAgICAgIG5hbWU6IGxvZy5leGVyY2lzZS5uYW1lLFxuICAgICAgICAgIG9yaWdpbmFsQ2F0ZWdvcnk6IGxvZy5leGVyY2lzZS5jYXRlZ29yeSxcbiAgICAgICAgICBvcmlnaW5hbFR5cGU6IGxvZy5leGVyY2lzZS5jYXRlZ29yeT8udHlwZVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBQcmVzZXJ2ZSB0aGUgY2F0ZWdvcnkgc3RydWN0dXJlXG4gICAgICAgIGNvbnN0IGV4ZXJjaXNlV2l0aENhdGVnb3J5ID0ge1xuICAgICAgICAgIC4uLmxvZy5leGVyY2lzZS50b0RpY3Rpb25hcnkoKSxcbiAgICAgICAgICBjYXRlZ29yeTogbG9nLmV4ZXJjaXNlLmNhdGVnb3J5Py50eXBlID09PSAnd2VpZ2h0LXRyYWluaW5nJyBcbiAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgIHR5cGU6ICd3ZWlnaHQtdHJhaW5pbmcnLFxuICAgICAgICAgICAgICAgIGRldGFpbHM6IHtcbiAgICAgICAgICAgICAgICAgIHNldHM6IGxvZy5leGVyY2lzZS5jYXRlZ29yeS5kZXRhaWxzPy5zZXRzIHx8IDMsXG4gICAgICAgICAgICAgICAgICByZXBzOiBsb2cuZXhlcmNpc2UuY2F0ZWdvcnkuZGV0YWlscz8ucmVwcyB8fCBbJzEyJ10sXG4gICAgICAgICAgICAgICAgICB3ZWlnaHQ6IGxvZy5leGVyY2lzZS5jYXRlZ29yeS5kZXRhaWxzPy53ZWlnaHQgfHwgMCxcbiAgICAgICAgICAgICAgICAgIHNjcmVlblRpbWU6IGxvZy5leGVyY2lzZS5jYXRlZ29yeS5kZXRhaWxzPy5zY3JlZW5UaW1lIHx8IDAsXG4gICAgICAgICAgICAgICAgICBzZWxlY3RlZFZpZGVvOiBsb2cuZXhlcmNpc2UuY2F0ZWdvcnkuZGV0YWlscz8uc2VsZWN0ZWRWaWRlbyB8fCBudWxsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnY2FyZGlvJyxcbiAgICAgICAgICAgICAgICBkZXRhaWxzOiB7XG4gICAgICAgICAgICAgICAgICBkdXJhdGlvbjogbG9nLmV4ZXJjaXNlLmNhdGVnb3J5Py5kZXRhaWxzPy5kdXJhdGlvbiB8fCA2MCxcbiAgICAgICAgICAgICAgICAgIGJwbTogbG9nLmV4ZXJjaXNlLmNhdGVnb3J5Py5kZXRhaWxzPy5icG0gfHwgMTQwLFxuICAgICAgICAgICAgICAgICAgY2Fsb3JpZXM6IGxvZy5leGVyY2lzZS5jYXRlZ29yeT8uZGV0YWlscz8uY2Fsb3JpZXMgfHwgMCxcbiAgICAgICAgICAgICAgICAgIHNjcmVlblRpbWU6IGxvZy5leGVyY2lzZS5jYXRlZ29yeT8uZGV0YWlscz8uc2NyZWVuVGltZSB8fCAwLFxuICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRWaWRlbzogbG9nLmV4ZXJjaXNlLmNhdGVnb3J5Py5kZXRhaWxzPy5zZWxlY3RlZFZpZGVvIHx8IG51bGxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBjb25zb2xlLmxvZyhgU2F2aW5nIGV4ZXJjaXNlIHdpdGggY2F0ZWdvcnk6YCwgZXhlcmNpc2VXaXRoQ2F0ZWdvcnkuY2F0ZWdvcnkpO1xuXG4gICAgICAgIGxvZ0JhdGNoLnNldChsb2dEb2NSZWYsIHtcbiAgICAgICAgICBpZDogbG9nRG9jUmVmLmlkLFxuICAgICAgICAgIHdvcmtvdXRJZDogd29ya291dFNlc3Npb25SZWYuaWQsXG4gICAgICAgICAgZXhlcmNpc2U6IGV4ZXJjaXNlV2l0aENhdGVnb3J5LFxuICAgICAgICAgIG9yZGVyOiBpbmRleCxcbiAgICAgICAgICBjcmVhdGVkQXQ6IGN1cnJlbnREYXRlLmdldFRpbWUoKSxcbiAgICAgICAgICB1cGRhdGVkQXQ6IGN1cnJlbnREYXRlLmdldFRpbWUoKSxcbiAgICAgICAgICBsb2dTdWJtaXR0ZWQ6IGZhbHNlLFxuICAgICAgICAgIGlzQ29tcGxldGVkOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgIH0pOyBcblxuICAgICAgYXdhaXQgbG9nQmF0Y2guY29tbWl0KCk7XG4gICAgICBcbiAgICAgIHJldHVybiBjbGVhbldvcmtvdXQ7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyB3b3Jrb3V0IHNlc3Npb246JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEV4YW1wbGUgXCJqb2luIGNoYWxsZW5nZVwiIG1ldGhvZCB1c2luZyB0aGUgY2xpZW50IFNESyAobm8gYWRtaW4gcHJpdmlsZWdlcykuXG4gICAqIFRoaXMgY3JlYXRlcyBhIGRvYyBpbiBgdXNlci1jaGFsbGVuZ2VgIHdpdGggdGhlIHVzZXJJZCwgY2hhbGxlbmdlSWQsIGV0Yy5cbiAgICovXG4gIGFzeW5jIGpvaW5DaGFsbGVuZ2Uoe1xuICAgIHVzZXJuYW1lLFxuICAgIGNoYWxsZW5nZUlkXG4gIH06IHtcbiAgICB1c2VybmFtZTogc3RyaW5nO1xuICAgIGNoYWxsZW5nZUlkOiBzdHJpbmc7XG4gIH0pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAvLyAxKSBNYWtlIHN1cmUgd2UgaGF2ZSBhIHNpZ25lZC1pbiB1c2VyXG4gICAgY29uc3QgY3VycmVudFVzZXIgPSB1c2VyU2VydmljZS5jdXJyZW50VXNlcjtcbiAgICBpZiAoIWN1cnJlbnRVc2VyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHVzZXIgaXMgc2lnbmVkIGluJyk7XG4gICAgfVxuXG4gICAgLy8gMikgRmluZCB0aGUgdXNlciBkb2MgYnkgdXNlcm5hbWVcbiAgICBjb25zdCB1c2Vyc1JlZiA9IGNvbGxlY3Rpb24oZGIsICd1c2VycycpO1xuICAgIGNvbnN0IHVzZXJRdWVyeSA9IHF1ZXJ5KHVzZXJzUmVmLCB3aGVyZSgndXNlcm5hbWUnLCAnPT0nLCB1c2VybmFtZSkpO1xuICAgIGNvbnN0IHVzZXJTbmFwc2hvdCA9IGF3YWl0IGdldERvY3ModXNlclF1ZXJ5KTtcblxuICAgIGlmICh1c2VyU25hcHNob3QuZW1wdHkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVXNlciBub3QgZm91bmQnKTtcbiAgICB9XG5cbiAgICBjb25zdCB1c2VyRG9jID0gdXNlclNuYXBzaG90LmRvY3NbMF07XG4gICAgY29uc3QgdXNlckRhdGEgPSB1c2VyRG9jLmRhdGEoKTtcbiAgICBjb25zdCB1c2VySWQgPSB1c2VyRG9jLmlkO1xuXG4gICAgLy8gMykgQ2hlY2sgaWYgdGhlIGNoYWxsZW5nZSBkb2MgZXhpc3RzXG4gICAgY29uc3QgY2hhbGxlbmdlUmVmID0gZG9jKGRiLCAnc3dlYXRsaXN0LWNvbGxlY3Rpb24nLCBjaGFsbGVuZ2VJZCk7XG4gICAgY29uc3QgY2hhbGxlbmdlU25hcCA9IGF3YWl0IGdldERvYyhjaGFsbGVuZ2VSZWYpO1xuXG4gICAgaWYgKCFjaGFsbGVuZ2VTbmFwLmV4aXN0cygpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NoYWxsZW5nZSBub3QgZm91bmQnKTtcbiAgICB9XG5cbiAgICBjb25zdCBjaGFsbGVuZ2UgPSBjaGFsbGVuZ2VTbmFwLmRhdGEoKTtcblxuICAgIC8vIDQpIEJ1aWxkIG5ldyB1c2VyLWNoYWxsZW5nZSBkb2N1bWVudFxuICAgIGNvbnN0IHVzZXJDaGFsbGVuZ2VJZCA9IGAke2NoYWxsZW5nZUlkfS0ke3VzZXJJZH0tJHtEYXRlLm5vdygpfWA7XG4gICAgY29uc3QgdXNlckNoYWxsZW5nZURhdGEgPSB7XG4gICAgICBpZDogdXNlckNoYWxsZW5nZUlkLFxuICAgICAgY2hhbGxlbmdlOiBjaGFsbGVuZ2UsXG4gICAgICBjaGFsbGVuZ2VJZCxcbiAgICAgIHVzZXJJZCxcbiAgICAgIGZjbVRva2VuOiB1c2VyRGF0YS5mY21Ub2tlbiB8fCAnJyxcbiAgICAgIHByb2ZpbGVJbWFnZTogdXNlckRhdGEucHJvZmlsZUltYWdlIHx8IHt9LFxuICAgICAgcHJvZ3Jlc3M6IDAsXG4gICAgICBjb21wbGV0ZWRXb3Jrb3V0czogW10sXG4gICAgICBpc0NvbXBsZXRlZDogZmFsc2UsXG4gICAgICB1aWQ6IHVzZXJJZCxcbiAgICAgIGxvY2F0aW9uOiB1c2VyRGF0YS5sb2NhdGlvbiB8fCBudWxsLFxuICAgICAgY2l0eTogJycsXG4gICAgICBjb3VudHJ5OiAnJyxcbiAgICAgIHRpbWV6b25lOiAnJyxcbiAgICAgIHVzZXJuYW1lLFxuICAgICAgam9pbkRhdGU6IG5ldyBEYXRlKCksXG4gICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICBwdWxzZVBvaW50czoge1xuICAgICAgICBiYXNlQ29tcGxldGlvbjogMCxcbiAgICAgICAgZmlyc3RDb21wbGV0aW9uOiAwLFxuICAgICAgICBzdHJlYWtCb251czogMCxcbiAgICAgICAgY2hlY2tJbkJvbnVzOiAwLFxuICAgICAgICBlZmZvcnRSYXRpbmc6IDAsXG4gICAgICAgIGNoYXRQYXJ0aWNpcGF0aW9uOiAwLFxuICAgICAgICBsb2NhdGlvbkNoZWNraW46IDAsXG4gICAgICAgIGNvbnRlbnRFbmdhZ2VtZW50OiAwLFxuICAgICAgICBlbmNvdXJhZ2VtZW50U2VudDogMCxcbiAgICAgICAgZW5jb3VyYWdlbWVudFJlY2VpdmVkOiAwXG4gICAgICB9LFxuICAgICAgY3VycmVudFN0cmVhazogMCxcbiAgICAgIGVuY291cmFnZWRVc2VyczogW10sXG4gICAgICBlbmNvdXJhZ2VkQnlVc2VyczogW10sXG4gICAgICBjaGVja0luczogW11cbiAgICB9O1xuXG4gICAgLy8gNSkgU3RvcmUgdXNlci1jaGFsbGVuZ2UgZG9jXG4gICAgYXdhaXQgc2V0RG9jKGRvYyhkYiwgJ3VzZXItY2hhbGxlbmdlJywgdXNlckNoYWxsZW5nZUlkKSwgdXNlckNoYWxsZW5nZURhdGEpO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCB3b3Jrb3V0U2VydmljZSA9IG5ldyBXb3Jrb3V0U2VydmljZSgpOyJdLCJuYW1lcyI6WyJjb2xsZWN0aW9uIiwiZG9jIiwiZ2V0RG9jcyIsImdldERvYyIsInVwZGF0ZURvYyIsInF1ZXJ5Iiwid2hlcmUiLCJvcmRlckJ5IiwiZnNDb2xsZWN0aW9uIiwic2V0RG9jIiwiZGVsZXRlRG9jIiwid3JpdGVCYXRjaCIsImRiIiwidXNlclNlcnZpY2UiLCJFeGVyY2lzZUxvZyIsIkV4ZXJjaXNlIiwiRXhlcmNpc2VWaWRlbyIsImV4ZXJjaXNlU2VydmljZSIsIlVzZXIiLCJXb3Jrb3V0IiwiV29ya291dFN1bW1hcnkiLCJCb2R5Wm9uZSIsIkludHJvVmlkZW8iLCJSZXBzQW5kV2VpZ2h0TG9nIiwiV29ya291dFN0YXR1cyIsIlN3ZWF0bGlzdENvbGxlY3Rpb24iLCJmb3JtYXQiLCJjb252ZXJ0VGltZXN0YW1wIiwiY29udmVydEZpcmVzdG9yZVRpbWVzdGFtcCIsIkNoYWxsZW5nZSIsIlVzZXJDaGFsbGVuZ2UiLCJzdG9yZSIsInNldEN1cnJlbnRXb3Jrb3V0Iiwic2V0Q3VycmVudEV4ZXJjaXNlTG9ncyIsInJlc2V0V29ya291dFN0YXRlIiwic2V0V29ya291dFN1bW1hcnkiLCJXb3Jrb3V0U2VydmljZSIsImdlbmVyYXRlSWQiLCJpZCIsImZldGNoV29ya291dFN1bW1hcnkiLCJ1c2VySWQiLCJ3b3Jrb3V0SWQiLCJzdW1tYXJ5SWQiLCJzdW1tYXJ5UmVmIiwic3VtbWFyeURvYyIsInN1bW1hcnlEYXRhIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwiZXhpc3RzIiwiZGF0YSIsImZvcm1hdFdvcmtvdXRBbmRJbml0aWFsaXplTG9ncyIsImV4ZXJjaXNlRGV0YWlscyIsIndvcmtvdXRBdXRob3IiLCJ3b3JrSWQiLCJleGVyY2lzZVJlZmVyZW5jZXMiLCJleGVyY2lzZUxvZ3MiLCJ2YWxpZEV4ZXJjaXNlRGV0YWlscyIsIm5ld1dvcmtvdXQiLCJmaWx0ZXIiLCJkZXRhaWwiLCJleGVyY2lzZSIsImZvckVhY2giLCJpbmRleCIsImNhdGVnb3J5IiwidHlwZSIsImRldGFpbHMiLCJzZXRzIiwicmVwcyIsIndlaWdodCIsInNjcmVlblRpbWUiLCJzZWxlY3RlZFZpZGVvIiwiZHVyYXRpb24iLCJicG0iLCJjYWxvcmllcyIsImV4ZXJjaXNlSW5zdGFuY2UiLCJ3b3Jrb3V0U2VydmljZSIsIm5hbWUiLCJhdXRob3IiLCJjdXJyZW50VXNlciIsInVzZXJuYW1lIiwiZGVzY3JpcHRpb24iLCJwcmltYXJ5Qm9keVBhcnRzIiwic2Vjb25kYXJ5Qm9keVBhcnRzIiwidGFncyIsInZpZGVvcyIsImNyZWF0ZWRBdCIsIkRhdGUiLCJ1cGRhdGVkQXQiLCJleGVyY2lzZVJlZiIsImdyb3VwSWQiLCJwdXNoIiwic2V0c0xvZ3MiLCJBcnJheSIsImZyb20iLCJsZW5ndGgiLCJwYXJzZUludCIsImV4ZXJjaXNlTG9nSWQiLCJnZW5lcmF0ZUV4ZXJjaXNlTG9nSUQiLCJsb2dzIiwiZmVlZGJhY2siLCJub3RlIiwibm90ZXMiLCJpc1NwbGl0IiwibG9nU3VibWl0dGVkIiwibG9nSXNFZGl0aW5nIiwiaXNDb21wbGV0ZWQiLCJvcmRlciIsImNvbXBsZXRlZEF0Iiwicm91bmRXb3Jrb3V0SWQiLCJleGVyY2lzZXMiLCJ0aXRsZSIsIndvcmtvdXRSYXRpbmciLCJ1c2VBdXRob3JDb250ZW50Iiwid29ya291dFN0YXR1cyIsInpvbmUiLCJkZXRlcm1pbmVXb3Jrb3V0Wm9uZSIsIndvcmtvdXQiLCJnZXRVc2VyQnlJZCIsInVzZXJEb2MiLCJFcnJvciIsInJldmVydEF1dGhvckZvcm1hdCIsImF1dGhvcklkIiwid29ya291dFJlZiIsInVwZGF0ZVdvcmtvdXQiLCJiYXRjaCIsImxvZ3NSZWYiLCJ0b0RpY3Rpb25hcnkiLCJtZXJnZSIsImxvZ1JlZiIsInNldCIsImNvbW1pdCIsImZldGNoQ3VycmVudFdvcmtvdXQiLCJzZXNzaW9uIiwiZmV0Y2hDdXJyZW50V29ya291dFNlc3Npb24iLCJnZXRBbGxTd2VhdGxpc3RzIiwid29ya291dHNSZWYiLCJleGVyY2lzZXNXaXRoVmlkZW9zIiwid29ya291dHNTbmFwc2hvdCIsIndvcmtvdXRzIiwid29ya291dERvYyIsIndvcmtvdXREYXRhIiwibWFwcGVkRXhlcmNpc2VzIiwibG9nc1NuYXBzaG90IiwiZmlyZXN0b3JlRXJyb3IiLCJmZXRjaEFuZE1hcEV4ZXJjaXNlc1dpdGhWaWRlb3MiLCJkb2NzIiwibWFwIiwiZnVsbEV4ZXJjaXNlIiwiZmluZCIsImV4IiwiY29sbGVjdGlvbklkIiwiY2hhbGxlbmdlIiwic3RhcnRUaW1lIiwidW5kZWZpbmVkIiwibG9nRG9jIiwibWVzc2FnZSIsImdldFVzZXJDaGFsbGVuZ2VzQnlDaGFsbGVuZ2VJZCIsImNoYWxsZW5nZUlkIiwidXNlckNoYWxsZW5nZXNSZWYiLCJxIiwic25hcHNob3QiLCJ1c2VyQ2hhbGxlbmdlcyIsImZldGNoV29ya291dFN1bW1hcmllcyIsImRhdGUiLCJmb3JtYXR0ZWREYXRlIiwic3VtbWFyaWVzUmVmIiwiZmV0Y2hBbGxXb3Jrb3V0U3VtbWFyaWVzIiwiZmV0Y2hVc2VyQ2hhbGxlbmdlc0J5VXNlcklkIiwic3VidGl0bGUiLCJwYXJ0aWNpcGFudHMiLCJzdGF0dXMiLCJzdGFydERhdGUiLCJlbmREYXRlIiwiaW50cm9WaWRlb3MiLCJ2IiwidmlkZW9VcmwiLCJmZXRjaENvbGxlY3Rpb25XaXRoU3dlYXRMaXN0cyIsInN3ZWF0TGlzdHMiLCJzd2VhdGxpc3RJZGVudGlmaWVyIiwiZ2V0Q29sbGVjdGlvbkJ5SWQiLCJzd2VhdGxpc3RJZHMiLCJmZXRjaFNhdmVkV29ya291dCIsInN3ZWF0bGlzdEF1dGhvcklkIiwid29ya291dFNuYXAiLCJKU09OIiwic3RyaW5naWZ5IiwibWF0Y2hpbmdFeGVyY2lzZSIsIm1hcHBlZEV4ZXJjaXNlIiwiZXhlcmNpc2VOYW1lIiwib3JpZ2luYWxDYXRlZ29yeSIsIm1hdGNoaW5nRXhlcmNpc2VGb3VuZCIsIm1hdGNoaW5nRXhlcmNpc2VEZXRhaWxzIiwidmlkZW9Db3VudCIsImNhdGVnb3J5UHJlc2VydmVkIiwic2NyZWVuVGltZVByZXNlcnZlZCIsImxvZ0RhdGEiLCJyZWNvbW1lbmRlZFdlaWdodCIsImlzQm9keVdlaWdodCIsImZldGNoVXNlckNoYWxsZW5nZXNCeUNoYWxsZW5nZUlkIiwiZG9jUmVmIiwiZG9jU25hcCIsImdldENvbGxlY3Rpb25zQnlJZHMiLCJjb2xsZWN0aW9uSWRzIiwiY29sbGVjdGlvbnMiLCJQcm9taXNlIiwiYWxsIiwiZmV0Y2hDb2xsZWN0aW9ucyIsImNvbGxlY3Rpb25zUmVmIiwicUFycmF5Iiwic25hcHNob3RBcnJheSIsImNvbGxlY3Rpb25zRnJvbUFycmF5IiwicVN0cmluZyIsInNuYXBzaG90U3RyaW5nIiwiY29sbGVjdGlvbnNGcm9tU3RyaW5nIiwiY29tYmluZWQiLCJ1bmlxdWVDb2xsZWN0aW9ucyIsIk1hcCIsInZhbHVlcyIsImZldGNoQWN0aXZlQ2hhbGxlbmdlcyIsImFsbENoYWxsZW5nZXMiLCJhY3RpdmVDaGFsbGVuZ2VzIiwidXNlckNoYWxsZW5nZSIsImZldGNoVXNlckNoYWxsZW5nZXMiLCJ1cGRhdGVXb3Jrb3V0U3VtbWFyeSIsInN1bW1hcnkiLCJwYXRoIiwidXBkYXRlV29ya291dExvZ3MiLCJsb2dEb2NSZWYiLCJ1cGRhdGUiLCJjYW5jZWxXb3Jrb3V0Iiwid29ya291dFN1bW1hcnkiLCJkZWxldGVXb3Jrb3V0U2Vzc2lvbiIsImRlbGV0ZVdvcmtvdXRTdW1tYXJ5IiwiY2xlYW5VcFdvcmtvdXRJblByb2dyZXNzIiwiZGVsZXRlIiwicmVmIiwid29ya291dFN1bW1hcnlJZCIsImRpc3BhdGNoIiwiZXhlcmNpc2VTbmFwc2hvdCIsInZpZGVvU25hcHNob3QiLCJleGVyY2lzZVZpZGVvcyIsIndvcmtvdXRTZXNzaW9uc1JlZiIsInNuYXAiLCJtYXRjaGluZ1ZpZGVvcyIsInZpZGVvIiwidG9Mb3dlckNhc2UiLCJRdWV1ZWRVcCIsImVtcHR5IiwicHJvY2Vzc1dvcmtvdXRTZXNzaW9uRG9jdW1lbnQiLCJJblByb2dyZXNzIiwiZmV0Y2hBbGxXb3Jrb3V0U2Vzc2lvbnMiLCJzZXNzaW9ucyIsInNlc3Npb25EYXRhIiwic29ydCIsImEiLCJiIiwib3JkZXJBIiwib3JkZXJCIiwidXBkYXRlVXNlckNoYWxsZW5nZSIsImNoYWxsZW5nZVJlZiIsImNoYWxsZW5nZURhdGEiLCJ1cGRhdGVDb2xsZWN0aW9uIiwiY29sbFJlZiIsIm5ld0RvY1JlZiIsInRyaW0iLCJleGVyY2lzZU5hbWVMb3dlciIsIkFyY2hpdmVkIiwiRnVsbEJvZHkiLCJ1cGRhdGVkRXhlcmNpc2UiLCJwcmVwYXJlZExvZ0RhdGEiLCJzYXZlV29ya291dFNlc3Npb24iLCJjdXJyZW50RGF0ZSIsImNsZWFuV29ya291dCIsIndvcmtvdXRTZXNzaW9uUmVmIiwibG9nQmF0Y2giLCJvcmlnaW5hbFR5cGUiLCJnZXRUaW1lIiwiZXhlcmNpc2VXaXRoQ2F0ZWdvcnkiLCJqb2luQ2hhbGxlbmdlIiwidXNlcnNSZWYiLCJ1c2VyUXVlcnkiLCJ1c2VyU25hcHNob3QiLCJ1c2VyRGF0YSIsImNoYWxsZW5nZVNuYXAiLCJ1c2VyQ2hhbGxlbmdlSWQiLCJ1c2VyQ2hhbGxlbmdlRGF0YSIsIm5vdyIsImZjbVRva2VuIiwicHJvZmlsZUltYWdlIiwicHJvZ3Jlc3MiLCJjb21wbGV0ZWRXb3Jrb3V0cyIsInVpZCIsImxvY2F0aW9uIiwiY2l0eSIsImNvdW50cnkiLCJ0aW1lem9uZSIsImpvaW5EYXRlIiwicHVsc2VQb2ludHMiLCJiYXNlQ29tcGxldGlvbiIsImZpcnN0Q29tcGxldGlvbiIsInN0cmVha0JvbnVzIiwiY2hlY2tJbkJvbnVzIiwiZWZmb3J0UmF0aW5nIiwiY2hhdFBhcnRpY2lwYXRpb24iLCJsb2NhdGlvbkNoZWNraW4iLCJjb250ZW50RW5nYWdlbWVudCIsImVuY291cmFnZW1lbnRTZW50IiwiZW5jb3VyYWdlbWVudFJlY2VpdmVkIiwiY3VycmVudFN0cmVhayIsImVuY291cmFnZWRVc2VycyIsImVuY291cmFnZWRCeVVzZXJzIiwiY2hlY2tJbnMiLCJjdXJyZW50V29ya291dCIsImdldFN0YXRlIiwiY3VycmVudFdvcmtvdXRMb2dzIiwiY3VycmVudEV4ZXJjaXNlTG9ncyIsImN1cnJlbnRXb3Jrb3V0U3VtbWFyeSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/api/firebase/workout/service.ts\n"));

/***/ })

});
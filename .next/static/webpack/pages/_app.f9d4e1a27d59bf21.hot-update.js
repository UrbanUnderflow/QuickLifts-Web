"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/_app",{

/***/ "./src/api/firebase/workout/service.ts":
/*!*********************************************!*\
  !*** ./src/api/firebase/workout/service.ts ***!
  \*********************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   workoutService: function() { return /* binding */ workoutService; }\n/* harmony export */ });\n/* harmony import */ var _swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @swc/helpers/_/_async_to_generator */ \"./node_modules/@swc/helpers/esm/_async_to_generator.js\");\n/* harmony import */ var _swc_helpers_class_call_check__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @swc/helpers/_/_class_call_check */ \"./node_modules/@swc/helpers/esm/_class_call_check.js\");\n/* harmony import */ var _swc_helpers_create_class__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @swc/helpers/_/_create_class */ \"./node_modules/@swc/helpers/esm/_create_class.js\");\n/* harmony import */ var _swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @swc/helpers/_/_object_spread */ \"./node_modules/@swc/helpers/esm/_object_spread.js\");\n/* harmony import */ var _swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @swc/helpers/_/_object_spread_props */ \"./node_modules/@swc/helpers/esm/_object_spread_props.js\");\n/* harmony import */ var _swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @swc/helpers/_/_sliced_to_array */ \"./node_modules/@swc/helpers/esm/_sliced_to_array.js\");\n/* harmony import */ var _swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @swc/helpers/_/_ts_generator */ \"./node_modules/@swc/helpers/esm/_ts_generator.js\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/firestore */ \"./node_modules/firebase/firestore/dist/esm/index.esm.js\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config */ \"./src/api/firebase/config.ts\");\n/* harmony import */ var _user__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../user */ \"./src/api/firebase/user/index.ts\");\n/* harmony import */ var _exercise_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../exercise/types */ \"./src/api/firebase/exercise/types.ts\");\n/* harmony import */ var _exercise_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../exercise/service */ \"./src/api/firebase/exercise/service.ts\");\n/* harmony import */ var _workout_types__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../api/firebase/workout/types */ \"./src/api/firebase/workout/types.ts\");\n/* harmony import */ var _barrel_optimize_names_format_date_fns__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! __barrel_optimize__?names=format!=!date-fns */ \"__barrel_optimize__?names=format!=!./node_modules/date-fns/index.js\");\n/* harmony import */ var _utils_timestamp__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../utils/timestamp */ \"./src/utils/timestamp.ts\");\n/* harmony import */ var _utils_formatDate__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../utils/formatDate */ \"./src/utils/formatDate.ts\");\n/* harmony import */ var _redux_store__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../redux/store */ \"./src/redux/store.ts\");\n/* harmony import */ var _redux_workoutSlice__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../redux/workoutSlice */ \"./src/redux/workoutSlice.ts\");\n// src/api/firebase/workout/service.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n // Adjust the import path\n\n\n\n\nvar WorkoutService = /*#__PURE__*/ function() {\n    \"use strict\";\n    function WorkoutService() {\n        (0,_swc_helpers_class_call_check__WEBPACK_IMPORTED_MODULE_10__._)(this, WorkoutService);\n    }\n    var _proto = WorkoutService.prototype;\n    _proto.generateId = function generateId() {\n        return (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"workouts\")).id;\n    };\n    // Update the formatWorkoutAndInitializeLogs function\n    _proto.formatWorkoutAndInitializeLogs = function formatWorkoutAndInitializeLogs(exerciseDetails, workoutAuthor) {\n        var _this = this;\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_11__._)(function() {\n            var _userService_currentUser, workId, exerciseReferences, exerciseLogs, validExerciseDetails, newWorkout;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_12__._)(this, function(_state) {\n                workId = _this.generateId(); // Use this.generateId() since it's a class method\n                exerciseReferences = [];\n                exerciseLogs = [];\n                // Ensure exercise details are valid before processing\n                validExerciseDetails = exerciseDetails.filter(function(detail) {\n                    return (detail === null || detail === void 0 ? void 0 : detail.exercise) && detail.exercise.id;\n                });\n                validExerciseDetails.forEach(function(detail, index) {\n                    var _detail_category, _category_details, _category_details1, _category_details2, _userService_currentUser, _userService_currentUser1;\n                    // Ensure exercise instance has all required fields\n                    var exerciseInstance = new _exercise_types__WEBPACK_IMPORTED_MODULE_3__.Exercise((0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_13__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_14__._)({}, detail.exercise), {\n                        id: detail.exercise.id || workoutService.generateId(),\n                        name: detail.exercise.name || \"\",\n                        author: detail.exercise.author || {\n                            userId: workoutAuthor || \"PulseAI\",\n                            username: workoutAuthor || \"PulseAI\"\n                        },\n                        description: detail.exercise.description || \"\",\n                        category: detail.exercise.category || {\n                            type: \"weightTraining\",\n                            details: null\n                        },\n                        primaryBodyParts: detail.exercise.primaryBodyParts || [],\n                        secondaryBodyParts: detail.exercise.secondaryBodyParts || [],\n                        tags: detail.exercise.tags || [],\n                        videos: detail.exercise.videos || [],\n                        createdAt: detail.exercise.createdAt || new Date(),\n                        updatedAt: detail.exercise.updatedAt || new Date()\n                    }));\n                    // Create exercise reference with required fields\n                    var exerciseRef = {\n                        exercise: exerciseInstance,\n                        groupId: detail.groupId || 0\n                    };\n                    exerciseReferences.push(exerciseRef);\n                    // Set default values for exercise parameters\n                    var category = ((_detail_category = detail.category) === null || _detail_category === void 0 ? void 0 : _detail_category.type) === \"weightTraining\" ? detail.category : {\n                        type: \"weightTraining\",\n                        details: {\n                            sets: 3,\n                            reps: [\n                                \"12\"\n                            ],\n                            weight: 0,\n                            screenTime: 0\n                        }\n                    };\n                    var _category_details_sets;\n                    var sets = (_category_details_sets = (_category_details = category.details) === null || _category_details === void 0 ? void 0 : _category_details.sets) !== null && _category_details_sets !== void 0 ? _category_details_sets : 3;\n                    var _category_details_reps;\n                    var reps = (_category_details_reps = (_category_details1 = category.details) === null || _category_details1 === void 0 ? void 0 : _category_details1.reps) !== null && _category_details_reps !== void 0 ? _category_details_reps : [\n                        \"12\"\n                    ];\n                    var _category_details_weight;\n                    var weight = (_category_details_weight = (_category_details2 = category.details) === null || _category_details2 === void 0 ? void 0 : _category_details2.weight) !== null && _category_details_weight !== void 0 ? _category_details_weight : 0;\n                    // Create logs for each set with validated data\n                    var setsLogs = Array.from({\n                        length: sets\n                    }, function() {\n                        return new _workout_types__WEBPACK_IMPORTED_MODULE_5__.RepsAndWeightLog({\n                            reps: parseInt(reps[0] || \"12\", 10),\n                            weight: weight || 0\n                        });\n                    });\n                    // Create exercise log with validated data\n                    var exerciseLogId = _exercise_service__WEBPACK_IMPORTED_MODULE_4__.exerciseService.generateExerciseLogID(workId, ((_userService_currentUser = _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser) === null || _userService_currentUser === void 0 ? void 0 : _userService_currentUser.id) || \"anonymous\");\n                    var log = new _exercise_types__WEBPACK_IMPORTED_MODULE_3__.ExerciseLog({\n                        id: exerciseLogId,\n                        workoutId: workId,\n                        userId: ((_userService_currentUser1 = _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser) === null || _userService_currentUser1 === void 0 ? void 0 : _userService_currentUser1.id) || \"anonymous\",\n                        exercise: exerciseInstance,\n                        logs: setsLogs,\n                        feedback: \"\",\n                        note: detail.notes || \"\",\n                        isSplit: detail.isSplit || false,\n                        logSubmitted: false,\n                        logIsEditing: false,\n                        isCompleted: false,\n                        order: index + 1,\n                        createdAt: new Date(),\n                        updatedAt: new Date(),\n                        completedAt: new Date()\n                    });\n                    exerciseLogs.push(log);\n                });\n                // Create workout with validated data\n                newWorkout = new _workout_types__WEBPACK_IMPORTED_MODULE_5__.Workout({\n                    id: workId,\n                    roundWorkoutId: \"\",\n                    exercises: exerciseReferences,\n                    logs: exerciseLogs,\n                    title: \"\",\n                    description: \"\",\n                    duration: _workout_types__WEBPACK_IMPORTED_MODULE_5__.Workout.estimatedDuration(exerciseReferences) || 0,\n                    workoutRating: \"none\",\n                    useAuthorContent: false,\n                    isCompleted: false,\n                    workoutStatus: \"archived\",\n                    author: ((_userService_currentUser = _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser) === null || _userService_currentUser === void 0 ? void 0 : _userService_currentUser.id) || \"PulseAI\",\n                    createdAt: new Date(),\n                    updatedAt: new Date(),\n                    zone: _workout_types__WEBPACK_IMPORTED_MODULE_5__.Workout.determineWorkoutZone(exerciseReferences) || \"full\"\n                });\n                return [\n                    2,\n                    {\n                        workout: newWorkout,\n                        exerciseLogs: exerciseLogs\n                    }\n                ];\n            });\n        })();\n    };\n    _proto.getUserById = function getUserById(userId) {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_11__._)(function() {\n            var userDoc, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_12__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        _state.trys.push([\n                            0,\n                            2,\n                            ,\n                            3\n                        ]);\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", userId))\n                        ];\n                    case 1:\n                        userDoc = _state.sent();\n                        if (!userDoc.exists()) {\n                            throw new Error(\"User not found\");\n                        }\n                        return [\n                            2,\n                            (0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_14__._)({\n                                id: userDoc.id\n                            }, userDoc.data())\n                        ];\n                    case 2:\n                        error = _state.sent();\n                        console.error(\"Error getting user by ID:\", error);\n                        throw error;\n                    case 3:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    _proto.updateWorkout = function updateWorkout(workout) {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_11__._)(function() {\n            var _userService_currentUser, workoutRef, batch, logsRef, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_12__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        if (!((_userService_currentUser = _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser) === null || _userService_currentUser === void 0 ? void 0 : _userService_currentUser.id)) {\n                            throw new Error(\"No user is signed in\");\n                        }\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            5,\n                            ,\n                            6\n                        ]);\n                        workoutRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser.id, \"MyCreatedWorkouts\", workout.id);\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)(workoutRef, workout.toDictionary(), {\n                                merge: true\n                            })\n                        ];\n                    case 2:\n                        _state.sent();\n                        if (!(workout.logs && workout.logs.length > 0)) return [\n                            3,\n                            4\n                        ];\n                        batch = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.writeBatch)(_config__WEBPACK_IMPORTED_MODULE_1__.db);\n                        logsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(workoutRef, \"logs\");\n                        workout.logs.forEach(function(log) {\n                            var logRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(logsRef, log.id);\n                            batch.set(logRef, log.toDictionary(), {\n                                merge: true\n                            });\n                        });\n                        return [\n                            4,\n                            batch.commit()\n                        ];\n                    case 3:\n                        _state.sent();\n                        _state.label = 4;\n                    case 4:\n                        return [\n                            3,\n                            6\n                        ];\n                    case 5:\n                        error = _state.sent();\n                        console.error(\"Error updating workout:\", error);\n                        throw error;\n                    case 6:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    /**\n   * Fetch the user's current workout (either QueuedUp or InProgress).\n   */ _proto.fetchCurrentWorkout = function fetchCurrentWorkout(userId) {\n        var _this = this;\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_11__._)(function() {\n            var session;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_12__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        return [\n                            4,\n                            _this.fetchCurrentWorkoutSession(userId)\n                        ];\n                    case 1:\n                        session = _state.sent();\n                        return [\n                            2,\n                            session.workout\n                        ];\n                }\n            });\n        })();\n    };\n    _proto.getAllSweatlists = function getAllSweatlists(userId) {\n        var _this = this;\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_11__._)(function() {\n            var workoutsRef, exercisesWithVideos, workoutsSnapshot, workouts, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, workoutDoc, workoutData, workoutId, mappedExercises, workout, logsRef, logsSnapshot, err, error, firestoreError;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_12__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        if (!userId) {\n                            throw new Error(\"User ID is required\");\n                        }\n                        // Reference to the user's workout collection\n                        workoutsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", userId, \"MyCreatedWorkouts\");\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            12,\n                            ,\n                            13\n                        ]);\n                        return [\n                            4,\n                            _this.fetchAndMapExercisesWithVideos()\n                        ];\n                    case 2:\n                        exercisesWithVideos = _state.sent();\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(workoutsRef)\n                        ];\n                    case 3:\n                        workoutsSnapshot = _state.sent();\n                        workouts = [];\n                        _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n                        _state.label = 4;\n                    case 4:\n                        _state.trys.push([\n                            4,\n                            9,\n                            10,\n                            11\n                        ]);\n                        _iterator = workoutsSnapshot.docs[Symbol.iterator]();\n                        _state.label = 5;\n                    case 5:\n                        if (!!(_iteratorNormalCompletion = (_step = _iterator.next()).done)) return [\n                            3,\n                            8\n                        ];\n                        workoutDoc = _step.value;\n                        workoutData = workoutDoc.data();\n                        workoutId = workoutDoc.id;\n                        // Map the exercises in the workout to the full exercise objects with videos\n                        mappedExercises = (workoutData.exercises || []).map(function(exerciseRef) {\n                            var fullExercise = exercisesWithVideos.find(function(ex) {\n                                return ex.name === exerciseRef.exercise.name;\n                            });\n                            console.log(\"This is the mapped exercise: \" + fullExercise);\n                            return (0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_13__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_14__._)({}, exerciseRef), {\n                                exercise: fullExercise || exerciseRef\n                            });\n                        });\n                        // Parse workout data into the desired structure\n                        workout = new _workout_types__WEBPACK_IMPORTED_MODULE_5__.Workout({\n                            id: workoutData.id || \"\",\n                            roundWorkoutId: workoutData.roundWorkoutId || \"\",\n                            collectionId: workoutData.collectionId,\n                            exercises: mappedExercises,\n                            challenge: workoutData.challenge,\n                            logs: [],\n                            title: workoutData.title || \"\",\n                            description: workoutData.description || \"\",\n                            duration: workoutData.duration || 0,\n                            workoutRating: workoutData.workoutRating,\n                            useAuthorContent: workoutData.useAuthorContent || false,\n                            isCompleted: workoutData.isCompleted || false,\n                            workoutStatus: workoutData.workoutStatus || \"notStarted\",\n                            startTime: workoutData.startTime ? new Date(workoutData.startTime) : undefined,\n                            order: workoutData.order,\n                            author: workoutData.author || userId,\n                            createdAt: workoutData.createdAt ? new Date(workoutData.createdAt) : new Date(),\n                            updatedAt: workoutData.updatedAt ? new Date(workoutData.updatedAt) : new Date(),\n                            zone: workoutData.zone || \"FULL_BODY\"\n                        });\n                        // Fetch and process logs\n                        logsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", userId, \"MyCreatedWorkouts\", workoutId, \"logs\");\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(logsRef)\n                        ];\n                    case 6:\n                        logsSnapshot = _state.sent();\n                        workout.logs = logsSnapshot.docs.map(function(logDoc) {\n                            return (0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_13__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_14__._)({}, logDoc.data()), {\n                                id: logDoc.id\n                            });\n                        });\n                        workouts.push(workout);\n                        _state.label = 7;\n                    case 7:\n                        _iteratorNormalCompletion = true;\n                        return [\n                            3,\n                            5\n                        ];\n                    case 8:\n                        return [\n                            3,\n                            11\n                        ];\n                    case 9:\n                        err = _state.sent();\n                        _didIteratorError = true;\n                        _iteratorError = err;\n                        return [\n                            3,\n                            11\n                        ];\n                    case 10:\n                        try {\n                            if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n                                _iterator[\"return\"]();\n                            }\n                        } finally{\n                            if (_didIteratorError) {\n                                throw _iteratorError;\n                            }\n                        }\n                        return [\n                            7\n                        ];\n                    case 11:\n                        return [\n                            2,\n                            workouts\n                        ];\n                    case 12:\n                        error = _state.sent();\n                        firestoreError = error;\n                        console.error(\"Error fetching sweatlists:\", firestoreError.message);\n                        throw new Error(\"Failed to fetch sweatlists\");\n                    case 13:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    _proto.getUserChallengesByChallengeId = function getUserChallengesByChallengeId(challengeId) {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_11__._)(function() {\n            var userChallengesRef, q, snapshot, userChallenges, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_12__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        userChallengesRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"user-challenge\");\n                        q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(userChallengesRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"challengeId\", \"==\", challengeId));\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            3,\n                            ,\n                            4\n                        ]);\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q)\n                        ];\n                    case 2:\n                        snapshot = _state.sent();\n                        userChallenges = snapshot.docs.map(function(doc) {\n                            var data = doc.data();\n                            return new _workout_types__WEBPACK_IMPORTED_MODULE_5__.UserChallenge(doc.id, data);\n                        });\n                        if (userChallenges.length > 0) {\n                            return [\n                                2,\n                                {\n                                    userChallenges: userChallenges\n                                }\n                            ];\n                        } else {\n                            return [\n                                2,\n                                {\n                                    userChallenges: [],\n                                    error: \"No user challenges found for this challenge.\"\n                                }\n                            ];\n                        }\n                        return [\n                            3,\n                            4\n                        ];\n                    case 3:\n                        error = _state.sent();\n                        console.error(\"Error fetching user challenges by challengeId:\", error);\n                        return [\n                            2,\n                            {\n                                userChallenges: [],\n                                error: error instanceof Error ? error.message : \"Unknown error\"\n                            }\n                        ];\n                    case 4:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    /**\n   * Fetches workout summaries for a specific date.\n   * @param date - The date for which workout summaries are being fetched.\n   * @returns A promise resolving to an array of workout summaries.\n   * @throws If no user is signed in or if the Firestore query fails.\n   */ _proto.fetchWorkoutSummaries = function fetchWorkoutSummaries(date) {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_11__._)(function() {\n            var currentUser, formattedDate, summariesRef, q, snapshot, error, firestoreError;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_12__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        currentUser = _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser;\n                        if (!(currentUser === null || currentUser === void 0 ? void 0 : currentUser.id)) {\n                            throw new Error(\"No user is signed in\");\n                        }\n                        // Format the date to match the format in Firestore ('MM-dd-yyyy')\n                        formattedDate = (0,_barrel_optimize_names_format_date_fns__WEBPACK_IMPORTED_MODULE_15__.format)(date, \"MM-dd-yyyy\");\n                        // Reference to the user's workoutSummaries subcollection\n                        summariesRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", currentUser.id, \"workoutSummaries\");\n                        // Create a query to filter documents by the specified date\n                        q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(summariesRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"date\", \"==\", formattedDate));\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            3,\n                            ,\n                            4\n                        ]);\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q)\n                        ];\n                    case 2:\n                        snapshot = _state.sent();\n                        // Map the documents to an array of WorkoutSummary objects\n                        return [\n                            2,\n                            snapshot.docs.map(function(doc) {\n                                return (0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_14__._)({\n                                    id: doc.id\n                                }, doc.data());\n                            })\n                        ];\n                    case 3:\n                        error = _state.sent();\n                        firestoreError = error;\n                        console.error(\"Error fetching workout summaries:\", firestoreError.message);\n                        throw new Error(firestoreError.message);\n                    case 4:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    _proto.fetchAllWorkoutSummaries = function fetchAllWorkoutSummaries() {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_11__._)(function() {\n            var currentUser, summariesRef, q, snapshot, error, firestoreError;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_12__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        currentUser = _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser;\n                        if (!(currentUser === null || currentUser === void 0 ? void 0 : currentUser.id)) {\n                            throw new Error(\"No user is signed in\");\n                        }\n                        // Reference to the user's workoutSummaries subcollection\n                        summariesRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", currentUser.id, \"workoutSummary\");\n                        // Query to retrieve all workout summaries, sorted by `createdAt` in ascending order\n                        q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(summariesRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.orderBy)(\"createdAt\", \"asc\")); // Adjust field name based on your schema\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            3,\n                            ,\n                            4\n                        ]);\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q)\n                        ];\n                    case 2:\n                        snapshot = _state.sent();\n                        // Map the documents to an array of WorkoutSummary objects\n                        return [\n                            2,\n                            snapshot.docs.map(function(doc) {\n                                return (0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_14__._)({\n                                    id: doc.id\n                                }, doc.data());\n                            })\n                        ];\n                    case 3:\n                        error = _state.sent();\n                        firestoreError = error;\n                        console.error(\"Error fetching all workout summaries:\", firestoreError.message);\n                        throw new Error(firestoreError.message);\n                    case 4:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    /**\n * Fetch user challenges by userId.\n * @param userId The ID of the user to fetch challenges for.\n * @returns A promise resolving to an array of user challenges.\n * @throws If the Firestore query fails.\n */ _proto.fetchUserChallengesByUserId = function fetchUserChallengesByUserId(userId) {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_11__._)(function() {\n            var userChallengesRef, q, snapshot, userChallenges, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_12__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        userChallengesRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"user-challenge\");\n                        q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(userChallengesRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"userId\", \"==\", userId));\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            3,\n                            ,\n                            4\n                        ]);\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q)\n                        ];\n                    case 2:\n                        snapshot = _state.sent();\n                        // console.log(`Total challenges fetched: ${snapshot.docs.length}`);\n                        userChallenges = snapshot.docs.map(function(doc) {\n                            var data = doc.data();\n                            // console.log(`Processing challenge with ID: ${doc.id}`, data);\n                            return (0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_13__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_14__._)({\n                                id: doc.id\n                            }, data), {\n                                challenge: data.challenge ? new _workout_types__WEBPACK_IMPORTED_MODULE_5__.Challenge({\n                                    id: data.challenge.id,\n                                    title: data.challenge.title,\n                                    subtitle: data.challenge.subtitle,\n                                    participants: data.challenge.participants || [],\n                                    status: data.challenge.status,\n                                    startDate: data.challenge.startDate ? new Date(data.challenge.startDate) : new Date(),\n                                    endDate: data.challenge.endDate ? new Date(data.challenge.endDate) : new Date(),\n                                    createdAt: data.challenge.createdAt ? new Date(data.challenge.createdAt) : new Date(),\n                                    updatedAt: data.challenge.updatedAt ? new Date(data.challenge.updatedAt) : new Date(),\n                                    introVideos: (data.challenge.introVideos || []).map(function(v) {\n                                        return new _workout_types__WEBPACK_IMPORTED_MODULE_5__.IntroVideo({\n                                            id: v.id,\n                                            userId: v.userId,\n                                            videoUrl: v.videoUrl\n                                        });\n                                    })\n                                }) : undefined,\n                                createdAt: (0,_utils_timestamp__WEBPACK_IMPORTED_MODULE_6__.convertTimestamp)(data.createdAt),\n                                updatedAt: (0,_utils_timestamp__WEBPACK_IMPORTED_MODULE_6__.convertTimestamp)(data.updatedAt)\n                            });\n                        });\n                        // console.log('All challenges after processing:', JSON.stringify(userChallenges, null, 2));\n                        return [\n                            2,\n                            userChallenges\n                        ];\n                    case 3:\n                        error = _state.sent();\n                        console.error(\"Error fetching user challenges by userId:\", error);\n                        throw error;\n                    case 4:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    _proto.fetchCollectionWithSweatLists = function fetchCollectionWithSweatLists(collectionId) {\n        var _this = this;\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_11__._)(function() {\n            var collection, sweatLists, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, sweatlistIdentifier, _ref, workout, error, err, error1;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_12__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        _state.trys.push([\n                            0,\n                            12,\n                            ,\n                            13\n                        ]);\n                        return [\n                            4,\n                            _this.getCollectionById(collectionId)\n                        ];\n                    case 1:\n                        collection = _state.sent();\n                        // Fetch sweat lists (workouts)\n                        sweatLists = [];\n                        _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n                        _state.label = 2;\n                    case 2:\n                        _state.trys.push([\n                            2,\n                            9,\n                            10,\n                            11\n                        ]);\n                        _iterator = (collection.sweatlistIds || [])[Symbol.iterator]();\n                        _state.label = 3;\n                    case 3:\n                        if (!!(_iteratorNormalCompletion = (_step = _iterator.next()).done)) return [\n                            3,\n                            8\n                        ];\n                        sweatlistIdentifier = _step.value;\n                        _state.label = 4;\n                    case 4:\n                        _state.trys.push([\n                            4,\n                            6,\n                            ,\n                            7\n                        ]);\n                        return [\n                            4,\n                            _this.fetchSavedWorkout(sweatlistIdentifier.sweatlistAuthorId, sweatlistIdentifier.id)\n                        ];\n                    case 5:\n                        _ref = _swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_16__._.apply(void 0, [\n                            _state.sent(),\n                            1\n                        ]), workout = _ref[0];\n                        if (workout) {\n                            sweatLists.push(workout);\n                        }\n                        return [\n                            3,\n                            7\n                        ];\n                    case 6:\n                        error = _state.sent();\n                        console.error(\"Error fetching workout \".concat(sweatlistIdentifier.id, \":\"), error);\n                        return [\n                            3,\n                            7\n                        ];\n                    case 7:\n                        _iteratorNormalCompletion = true;\n                        return [\n                            3,\n                            3\n                        ];\n                    case 8:\n                        return [\n                            3,\n                            11\n                        ];\n                    case 9:\n                        err = _state.sent();\n                        _didIteratorError = true;\n                        _iteratorError = err;\n                        return [\n                            3,\n                            11\n                        ];\n                    case 10:\n                        try {\n                            if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n                                _iterator[\"return\"]();\n                            }\n                        } finally{\n                            if (_didIteratorError) {\n                                throw _iteratorError;\n                            }\n                        }\n                        return [\n                            7\n                        ];\n                    case 11:\n                        return [\n                            2,\n                            {\n                                collection: collection,\n                                sweatLists: sweatLists\n                            }\n                        ];\n                    case 12:\n                        error1 = _state.sent();\n                        console.error(\"Error fetching collection with sweat lists:\", error1);\n                        throw error1;\n                    case 13:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    _proto.fetchSavedWorkout = function fetchSavedWorkout(userId, workoutId) {\n        var _this = this;\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_11__._)(function() {\n            var workoutRef, workoutSnap, workoutData, exercisesWithVideos, mappedExercises, workout, logsRef, logsSnapshot, logs, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_12__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        _state.trys.push([\n                            0,\n                            4,\n                            ,\n                            5\n                        ]);\n                        console.log(\"Starting fetchSavedWorkout with:\", {\n                            userId: userId,\n                            workoutId: workoutId\n                        });\n                        // Fetch the workout document\n                        workoutRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", userId, \"MyCreatedWorkouts\", workoutId);\n                        console.log(\"Fetching workout document from:\", workoutRef.path);\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(workoutRef)\n                        ];\n                    case 1:\n                        workoutSnap = _state.sent();\n                        console.log(\"Workout document exists:\", workoutSnap.exists());\n                        if (!workoutSnap.exists()) {\n                            console.log(\"No workout document found\");\n                            return [\n                                2,\n                                [\n                                    null,\n                                    null\n                                ]\n                            ];\n                        }\n                        workoutData = workoutSnap.data();\n                        console.log(\"Raw workout data:\", workoutData);\n                        // Get exercises with videos mapped\n                        console.log(\"Fetching exercises with videos...\");\n                        return [\n                            4,\n                            _this.fetchAndMapExercisesWithVideos()\n                        ];\n                    case 2:\n                        exercisesWithVideos = _state.sent();\n                        console.log(\"Fetched exercises with videos:\", exercisesWithVideos);\n                        // Map the exercises\n                        console.log(\"Mapping exercises in workout:\", workoutData.exercises);\n                        mappedExercises = (workoutData.exercises || []).map(function(exerciseRef) {\n                            var fullExercise = exercisesWithVideos.find(function(ex) {\n                                return ex.name === exerciseRef.exercise.name;\n                            });\n                            console.log(\"Mapping exercise:\", {\n                                name: exerciseRef.exercise.name,\n                                foundMatch: !!fullExercise\n                            });\n                            return (0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_13__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_14__._)({}, exerciseRef), {\n                                exercise: fullExercise || exerciseRef.exercise\n                            });\n                        });\n                        workoutData.exercises = mappedExercises;\n                        // Create workout instance\n                        console.log(\"Creating Workout instance with data:\", {\n                            id: workoutData.id,\n                            title: workoutData.title,\n                            exerciseCount: mappedExercises.length\n                        });\n                        workout = new _workout_types__WEBPACK_IMPORTED_MODULE_5__.Workout((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_14__._)({\n                            id: workoutId\n                        }, workoutData));\n                        // Fetch logs\n                        console.log(\"Fetching workout logs...\");\n                        logsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(workoutRef, \"logs\");\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(logsRef)\n                        ];\n                    case 3:\n                        logsSnapshot = _state.sent();\n                        console.log(\"Found logs count:\", logsSnapshot.size);\n                        logs = logsSnapshot.docs.map(function(logDoc) {\n                            var logData = logDoc.data();\n                            var fullExercise = exercisesWithVideos.find(function(ex) {\n                                return ex.name === logData.exercise.name;\n                            });\n                            console.log(\"Processing log:\", {\n                                logId: logDoc.id,\n                                exerciseName: logData.exercise.name,\n                                foundExerciseMatch: !!fullExercise\n                            });\n                            return new _exercise_types__WEBPACK_IMPORTED_MODULE_3__.ExerciseLog({\n                                id: logDoc.id,\n                                workoutId: workoutId,\n                                userId: userId,\n                                exercise: fullExercise || logData.exercise,\n                                logs: logData.log || [],\n                                feedback: logData.feedback || \"\",\n                                note: logData.note || \"\",\n                                recommendedWeight: logData.recommendedWeight || \"calculating...\",\n                                isSplit: logData.isSplit || false,\n                                isBodyWeight: logData.isBodyWeight || false,\n                                logSubmitted: logData.logSubmitted || false,\n                                logIsEditing: logData.logIsEditing || false,\n                                isCompleted: logData.isCompleted || false,\n                                completedAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_7__.convertFirestoreTimestamp)(logData.completedAt),\n                                createdAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_7__.convertFirestoreTimestamp)(logData.createdAt),\n                                updatedAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_7__.convertFirestoreTimestamp)(logData.updatedAt)\n                            });\n                        });\n                        workout.logs = logs;\n                        console.log(\"Returning workout and logs:\", {\n                            workoutId: workout.id,\n                            logsCount: logs.length\n                        });\n                        return [\n                            2,\n                            [\n                                workout,\n                                logs\n                            ]\n                        ];\n                    case 4:\n                        error = _state.sent();\n                        console.error(\"Error fetching saved workout:\", error);\n                        throw error; // Throw the error to see the full stack trace\n                    case 5:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    /**\n * Fetch user challenges by challengeId.\n * @param challengeId The ID of the challenge to fetch associated user challenges for.\n * @returns A promise resolving to an array of user challenges.\n * @throws If the Firestore query fails.\n */ _proto.fetchUserChallengesByChallengeId = function fetchUserChallengesByChallengeId(challengeId) {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_11__._)(function() {\n            var userChallengesRef, q, snapshot, userChallenges, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_12__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        userChallengesRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"user-challenge\");\n                        q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(userChallengesRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"challengeId\", \"==\", challengeId));\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            3,\n                            ,\n                            4\n                        ]);\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q)\n                        ];\n                    case 2:\n                        snapshot = _state.sent();\n                        // console.log(`Total user challenges fetched: ${snapshot.docs.length}`);\n                        userChallenges = snapshot.docs.map(function(doc) {\n                            var data = doc.data();\n                            // console.log(`Processing user challenge with ID: ${doc.id}`, data);\n                            return (0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_13__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_14__._)({\n                                id: doc.id\n                            }, data), {\n                                challenge: data.challenge ? new _workout_types__WEBPACK_IMPORTED_MODULE_5__.Challenge({\n                                    id: data.challenge.id,\n                                    title: data.challenge.title,\n                                    subtitle: data.challenge.subtitle,\n                                    participants: data.challenge.participants || [],\n                                    status: data.challenge.status,\n                                    startDate: data.challenge.startDate ? new Date(data.challenge.startDate) : new Date(),\n                                    endDate: data.challenge.endDate ? new Date(data.challenge.endDate) : new Date(),\n                                    createdAt: data.challenge.createdAt ? new Date(data.challenge.createdAt) : new Date(),\n                                    updatedAt: data.challenge.updatedAt ? new Date(data.challenge.updatedAt) : new Date(),\n                                    introVideos: (data.challenge.introVideos || []).map(function(v) {\n                                        return new _workout_types__WEBPACK_IMPORTED_MODULE_5__.IntroVideo({\n                                            id: v.id,\n                                            userId: v.userId,\n                                            videoUrl: v.videoUrl\n                                        });\n                                    })\n                                }) : undefined,\n                                createdAt: (0,_utils_timestamp__WEBPACK_IMPORTED_MODULE_6__.convertTimestamp)(data.createdAt),\n                                updatedAt: (0,_utils_timestamp__WEBPACK_IMPORTED_MODULE_6__.convertTimestamp)(data.updatedAt)\n                            });\n                        });\n                        // console.log('All user challenges after processing:', JSON.stringify(userChallenges, null, 2));\n                        return [\n                            2,\n                            userChallenges\n                        ];\n                    case 3:\n                        error = _state.sent();\n                        console.error(\"Error fetching user challenges by challengeId:\", error);\n                        throw error;\n                    case 4:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    _proto.getCollectionById = function getCollectionById(id) {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_11__._)(function() {\n            var docRef, docSnap, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_12__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        console.log(\"Fetching collection with id:\", id);\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            3,\n                            ,\n                            4\n                        ]);\n                        docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"sweatlist-collection\", id);\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(docRef)\n                        ];\n                    case 2:\n                        docSnap = _state.sent();\n                        if (docSnap.exists()) {\n                            return [\n                                2,\n                                new _workout_types__WEBPACK_IMPORTED_MODULE_5__.SweatlistCollection((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_14__._)({\n                                    id: docSnap.id\n                                }, docSnap.data()))\n                            ];\n                        } else {\n                            throw new Error(\"Collection not found\");\n                        }\n                        return [\n                            3,\n                            4\n                        ];\n                    case 3:\n                        error = _state.sent();\n                        console.error(\"Error getting collection by ID:\", error);\n                        throw error;\n                    case 4:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    /**\n   * Fetch user challenges by userId and filter for active challenges.\n   * @returns A promise resolving to an array of active challenges.\n   * @throws If no user is signed in or if the Firestore query fails.\n   */ _proto.fetchActiveChallenges = function fetchActiveChallenges() {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_11__._)(function() {\n            var currentUser, userChallengesRef, q, snapshot, allChallenges, activeChallenges, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_12__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        currentUser = _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser;\n                        if (!(currentUser === null || currentUser === void 0 ? void 0 : currentUser.id)) {\n                            throw new Error(\"No user is signed in\");\n                        }\n                        userChallengesRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"user-challenge\");\n                        q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(userChallengesRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"userId\", \"==\", currentUser.id));\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            3,\n                            ,\n                            4\n                        ]);\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q)\n                        ];\n                    case 2:\n                        snapshot = _state.sent();\n                        // console.log(`Total challenges fetched: ${snapshot.docs.length}`);\n                        allChallenges = snapshot.docs.map(function(doc) {\n                            var data = doc.data();\n                            // console.log(`Processing challenge with ID: ${doc.id}`, data);\n                            // Use the Challenge constructor to parse the challenge data\n                            // console.log(\"date before format: \" + convertFirestoreTimestamp(data.challenge.startDate));\n                            var challenge = data.challenge ? new _workout_types__WEBPACK_IMPORTED_MODULE_5__.Challenge({\n                                id: data.challenge.id,\n                                title: data.challenge.title,\n                                subtitle: data.challenge.subtitle,\n                                participants: data.challenge.participants || [],\n                                status: data.challenge.status,\n                                startDate: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_7__.convertFirestoreTimestamp)(data.challenge.startDate),\n                                endDate: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_7__.convertFirestoreTimestamp)(data.challenge.endDate),\n                                createdAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_7__.convertFirestoreTimestamp)(data.challenge.createdAt),\n                                updatedAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_7__.convertFirestoreTimestamp)(data.challenge.updatedAt),\n                                introVideos: (data.challenge.introVideos || []).map(function(v) {\n                                    return new _workout_types__WEBPACK_IMPORTED_MODULE_5__.IntroVideo({\n                                        id: v.id,\n                                        userId: v.userId,\n                                        videoUrl: v.videoUrl\n                                    });\n                                })\n                            }) : undefined;\n                            return (0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_13__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_14__._)({\n                                id: doc.id\n                            }, data), {\n                                challenge: challenge,\n                                createdAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_7__.convertFirestoreTimestamp)(data.createdAt),\n                                updatedAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_7__.convertFirestoreTimestamp)(data.updatedAt)\n                            });\n                        });\n                        // console.log('All challenges after processing:', JSON.stringify(allChallenges, null, 2));\n                        // Filter for active challenges (endDate > current date)\n                        activeChallenges = allChallenges.filter(function(userChallenge) {\n                            var _userChallenge_challenge;\n                            var endDate = (_userChallenge_challenge = userChallenge.challenge) === null || _userChallenge_challenge === void 0 ? void 0 : _userChallenge_challenge.endDate;\n                            // console.log(\n                            //   `Evaluating challenge ID: ${userChallenge.id}, End Date: ${endDate}, Current Date: ${new Date()}`\n                            // );\n                            return endDate && endDate > new Date();\n                        });\n                        // console.log(`Total active challenges: ${activeChallenges.length}`, activeChallenges);\n                        return [\n                            2,\n                            activeChallenges\n                        ];\n                    case 3:\n                        error = _state.sent();\n                        console.error(\"Error fetching active challenges:\", error);\n                        throw error;\n                    case 4:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    /**\n   * Fetch user challenges by userId.\n   * @returns A promise resolving to an array of challenges.\n   * @throws If no user is signed in or if the Firestore query fails.\n   */ _proto.fetchUserChallenges = function fetchUserChallenges() {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_11__._)(function() {\n            var currentUser, userChallengesRef, q, snapshot, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_12__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        currentUser = _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser;\n                        if (!(currentUser === null || currentUser === void 0 ? void 0 : currentUser.id)) {\n                            throw new Error(\"No user is signed in\");\n                        }\n                        // Reference to the user-challenge collection\n                        userChallengesRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"user-challenge\");\n                        // Query challenges where userId matches the current user's ID\n                        q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(userChallengesRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"userId\", \"==\", currentUser.id));\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            3,\n                            ,\n                            4\n                        ]);\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q)\n                        ];\n                    case 2:\n                        snapshot = _state.sent();\n                        // Map documents to an array of Challenge objects\n                        return [\n                            2,\n                            snapshot.docs.map(function(doc) {\n                                return (0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_14__._)({\n                                    id: doc.id\n                                }, doc.data());\n                            })\n                        ];\n                    case 3:\n                        error = _state.sent();\n                        console.error(\"Error fetching user challenges:\", error);\n                        throw new Error(\"Failed to fetch user challenges\");\n                    case 4:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    //update the workout summary,\n    _proto.updateWorkoutSummary = function updateWorkoutSummary(param) {\n        var userId = param.userId, workoutId = param.workoutId, summary = param.summary;\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_11__._)(function() {\n            var summaryRef, summaryData, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_12__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        if (!userId) {\n                            throw new Error(\"No user ID provided\");\n                        }\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            3,\n                            ,\n                            4\n                        ]);\n                        // Create a reference to the collection\n                        summaryRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", userId, \"workoutSummary\", summary.id);\n                        // Convert summary to a plain object for Firestore\n                        summaryData = {\n                            id: summary.id,\n                            workoutId: summary.workoutId,\n                            exercises: summary.exercises,\n                            bodyParts: summary.bodyParts,\n                            secondaryBodyParts: summary.secondaryBodyParts,\n                            workoutTitle: summary.workoutTitle,\n                            caloriesBurned: summary.caloriesBurned,\n                            workoutRating: summary.workoutRating,\n                            exercisesCompleted: summary.exercisesCompleted,\n                            aiInsight: summary.aiInsight,\n                            recommendations: summary.recommendations,\n                            gifURLs: summary.gifURLs,\n                            recommendedWork: summary.recommendedWork,\n                            isCompleted: summary.isCompleted,\n                            createdAt: summary.createdAt,\n                            updatedAt: new Date(),\n                            completedAt: summary.completedAt,\n                            duration: summary.duration\n                        };\n                        // Set data with merge enabled (equivalent to Swift's setData with merge: true)\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)(summaryRef, summaryData, {\n                                merge: true\n                            })\n                        ];\n                    case 2:\n                        _state.sent();\n                        console.log(\"Workout summary document updated successfully\");\n                        return [\n                            3,\n                            4\n                        ];\n                    case 3:\n                        error = _state.sent();\n                        console.error(\"Error updating workout summary:\", error);\n                        throw error;\n                    case 4:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    _proto.updateWorkoutLogs = function updateWorkoutLogs(param) {\n        var userId = param.userId, workoutId = param.workoutId, logs = param.logs;\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_11__._)(function() {\n            var workoutRef, logsRef, batch, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_12__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        _state.trys.push([\n                            0,\n                            2,\n                            ,\n                            3\n                        ]);\n                        workoutRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", userId, \"workoutSessions\", workoutId);\n                        logsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(workoutRef, \"logs\");\n                        batch = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.writeBatch)(_config__WEBPACK_IMPORTED_MODULE_1__.db);\n                        logs.forEach(function(log) {\n                            var logDocRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(logsRef, log.id);\n                            batch.update(logDocRef, (0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_14__._)({}, log.toDictionary()));\n                        });\n                        return [\n                            4,\n                            batch.commit()\n                        ];\n                    case 1:\n                        _state.sent();\n                        return [\n                            3,\n                            3\n                        ];\n                    case 2:\n                        error = _state.sent();\n                        console.error(\"Error updating workout logs:\", error);\n                        throw error;\n                    case 3:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    // The cancelWorkout method – it deletes the workout session and summary (if any),\n    // cleans up the local state, and logs the cancellation.\n    _proto.cancelWorkout = function cancelWorkout(workout, workoutSummary) {\n        var _this = this;\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_11__._)(function() {\n            var _userService_currentUser, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_12__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        if (!((_userService_currentUser = _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser) === null || _userService_currentUser === void 0 ? void 0 : _userService_currentUser.id) || !workout) {\n                            throw new Error(\"User not authenticated.\");\n                        }\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            5,\n                            ,\n                            6\n                        ]);\n                        return [\n                            4,\n                            _this.deleteWorkoutSession(workout.id)\n                        ];\n                    case 2:\n                        _state.sent();\n                        if (!workoutSummary) return [\n                            3,\n                            4\n                        ];\n                        return [\n                            4,\n                            _this.deleteWorkoutSummary(workoutSummary.id)\n                        ];\n                    case 3:\n                        _state.sent();\n                        _state.label = 4;\n                    case 4:\n                        _this.cleanUpWorkoutInProgress();\n                        console.log(\"Workout canceled and cleaned up successfully.\");\n                        return [\n                            3,\n                            6\n                        ];\n                    case 5:\n                        error = _state.sent();\n                        console.error(\"Error canceling workout:\", error);\n                        throw error;\n                    case 6:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    // Deletes a workout session document and all its subcollection \"logs\"\n    _proto.deleteWorkoutSession = function deleteWorkoutSession(workoutId) {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_11__._)(function() {\n            var _userService_currentUser, userId, workoutRef, logsRef, logsSnapshot, batch, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_12__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        if (!((_userService_currentUser = _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser) === null || _userService_currentUser === void 0 ? void 0 : _userService_currentUser.id) || !workoutId) {\n                            throw new Error(\"User not authenticated.\");\n                        }\n                        userId = _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser.id;\n                        workoutRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", userId, \"workoutSessions\", workoutId);\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            4,\n                            ,\n                            5\n                        ]);\n                        // Delete all logs in the subcollection\n                        logsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(workoutRef, \"logs\");\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(logsRef)\n                        ];\n                    case 2:\n                        logsSnapshot = _state.sent();\n                        batch = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.writeBatch)(_config__WEBPACK_IMPORTED_MODULE_1__.db);\n                        logsSnapshot.docs.forEach(function(logDoc) {\n                            batch[\"delete\"](logDoc.ref);\n                        });\n                        // Delete the main workout document\n                        batch[\"delete\"](workoutRef);\n                        return [\n                            4,\n                            batch.commit()\n                        ];\n                    case 3:\n                        _state.sent();\n                        console.log(\"Workout session and logs deleted successfully.\");\n                        return [\n                            3,\n                            5\n                        ];\n                    case 4:\n                        error = _state.sent();\n                        console.error(\"Error deleting workout session:\", error);\n                        throw error;\n                    case 5:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    // Deletes the workout summary document.\n    _proto.deleteWorkoutSummary = function deleteWorkoutSummary(workoutSummaryId) {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_11__._)(function() {\n            var _userService_currentUser, summaryRef, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_12__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        if (!workoutSummaryId || !((_userService_currentUser = _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser) === null || _userService_currentUser === void 0 ? void 0 : _userService_currentUser.id)) {\n                            return [\n                                2\n                            ];\n                        }\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            3,\n                            ,\n                            4\n                        ]);\n                        summaryRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser.id, \"workoutSummary\", workoutSummaryId);\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.deleteDoc)(summaryRef)\n                        ];\n                    case 2:\n                        _state.sent();\n                        console.log(\"Workout summary deleted successfully.\");\n                        return [\n                            3,\n                            4\n                        ];\n                    case 3:\n                        error = _state.sent();\n                        console.error(\"Error deleting workout summary:\", error);\n                        throw error;\n                    case 4:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    // Clean up local storage and in-memory workout state.\n    _proto.cleanUpWorkoutInProgress = function cleanUpWorkoutInProgress() {\n        _redux_store__WEBPACK_IMPORTED_MODULE_8__.store.dispatch((0,_redux_workoutSlice__WEBPACK_IMPORTED_MODULE_9__.resetWorkoutState)());\n    };\n    /**\n   * Fetch the workout session from Firestore, returning { workout, logs }.\n   * Checks first for a QueuedUp session, then for InProgress.\n   */ _proto.fetchCurrentWorkoutSession = function fetchCurrentWorkoutSession(userId) {\n        var _this = this;\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_11__._)(function() {\n            var exerciseSnapshot, videoSnapshot, exerciseVideos, exercisesWithVideos, workoutSessionsRef, q, snap;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_12__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        if (!userId) throw new Error(\"No user ID provided\");\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"exercises\"))\n                        ];\n                    case 1:\n                        exerciseSnapshot = _state.sent();\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"exerciseVideos\"))\n                        ];\n                    case 2:\n                        videoSnapshot = _state.sent();\n                        exerciseVideos = videoSnapshot.docs.map(function(doc) {\n                            return _exercise_types__WEBPACK_IMPORTED_MODULE_3__.ExerciseVideo.fromFirebase((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_14__._)({\n                                id: doc.id\n                            }, doc.data()));\n                        });\n                        exercisesWithVideos = exerciseSnapshot.docs.map(function(doc) {\n                            var exercise = _exercise_types__WEBPACK_IMPORTED_MODULE_3__.Exercise.fromFirebase((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_14__._)({\n                                id: doc.id\n                            }, doc.data()));\n                            var matchingVideos = exerciseVideos.filter(function(video) {\n                                return video.exercise.toLowerCase() === exercise.name.toLowerCase();\n                            });\n                            return new _exercise_types__WEBPACK_IMPORTED_MODULE_3__.Exercise((0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_13__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_14__._)({}, exercise), {\n                                videos: matchingVideos\n                            }));\n                        });\n                        workoutSessionsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", userId, \"workoutSessions\");\n                        q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(workoutSessionsRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"status\", \"==\", _workout_types__WEBPACK_IMPORTED_MODULE_5__.WorkoutStatus.QueuedUp));\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q)\n                        ];\n                    case 3:\n                        snap = _state.sent();\n                        if (!snap.empty) {\n                            return [\n                                2,\n                                _this.processWorkoutSessionDocument(snap.docs[0], exercisesWithVideos)\n                            ];\n                        }\n                        q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(workoutSessionsRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"status\", \"==\", _workout_types__WEBPACK_IMPORTED_MODULE_5__.WorkoutStatus.InProgress));\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q)\n                        ];\n                    case 4:\n                        snap = _state.sent();\n                        if (!snap.empty) {\n                            return [\n                                2,\n                                _this.processWorkoutSessionDocument(snap.docs[0], exercisesWithVideos)\n                            ];\n                        }\n                        return [\n                            2,\n                            {\n                                workout: null,\n                                logs: null\n                            }\n                        ];\n                }\n            });\n        })();\n    };\n    _proto.fetchAndMapExercisesWithVideos = function fetchAndMapExercisesWithVideos() {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_11__._)(function() {\n            var exerciseSnapshot, exercises, videoSnapshot, exerciseVideos, exercisesWithVideos, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_12__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        _state.trys.push([\n                            0,\n                            3,\n                            ,\n                            4\n                        ]);\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"exercises\"))\n                        ];\n                    case 1:\n                        exerciseSnapshot = _state.sent();\n                        exercises = exerciseSnapshot.docs.map(function(doc) {\n                            return _exercise_types__WEBPACK_IMPORTED_MODULE_3__.Exercise.fromFirebase((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_14__._)({\n                                id: doc.id\n                            }, doc.data()));\n                        });\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"exerciseVideos\"))\n                        ];\n                    case 2:\n                        videoSnapshot = _state.sent();\n                        exerciseVideos = videoSnapshot.docs.map(function(doc) {\n                            return _exercise_types__WEBPACK_IMPORTED_MODULE_3__.ExerciseVideo.fromFirebase((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_14__._)({\n                                id: doc.id\n                            }, doc.data()));\n                        });\n                        // console.log(`Fetched ${exerciseVideos.length} exercise videos`);\n                        // 3. Map videos to exercises\n                        exercisesWithVideos = exercises.map(function(exercise) {\n                            var matchingVideos = exerciseVideos.filter(function(video) {\n                                return video.exercise.toLowerCase() === exercise.name.toLowerCase();\n                            });\n                            return new _exercise_types__WEBPACK_IMPORTED_MODULE_3__.Exercise((0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_13__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_14__._)({}, exercise), {\n                                videos: matchingVideos\n                            }));\n                        });\n                        // console.log('Finished mapping exercises with videos');\n                        // console.log(`Total exercises with videos: ${exercisesWithVideos.length}`);\n                        return [\n                            2,\n                            exercisesWithVideos\n                        ];\n                    case 3:\n                        error = _state.sent();\n                        console.error(\"Error fetching and mapping exercises with videos:\", error);\n                        throw error;\n                    case 4:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    /**\n   * Helper to build the Workout object + any logs from the snapshot.\n   */ _proto.fetchAllWorkoutSessions = function fetchAllWorkoutSessions(userId) {\n        var _this = this;\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_11__._)(function() {\n            var exerciseSnapshot, exercises, videoSnapshot, exerciseVideos, exercisesWithVideos, workoutSessionsRef, snap, sessions, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_12__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        if (!userId) {\n                            throw new Error(\"No user ID provided\");\n                        }\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            6,\n                            ,\n                            7\n                        ]);\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"exercises\"))\n                        ];\n                    case 2:\n                        exerciseSnapshot = _state.sent();\n                        exercises = exerciseSnapshot.docs.map(function(doc) {\n                            return _exercise_types__WEBPACK_IMPORTED_MODULE_3__.Exercise.fromFirebase((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_14__._)({\n                                id: doc.id\n                            }, doc.data()));\n                        });\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"exerciseVideos\"))\n                        ];\n                    case 3:\n                        videoSnapshot = _state.sent();\n                        exerciseVideos = videoSnapshot.docs.map(function(doc) {\n                            return _exercise_types__WEBPACK_IMPORTED_MODULE_3__.ExerciseVideo.fromFirebase((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_14__._)({\n                                id: doc.id\n                            }, doc.data()));\n                        });\n                        exercisesWithVideos = exercises.map(function(exercise) {\n                            var matchingVideos = exerciseVideos.filter(function(video) {\n                                return video.exercise.toLowerCase() === exercise.name.toLowerCase();\n                            });\n                            return new _exercise_types__WEBPACK_IMPORTED_MODULE_3__.Exercise((0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_13__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_14__._)({}, exercise), {\n                                videos: matchingVideos\n                            }));\n                        });\n                        workoutSessionsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", userId, \"workoutSessions\");\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(workoutSessionsRef)\n                        ];\n                    case 4:\n                        snap = _state.sent();\n                        if (snap.empty) {\n                            console.log(\"No workout sessions found for user\");\n                            return [\n                                2,\n                                []\n                            ];\n                        }\n                        return [\n                            4,\n                            Promise.all(snap.docs.map(function() {\n                                var _ref = (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_11__._)(function(doc) {\n                                    var sessionData;\n                                    return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_12__._)(this, function(_state) {\n                                        switch(_state.label){\n                                            case 0:\n                                                return [\n                                                    4,\n                                                    _this.processWorkoutSessionDocument(doc, exercisesWithVideos)\n                                                ];\n                                            case 1:\n                                                sessionData = _state.sent();\n                                                if (sessionData.logs) {\n                                                    sessionData.logs.sort(function(a, b) {\n                                                        var _a_order;\n                                                        var orderA = (_a_order = a.order) !== null && _a_order !== void 0 ? _a_order : 0;\n                                                        var _b_order;\n                                                        var orderB = (_b_order = b.order) !== null && _b_order !== void 0 ? _b_order : 0;\n                                                        return orderA - orderB;\n                                                    });\n                                                }\n                                                return [\n                                                    2,\n                                                    sessionData\n                                                ];\n                                        }\n                                    });\n                                });\n                                return function(doc) {\n                                    return _ref.apply(this, arguments);\n                                };\n                            }()))\n                        ];\n                    case 5:\n                        sessions = _state.sent();\n                        return [\n                            2,\n                            sessions\n                        ];\n                    case 6:\n                        error = _state.sent();\n                        console.error(\"Error fetching workout sessions:\", error);\n                        throw error;\n                    case 7:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    _proto.updateCollection = function updateCollection(collection) {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_11__._)(function() {\n            var collRef, newDocRef, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_12__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        _state.trys.push([\n                            0,\n                            2,\n                            ,\n                            3\n                        ]);\n                        collRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"sweatlist-collection\");\n                        // If collection.id is empty, generate a new doc ID and assign it.\n                        if (!collection.id || collection.id.trim() === \"\") {\n                            newDocRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(collRef);\n                            collection.id = newDocRef.id;\n                        }\n                        // Ensure the challenge id matches the collection id.\n                        if (collection.challenge) {\n                            collection.challenge.id = collection.id;\n                        }\n                        // Update the updatedAt field.\n                        collection.updatedAt = new Date();\n                        // Save the collection to Firestore.\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(collRef, collection.id), collection.toDictionary())\n                        ];\n                    case 1:\n                        _state.sent();\n                        console.log(\"Collection updated successfully\");\n                        return [\n                            2,\n                            collection\n                        ];\n                    case 2:\n                        error = _state.sent();\n                        console.error(\"Error updating collection document:\", error);\n                        throw new Error(\"Error while updating the collection\");\n                    case 3:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    _proto.processWorkoutSessionDocument = function processWorkoutSessionDocument(workoutDoc, exercisesWithVideos) {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_11__._)(function() {\n            var data, mappedExercises, workout, logsRef, logsSnapshot, logs;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_12__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        data = workoutDoc.data();\n                        // Map exercises with their full data and videos\n                        mappedExercises = (data.exercises || []).map(function(exerciseRef) {\n                            var _exerciseRef_exercise_name, _exerciseRef_exercise;\n                            // Find the full exercise with videos\n                            var exerciseNameLower = (_exerciseRef_exercise = exerciseRef.exercise) === null || _exerciseRef_exercise === void 0 ? void 0 : (_exerciseRef_exercise_name = _exerciseRef_exercise.name) === null || _exerciseRef_exercise_name === void 0 ? void 0 : _exerciseRef_exercise_name.toLowerCase().trim();\n                            var fullExercise = exercisesWithVideos.find(function(ex) {\n                                return ex.name.toLowerCase().trim() === exerciseNameLower;\n                            });\n                            // If full exercise found, return it, otherwise use the original\n                            return (0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_13__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_14__._)({}, exerciseRef), {\n                                exercise: fullExercise || exerciseRef.exercise\n                            });\n                        });\n                        // Create the workout with mapped exercises\n                        workout = new _workout_types__WEBPACK_IMPORTED_MODULE_5__.Workout({\n                            id: workoutDoc.id,\n                            roundWorkoutId: data.roundWorkoutId || \"\",\n                            exercises: mappedExercises,\n                            title: data.title || \"\",\n                            description: data.description || \"\",\n                            duration: data.duration || 0,\n                            useAuthorContent: data.useAuthorContent || false,\n                            isCompleted: data.isCompleted || false,\n                            workoutStatus: data.workoutStatus || _workout_types__WEBPACK_IMPORTED_MODULE_5__.WorkoutStatus.Archived,\n                            author: data.author || \"\",\n                            createdAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_7__.convertFirestoreTimestamp)(data.createdAt),\n                            updatedAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_7__.convertFirestoreTimestamp)(data.updatedAt),\n                            startTime: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_7__.convertFirestoreTimestamp)(data.startTime),\n                            collectionId: data.collectionId,\n                            challenge: data.challenge,\n                            logs: (data.logs || []).map(function(logData) {\n                                var _logData_exercise_name, _logData_exercise;\n                                // Map logs with full exercises\n                                var exerciseNameLower = (_logData_exercise = logData.exercise) === null || _logData_exercise === void 0 ? void 0 : (_logData_exercise_name = _logData_exercise.name) === null || _logData_exercise_name === void 0 ? void 0 : _logData_exercise_name.toLowerCase().trim();\n                                var fullExercise = exercisesWithVideos.find(function(ex) {\n                                    return ex.name.toLowerCase().trim() === exerciseNameLower;\n                                });\n                                return (0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_13__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_14__._)({}, logData), {\n                                    exercise: fullExercise || logData.exercise\n                                });\n                            }),\n                            workoutRating: data.workoutRating,\n                            order: data.order,\n                            zone: data.zone || _workout_types__WEBPACK_IMPORTED_MODULE_5__.BodyZone.FullBody\n                        });\n                        console.log(\"The Workout ID is: \" + workout.id);\n                        // Fetch logs from subcollection\n                        logsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(workoutDoc.ref, \"logs\");\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(logsRef)\n                        ];\n                    case 1:\n                        logsSnapshot = _state.sent();\n                        logs = logsSnapshot.docs.map(function(logDoc) {\n                            var _logData_exercise_name, _logData_exercise;\n                            var logData = logDoc.data();\n                            // Find the full exercise with videos\n                            var exerciseNameLower = (_logData_exercise = logData.exercise) === null || _logData_exercise === void 0 ? void 0 : (_logData_exercise_name = _logData_exercise.name) === null || _logData_exercise_name === void 0 ? void 0 : _logData_exercise_name.toLowerCase().trim();\n                            var fullExercise = exercisesWithVideos.find(function(ex) {\n                                return ex.name.toLowerCase().trim() === exerciseNameLower;\n                            });\n                            // Prepare log data with full exercise\n                            var preparedLogData = (0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_13__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_14__._)({}, logData), {\n                                id: logDoc.id,\n                                workoutId: workout.id,\n                                exercise: fullExercise || logData.exercise,\n                                createdAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_7__.convertFirestoreTimestamp)(logData.createdAt),\n                                updatedAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_7__.convertFirestoreTimestamp)(logData.updatedAt)\n                            });\n                            // Use the ExerciseLog constructor to ensure proper mapping\n                            return new _exercise_types__WEBPACK_IMPORTED_MODULE_3__.ExerciseLog(preparedLogData);\n                        });\n                        return [\n                            2,\n                            {\n                                workout: workout,\n                                logs: logs\n                            }\n                        ];\n                }\n            });\n        })();\n    };\n    _proto.saveWorkoutSession = function saveWorkoutSession(param) {\n        var userId = param.userId, workout = param.workout, logs = param.logs;\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_11__._)(function() {\n            var currentDate, cleanWorkout, workoutSessionRef, logsRef, logBatch, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_12__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        if (!userId) throw new Error(\"No user ID provided\");\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            4,\n                            ,\n                            5\n                        ]);\n                        currentDate = new Date();\n                        cleanWorkout = new _workout_types__WEBPACK_IMPORTED_MODULE_5__.Workout((0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_13__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_14__._)({}, workout), {\n                            roundWorkoutId: \"\".concat(workout.id, \"-\").concat(currentDate.getTime()),\n                            workoutStatus: _workout_types__WEBPACK_IMPORTED_MODULE_5__.WorkoutStatus.QueuedUp,\n                            createdAt: currentDate,\n                            updatedAt: currentDate,\n                            startTime: currentDate,\n                            logs: []\n                        }));\n                        workoutSessionRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", userId, \"workoutSessions\"));\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)(workoutSessionRef, cleanWorkout.toDictionary())\n                        ];\n                    case 2:\n                        _state.sent();\n                        logsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(workoutSessionRef, \"logs\");\n                        logBatch = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.writeBatch)(_config__WEBPACK_IMPORTED_MODULE_1__.db);\n                        logs.forEach(function(log, index) {\n                            var logDocRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(logsRef, \"\".concat(log.id, \"-\").concat(currentDate.getTime()));\n                            logBatch.set(logDocRef, {\n                                id: logDocRef.id,\n                                workoutId: workoutSessionRef.id,\n                                exercise: log.exercise.toDictionary(),\n                                order: index,\n                                createdAt: currentDate.getTime(),\n                                updatedAt: currentDate.getTime(),\n                                logSubmitted: false,\n                                isCompleted: false\n                            });\n                        });\n                        return [\n                            4,\n                            logBatch.commit()\n                        ];\n                    case 3:\n                        _state.sent();\n                        return [\n                            2,\n                            cleanWorkout\n                        ];\n                    case 4:\n                        error = _state.sent();\n                        console.error(\"Error saving workout session:\", error);\n                        throw error;\n                    case 5:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    /**\n   * Example \"join challenge\" method using the client SDK (no admin privileges).\n   * This creates a doc in `user-challenge` with the userId, challengeId, etc.\n   */ _proto.joinChallenge = function joinChallenge(param) {\n        var username = param.username, challengeId = param.challengeId;\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_11__._)(function() {\n            var currentUser, usersRef, userQuery, userSnapshot, userDoc, userData, userId, challengeRef, challengeSnap, challenge, userChallengeId, userChallengeData;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_12__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        // 1) Make sure we have a signed-in user\n                        currentUser = _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser;\n                        if (!currentUser) {\n                            throw new Error(\"No user is signed in\");\n                        }\n                        // 2) Find the user doc by username\n                        usersRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\");\n                        userQuery = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(usersRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"username\", \"==\", username));\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(userQuery)\n                        ];\n                    case 1:\n                        userSnapshot = _state.sent();\n                        if (userSnapshot.empty) {\n                            throw new Error(\"User not found\");\n                        }\n                        userDoc = userSnapshot.docs[0];\n                        userData = userDoc.data();\n                        userId = userDoc.id;\n                        // 3) Check if the challenge doc exists\n                        challengeRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"sweatlist-collection\", challengeId);\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(challengeRef)\n                        ];\n                    case 2:\n                        challengeSnap = _state.sent();\n                        if (!challengeSnap.exists()) {\n                            throw new Error(\"Challenge not found\");\n                        }\n                        challenge = challengeSnap.data();\n                        // 4) Build new user-challenge document\n                        userChallengeId = \"\".concat(challengeId, \"-\").concat(userId, \"-\").concat(Date.now());\n                        userChallengeData = {\n                            id: userChallengeId,\n                            challenge: challenge,\n                            challengeId: challengeId,\n                            userId: userId,\n                            fcmToken: userData.fcmToken || \"\",\n                            profileImage: userData.profileImage || {},\n                            progress: 0,\n                            completedWorkouts: [],\n                            isCompleted: false,\n                            uid: userId,\n                            location: userData.location || null,\n                            city: \"\",\n                            country: \"\",\n                            timezone: \"\",\n                            username: username,\n                            joinDate: new Date(),\n                            createdAt: new Date(),\n                            updatedAt: new Date(),\n                            pulsePoints: {\n                                baseCompletion: 0,\n                                firstCompletion: 0,\n                                streakBonus: 0,\n                                checkInBonus: 0,\n                                effortRating: 0,\n                                chatParticipation: 0,\n                                locationCheckin: 0,\n                                contentEngagement: 0,\n                                encouragementSent: 0,\n                                encouragementReceived: 0\n                            },\n                            currentStreak: 0,\n                            encouragedUsers: [],\n                            encouragedByUsers: [],\n                            checkIns: []\n                        };\n                        // 5) Store user-challenge doc\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"user-challenge\", userChallengeId), userChallengeData)\n                        ];\n                    case 3:\n                        _state.sent();\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    (0,_swc_helpers_create_class__WEBPACK_IMPORTED_MODULE_17__._)(WorkoutService, [\n        {\n            key: \"currentWorkout\",\n            get: // Replace getters/setters to use Redux\n            function get() {\n                return _redux_store__WEBPACK_IMPORTED_MODULE_8__.store.getState().workout.currentWorkout;\n            },\n            set: function set(workout) {\n                _redux_store__WEBPACK_IMPORTED_MODULE_8__.store.dispatch((0,_redux_workoutSlice__WEBPACK_IMPORTED_MODULE_9__.setCurrentWorkout)(workout));\n            }\n        },\n        {\n            key: \"currentWorkoutLogs\",\n            get: function get() {\n                return _redux_store__WEBPACK_IMPORTED_MODULE_8__.store.getState().workout.currentExerciseLogs;\n            },\n            set: function set(logs) {\n                _redux_store__WEBPACK_IMPORTED_MODULE_8__.store.dispatch((0,_redux_workoutSlice__WEBPACK_IMPORTED_MODULE_9__.setCurrentExerciseLogs)(logs));\n            }\n        },\n        {\n            key: \"currentWorkoutSummary\",\n            get: function get() {\n                return _redux_store__WEBPACK_IMPORTED_MODULE_8__.store.getState().workout.workoutSummary;\n            },\n            set: function set(workoutSummary) {\n                _redux_store__WEBPACK_IMPORTED_MODULE_8__.store.dispatch((0,_redux_workoutSlice__WEBPACK_IMPORTED_MODULE_9__.setWorkoutSummary)(workoutSummary));\n            }\n        }\n    ]);\n    return WorkoutService;\n}();\nvar workoutService = new WorkoutService();\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNkQyxtQkFBbUI7Z0NBQ25CQyxpQkFBaUI7Z0NBQ2pCQyxtQkFBbUI7Z0NBQ25CQyxtQkFBbUI7Z0NBQ25CQyx1QkFBdUI7NEJBQ3pCOzRCQUNBQyxlQUFlOzRCQUNmQyxlQUFlOzRCQUNmQyxpQkFBaUI7NEJBQ2pCQyxRQUFRO3dCQUNWO3dCQUVBLDhCQUE4Qjt3QkFDOUI7OzRCQUFNdlIsMERBQU1BLENBQUNQLHVEQUFHQSxDQUFDVSx1Q0FBRUEsRUFBRSxrQkFBa0J5UCxrQkFBa0JDOzs7d0JBQXpEOzs7Ozs7UUFDRjs7a0VBcnhDSXBPOztZQUdBK1AsS0FBQUE7aUJBQUosdUNBRHFDO1lBQ3JDO2dCQUNFLE9BQU9wUSwrQ0FBS0EsQ0FBQ3FRLFFBQVEsR0FBRzFMLE9BQU8sQ0FBQ3lMLGNBQWM7WUFDaEQ7aUJBRUEsYUFBbUJ6TCxPQUF1QjtnQkFDeEMzRSwrQ0FBS0EsQ0FBQzJMLFFBQVEsQ0FBQzFMLHNFQUFpQkEsQ0FBQzBFO1lBQ25DOzs7WUFFSTJMLEtBQUFBO2lCQUFKO2dCQUNFLE9BQU90USwrQ0FBS0EsQ0FBQ3FRLFFBQVEsR0FBRzFMLE9BQU8sQ0FBQzRMLG1CQUFtQjtZQUNyRDtpQkFFQSxhQUF1QmhOLElBQW1CO2dCQUN4Q3ZELCtDQUFLQSxDQUFDMkwsUUFBUSxDQUFDekwsMkVBQXNCQSxDQUFDcUQ7WUFDeEM7OztZQUVJaU4sS0FBQUE7aUJBQUo7Z0JBQ0UsT0FBT3hRLCtDQUFLQSxDQUFDcVEsUUFBUSxHQUFHMUwsT0FBTyxDQUFDeUcsY0FBYztZQUNoRDtpQkFFQSxhQUEwQkEsY0FBOEI7Z0JBQ3REcEwsK0NBQUtBLENBQUMyTCxRQUFRLENBQUN2TCxzRUFBaUJBLENBQUNnTDtZQUNuQzs7O1dBekJJL0s7O0FBd3hDQyxJQUFNa0IsaUJBQWlCLElBQUlsQixpQkFBaUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2FwaS9maXJlYmFzZS93b3Jrb3V0L3NlcnZpY2UudHM/YzVlMiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvYXBpL2ZpcmViYXNlL3dvcmtvdXQvc2VydmljZS50c1xuaW1wb3J0IHtcbiAgY29sbGVjdGlvbixcbiAgZG9jLFxuICBnZXREb2NzLFxuICBnZXREb2MsXG4gIHVwZGF0ZURvYyxcbiAgcXVlcnksXG4gIHdoZXJlLFxuICBvcmRlckJ5LCBcbiAgRG9jdW1lbnREYXRhLFxuICBRdWVyeURvY3VtZW50U25hcHNob3QsXG4gIGNvbGxlY3Rpb24gYXMgZnNDb2xsZWN0aW9uLFxuICBzZXREb2MsXG4gIGRlbGV0ZURvYyxcbiAgd3JpdGVCYXRjaFxufSBmcm9tICdmaXJlYmFzZS9maXJlc3RvcmUnO1xuXG5pbXBvcnQgeyBkYiB9IGZyb20gJy4uL2NvbmZpZyc7XG5pbXBvcnQgeyB1c2VyU2VydmljZSB9IGZyb20gJy4uL3VzZXInO1xuaW1wb3J0IHsgXG4gIEV4ZXJjaXNlTG9nLCBcbiAgRXhlcmNpc2VDYXRlZ29yeSwgXG4gIEV4ZXJjaXNlLCBcbiAgQm9keVBhcnQsIFxuICBFeGVyY2lzZVZpZGVvLCBcbiAgRXhlcmNpc2VBdXRob3IsIFxuICBFeGVyY2lzZVZpZGVvVmlzaWJpbGl0eSwgXG4gIEV4ZXJjaXNlRGV0YWlsLCBcbiAgRXhlcmNpc2VSZWZlcmVuY2UgfSBmcm9tICcuLi9leGVyY2lzZS90eXBlcyc7XG5pbXBvcnQgeyBleGVyY2lzZVNlcnZpY2UgfSBmcm9tICcuLi9leGVyY2lzZS9zZXJ2aWNlJztcbmltcG9ydCB7IFByb2ZpbGVJbWFnZSB9IGZyb20gJy4uL3VzZXIvdHlwZXMnXG5pbXBvcnQgeyBXb3Jrb3V0LCBXb3Jrb3V0U3VtbWFyeSwgQm9keVpvbmUsIEludHJvVmlkZW8sIFJlcHNBbmRXZWlnaHRMb2csIFdvcmtvdXRSYXRpbmcgfSBmcm9tICcuLi93b3Jrb3V0L3R5cGVzJztcbmltcG9ydCB7IFdvcmtvdXRTdGF0dXMsIFN3ZWF0bGlzdENvbGxlY3Rpb24gfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IGZvcm1hdCB9IGZyb20gJ2RhdGUtZm5zJzsgXG5pbXBvcnQgeyBjb252ZXJ0VGltZXN0YW1wLCBzZXJ2ZXJUaW1lc3RhbXAgfSBmcm9tICcuLi8uLi8uLi91dGlscy90aW1lc3RhbXAnOyAvLyBBZGp1c3QgdGhlIGltcG9ydCBwYXRoXG5pbXBvcnQgeyBjb252ZXJ0RmlyZXN0b3JlVGltZXN0YW1wIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvZm9ybWF0RGF0ZSc7XG5pbXBvcnQgeyBDaGFsbGVuZ2UsIENoYWxsZW5nZVN0YXR1cywgVXNlckNoYWxsZW5nZSB9IGZyb20gJy4uLy4uLy4uL2FwaS9maXJlYmFzZS93b3Jrb3V0L3R5cGVzJztcblxuaW1wb3J0IHsgc3RvcmUgfSBmcm9tICcuLi8uLi8uLi9yZWR1eC9zdG9yZSc7XG5pbXBvcnQgeyBzZXRDdXJyZW50V29ya291dCwgc2V0Q3VycmVudEV4ZXJjaXNlTG9ncywgcmVzZXRXb3Jrb3V0U3RhdGUsIHNldFdvcmtvdXRTdW1tYXJ5IH0gZnJvbSAnLi4vLi4vLi4vcmVkdXgvd29ya291dFNsaWNlJztcblxuXG5pbnRlcmZhY2UgRmlyZXN0b3JlRXJyb3Ige1xuICBjb2RlOiBzdHJpbmc7XG4gIG1lc3NhZ2U6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBzdGFjaz86IHN0cmluZztcbn1cblxuY2xhc3MgV29ya291dFNlcnZpY2Uge1xuXG4vLyBSZXBsYWNlIGdldHRlcnMvc2V0dGVycyB0byB1c2UgUmVkdXhcbiAgZ2V0IGN1cnJlbnRXb3Jrb3V0KCk6IFdvcmtvdXQgfCBudWxsIHtcbiAgICByZXR1cm4gc3RvcmUuZ2V0U3RhdGUoKS53b3Jrb3V0LmN1cnJlbnRXb3Jrb3V0O1xuICB9XG5cbiAgc2V0IGN1cnJlbnRXb3Jrb3V0KHdvcmtvdXQ6IFdvcmtvdXQgfCBudWxsKSB7XG4gICAgc3RvcmUuZGlzcGF0Y2goc2V0Q3VycmVudFdvcmtvdXQod29ya291dCkpO1xuICB9XG5cbiAgZ2V0IGN1cnJlbnRXb3Jrb3V0TG9ncygpOiBFeGVyY2lzZUxvZ1tdIHtcbiAgICByZXR1cm4gc3RvcmUuZ2V0U3RhdGUoKS53b3Jrb3V0LmN1cnJlbnRFeGVyY2lzZUxvZ3M7XG4gIH1cblxuICBzZXQgY3VycmVudFdvcmtvdXRMb2dzKGxvZ3M6IEV4ZXJjaXNlTG9nW10pIHtcbiAgICBzdG9yZS5kaXNwYXRjaChzZXRDdXJyZW50RXhlcmNpc2VMb2dzKGxvZ3MpKTtcbiAgfVxuXG4gIGdldCBjdXJyZW50V29ya291dFN1bW1hcnkoKTogV29ya291dFN1bW1hcnkgfCBudWxsIHtcbiAgICByZXR1cm4gc3RvcmUuZ2V0U3RhdGUoKS53b3Jrb3V0LndvcmtvdXRTdW1tYXJ5O1xuICB9XG5cbiAgc2V0IGN1cnJlbnRXb3Jrb3V0U3VtbWFyeSh3b3Jrb3V0U3VtbWFyeTogV29ya291dFN1bW1hcnkpIHtcbiAgICBzdG9yZS5kaXNwYXRjaChzZXRXb3Jrb3V0U3VtbWFyeSh3b3Jrb3V0U3VtbWFyeSkpO1xuICB9XG5cbiAgIGdlbmVyYXRlSWQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gZG9jKGNvbGxlY3Rpb24oZGIsICd3b3Jrb3V0cycpKS5pZDtcbiAgfVxuXG4gICAgLy8gVXBkYXRlIHRoZSBmb3JtYXRXb3Jrb3V0QW5kSW5pdGlhbGl6ZUxvZ3MgZnVuY3Rpb25cbiAgYXN5bmMgZm9ybWF0V29ya291dEFuZEluaXRpYWxpemVMb2dzKFxuICAgICAgZXhlcmNpc2VEZXRhaWxzOiBFeGVyY2lzZURldGFpbFtdLFxuICAgICAgd29ya291dEF1dGhvcj86IHN0cmluZ1xuICAgICk6IFByb21pc2U8eyB3b3Jrb3V0OiBXb3Jrb3V0OyBleGVyY2lzZUxvZ3M6IEV4ZXJjaXNlTG9nW10gfT4ge1xuICAgICAgY29uc3Qgd29ya0lkID0gdGhpcy5nZW5lcmF0ZUlkKCk7IC8vIFVzZSB0aGlzLmdlbmVyYXRlSWQoKSBzaW5jZSBpdCdzIGEgY2xhc3MgbWV0aG9kXG4gICAgICBjb25zdCBleGVyY2lzZVJlZmVyZW5jZXM6IEV4ZXJjaXNlUmVmZXJlbmNlW10gPSBbXTtcbiAgICAgIGNvbnN0IGV4ZXJjaXNlTG9nczogRXhlcmNpc2VMb2dbXSA9IFtdO1xuXG4gIC8vIEVuc3VyZSBleGVyY2lzZSBkZXRhaWxzIGFyZSB2YWxpZCBiZWZvcmUgcHJvY2Vzc2luZ1xuICBjb25zdCB2YWxpZEV4ZXJjaXNlRGV0YWlscyA9IGV4ZXJjaXNlRGV0YWlscy5maWx0ZXIoZGV0YWlsID0+IGRldGFpbD8uZXhlcmNpc2UgJiYgZGV0YWlsLmV4ZXJjaXNlLmlkKTtcblxuICB2YWxpZEV4ZXJjaXNlRGV0YWlscy5mb3JFYWNoKChkZXRhaWwsIGluZGV4KSA9PiB7XG4gICAgLy8gRW5zdXJlIGV4ZXJjaXNlIGluc3RhbmNlIGhhcyBhbGwgcmVxdWlyZWQgZmllbGRzXG4gICAgY29uc3QgZXhlcmNpc2VJbnN0YW5jZSA9IG5ldyBFeGVyY2lzZSh7XG4gICAgICAuLi5kZXRhaWwuZXhlcmNpc2UsXG4gICAgICBpZDogZGV0YWlsLmV4ZXJjaXNlLmlkIHx8IHdvcmtvdXRTZXJ2aWNlLmdlbmVyYXRlSWQoKSxcbiAgICAgIG5hbWU6IGRldGFpbC5leGVyY2lzZS5uYW1lIHx8ICcnLFxuICAgICAgYXV0aG9yOiBkZXRhaWwuZXhlcmNpc2UuYXV0aG9yIHx8IHtcbiAgICAgICAgdXNlcklkOiB3b3Jrb3V0QXV0aG9yIHx8ICdQdWxzZUFJJyxcbiAgICAgICAgdXNlcm5hbWU6IHdvcmtvdXRBdXRob3IgfHwgJ1B1bHNlQUknXG4gICAgICB9LFxuICAgICAgZGVzY3JpcHRpb246IGRldGFpbC5leGVyY2lzZS5kZXNjcmlwdGlvbiB8fCAnJyxcbiAgICAgIGNhdGVnb3J5OiBkZXRhaWwuZXhlcmNpc2UuY2F0ZWdvcnkgfHwgeyB0eXBlOiAnd2VpZ2h0VHJhaW5pbmcnLCBkZXRhaWxzOiBudWxsIH0sXG4gICAgICBwcmltYXJ5Qm9keVBhcnRzOiBkZXRhaWwuZXhlcmNpc2UucHJpbWFyeUJvZHlQYXJ0cyB8fCBbXSxcbiAgICAgIHNlY29uZGFyeUJvZHlQYXJ0czogZGV0YWlsLmV4ZXJjaXNlLnNlY29uZGFyeUJvZHlQYXJ0cyB8fCBbXSxcbiAgICAgIHRhZ3M6IGRldGFpbC5leGVyY2lzZS50YWdzIHx8IFtdLFxuICAgICAgdmlkZW9zOiBkZXRhaWwuZXhlcmNpc2UudmlkZW9zIHx8IFtdLFxuICAgICAgY3JlYXRlZEF0OiBkZXRhaWwuZXhlcmNpc2UuY3JlYXRlZEF0IHx8IG5ldyBEYXRlKCksXG4gICAgICB1cGRhdGVkQXQ6IGRldGFpbC5leGVyY2lzZS51cGRhdGVkQXQgfHwgbmV3IERhdGUoKVxuICAgIH0pO1xuXG4gICAgLy8gQ3JlYXRlIGV4ZXJjaXNlIHJlZmVyZW5jZSB3aXRoIHJlcXVpcmVkIGZpZWxkc1xuICAgIGNvbnN0IGV4ZXJjaXNlUmVmOiBFeGVyY2lzZVJlZmVyZW5jZSA9IHtcbiAgICAgIGV4ZXJjaXNlOiBleGVyY2lzZUluc3RhbmNlLFxuICAgICAgZ3JvdXBJZDogZGV0YWlsLmdyb3VwSWQgfHwgMFxuICAgIH07XG4gICAgZXhlcmNpc2VSZWZlcmVuY2VzLnB1c2goZXhlcmNpc2VSZWYpO1xuXG4gICAgLy8gU2V0IGRlZmF1bHQgdmFsdWVzIGZvciBleGVyY2lzZSBwYXJhbWV0ZXJzXG4gICAgY29uc3QgY2F0ZWdvcnkgPSBkZXRhaWwuY2F0ZWdvcnk/LnR5cGUgPT09ICd3ZWlnaHRUcmFpbmluZycgPyBkZXRhaWwuY2F0ZWdvcnkgOiB7XG4gICAgICB0eXBlOiAnd2VpZ2h0VHJhaW5pbmcnLFxuICAgICAgZGV0YWlsczogeyBzZXRzOiAzLCByZXBzOiBbJzEyJ10sIHdlaWdodDogMCwgc2NyZWVuVGltZTogMCB9XG4gICAgfTtcblxuICAgIGNvbnN0IHNldHMgPSBjYXRlZ29yeS5kZXRhaWxzPy5zZXRzID8/IDM7XG4gICAgY29uc3QgcmVwcyA9IGNhdGVnb3J5LmRldGFpbHM/LnJlcHMgPz8gWycxMiddO1xuICAgIGNvbnN0IHdlaWdodCA9IGNhdGVnb3J5LmRldGFpbHM/LndlaWdodCA/PyAwO1xuXG4gICAgLy8gQ3JlYXRlIGxvZ3MgZm9yIGVhY2ggc2V0IHdpdGggdmFsaWRhdGVkIGRhdGFcbiAgICBjb25zdCBzZXRzTG9ncyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IHNldHMgfSwgKCkgPT4gXG4gICAgICBuZXcgUmVwc0FuZFdlaWdodExvZyh7XG4gICAgICAgIHJlcHM6IHBhcnNlSW50KHJlcHNbMF0gfHwgJzEyJywgMTApLFxuICAgICAgICB3ZWlnaHQ6IHdlaWdodCB8fCAwXG4gICAgICB9KVxuICAgICk7XG5cbiAgICAvLyBDcmVhdGUgZXhlcmNpc2UgbG9nIHdpdGggdmFsaWRhdGVkIGRhdGFcbiAgICBjb25zdCBleGVyY2lzZUxvZ0lkID0gZXhlcmNpc2VTZXJ2aWNlLmdlbmVyYXRlRXhlcmNpc2VMb2dJRChcbiAgICAgIHdvcmtJZCxcbiAgICAgIHVzZXJTZXJ2aWNlLmN1cnJlbnRVc2VyPy5pZCB8fCAnYW5vbnltb3VzJ1xuICAgICk7XG5cbiAgICBjb25zdCBsb2cgPSBuZXcgRXhlcmNpc2VMb2coe1xuICAgICAgaWQ6IGV4ZXJjaXNlTG9nSWQsXG4gICAgICB3b3Jrb3V0SWQ6IHdvcmtJZCxcbiAgICAgIHVzZXJJZDogdXNlclNlcnZpY2UuY3VycmVudFVzZXI/LmlkIHx8ICdhbm9ueW1vdXMnLFxuICAgICAgZXhlcmNpc2U6IGV4ZXJjaXNlSW5zdGFuY2UsXG4gICAgICBsb2dzOiBzZXRzTG9ncyxcbiAgICAgIGZlZWRiYWNrOiAnJyxcbiAgICAgIG5vdGU6IGRldGFpbC5ub3RlcyB8fCAnJyxcbiAgICAgIGlzU3BsaXQ6IGRldGFpbC5pc1NwbGl0IHx8IGZhbHNlLFxuICAgICAgbG9nU3VibWl0dGVkOiBmYWxzZSxcbiAgICAgIGxvZ0lzRWRpdGluZzogZmFsc2UsXG4gICAgICBpc0NvbXBsZXRlZDogZmFsc2UsXG4gICAgICBvcmRlcjogaW5kZXggKyAxLFxuICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgY29tcGxldGVkQXQ6IG5ldyBEYXRlKClcbiAgICB9KTtcbiAgICBcbiAgICBleGVyY2lzZUxvZ3MucHVzaChsb2cpO1xuICB9KTtcblxuICAvLyBDcmVhdGUgd29ya291dCB3aXRoIHZhbGlkYXRlZCBkYXRhXG4gIGNvbnN0IG5ld1dvcmtvdXQgPSBuZXcgV29ya291dCh7XG4gICAgaWQ6IHdvcmtJZCxcbiAgICByb3VuZFdvcmtvdXRJZDogJycsXG4gICAgZXhlcmNpc2VzOiBleGVyY2lzZVJlZmVyZW5jZXMsXG4gICAgbG9nczogZXhlcmNpc2VMb2dzLFxuICAgIHRpdGxlOiAnJyxcbiAgICBkZXNjcmlwdGlvbjogJycsXG4gICAgZHVyYXRpb246IFdvcmtvdXQuZXN0aW1hdGVkRHVyYXRpb24oZXhlcmNpc2VSZWZlcmVuY2VzKSB8fCAwLFxuICAgIHdvcmtvdXRSYXRpbmc6ICdub25lJyBhcyBXb3Jrb3V0UmF0aW5nLFxuICAgIHVzZUF1dGhvckNvbnRlbnQ6IGZhbHNlLFxuICAgIGlzQ29tcGxldGVkOiBmYWxzZSxcbiAgICB3b3Jrb3V0U3RhdHVzOiAnYXJjaGl2ZWQnIGFzIFdvcmtvdXRTdGF0dXMsXG4gICAgYXV0aG9yOiB1c2VyU2VydmljZS5jdXJyZW50VXNlcj8uaWQgfHwgJ1B1bHNlQUknLFxuICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgem9uZTogV29ya291dC5kZXRlcm1pbmVXb3Jrb3V0Wm9uZShleGVyY2lzZVJlZmVyZW5jZXMpIHx8ICdmdWxsJyBhcyBCb2R5Wm9uZVxuICB9KTtcblxuICByZXR1cm4geyB3b3Jrb3V0OiBuZXdXb3Jrb3V0LCBleGVyY2lzZUxvZ3MgfTtcblxufVxuXG5hc3luYyBnZXRVc2VyQnlJZCh1c2VySWQ6IHN0cmluZykge1xuICB0cnkge1xuICAgIGNvbnN0IHVzZXJEb2MgPSBhd2FpdCBnZXREb2MoZG9jKGRiLCAndXNlcnMnLCB1c2VySWQpKTtcbiAgICBpZiAoIXVzZXJEb2MuZXhpc3RzKCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVXNlciBub3QgZm91bmQnKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiB1c2VyRG9jLmlkLFxuICAgICAgLi4udXNlckRvYy5kYXRhKClcbiAgICB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgdXNlciBieSBJRDonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxuYXN5bmMgdXBkYXRlV29ya291dCh3b3Jrb3V0OiBXb3Jrb3V0KTogUHJvbWlzZTx2b2lkPiB7XG4gIGlmICghdXNlclNlcnZpY2UuY3VycmVudFVzZXI/LmlkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdObyB1c2VyIGlzIHNpZ25lZCBpbicpO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB3b3Jrb3V0UmVmID0gZG9jKGRiLCAndXNlcnMnLCB1c2VyU2VydmljZS5jdXJyZW50VXNlci5pZCwgJ015Q3JlYXRlZFdvcmtvdXRzJywgd29ya291dC5pZCk7XG4gICAgYXdhaXQgc2V0RG9jKHdvcmtvdXRSZWYsIHdvcmtvdXQudG9EaWN0aW9uYXJ5KCksIHsgbWVyZ2U6IHRydWUgfSk7XG5cbiAgICAvLyBVcGRhdGUgbG9ncyBpZiB0aGV5IGV4aXN0XG4gICAgaWYgKHdvcmtvdXQubG9ncyAmJiB3b3Jrb3V0LmxvZ3MubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgYmF0Y2ggPSB3cml0ZUJhdGNoKGRiKTtcbiAgICAgIGNvbnN0IGxvZ3NSZWYgPSBjb2xsZWN0aW9uKHdvcmtvdXRSZWYsICdsb2dzJyk7XG5cbiAgICAgIHdvcmtvdXQubG9ncy5mb3JFYWNoKGxvZyA9PiB7XG4gICAgICAgIGNvbnN0IGxvZ1JlZiA9IGRvYyhsb2dzUmVmLCBsb2cuaWQpO1xuICAgICAgICBiYXRjaC5zZXQobG9nUmVmLCBsb2cudG9EaWN0aW9uYXJ5KCksIHsgbWVyZ2U6IHRydWUgfSk7XG4gICAgICB9KTtcblxuICAgICAgYXdhaXQgYmF0Y2guY29tbWl0KCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIHdvcmtvdXQ6JywgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbiAgLyoqXG4gICAqIEZldGNoIHRoZSB1c2VyJ3MgY3VycmVudCB3b3Jrb3V0IChlaXRoZXIgUXVldWVkVXAgb3IgSW5Qcm9ncmVzcykuXG4gICAqL1xuICBhc3luYyBmZXRjaEN1cnJlbnRXb3Jrb3V0KHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxXb3Jrb3V0IHwgbnVsbD4ge1xuICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCB0aGlzLmZldGNoQ3VycmVudFdvcmtvdXRTZXNzaW9uKHVzZXJJZCk7XG4gICAgcmV0dXJuIHNlc3Npb24ud29ya291dDtcbiAgfVxuXG4gIGFzeW5jIGdldEFsbFN3ZWF0bGlzdHModXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPFdvcmtvdXRbXT4ge1xuICAgIGlmICghdXNlcklkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VzZXIgSUQgaXMgcmVxdWlyZWQnKTtcbiAgICB9XG4gIFxuICAgIC8vIFJlZmVyZW5jZSB0byB0aGUgdXNlcidzIHdvcmtvdXQgY29sbGVjdGlvblxuICAgIGNvbnN0IHdvcmtvdXRzUmVmID0gY29sbGVjdGlvbihkYiwgJ3VzZXJzJywgdXNlcklkLCAnTXlDcmVhdGVkV29ya291dHMnKTtcbiAgXG4gICAgdHJ5IHtcbiAgICAgIC8vIEZldGNoIGV4ZXJjaXNlcyB3aXRoIHZpZGVvc1xuICAgICAgY29uc3QgZXhlcmNpc2VzV2l0aFZpZGVvcyA9IGF3YWl0IHRoaXMuZmV0Y2hBbmRNYXBFeGVyY2lzZXNXaXRoVmlkZW9zKCk7XG4gIFxuICAgICAgLy8gUXVlcnkgdG8gZmV0Y2ggYWxsIHdvcmtvdXRzXG4gICAgICBjb25zdCB3b3Jrb3V0c1NuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyh3b3Jrb3V0c1JlZik7XG4gICAgICBjb25zdCB3b3Jrb3V0czogV29ya291dFtdID0gW107XG4gIFxuICAgICAgLy8gUHJvY2VzcyBlYWNoIHdvcmtvdXQgZG9jdW1lbnRcbiAgICAgIGZvciAoY29uc3Qgd29ya291dERvYyBvZiB3b3Jrb3V0c1NuYXBzaG90LmRvY3MpIHtcbiAgICAgICAgY29uc3Qgd29ya291dERhdGEgPSB3b3Jrb3V0RG9jLmRhdGEoKTtcbiAgICAgICAgY29uc3Qgd29ya291dElkID0gd29ya291dERvYy5pZDtcbiAgXG4gICAgICAgIC8vIE1hcCB0aGUgZXhlcmNpc2VzIGluIHRoZSB3b3Jrb3V0IHRvIHRoZSBmdWxsIGV4ZXJjaXNlIG9iamVjdHMgd2l0aCB2aWRlb3NcbiAgICAgICAgY29uc3QgbWFwcGVkRXhlcmNpc2VzID0gKHdvcmtvdXREYXRhLmV4ZXJjaXNlcyB8fCBbXSkubWFwKChleGVyY2lzZVJlZjogYW55KSA9PiB7XG4gICAgICAgICAgY29uc3QgZnVsbEV4ZXJjaXNlID0gZXhlcmNpc2VzV2l0aFZpZGVvcy5maW5kKGV4ID0+IGV4Lm5hbWUgPT09IGV4ZXJjaXNlUmVmLmV4ZXJjaXNlLm5hbWUpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiVGhpcyBpcyB0aGUgbWFwcGVkIGV4ZXJjaXNlOiBcIiArIGZ1bGxFeGVyY2lzZSk7XG5cbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uZXhlcmNpc2VSZWYsXG4gICAgICAgICAgICBleGVyY2lzZTogZnVsbEV4ZXJjaXNlIHx8IGV4ZXJjaXNlUmVmXG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG5cbiAgXG4gICAgICAgIC8vIFBhcnNlIHdvcmtvdXQgZGF0YSBpbnRvIHRoZSBkZXNpcmVkIHN0cnVjdHVyZVxuICAgICAgICBjb25zdCB3b3Jrb3V0ID0gbmV3IFdvcmtvdXQoe1xuICAgICAgICAgIGlkOiB3b3Jrb3V0RGF0YS5pZCB8fCAnJyxcbiAgICAgICAgICByb3VuZFdvcmtvdXRJZDogd29ya291dERhdGEucm91bmRXb3Jrb3V0SWQgfHwgJycsXG4gICAgICAgICAgY29sbGVjdGlvbklkOiB3b3Jrb3V0RGF0YS5jb2xsZWN0aW9uSWQsXG4gICAgICAgICAgZXhlcmNpc2VzOiBtYXBwZWRFeGVyY2lzZXMsXG4gICAgICAgICAgY2hhbGxlbmdlOiB3b3Jrb3V0RGF0YS5jaGFsbGVuZ2UsXG4gICAgICAgICAgbG9nczogW10sXG4gICAgICAgICAgdGl0bGU6IHdvcmtvdXREYXRhLnRpdGxlIHx8ICcnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiB3b3Jrb3V0RGF0YS5kZXNjcmlwdGlvbiB8fCAnJyxcbiAgICAgICAgICBkdXJhdGlvbjogd29ya291dERhdGEuZHVyYXRpb24gfHwgMCxcbiAgICAgICAgICB3b3Jrb3V0UmF0aW5nOiB3b3Jrb3V0RGF0YS53b3Jrb3V0UmF0aW5nLFxuICAgICAgICAgIHVzZUF1dGhvckNvbnRlbnQ6IHdvcmtvdXREYXRhLnVzZUF1dGhvckNvbnRlbnQgfHwgZmFsc2UsXG4gICAgICAgICAgaXNDb21wbGV0ZWQ6IHdvcmtvdXREYXRhLmlzQ29tcGxldGVkIHx8IGZhbHNlLFxuICAgICAgICAgIHdvcmtvdXRTdGF0dXM6IHdvcmtvdXREYXRhLndvcmtvdXRTdGF0dXMgfHwgJ25vdFN0YXJ0ZWQnLFxuICAgICAgICAgIHN0YXJ0VGltZTogd29ya291dERhdGEuc3RhcnRUaW1lID8gbmV3IERhdGUod29ya291dERhdGEuc3RhcnRUaW1lKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICBvcmRlcjogd29ya291dERhdGEub3JkZXIsXG4gICAgICAgICAgYXV0aG9yOiB3b3Jrb3V0RGF0YS5hdXRob3IgfHwgdXNlcklkLFxuICAgICAgICAgIGNyZWF0ZWRBdDogd29ya291dERhdGEuY3JlYXRlZEF0ID8gbmV3IERhdGUod29ya291dERhdGEuY3JlYXRlZEF0KSA6IG5ldyBEYXRlKCksXG4gICAgICAgICAgdXBkYXRlZEF0OiB3b3Jrb3V0RGF0YS51cGRhdGVkQXQgPyBuZXcgRGF0ZSh3b3Jrb3V0RGF0YS51cGRhdGVkQXQpIDogbmV3IERhdGUoKSxcbiAgICAgICAgICB6b25lOiB3b3Jrb3V0RGF0YS56b25lIHx8ICdGVUxMX0JPRFknLFxuICAgICAgICB9KTsgICAgICAgIFxuICBcbiAgICAgICAgLy8gRmV0Y2ggYW5kIHByb2Nlc3MgbG9nc1xuICAgICAgICBjb25zdCBsb2dzUmVmID0gY29sbGVjdGlvbihkYiwgJ3VzZXJzJywgdXNlcklkLCAnTXlDcmVhdGVkV29ya291dHMnLCB3b3Jrb3V0SWQsICdsb2dzJyk7XG4gICAgICAgIGNvbnN0IGxvZ3NTbmFwc2hvdCA9IGF3YWl0IGdldERvY3MobG9nc1JlZik7XG4gICAgICAgIHdvcmtvdXQubG9ncyA9IGxvZ3NTbmFwc2hvdC5kb2NzLm1hcCgobG9nRG9jKSA9PiAoe1xuICAgICAgICAgIC4uLmxvZ0RvYy5kYXRhKCksXG4gICAgICAgICAgaWQ6IGxvZ0RvYy5pZCxcbiAgICAgICAgfSkpIGFzIEV4ZXJjaXNlTG9nW107XG4gIFxuICAgICAgICB3b3Jrb3V0cy5wdXNoKHdvcmtvdXQpO1xuICAgICAgfVxuICBcbiAgICAgIHJldHVybiB3b3Jrb3V0cztcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc3QgZmlyZXN0b3JlRXJyb3IgPSBlcnJvciBhcyBGaXJlc3RvcmVFcnJvcjtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHN3ZWF0bGlzdHM6JywgZmlyZXN0b3JlRXJyb3IubWVzc2FnZSk7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCBzd2VhdGxpc3RzJyk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ2V0VXNlckNoYWxsZW5nZXNCeUNoYWxsZW5nZUlkKGNoYWxsZW5nZUlkOiBzdHJpbmcpOiBQcm9taXNlPHsgdXNlckNoYWxsZW5nZXM6IFVzZXJDaGFsbGVuZ2VbXTsgZXJyb3I/OiBzdHJpbmcgfT4ge1xuICAgIGNvbnN0IHVzZXJDaGFsbGVuZ2VzUmVmID0gY29sbGVjdGlvbihkYiwgJ3VzZXItY2hhbGxlbmdlJyk7XG4gICAgY29uc3QgcSA9IHF1ZXJ5KHVzZXJDaGFsbGVuZ2VzUmVmLCB3aGVyZSgnY2hhbGxlbmdlSWQnLCAnPT0nLCBjaGFsbGVuZ2VJZCkpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IGdldERvY3MocSk7XG4gICAgICBjb25zdCB1c2VyQ2hhbGxlbmdlczogVXNlckNoYWxsZW5nZVtdID0gc25hcHNob3QuZG9jcy5tYXAoKGRvYzogRG9jdW1lbnREYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBkb2MuZGF0YSgpO1xuICAgICAgICByZXR1cm4gbmV3IFVzZXJDaGFsbGVuZ2UoZG9jLmlkLCBkYXRhKTtcbiAgICAgIH0pO1xuICAgICAgaWYgKHVzZXJDaGFsbGVuZ2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIHsgdXNlckNoYWxsZW5nZXMgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB7IHVzZXJDaGFsbGVuZ2VzOiBbXSwgZXJyb3I6ICdObyB1c2VyIGNoYWxsZW5nZXMgZm91bmQgZm9yIHRoaXMgY2hhbGxlbmdlLicgfTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgdXNlciBjaGFsbGVuZ2VzIGJ5IGNoYWxsZW5nZUlkOicsIGVycm9yKTtcbiAgICAgIHJldHVybiB7IHVzZXJDaGFsbGVuZ2VzOiBbXSwgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InIH07XG4gICAgfVxuICB9XG4gIFxuICAvKipcbiAgICogRmV0Y2hlcyB3b3Jrb3V0IHN1bW1hcmllcyBmb3IgYSBzcGVjaWZpYyBkYXRlLlxuICAgKiBAcGFyYW0gZGF0ZSAtIFRoZSBkYXRlIGZvciB3aGljaCB3b3Jrb3V0IHN1bW1hcmllcyBhcmUgYmVpbmcgZmV0Y2hlZC5cbiAgICogQHJldHVybnMgQSBwcm9taXNlIHJlc29sdmluZyB0byBhbiBhcnJheSBvZiB3b3Jrb3V0IHN1bW1hcmllcy5cbiAgICogQHRocm93cyBJZiBubyB1c2VyIGlzIHNpZ25lZCBpbiBvciBpZiB0aGUgRmlyZXN0b3JlIHF1ZXJ5IGZhaWxzLlxuICAgKi9cbiAgYXN5bmMgZmV0Y2hXb3Jrb3V0U3VtbWFyaWVzKGRhdGU6IERhdGUpOiBQcm9taXNlPFdvcmtvdXRTdW1tYXJ5W10+IHtcbiAgICBjb25zdCBjdXJyZW50VXNlciA9IHVzZXJTZXJ2aWNlLmN1cnJlbnRVc2VyO1xuICAgIGlmICghY3VycmVudFVzZXI/LmlkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHVzZXIgaXMgc2lnbmVkIGluJyk7XG4gICAgfVxuXG4gICAgLy8gRm9ybWF0IHRoZSBkYXRlIHRvIG1hdGNoIHRoZSBmb3JtYXQgaW4gRmlyZXN0b3JlICgnTU0tZGQteXl5eScpXG4gICAgY29uc3QgZm9ybWF0dGVkRGF0ZSA9IGZvcm1hdChkYXRlLCAnTU0tZGQteXl5eScpO1xuXG4gICAgLy8gUmVmZXJlbmNlIHRvIHRoZSB1c2VyJ3Mgd29ya291dFN1bW1hcmllcyBzdWJjb2xsZWN0aW9uXG4gICAgY29uc3Qgc3VtbWFyaWVzUmVmID0gY29sbGVjdGlvbihkYiwgJ3VzZXJzJywgY3VycmVudFVzZXIuaWQsICd3b3Jrb3V0U3VtbWFyaWVzJyk7XG5cbiAgICAvLyBDcmVhdGUgYSBxdWVyeSB0byBmaWx0ZXIgZG9jdW1lbnRzIGJ5IHRoZSBzcGVjaWZpZWQgZGF0ZVxuICAgIGNvbnN0IHEgPSBxdWVyeShzdW1tYXJpZXNSZWYsIHdoZXJlKCdkYXRlJywgJz09JywgZm9ybWF0dGVkRGF0ZSkpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhxKTtcblxuICAgICAgLy8gTWFwIHRoZSBkb2N1bWVudHMgdG8gYW4gYXJyYXkgb2YgV29ya291dFN1bW1hcnkgb2JqZWN0c1xuICAgICAgcmV0dXJuIHNuYXBzaG90LmRvY3MubWFwKChkb2M6IERvY3VtZW50RGF0YSkgPT4gKHtcbiAgICAgICAgaWQ6IGRvYy5pZCxcbiAgICAgICAgLi4uZG9jLmRhdGEoKSxcbiAgICAgIH0pKSBhcyBXb3Jrb3V0U3VtbWFyeVtdO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zdCBmaXJlc3RvcmVFcnJvciA9IGVycm9yIGFzIEZpcmVzdG9yZUVycm9yO1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgd29ya291dCBzdW1tYXJpZXM6JywgZmlyZXN0b3JlRXJyb3IubWVzc2FnZSk7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZmlyZXN0b3JlRXJyb3IubWVzc2FnZSk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZmV0Y2hBbGxXb3Jrb3V0U3VtbWFyaWVzKCk6IFByb21pc2U8V29ya291dFN1bW1hcnlbXT4ge1xuICAgIGNvbnN0IGN1cnJlbnRVc2VyID0gdXNlclNlcnZpY2UuY3VycmVudFVzZXI7XG4gICAgaWYgKCFjdXJyZW50VXNlcj8uaWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gdXNlciBpcyBzaWduZWQgaW4nKTtcbiAgICB9XG4gIFxuICAgIC8vIFJlZmVyZW5jZSB0byB0aGUgdXNlcidzIHdvcmtvdXRTdW1tYXJpZXMgc3ViY29sbGVjdGlvblxuICAgIGNvbnN0IHN1bW1hcmllc1JlZiA9IGNvbGxlY3Rpb24oZGIsICd1c2VycycsIGN1cnJlbnRVc2VyLmlkLCAnd29ya291dFN1bW1hcnknKTtcbiAgXG4gICAgLy8gUXVlcnkgdG8gcmV0cmlldmUgYWxsIHdvcmtvdXQgc3VtbWFyaWVzLCBzb3J0ZWQgYnkgYGNyZWF0ZWRBdGAgaW4gYXNjZW5kaW5nIG9yZGVyXG4gICAgY29uc3QgcSA9IHF1ZXJ5KHN1bW1hcmllc1JlZiwgb3JkZXJCeSgnY3JlYXRlZEF0JywgJ2FzYycpKTsgLy8gQWRqdXN0IGZpZWxkIG5hbWUgYmFzZWQgb24geW91ciBzY2hlbWFcbiAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhxKTtcbiAgXG4gICAgICAvLyBNYXAgdGhlIGRvY3VtZW50cyB0byBhbiBhcnJheSBvZiBXb3Jrb3V0U3VtbWFyeSBvYmplY3RzXG4gICAgICByZXR1cm4gc25hcHNob3QuZG9jcy5tYXAoKGRvYzogRG9jdW1lbnREYXRhKSA9PiAoe1xuICAgICAgICBpZDogZG9jLmlkLFxuICAgICAgICAuLi5kb2MuZGF0YSgpLFxuICAgICAgfSkpIGFzIFdvcmtvdXRTdW1tYXJ5W107XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnN0IGZpcmVzdG9yZUVycm9yID0gZXJyb3IgYXMgRmlyZXN0b3JlRXJyb3I7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBhbGwgd29ya291dCBzdW1tYXJpZXM6JywgZmlyZXN0b3JlRXJyb3IubWVzc2FnZSk7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZmlyZXN0b3JlRXJyb3IubWVzc2FnZSk7XG4gICAgfVxuICB9XG5cblxuICAvKipcbiAqIEZldGNoIHVzZXIgY2hhbGxlbmdlcyBieSB1c2VySWQuXG4gKiBAcGFyYW0gdXNlcklkIFRoZSBJRCBvZiB0aGUgdXNlciB0byBmZXRjaCBjaGFsbGVuZ2VzIGZvci5cbiAqIEByZXR1cm5zIEEgcHJvbWlzZSByZXNvbHZpbmcgdG8gYW4gYXJyYXkgb2YgdXNlciBjaGFsbGVuZ2VzLlxuICogQHRocm93cyBJZiB0aGUgRmlyZXN0b3JlIHF1ZXJ5IGZhaWxzLlxuICovXG5hc3luYyBmZXRjaFVzZXJDaGFsbGVuZ2VzQnlVc2VySWQodXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPFVzZXJDaGFsbGVuZ2VbXT4ge1xuICBjb25zdCB1c2VyQ2hhbGxlbmdlc1JlZiA9IGNvbGxlY3Rpb24oZGIsICd1c2VyLWNoYWxsZW5nZScpO1xuICBjb25zdCBxID0gcXVlcnkodXNlckNoYWxsZW5nZXNSZWYsIHdoZXJlKCd1c2VySWQnLCAnPT0nLCB1c2VySWQpKTtcblxuICB0cnkge1xuICAgIC8vIGNvbnNvbGUubG9nKGBGZXRjaGluZyBjaGFsbGVuZ2VzIGZvciB1c2VyIElEOiAke3VzZXJJZH1gKTtcblxuICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhxKTtcblxuICAgIC8vIGNvbnNvbGUubG9nKGBUb3RhbCBjaGFsbGVuZ2VzIGZldGNoZWQ6ICR7c25hcHNob3QuZG9jcy5sZW5ndGh9YCk7XG5cbiAgICBjb25zdCB1c2VyQ2hhbGxlbmdlcyA9IHNuYXBzaG90LmRvY3MubWFwKChkb2M6IERvY3VtZW50RGF0YSkgPT4ge1xuICAgICAgY29uc3QgZGF0YSA9IGRvYy5kYXRhKCk7XG4gICAgICAvLyBjb25zb2xlLmxvZyhgUHJvY2Vzc2luZyBjaGFsbGVuZ2Ugd2l0aCBJRDogJHtkb2MuaWR9YCwgZGF0YSk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlkOiBkb2MuaWQsXG4gICAgICAgIC4uLmRhdGEsXG4gICAgICAgIGNoYWxsZW5nZTogZGF0YS5jaGFsbGVuZ2VcbiAgICAgICAgICA/IG5ldyBDaGFsbGVuZ2Uoe1xuICAgICAgICAgICAgICBpZDogZGF0YS5jaGFsbGVuZ2UuaWQsXG4gICAgICAgICAgICAgIHRpdGxlOiBkYXRhLmNoYWxsZW5nZS50aXRsZSxcbiAgICAgICAgICAgICAgc3VidGl0bGU6IGRhdGEuY2hhbGxlbmdlLnN1YnRpdGxlLFxuICAgICAgICAgICAgICBwYXJ0aWNpcGFudHM6IGRhdGEuY2hhbGxlbmdlLnBhcnRpY2lwYW50cyB8fCBbXSxcbiAgICAgICAgICAgICAgc3RhdHVzOiBkYXRhLmNoYWxsZW5nZS5zdGF0dXMgYXMgQ2hhbGxlbmdlU3RhdHVzLFxuICAgICAgICAgICAgICBzdGFydERhdGU6IGRhdGEuY2hhbGxlbmdlLnN0YXJ0RGF0ZSA/IG5ldyBEYXRlKGRhdGEuY2hhbGxlbmdlLnN0YXJ0RGF0ZSkgOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICBlbmREYXRlOiBkYXRhLmNoYWxsZW5nZS5lbmREYXRlID8gbmV3IERhdGUoZGF0YS5jaGFsbGVuZ2UuZW5kRGF0ZSkgOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICBjcmVhdGVkQXQ6IGRhdGEuY2hhbGxlbmdlLmNyZWF0ZWRBdCA/IG5ldyBEYXRlKGRhdGEuY2hhbGxlbmdlLmNyZWF0ZWRBdCkgOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICB1cGRhdGVkQXQ6IGRhdGEuY2hhbGxlbmdlLnVwZGF0ZWRBdCA/IG5ldyBEYXRlKGRhdGEuY2hhbGxlbmdlLnVwZGF0ZWRBdCkgOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICBpbnRyb1ZpZGVvczogKGRhdGEuY2hhbGxlbmdlLmludHJvVmlkZW9zIHx8IFtdKS5tYXAoKHY6IGFueSkgPT4gXG4gICAgICAgICAgICAgICAgbmV3IEludHJvVmlkZW8oe1xuICAgICAgICAgICAgICAgICAgaWQ6IHYuaWQsXG4gICAgICAgICAgICAgICAgICB1c2VySWQ6IHYudXNlcklkLFxuICAgICAgICAgICAgICAgICAgdmlkZW9Vcmw6IHYudmlkZW9VcmxcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICBjcmVhdGVkQXQ6IGNvbnZlcnRUaW1lc3RhbXAoZGF0YS5jcmVhdGVkQXQpLFxuICAgICAgICB1cGRhdGVkQXQ6IGNvbnZlcnRUaW1lc3RhbXAoZGF0YS51cGRhdGVkQXQpLFxuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIGNvbnNvbGUubG9nKCdBbGwgY2hhbGxlbmdlcyBhZnRlciBwcm9jZXNzaW5nOicsIEpTT04uc3RyaW5naWZ5KHVzZXJDaGFsbGVuZ2VzLCBudWxsLCAyKSk7XG5cbiAgICByZXR1cm4gdXNlckNoYWxsZW5nZXM7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgdXNlciBjaGFsbGVuZ2VzIGJ5IHVzZXJJZDonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxuYXN5bmMgZmV0Y2hDb2xsZWN0aW9uV2l0aFN3ZWF0TGlzdHMoY29sbGVjdGlvbklkOiBzdHJpbmcpOiBQcm9taXNlPHsgY29sbGVjdGlvbjogYW55LCBzd2VhdExpc3RzOiBXb3Jrb3V0W10gfT4ge1xuICB0cnkge1xuICAgIC8vIEZldGNoIHRoZSBjb2xsZWN0aW9uXG4gICAgY29uc3QgY29sbGVjdGlvbiA9IGF3YWl0IHRoaXMuZ2V0Q29sbGVjdGlvbkJ5SWQoY29sbGVjdGlvbklkKTtcblxuICAgIC8vIEZldGNoIHN3ZWF0IGxpc3RzICh3b3Jrb3V0cylcbiAgICBjb25zdCBzd2VhdExpc3RzOiBXb3Jrb3V0W10gPSBbXTtcbiAgICBcbiAgICAvLyBBc3N1bWluZyBjb2xsZWN0aW9uIGhhcyBzd2VhdGxpc3RJZHMgd2l0aCBhdXRob3IgYW5kIHdvcmtvdXQgSURzXG4gICAgZm9yIChjb25zdCBzd2VhdGxpc3RJZGVudGlmaWVyIG9mIGNvbGxlY3Rpb24uc3dlYXRsaXN0SWRzIHx8IFtdKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBbd29ya291dF0gPSBhd2FpdCB0aGlzLmZldGNoU2F2ZWRXb3Jrb3V0KFxuICAgICAgICAgIHN3ZWF0bGlzdElkZW50aWZpZXIuc3dlYXRsaXN0QXV0aG9ySWQsIFxuICAgICAgICAgIHN3ZWF0bGlzdElkZW50aWZpZXIuaWRcbiAgICAgICAgKTtcbiAgICAgICAgXG4gICAgICAgIGlmICh3b3Jrb3V0KSB7XG4gICAgICAgICAgc3dlYXRMaXN0cy5wdXNoKHdvcmtvdXQpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBmZXRjaGluZyB3b3Jrb3V0ICR7c3dlYXRsaXN0SWRlbnRpZmllci5pZH06YCwgZXJyb3IpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7IGNvbGxlY3Rpb24sIHN3ZWF0TGlzdHMgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBjb2xsZWN0aW9uIHdpdGggc3dlYXQgbGlzdHM6JywgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cblxuXG5hc3luYyBmZXRjaFNhdmVkV29ya291dCh1c2VySWQ6IHN0cmluZywgd29ya291dElkOiBzdHJpbmcpOiBQcm9taXNlPFtXb3Jrb3V0IHwgbnVsbCwgRXhlcmNpc2VMb2dbXSB8IG51bGxdPiB7XG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coJ1N0YXJ0aW5nIGZldGNoU2F2ZWRXb3Jrb3V0IHdpdGg6JywgeyB1c2VySWQsIHdvcmtvdXRJZCB9KTtcblxuICAgIC8vIEZldGNoIHRoZSB3b3Jrb3V0IGRvY3VtZW50XG4gICAgY29uc3Qgd29ya291dFJlZiA9IGRvYyhkYiwgJ3VzZXJzJywgdXNlcklkLCAnTXlDcmVhdGVkV29ya291dHMnLCB3b3Jrb3V0SWQpO1xuICAgIGNvbnNvbGUubG9nKCdGZXRjaGluZyB3b3Jrb3V0IGRvY3VtZW50IGZyb206Jywgd29ya291dFJlZi5wYXRoKTtcbiAgICBcbiAgICBjb25zdCB3b3Jrb3V0U25hcCA9IGF3YWl0IGdldERvYyh3b3Jrb3V0UmVmKTtcbiAgICBjb25zb2xlLmxvZygnV29ya291dCBkb2N1bWVudCBleGlzdHM6Jywgd29ya291dFNuYXAuZXhpc3RzKCkpO1xuXG4gICAgaWYgKCF3b3Jrb3V0U25hcC5leGlzdHMoKSkge1xuICAgICAgY29uc29sZS5sb2coJ05vIHdvcmtvdXQgZG9jdW1lbnQgZm91bmQnKTtcbiAgICAgIHJldHVybiBbbnVsbCwgbnVsbF07XG4gICAgfVxuXG4gICAgY29uc3Qgd29ya291dERhdGEgPSB3b3Jrb3V0U25hcC5kYXRhKCk7XG4gICAgY29uc29sZS5sb2coJ1JhdyB3b3Jrb3V0IGRhdGE6Jywgd29ya291dERhdGEpO1xuXG4gICAgLy8gR2V0IGV4ZXJjaXNlcyB3aXRoIHZpZGVvcyBtYXBwZWRcbiAgICBjb25zb2xlLmxvZygnRmV0Y2hpbmcgZXhlcmNpc2VzIHdpdGggdmlkZW9zLi4uJyk7XG4gICAgY29uc3QgZXhlcmNpc2VzV2l0aFZpZGVvcyA9IGF3YWl0IHRoaXMuZmV0Y2hBbmRNYXBFeGVyY2lzZXNXaXRoVmlkZW9zKCk7XG4gICAgY29uc29sZS5sb2coJ0ZldGNoZWQgZXhlcmNpc2VzIHdpdGggdmlkZW9zOicsIGV4ZXJjaXNlc1dpdGhWaWRlb3MpO1xuXG4gICAgLy8gTWFwIHRoZSBleGVyY2lzZXNcbiAgICBjb25zb2xlLmxvZygnTWFwcGluZyBleGVyY2lzZXMgaW4gd29ya291dDonLCB3b3Jrb3V0RGF0YS5leGVyY2lzZXMpO1xuICAgIGNvbnN0IG1hcHBlZEV4ZXJjaXNlcyA9ICh3b3Jrb3V0RGF0YS5leGVyY2lzZXMgfHwgW10pLm1hcCgoZXhlcmNpc2VSZWY6IGFueSkgPT4ge1xuICAgICAgY29uc3QgZnVsbEV4ZXJjaXNlID0gZXhlcmNpc2VzV2l0aFZpZGVvcy5maW5kKGV4ID0+IGV4Lm5hbWUgPT09IGV4ZXJjaXNlUmVmLmV4ZXJjaXNlLm5hbWUpO1xuICAgICAgY29uc29sZS5sb2coJ01hcHBpbmcgZXhlcmNpc2U6Jywge1xuICAgICAgICBuYW1lOiBleGVyY2lzZVJlZi5leGVyY2lzZS5uYW1lLFxuICAgICAgICBmb3VuZE1hdGNoOiAhIWZ1bGxFeGVyY2lzZVxuICAgICAgfSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5leGVyY2lzZVJlZixcbiAgICAgICAgZXhlcmNpc2U6IGZ1bGxFeGVyY2lzZSB8fCBleGVyY2lzZVJlZi5leGVyY2lzZVxuICAgICAgfTtcbiAgICB9KTtcblxuICAgIHdvcmtvdXREYXRhLmV4ZXJjaXNlcyA9IG1hcHBlZEV4ZXJjaXNlcztcblxuICAgIC8vIENyZWF0ZSB3b3Jrb3V0IGluc3RhbmNlXG4gICAgY29uc29sZS5sb2coJ0NyZWF0aW5nIFdvcmtvdXQgaW5zdGFuY2Ugd2l0aCBkYXRhOicsIHtcbiAgICAgIGlkOiB3b3Jrb3V0RGF0YS5pZCxcbiAgICAgIHRpdGxlOiB3b3Jrb3V0RGF0YS50aXRsZSxcbiAgICAgIGV4ZXJjaXNlQ291bnQ6IG1hcHBlZEV4ZXJjaXNlcy5sZW5ndGhcbiAgICB9KTtcblxuICAgIGNvbnN0IHdvcmtvdXQgPSBuZXcgV29ya291dCh7XG4gICAgICBpZDogd29ya291dElkLCAvLyBVc2UgdGhlIHdvcmtvdXRJZCBwYXNzZWQgdG8gdGhlIGZ1bmN0aW9uIGluc3RlYWQgb2YgZnJvbSBkYXRhXG4gICAgICAuLi53b3Jrb3V0RGF0YVxuICAgIH0pO1xuXG4gICAgLy8gRmV0Y2ggbG9nc1xuICAgIGNvbnNvbGUubG9nKCdGZXRjaGluZyB3b3Jrb3V0IGxvZ3MuLi4nKTtcbiAgICBjb25zdCBsb2dzUmVmID0gY29sbGVjdGlvbih3b3Jrb3V0UmVmLCAnbG9ncycpO1xuICAgIGNvbnN0IGxvZ3NTbmFwc2hvdCA9IGF3YWl0IGdldERvY3MobG9nc1JlZik7XG4gICAgY29uc29sZS5sb2coJ0ZvdW5kIGxvZ3MgY291bnQ6JywgbG9nc1NuYXBzaG90LnNpemUpO1xuXG4gICAgY29uc3QgbG9nczogRXhlcmNpc2VMb2dbXSA9IGxvZ3NTbmFwc2hvdC5kb2NzLm1hcChsb2dEb2MgPT4ge1xuICAgICAgY29uc3QgbG9nRGF0YSA9IGxvZ0RvYy5kYXRhKCk7XG4gICAgICBjb25zdCBmdWxsRXhlcmNpc2UgPSBleGVyY2lzZXNXaXRoVmlkZW9zLmZpbmQoZXggPT4gZXgubmFtZSA9PT0gbG9nRGF0YS5leGVyY2lzZS5uYW1lKTtcbiAgICAgIGNvbnNvbGUubG9nKCdQcm9jZXNzaW5nIGxvZzonLCB7XG4gICAgICAgIGxvZ0lkOiBsb2dEb2MuaWQsXG4gICAgICAgIGV4ZXJjaXNlTmFtZTogbG9nRGF0YS5leGVyY2lzZS5uYW1lLFxuICAgICAgICBmb3VuZEV4ZXJjaXNlTWF0Y2g6ICEhZnVsbEV4ZXJjaXNlXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgcmV0dXJuIG5ldyBFeGVyY2lzZUxvZyh7XG4gICAgICAgIGlkOiBsb2dEb2MuaWQsXG4gICAgICAgIHdvcmtvdXRJZDogd29ya291dElkLFxuICAgICAgICB1c2VySWQ6IHVzZXJJZCxcbiAgICAgICAgZXhlcmNpc2U6IGZ1bGxFeGVyY2lzZSB8fCBsb2dEYXRhLmV4ZXJjaXNlLFxuICAgICAgICBsb2dzOiBsb2dEYXRhLmxvZyB8fCBbXSxcbiAgICAgICAgZmVlZGJhY2s6IGxvZ0RhdGEuZmVlZGJhY2sgfHwgJycsXG4gICAgICAgIG5vdGU6IGxvZ0RhdGEubm90ZSB8fCAnJyxcbiAgICAgICAgcmVjb21tZW5kZWRXZWlnaHQ6IGxvZ0RhdGEucmVjb21tZW5kZWRXZWlnaHQgfHwgJ2NhbGN1bGF0aW5nLi4uJyxcbiAgICAgICAgaXNTcGxpdDogbG9nRGF0YS5pc1NwbGl0IHx8IGZhbHNlLFxuICAgICAgICBpc0JvZHlXZWlnaHQ6IGxvZ0RhdGEuaXNCb2R5V2VpZ2h0IHx8IGZhbHNlLFxuICAgICAgICBsb2dTdWJtaXR0ZWQ6IGxvZ0RhdGEubG9nU3VibWl0dGVkIHx8IGZhbHNlLFxuICAgICAgICBsb2dJc0VkaXRpbmc6IGxvZ0RhdGEubG9nSXNFZGl0aW5nIHx8IGZhbHNlLFxuICAgICAgICBpc0NvbXBsZXRlZDogbG9nRGF0YS5pc0NvbXBsZXRlZCB8fCBmYWxzZSxcbiAgICAgICAgY29tcGxldGVkQXQ6IGNvbnZlcnRGaXJlc3RvcmVUaW1lc3RhbXAobG9nRGF0YS5jb21wbGV0ZWRBdCksXG4gICAgICAgIGNyZWF0ZWRBdDogY29udmVydEZpcmVzdG9yZVRpbWVzdGFtcChsb2dEYXRhLmNyZWF0ZWRBdCksXG4gICAgICAgIHVwZGF0ZWRBdDogY29udmVydEZpcmVzdG9yZVRpbWVzdGFtcChsb2dEYXRhLnVwZGF0ZWRBdClcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgd29ya291dC5sb2dzID0gbG9ncztcbiAgICBjb25zb2xlLmxvZygnUmV0dXJuaW5nIHdvcmtvdXQgYW5kIGxvZ3M6Jywge1xuICAgICAgd29ya291dElkOiB3b3Jrb3V0LmlkLFxuICAgICAgbG9nc0NvdW50OiBsb2dzLmxlbmd0aFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIFt3b3Jrb3V0LCBsb2dzXTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBzYXZlZCB3b3Jrb3V0OicsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjsgLy8gVGhyb3cgdGhlIGVycm9yIHRvIHNlZSB0aGUgZnVsbCBzdGFjayB0cmFjZVxuICB9XG59XG5cbi8qKlxuICogRmV0Y2ggdXNlciBjaGFsbGVuZ2VzIGJ5IGNoYWxsZW5nZUlkLlxuICogQHBhcmFtIGNoYWxsZW5nZUlkIFRoZSBJRCBvZiB0aGUgY2hhbGxlbmdlIHRvIGZldGNoIGFzc29jaWF0ZWQgdXNlciBjaGFsbGVuZ2VzIGZvci5cbiAqIEByZXR1cm5zIEEgcHJvbWlzZSByZXNvbHZpbmcgdG8gYW4gYXJyYXkgb2YgdXNlciBjaGFsbGVuZ2VzLlxuICogQHRocm93cyBJZiB0aGUgRmlyZXN0b3JlIHF1ZXJ5IGZhaWxzLlxuICovXG5hc3luYyBmZXRjaFVzZXJDaGFsbGVuZ2VzQnlDaGFsbGVuZ2VJZChjaGFsbGVuZ2VJZDogc3RyaW5nKTogUHJvbWlzZTxVc2VyQ2hhbGxlbmdlW10+IHtcbiAgY29uc3QgdXNlckNoYWxsZW5nZXNSZWYgPSBjb2xsZWN0aW9uKGRiLCAndXNlci1jaGFsbGVuZ2UnKTtcbiAgY29uc3QgcSA9IHF1ZXJ5KHVzZXJDaGFsbGVuZ2VzUmVmLCB3aGVyZSgnY2hhbGxlbmdlSWQnLCAnPT0nLCBjaGFsbGVuZ2VJZCkpO1xuXG4gIHRyeSB7XG4gICAgLy8gY29uc29sZS5sb2coYEZldGNoaW5nIHVzZXIgY2hhbGxlbmdlcyBmb3IgY2hhbGxlbmdlIElEOiAke2NoYWxsZW5nZUlkfWApO1xuXG4gICAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBnZXREb2NzKHEpO1xuXG4gICAgLy8gY29uc29sZS5sb2coYFRvdGFsIHVzZXIgY2hhbGxlbmdlcyBmZXRjaGVkOiAke3NuYXBzaG90LmRvY3MubGVuZ3RofWApO1xuXG4gICAgY29uc3QgdXNlckNoYWxsZW5nZXMgPSBzbmFwc2hvdC5kb2NzLm1hcCgoZG9jOiBEb2N1bWVudERhdGEpID0+IHtcbiAgICAgIGNvbnN0IGRhdGEgPSBkb2MuZGF0YSgpO1xuICAgICAgLy8gY29uc29sZS5sb2coYFByb2Nlc3NpbmcgdXNlciBjaGFsbGVuZ2Ugd2l0aCBJRDogJHtkb2MuaWR9YCwgZGF0YSk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlkOiBkb2MuaWQsXG4gICAgICAgIC4uLmRhdGEsXG4gICAgICAgIGNoYWxsZW5nZTogZGF0YS5jaGFsbGVuZ2VcbiAgICAgICAgICA/IG5ldyBDaGFsbGVuZ2Uoe1xuICAgICAgICAgICAgICBpZDogZGF0YS5jaGFsbGVuZ2UuaWQsXG4gICAgICAgICAgICAgIHRpdGxlOiBkYXRhLmNoYWxsZW5nZS50aXRsZSxcbiAgICAgICAgICAgICAgc3VidGl0bGU6IGRhdGEuY2hhbGxlbmdlLnN1YnRpdGxlLFxuICAgICAgICAgICAgICBwYXJ0aWNpcGFudHM6IGRhdGEuY2hhbGxlbmdlLnBhcnRpY2lwYW50cyB8fCBbXSxcbiAgICAgICAgICAgICAgc3RhdHVzOiBkYXRhLmNoYWxsZW5nZS5zdGF0dXMgYXMgQ2hhbGxlbmdlU3RhdHVzLFxuICAgICAgICAgICAgICBzdGFydERhdGU6IGRhdGEuY2hhbGxlbmdlLnN0YXJ0RGF0ZSA/IG5ldyBEYXRlKGRhdGEuY2hhbGxlbmdlLnN0YXJ0RGF0ZSkgOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICBlbmREYXRlOiBkYXRhLmNoYWxsZW5nZS5lbmREYXRlID8gbmV3IERhdGUoZGF0YS5jaGFsbGVuZ2UuZW5kRGF0ZSkgOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICBjcmVhdGVkQXQ6IGRhdGEuY2hhbGxlbmdlLmNyZWF0ZWRBdCA/IG5ldyBEYXRlKGRhdGEuY2hhbGxlbmdlLmNyZWF0ZWRBdCkgOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICB1cGRhdGVkQXQ6IGRhdGEuY2hhbGxlbmdlLnVwZGF0ZWRBdCA/IG5ldyBEYXRlKGRhdGEuY2hhbGxlbmdlLnVwZGF0ZWRBdCkgOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICBpbnRyb1ZpZGVvczogKGRhdGEuY2hhbGxlbmdlLmludHJvVmlkZW9zIHx8IFtdKS5tYXAoKHY6IGFueSkgPT4gXG4gICAgICAgICAgICAgICAgbmV3IEludHJvVmlkZW8oe1xuICAgICAgICAgICAgICAgICAgaWQ6IHYuaWQsXG4gICAgICAgICAgICAgICAgICB1c2VySWQ6IHYudXNlcklkLFxuICAgICAgICAgICAgICAgICAgdmlkZW9Vcmw6IHYudmlkZW9VcmxcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICBjcmVhdGVkQXQ6IGNvbnZlcnRUaW1lc3RhbXAoZGF0YS5jcmVhdGVkQXQpLFxuICAgICAgICB1cGRhdGVkQXQ6IGNvbnZlcnRUaW1lc3RhbXAoZGF0YS51cGRhdGVkQXQpLFxuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIGNvbnNvbGUubG9nKCdBbGwgdXNlciBjaGFsbGVuZ2VzIGFmdGVyIHByb2Nlc3Npbmc6JywgSlNPTi5zdHJpbmdpZnkodXNlckNoYWxsZW5nZXMsIG51bGwsIDIpKTtcblxuICAgIHJldHVybiB1c2VyQ2hhbGxlbmdlcztcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyB1c2VyIGNoYWxsZW5nZXMgYnkgY2hhbGxlbmdlSWQ6JywgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbmFzeW5jIGdldENvbGxlY3Rpb25CeUlkKGlkOiBzdHJpbmcpOiBQcm9taXNlPFN3ZWF0bGlzdENvbGxlY3Rpb24+IHtcbiAgY29uc29sZS5sb2coXCJGZXRjaGluZyBjb2xsZWN0aW9uIHdpdGggaWQ6XCIsIGlkKTtcbiAgdHJ5IHtcbiAgICBjb25zdCBkb2NSZWYgPSBkb2MoZGIsIFwic3dlYXRsaXN0LWNvbGxlY3Rpb25cIiwgaWQpO1xuICAgIGNvbnN0IGRvY1NuYXAgPSBhd2FpdCBnZXREb2MoZG9jUmVmKTtcbiAgICBpZiAoZG9jU25hcC5leGlzdHMoKSkge1xuICAgICAgcmV0dXJuIG5ldyBTd2VhdGxpc3RDb2xsZWN0aW9uKHtcbiAgICAgICAgaWQ6IGRvY1NuYXAuaWQsXG4gICAgICAgIC4uLmRvY1NuYXAuZGF0YSgpXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ29sbGVjdGlvbiBub3QgZm91bmRcIik7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGNvbGxlY3Rpb24gYnkgSUQ6XCIsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuXG4gIFxuICAgIC8qKlxuICAgKiBGZXRjaCB1c2VyIGNoYWxsZW5nZXMgYnkgdXNlcklkIGFuZCBmaWx0ZXIgZm9yIGFjdGl2ZSBjaGFsbGVuZ2VzLlxuICAgKiBAcmV0dXJucyBBIHByb21pc2UgcmVzb2x2aW5nIHRvIGFuIGFycmF5IG9mIGFjdGl2ZSBjaGFsbGVuZ2VzLlxuICAgKiBAdGhyb3dzIElmIG5vIHVzZXIgaXMgc2lnbmVkIGluIG9yIGlmIHRoZSBGaXJlc3RvcmUgcXVlcnkgZmFpbHMuXG4gICAqL1xuICAgIGFzeW5jIGZldGNoQWN0aXZlQ2hhbGxlbmdlcygpOiBQcm9taXNlPFVzZXJDaGFsbGVuZ2VbXT4ge1xuICAgICAgY29uc3QgY3VycmVudFVzZXIgPSB1c2VyU2VydmljZS5jdXJyZW50VXNlcjtcbiAgICAgIGlmICghY3VycmVudFVzZXI/LmlkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gdXNlciBpcyBzaWduZWQgaW4nKTtcbiAgICAgIH1cbiAgICBcbiAgICAgIGNvbnN0IHVzZXJDaGFsbGVuZ2VzUmVmID0gY29sbGVjdGlvbihkYiwgJ3VzZXItY2hhbGxlbmdlJyk7XG4gICAgICBjb25zdCBxID0gcXVlcnkodXNlckNoYWxsZW5nZXNSZWYsIHdoZXJlKCd1c2VySWQnLCAnPT0nLCBjdXJyZW50VXNlci5pZCkpO1xuICAgIFxuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coYEZldGNoaW5nIGNoYWxsZW5nZXMgZm9yIHVzZXIgSUQ6ICR7Y3VycmVudFVzZXIuaWR9YCk7XG4gICAgXG4gICAgICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhxKTtcbiAgICBcbiAgICAgICAgLy8gY29uc29sZS5sb2coYFRvdGFsIGNoYWxsZW5nZXMgZmV0Y2hlZDogJHtzbmFwc2hvdC5kb2NzLmxlbmd0aH1gKTtcbiAgICBcbiAgICAgICAgY29uc3QgYWxsQ2hhbGxlbmdlcyA9IHNuYXBzaG90LmRvY3MubWFwKChkb2M6IERvY3VtZW50RGF0YSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGRhdGEgPSBkb2MuZGF0YSgpO1xuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGBQcm9jZXNzaW5nIGNoYWxsZW5nZSB3aXRoIElEOiAke2RvYy5pZH1gLCBkYXRhKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBVc2UgdGhlIENoYWxsZW5nZSBjb25zdHJ1Y3RvciB0byBwYXJzZSB0aGUgY2hhbGxlbmdlIGRhdGFcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcImRhdGUgYmVmb3JlIGZvcm1hdDogXCIgKyBjb252ZXJ0RmlyZXN0b3JlVGltZXN0YW1wKGRhdGEuY2hhbGxlbmdlLnN0YXJ0RGF0ZSkpO1xuXG4gICAgICAgICAgY29uc3QgY2hhbGxlbmdlID0gZGF0YS5jaGFsbGVuZ2VcbiAgICAgICAgICAgID8gbmV3IENoYWxsZW5nZSh7XG4gICAgICAgICAgICAgICAgaWQ6IGRhdGEuY2hhbGxlbmdlLmlkLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBkYXRhLmNoYWxsZW5nZS50aXRsZSxcbiAgICAgICAgICAgICAgICBzdWJ0aXRsZTogZGF0YS5jaGFsbGVuZ2Uuc3VidGl0bGUsXG4gICAgICAgICAgICAgICAgcGFydGljaXBhbnRzOiBkYXRhLmNoYWxsZW5nZS5wYXJ0aWNpcGFudHMgfHwgW10sXG4gICAgICAgICAgICAgICAgc3RhdHVzOiBkYXRhLmNoYWxsZW5nZS5zdGF0dXMgYXMgQ2hhbGxlbmdlU3RhdHVzLFxuICAgICAgICAgICAgICAgIHN0YXJ0RGF0ZTogY29udmVydEZpcmVzdG9yZVRpbWVzdGFtcChkYXRhLmNoYWxsZW5nZS5zdGFydERhdGUpLFxuICAgICAgICAgICAgICAgIGVuZERhdGU6IGNvbnZlcnRGaXJlc3RvcmVUaW1lc3RhbXAoZGF0YS5jaGFsbGVuZ2UuZW5kRGF0ZSksXG4gICAgICAgICAgICAgICAgY3JlYXRlZEF0OiBjb252ZXJ0RmlyZXN0b3JlVGltZXN0YW1wKGRhdGEuY2hhbGxlbmdlLmNyZWF0ZWRBdCksXG4gICAgICAgICAgICAgICAgdXBkYXRlZEF0OiBjb252ZXJ0RmlyZXN0b3JlVGltZXN0YW1wKGRhdGEuY2hhbGxlbmdlLnVwZGF0ZWRBdCksXG4gICAgICAgICAgICAgICAgaW50cm9WaWRlb3M6IChkYXRhLmNoYWxsZW5nZS5pbnRyb1ZpZGVvcyB8fCBbXSkubWFwKCh2OiBhbnkpID0+IFxuICAgICAgICAgICAgICAgICAgbmV3IEludHJvVmlkZW8oe1xuICAgICAgICAgICAgICAgICAgICBpZDogdi5pZCxcbiAgICAgICAgICAgICAgICAgICAgdXNlcklkOiB2LnVzZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgdmlkZW9Vcmw6IHYudmlkZW9VcmxcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaWQ6IGRvYy5pZCxcbiAgICAgICAgICAgIC4uLmRhdGEsXG4gICAgICAgICAgICBjaGFsbGVuZ2UsXG4gICAgICAgICAgICBjcmVhdGVkQXQ6IGNvbnZlcnRGaXJlc3RvcmVUaW1lc3RhbXAoZGF0YS5jcmVhdGVkQXQpLFxuICAgICAgICAgICAgdXBkYXRlZEF0OiBjb252ZXJ0RmlyZXN0b3JlVGltZXN0YW1wKGRhdGEudXBkYXRlZEF0KSxcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICBcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ0FsbCBjaGFsbGVuZ2VzIGFmdGVyIHByb2Nlc3Npbmc6JywgSlNPTi5zdHJpbmdpZnkoYWxsQ2hhbGxlbmdlcywgbnVsbCwgMikpO1xuICAgIFxuICAgICAgICAvLyBGaWx0ZXIgZm9yIGFjdGl2ZSBjaGFsbGVuZ2VzIChlbmREYXRlID4gY3VycmVudCBkYXRlKVxuICAgICAgICBjb25zdCBhY3RpdmVDaGFsbGVuZ2VzID0gYWxsQ2hhbGxlbmdlcy5maWx0ZXIodXNlckNoYWxsZW5nZSA9PiB7XG4gICAgICAgICAgY29uc3QgZW5kRGF0ZSA9IHVzZXJDaGFsbGVuZ2UuY2hhbGxlbmdlPy5lbmREYXRlO1xuICAgIFxuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFxuICAgICAgICAgIC8vICAgYEV2YWx1YXRpbmcgY2hhbGxlbmdlIElEOiAke3VzZXJDaGFsbGVuZ2UuaWR9LCBFbmQgRGF0ZTogJHtlbmREYXRlfSwgQ3VycmVudCBEYXRlOiAke25ldyBEYXRlKCl9YFxuICAgICAgICAgIC8vICk7XG4gICAgXG4gICAgICAgICAgcmV0dXJuIGVuZERhdGUgJiYgZW5kRGF0ZSA+IG5ldyBEYXRlKCk7XG4gICAgICAgIH0pO1xuICAgIFxuICAgICAgICAvLyBjb25zb2xlLmxvZyhgVG90YWwgYWN0aXZlIGNoYWxsZW5nZXM6ICR7YWN0aXZlQ2hhbGxlbmdlcy5sZW5ndGh9YCwgYWN0aXZlQ2hhbGxlbmdlcyk7XG4gICAgXG4gICAgICAgIHJldHVybiBhY3RpdmVDaGFsbGVuZ2VzO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgYWN0aXZlIGNoYWxsZW5nZXM6JywgZXJyb3IpO1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH1cbiAgICB9XG4gICAgXG5cbiAgLyoqXG4gICAqIEZldGNoIHVzZXIgY2hhbGxlbmdlcyBieSB1c2VySWQuXG4gICAqIEByZXR1cm5zIEEgcHJvbWlzZSByZXNvbHZpbmcgdG8gYW4gYXJyYXkgb2YgY2hhbGxlbmdlcy5cbiAgICogQHRocm93cyBJZiBubyB1c2VyIGlzIHNpZ25lZCBpbiBvciBpZiB0aGUgRmlyZXN0b3JlIHF1ZXJ5IGZhaWxzLlxuICAgKi9cbiAgYXN5bmMgZmV0Y2hVc2VyQ2hhbGxlbmdlcygpOiBQcm9taXNlPFVzZXJDaGFsbGVuZ2VbXT4ge1xuICAgIGNvbnN0IGN1cnJlbnRVc2VyID0gdXNlclNlcnZpY2UuY3VycmVudFVzZXI7XG4gICAgaWYgKCFjdXJyZW50VXNlcj8uaWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gdXNlciBpcyBzaWduZWQgaW4nKTtcbiAgICB9XG5cbiAgICAvLyBSZWZlcmVuY2UgdG8gdGhlIHVzZXItY2hhbGxlbmdlIGNvbGxlY3Rpb25cbiAgICBjb25zdCB1c2VyQ2hhbGxlbmdlc1JlZiA9IGNvbGxlY3Rpb24oZGIsICd1c2VyLWNoYWxsZW5nZScpO1xuXG4gICAgLy8gUXVlcnkgY2hhbGxlbmdlcyB3aGVyZSB1c2VySWQgbWF0Y2hlcyB0aGUgY3VycmVudCB1c2VyJ3MgSURcbiAgICBjb25zdCBxID0gcXVlcnkodXNlckNoYWxsZW5nZXNSZWYsIHdoZXJlKCd1c2VySWQnLCAnPT0nLCBjdXJyZW50VXNlci5pZCkpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhxKTtcblxuICAgICAgLy8gTWFwIGRvY3VtZW50cyB0byBhbiBhcnJheSBvZiBDaGFsbGVuZ2Ugb2JqZWN0c1xuICAgICAgcmV0dXJuIHNuYXBzaG90LmRvY3MubWFwKChkb2M6IERvY3VtZW50RGF0YSkgPT4gKHtcbiAgICAgICAgaWQ6IGRvYy5pZCxcbiAgICAgICAgLi4uZG9jLmRhdGEoKSxcbiAgICAgIH0pKSBhcyBVc2VyQ2hhbGxlbmdlW107XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHVzZXIgY2hhbGxlbmdlczonLCBlcnJvcik7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCB1c2VyIGNoYWxsZW5nZXMnKTtcbiAgICB9XG4gIH1cbiAgXG4gIC8vdXBkYXRlIHRoZSB3b3Jrb3V0IHN1bW1hcnksXG4gIGFzeW5jIHVwZGF0ZVdvcmtvdXRTdW1tYXJ5KHtcbiAgICB1c2VySWQsXG4gICAgd29ya291dElkLFxuICAgIHN1bW1hcnlcbiAgfToge1xuICAgIHVzZXJJZDogc3RyaW5nLFxuICAgIHdvcmtvdXRJZDogc3RyaW5nLFxuICAgIHN1bW1hcnk6IFdvcmtvdXRTdW1tYXJ5XG4gIH0pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoIXVzZXJJZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyB1c2VyIElEIHByb3ZpZGVkJyk7XG4gICAgfVxuICBcbiAgICB0cnkge1xuICAgICAgLy8gQ3JlYXRlIGEgcmVmZXJlbmNlIHRvIHRoZSBjb2xsZWN0aW9uXG4gICAgICBjb25zdCBzdW1tYXJ5UmVmID0gZG9jKGRiLCAndXNlcnMnLCB1c2VySWQsICd3b3Jrb3V0U3VtbWFyeScsIHN1bW1hcnkuaWQpO1xuICBcbiAgICAgIC8vIENvbnZlcnQgc3VtbWFyeSB0byBhIHBsYWluIG9iamVjdCBmb3IgRmlyZXN0b3JlXG4gICAgICBjb25zdCBzdW1tYXJ5RGF0YSA9IHtcbiAgICAgICAgaWQ6IHN1bW1hcnkuaWQsXG4gICAgICAgIHdvcmtvdXRJZDogc3VtbWFyeS53b3Jrb3V0SWQsXG4gICAgICAgIGV4ZXJjaXNlczogc3VtbWFyeS5leGVyY2lzZXMsXG4gICAgICAgIGJvZHlQYXJ0czogc3VtbWFyeS5ib2R5UGFydHMsXG4gICAgICAgIHNlY29uZGFyeUJvZHlQYXJ0czogc3VtbWFyeS5zZWNvbmRhcnlCb2R5UGFydHMsXG4gICAgICAgIHdvcmtvdXRUaXRsZTogc3VtbWFyeS53b3Jrb3V0VGl0bGUsXG4gICAgICAgIGNhbG9yaWVzQnVybmVkOiBzdW1tYXJ5LmNhbG9yaWVzQnVybmVkLFxuICAgICAgICB3b3Jrb3V0UmF0aW5nOiBzdW1tYXJ5LndvcmtvdXRSYXRpbmcsXG4gICAgICAgIGV4ZXJjaXNlc0NvbXBsZXRlZDogc3VtbWFyeS5leGVyY2lzZXNDb21wbGV0ZWQsXG4gICAgICAgIGFpSW5zaWdodDogc3VtbWFyeS5haUluc2lnaHQsXG4gICAgICAgIHJlY29tbWVuZGF0aW9uczogc3VtbWFyeS5yZWNvbW1lbmRhdGlvbnMsXG4gICAgICAgIGdpZlVSTHM6IHN1bW1hcnkuZ2lmVVJMcyxcbiAgICAgICAgcmVjb21tZW5kZWRXb3JrOiBzdW1tYXJ5LnJlY29tbWVuZGVkV29yayxcbiAgICAgICAgaXNDb21wbGV0ZWQ6IHN1bW1hcnkuaXNDb21wbGV0ZWQsXG4gICAgICAgIGNyZWF0ZWRBdDogc3VtbWFyeS5jcmVhdGVkQXQsXG4gICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgY29tcGxldGVkQXQ6IHN1bW1hcnkuY29tcGxldGVkQXQsXG4gICAgICAgIGR1cmF0aW9uOiBzdW1tYXJ5LmR1cmF0aW9uXG4gICAgICB9O1xuICBcbiAgICAgIC8vIFNldCBkYXRhIHdpdGggbWVyZ2UgZW5hYmxlZCAoZXF1aXZhbGVudCB0byBTd2lmdCdzIHNldERhdGEgd2l0aCBtZXJnZTogdHJ1ZSlcbiAgICAgIGF3YWl0IHNldERvYyhzdW1tYXJ5UmVmLCBzdW1tYXJ5RGF0YSwgeyBtZXJnZTogdHJ1ZSB9KTtcbiAgXG4gICAgICBjb25zb2xlLmxvZygnV29ya291dCBzdW1tYXJ5IGRvY3VtZW50IHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIHdvcmtvdXQgc3VtbWFyeTonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICBhc3luYyB1cGRhdGVXb3Jrb3V0TG9ncyh7XG4gICAgdXNlcklkLFxuICAgIHdvcmtvdXRJZCwgXG4gICAgbG9nc1xuICB9OiB7XG4gICAgdXNlcklkOiBzdHJpbmcsXG4gICAgd29ya291dElkOiBzdHJpbmcsIFxuICAgIGxvZ3M6IEV4ZXJjaXNlTG9nW11cbiAgfSk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB3b3Jrb3V0UmVmID0gZG9jKGRiLCAndXNlcnMnLCB1c2VySWQsICd3b3Jrb3V0U2Vzc2lvbnMnLCB3b3Jrb3V0SWQpO1xuICAgICAgY29uc3QgbG9nc1JlZiA9IGNvbGxlY3Rpb24od29ya291dFJlZiwgJ2xvZ3MnKTtcbiAgICAgIGNvbnN0IGJhdGNoID0gd3JpdGVCYXRjaChkYik7XG4gICAgICBcbiAgICAgIGxvZ3MuZm9yRWFjaChsb2cgPT4ge1xuICAgICAgICBjb25zdCBsb2dEb2NSZWYgPSBkb2MobG9nc1JlZiwgbG9nLmlkKTtcbiAgICAgICAgYmF0Y2gudXBkYXRlKGxvZ0RvY1JlZiwge1xuICAgICAgICAgIC4uLmxvZy50b0RpY3Rpb25hcnkoKVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICBcbiAgICAgIGF3YWl0IGJhdGNoLmNvbW1pdCgpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyB3b3Jrb3V0IGxvZ3M6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLy8gVGhlIGNhbmNlbFdvcmtvdXQgbWV0aG9kIOKAkyBpdCBkZWxldGVzIHRoZSB3b3Jrb3V0IHNlc3Npb24gYW5kIHN1bW1hcnkgKGlmIGFueSksXG4vLyBjbGVhbnMgdXAgdGhlIGxvY2FsIHN0YXRlLCBhbmQgbG9ncyB0aGUgY2FuY2VsbGF0aW9uLlxuYXN5bmMgY2FuY2VsV29ya291dCh3b3Jrb3V0OiBXb3Jrb3V0IHwgbnVsbCwgd29ya291dFN1bW1hcnk6IFdvcmtvdXRTdW1tYXJ5IHwgbnVsbCk6IFByb21pc2U8dm9pZD4ge1xuICBpZiAoIXVzZXJTZXJ2aWNlLmN1cnJlbnRVc2VyPy5pZCB8fCAhd29ya291dCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlVzZXIgbm90IGF1dGhlbnRpY2F0ZWQuXCIpO1xuICB9XG5cbiAgdHJ5IHsgICAgXG4gICAgICBhd2FpdCB0aGlzLmRlbGV0ZVdvcmtvdXRTZXNzaW9uKHdvcmtvdXQuaWQpO1xuICAgICAgaWYgKHdvcmtvdXRTdW1tYXJ5KSB7XG4gICAgICAgIGF3YWl0IHRoaXMuZGVsZXRlV29ya291dFN1bW1hcnkod29ya291dFN1bW1hcnkuaWQpO1xuICAgICAgfVxuICAgICAgXG4gICAgICB0aGlzLmNsZWFuVXBXb3Jrb3V0SW5Qcm9ncmVzcygpO1xuICAgICAgY29uc29sZS5sb2coXCJXb3Jrb3V0IGNhbmNlbGVkIGFuZCBjbGVhbmVkIHVwIHN1Y2Nlc3NmdWxseS5cIik7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGNhbmNlbGluZyB3b3Jrb3V0OlwiLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cbiAgXG4vLyBEZWxldGVzIGEgd29ya291dCBzZXNzaW9uIGRvY3VtZW50IGFuZCBhbGwgaXRzIHN1YmNvbGxlY3Rpb24gXCJsb2dzXCJcbmFzeW5jIGRlbGV0ZVdvcmtvdXRTZXNzaW9uKHdvcmtvdXRJZDogc3RyaW5nIHwgbnVsbCk6IFByb21pc2U8dm9pZD4ge1xuICBpZiAoIXVzZXJTZXJ2aWNlLmN1cnJlbnRVc2VyPy5pZCB8fCAhd29ya291dElkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVXNlciBub3QgYXV0aGVudGljYXRlZC5cIik7XG4gIH1cbiAgY29uc3QgdXNlcklkID0gdXNlclNlcnZpY2UuY3VycmVudFVzZXIuaWQ7XG4gIGNvbnN0IHdvcmtvdXRSZWYgPSBkb2MoZGIsIFwidXNlcnNcIiwgdXNlcklkLCBcIndvcmtvdXRTZXNzaW9uc1wiLCB3b3Jrb3V0SWQpO1xuICBcbiAgdHJ5IHtcbiAgICAvLyBEZWxldGUgYWxsIGxvZ3MgaW4gdGhlIHN1YmNvbGxlY3Rpb25cbiAgICBjb25zdCBsb2dzUmVmID0gY29sbGVjdGlvbih3b3Jrb3V0UmVmLCBcImxvZ3NcIik7XG4gICAgY29uc3QgbG9nc1NuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhsb2dzUmVmKTtcbiAgICBjb25zdCBiYXRjaCA9IHdyaXRlQmF0Y2goZGIpO1xuICAgIFxuICAgIGxvZ3NTbmFwc2hvdC5kb2NzLmZvckVhY2goKGxvZ0RvYykgPT4ge1xuICAgICAgYmF0Y2guZGVsZXRlKGxvZ0RvYy5yZWYpO1xuICAgIH0pO1xuICAgIFxuICAgIC8vIERlbGV0ZSB0aGUgbWFpbiB3b3Jrb3V0IGRvY3VtZW50XG4gICAgYmF0Y2guZGVsZXRlKHdvcmtvdXRSZWYpO1xuICAgIFxuICAgIGF3YWl0IGJhdGNoLmNvbW1pdCgpO1xuICAgIGNvbnNvbGUubG9nKFwiV29ya291dCBzZXNzaW9uIGFuZCBsb2dzIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5LlwiKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgd29ya291dCBzZXNzaW9uOlwiLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxuICAvLyBEZWxldGVzIHRoZSB3b3Jrb3V0IHN1bW1hcnkgZG9jdW1lbnQuXG4gIGFzeW5jIGRlbGV0ZVdvcmtvdXRTdW1tYXJ5KHdvcmtvdXRTdW1tYXJ5SWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICghd29ya291dFN1bW1hcnlJZCB8fCAhdXNlclNlcnZpY2UuY3VycmVudFVzZXI/LmlkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCBzdW1tYXJ5UmVmID0gZG9jKGRiLCBcInVzZXJzXCIsIHVzZXJTZXJ2aWNlLmN1cnJlbnRVc2VyLmlkLCBcIndvcmtvdXRTdW1tYXJ5XCIsIHdvcmtvdXRTdW1tYXJ5SWQpO1xuICAgICAgYXdhaXQgZGVsZXRlRG9jKHN1bW1hcnlSZWYpO1xuICAgICAgY29uc29sZS5sb2coXCJXb3Jrb3V0IHN1bW1hcnkgZGVsZXRlZCBzdWNjZXNzZnVsbHkuXCIpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgd29ya291dCBzdW1tYXJ5OlwiLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvLyBDbGVhbiB1cCBsb2NhbCBzdG9yYWdlIGFuZCBpbi1tZW1vcnkgd29ya291dCBzdGF0ZS5cbiAgICBjbGVhblVwV29ya291dEluUHJvZ3Jlc3MoKTogdm9pZCB7XG4gICAgICBzdG9yZS5kaXNwYXRjaChyZXNldFdvcmtvdXRTdGF0ZSgpKTtcbiAgICB9XG4gICAgICBcbiAgXG4gIC8qKlxuICAgKiBGZXRjaCB0aGUgd29ya291dCBzZXNzaW9uIGZyb20gRmlyZXN0b3JlLCByZXR1cm5pbmcgeyB3b3Jrb3V0LCBsb2dzIH0uXG4gICAqIENoZWNrcyBmaXJzdCBmb3IgYSBRdWV1ZWRVcCBzZXNzaW9uLCB0aGVuIGZvciBJblByb2dyZXNzLlxuICAgKi9cbiAgYXN5bmMgZmV0Y2hDdXJyZW50V29ya291dFNlc3Npb24odXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPHtcbiAgICB3b3Jrb3V0OiBXb3Jrb3V0IHwgbnVsbDtcbiAgICBsb2dzOiBFeGVyY2lzZUxvZ1tdIHwgbnVsbDtcbiAgIH0+IHtcbiAgICBpZiAoIXVzZXJJZCkgdGhyb3cgbmV3IEVycm9yKCdObyB1c2VyIElEIHByb3ZpZGVkJyk7XG4gICBcbiAgICBjb25zdCBleGVyY2lzZVNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhjb2xsZWN0aW9uKGRiLCAnZXhlcmNpc2VzJykpO1xuICAgIGNvbnN0IHZpZGVvU25hcHNob3QgPSBhd2FpdCBnZXREb2NzKGNvbGxlY3Rpb24oZGIsICdleGVyY2lzZVZpZGVvcycpKTtcbiAgIFxuICAgIGNvbnN0IGV4ZXJjaXNlVmlkZW9zID0gdmlkZW9TbmFwc2hvdC5kb2NzLm1hcCgoZG9jKSA9PiBcbiAgICAgIEV4ZXJjaXNlVmlkZW8uZnJvbUZpcmViYXNlKHtcbiAgICAgICAgaWQ6IGRvYy5pZCxcbiAgICAgICAgLi4uZG9jLmRhdGEoKVxuICAgICAgfSlcbiAgICApO1xuICAgXG4gICAgY29uc3QgZXhlcmNpc2VzV2l0aFZpZGVvcyA9IGV4ZXJjaXNlU25hcHNob3QuZG9jcy5tYXAoZG9jID0+IHtcbiAgICAgIGNvbnN0IGV4ZXJjaXNlID0gRXhlcmNpc2UuZnJvbUZpcmViYXNlKHtcbiAgICAgICAgaWQ6IGRvYy5pZCxcbiAgICAgICAgLi4uZG9jLmRhdGEoKVxuICAgICAgfSk7XG4gICBcbiAgICAgIGNvbnN0IG1hdGNoaW5nVmlkZW9zID0gZXhlcmNpc2VWaWRlb3MuZmlsdGVyKFxuICAgICAgICAodmlkZW8pID0+IHZpZGVvLmV4ZXJjaXNlLnRvTG93ZXJDYXNlKCkgPT09IGV4ZXJjaXNlLm5hbWUudG9Mb3dlckNhc2UoKVxuICAgICAgKTtcbiAgIFxuICAgICAgcmV0dXJuIG5ldyBFeGVyY2lzZSh7XG4gICAgICAgIC4uLmV4ZXJjaXNlLFxuICAgICAgICB2aWRlb3M6IG1hdGNoaW5nVmlkZW9zXG4gICAgICB9KTtcbiAgICB9KTtcbiAgIFxuICAgIGNvbnN0IHdvcmtvdXRTZXNzaW9uc1JlZiA9IGNvbGxlY3Rpb24oZGIsICd1c2VycycsIHVzZXJJZCwgJ3dvcmtvdXRTZXNzaW9ucycpO1xuICAgXG4gICAgbGV0IHEgPSBxdWVyeSh3b3Jrb3V0U2Vzc2lvbnNSZWYsIHdoZXJlKCdzdGF0dXMnLCAnPT0nLCBXb3Jrb3V0U3RhdHVzLlF1ZXVlZFVwKSk7XG4gICAgbGV0IHNuYXAgPSBhd2FpdCBnZXREb2NzKHEpO1xuICAgXG4gICAgaWYgKCFzbmFwLmVtcHR5KSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9jZXNzV29ya291dFNlc3Npb25Eb2N1bWVudChzbmFwLmRvY3NbMF0sIGV4ZXJjaXNlc1dpdGhWaWRlb3MpO1xuICAgIH1cbiAgIFxuICAgIHEgPSBxdWVyeSh3b3Jrb3V0U2Vzc2lvbnNSZWYsIHdoZXJlKCdzdGF0dXMnLCAnPT0nLCBXb3Jrb3V0U3RhdHVzLkluUHJvZ3Jlc3MpKTtcbiAgICBzbmFwID0gYXdhaXQgZ2V0RG9jcyhxKTtcbiAgIFxuICAgIGlmICghc25hcC5lbXB0eSkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvY2Vzc1dvcmtvdXRTZXNzaW9uRG9jdW1lbnQoc25hcC5kb2NzWzBdLCBleGVyY2lzZXNXaXRoVmlkZW9zKTtcbiAgICB9XG4gICBcbiAgICByZXR1cm4geyB3b3Jrb3V0OiBudWxsLCBsb2dzOiBudWxsIH07XG4gICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBmZXRjaEFuZE1hcEV4ZXJjaXNlc1dpdGhWaWRlb3MoKTogUHJvbWlzZTxFeGVyY2lzZVtdPiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIGNvbnNvbGUubG9nKCdTdGFydGluZyBmZXRjaEFuZE1hcEV4ZXJjaXNlc1dpdGhWaWRlb3MnKTtcbiAgXG4gICAgICAvLyAxLiBGZXRjaCBhbGwgZXhlcmNpc2VzIFxuICAgICAgY29uc3QgZXhlcmNpc2VTbmFwc2hvdCA9IGF3YWl0IGdldERvY3MoY29sbGVjdGlvbihkYiwgJ2V4ZXJjaXNlcycpKTtcbiAgICAgIGNvbnN0IGV4ZXJjaXNlcyA9IGV4ZXJjaXNlU25hcHNob3QuZG9jcy5tYXAoKGRvYykgPT4gXG4gICAgICAgIEV4ZXJjaXNlLmZyb21GaXJlYmFzZSh7XG4gICAgICAgICAgaWQ6IGRvYy5pZCxcbiAgICAgICAgICAuLi5kb2MuZGF0YSgpXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgICAgLy8gY29uc29sZS5sb2coYEZldGNoZWQgJHtleGVyY2lzZXMubGVuZ3RofSBleGVyY2lzZXNgKTtcbiAgXG4gICAgICAvLyAyLiBGZXRjaCBhbGwgdmlkZW9zXG4gICAgICBjb25zdCB2aWRlb1NuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhjb2xsZWN0aW9uKGRiLCAnZXhlcmNpc2VWaWRlb3MnKSk7XG4gICAgICBjb25zdCBleGVyY2lzZVZpZGVvcyA9IHZpZGVvU25hcHNob3QuZG9jcy5tYXAoKGRvYykgPT4gXG4gICAgICAgIEV4ZXJjaXNlVmlkZW8uZnJvbUZpcmViYXNlKHtcbiAgICAgICAgICBpZDogZG9jLmlkLFxuICAgICAgICAgIC4uLmRvYy5kYXRhKClcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgICAvLyBjb25zb2xlLmxvZyhgRmV0Y2hlZCAke2V4ZXJjaXNlVmlkZW9zLmxlbmd0aH0gZXhlcmNpc2UgdmlkZW9zYCk7XG4gIFxuICAgICAgLy8gMy4gTWFwIHZpZGVvcyB0byBleGVyY2lzZXNcbiAgICAgIGNvbnN0IGV4ZXJjaXNlc1dpdGhWaWRlb3MgPSBleGVyY2lzZXMubWFwKGV4ZXJjaXNlID0+IHtcbiAgICAgICAgY29uc3QgbWF0Y2hpbmdWaWRlb3MgPSBleGVyY2lzZVZpZGVvcy5maWx0ZXIoXG4gICAgICAgICAgKHZpZGVvKSA9PiB2aWRlby5leGVyY2lzZS50b0xvd2VyQ2FzZSgpID09PSBleGVyY2lzZS5uYW1lLnRvTG93ZXJDYXNlKClcbiAgICAgICAgKTtcbiAgICAgICBcbiAgICAgICAgcmV0dXJuIG5ldyBFeGVyY2lzZSh7XG4gICAgICAgICAgLi4uZXhlcmNpc2UsXG4gICAgICAgICAgdmlkZW9zOiBtYXRjaGluZ1ZpZGVvc1xuICAgICAgICB9KTtcbiAgICAgICB9KTtcbiAgXG4gICAgICAvLyBjb25zb2xlLmxvZygnRmluaXNoZWQgbWFwcGluZyBleGVyY2lzZXMgd2l0aCB2aWRlb3MnKTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKGBUb3RhbCBleGVyY2lzZXMgd2l0aCB2aWRlb3M6ICR7ZXhlcmNpc2VzV2l0aFZpZGVvcy5sZW5ndGh9YCk7XG4gICAgICAgIFxuICAgICAgcmV0dXJuIGV4ZXJjaXNlc1dpdGhWaWRlb3M7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGFuZCBtYXBwaW5nIGV4ZXJjaXNlcyB3aXRoIHZpZGVvczonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSGVscGVyIHRvIGJ1aWxkIHRoZSBXb3Jrb3V0IG9iamVjdCArIGFueSBsb2dzIGZyb20gdGhlIHNuYXBzaG90LlxuICAgKi9cbiAgYXN5bmMgZmV0Y2hBbGxXb3Jrb3V0U2Vzc2lvbnModXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPHtcbiAgICB3b3Jrb3V0OiBXb3Jrb3V0IHwgbnVsbDtcbiAgICBsb2dzOiBFeGVyY2lzZUxvZ1tdIHwgbnVsbDtcbiAgIH1bXT4ge1xuICAgIGlmICghdXNlcklkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHVzZXIgSUQgcHJvdmlkZWQnKTtcbiAgICB9XG4gICBcbiAgICB0cnkge1xuICAgICAgY29uc3QgZXhlcmNpc2VTbmFwc2hvdCA9IGF3YWl0IGdldERvY3MoY29sbGVjdGlvbihkYiwgJ2V4ZXJjaXNlcycpKTtcbiAgICAgIGNvbnN0IGV4ZXJjaXNlcyA9IGV4ZXJjaXNlU25hcHNob3QuZG9jcy5tYXAoKGRvYykgPT4gXG4gICAgICAgIEV4ZXJjaXNlLmZyb21GaXJlYmFzZSh7XG4gICAgICAgICAgaWQ6IGRvYy5pZCxcbiAgICAgICAgICAuLi5kb2MuZGF0YSgpXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgXG4gICAgICBjb25zdCB2aWRlb1NuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhjb2xsZWN0aW9uKGRiLCAnZXhlcmNpc2VWaWRlb3MnKSk7XG4gICAgICBjb25zdCBleGVyY2lzZVZpZGVvcyA9IHZpZGVvU25hcHNob3QuZG9jcy5tYXAoKGRvYykgPT4gXG4gICAgICAgIEV4ZXJjaXNlVmlkZW8uZnJvbUZpcmViYXNlKHtcbiAgICAgICAgICBpZDogZG9jLmlkLFxuICAgICAgICAgIC4uLmRvYy5kYXRhKClcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICBcbiAgICAgIGNvbnN0IGV4ZXJjaXNlc1dpdGhWaWRlb3MgPSBleGVyY2lzZXMubWFwKGV4ZXJjaXNlID0+IHtcbiAgICAgICAgY29uc3QgbWF0Y2hpbmdWaWRlb3MgPSBleGVyY2lzZVZpZGVvcy5maWx0ZXIoXG4gICAgICAgICAgKHZpZGVvKSA9PiB2aWRlby5leGVyY2lzZS50b0xvd2VyQ2FzZSgpID09PSBleGVyY2lzZS5uYW1lLnRvTG93ZXJDYXNlKClcbiAgICAgICAgKTtcbiAgIFxuICAgICAgICByZXR1cm4gbmV3IEV4ZXJjaXNlKHtcbiAgICAgICAgICAuLi5leGVyY2lzZSxcbiAgICAgICAgICB2aWRlb3M6IG1hdGNoaW5nVmlkZW9zXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICBcbiAgICAgIGNvbnN0IHdvcmtvdXRTZXNzaW9uc1JlZiA9IGNvbGxlY3Rpb24oZGIsICd1c2VycycsIHVzZXJJZCwgJ3dvcmtvdXRTZXNzaW9ucycpO1xuICAgICAgY29uc3Qgc25hcCA9IGF3YWl0IGdldERvY3Mod29ya291dFNlc3Npb25zUmVmKTtcbiAgIFxuICAgICAgaWYgKHNuYXAuZW1wdHkpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ05vIHdvcmtvdXQgc2Vzc2lvbnMgZm91bmQgZm9yIHVzZXInKTtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgXG4gICAgICBjb25zdCBzZXNzaW9ucyA9IGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICBzbmFwLmRvY3MubWFwKGFzeW5jIChkb2MpID0+IHtcbiAgICAgICAgICBjb25zdCBzZXNzaW9uRGF0YSA9IGF3YWl0IHRoaXMucHJvY2Vzc1dvcmtvdXRTZXNzaW9uRG9jdW1lbnQoXG4gICAgICAgICAgICBkb2MsIFxuICAgICAgICAgICAgZXhlcmNpc2VzV2l0aFZpZGVvc1xuICAgICAgICAgICk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKHNlc3Npb25EYXRhLmxvZ3MpIHtcbiAgICAgICAgICAgIHNlc3Npb25EYXRhLmxvZ3Muc29ydCgoYSwgYikgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBvcmRlckEgPSBhLm9yZGVyID8/IDA7XG4gICAgICAgICAgICAgIGNvbnN0IG9yZGVyQiA9IGIub3JkZXIgPz8gMDtcbiAgICAgICAgICAgICAgcmV0dXJuIG9yZGVyQSAtIG9yZGVyQjtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgIFxuICAgICAgICAgIHJldHVybiBzZXNzaW9uRGF0YTtcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICBcbiAgICAgIHJldHVybiBzZXNzaW9ucztcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgd29ya291dCBzZXNzaW9uczonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gICB9XG5cbiAgYXN5bmMgdXBkYXRlQ29sbGVjdGlvbihjb2xsZWN0aW9uOiBTd2VhdGxpc3RDb2xsZWN0aW9uKTogUHJvbWlzZTxTd2VhdGxpc3RDb2xsZWN0aW9uPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbGxSZWYgPSBmc0NvbGxlY3Rpb24oZGIsIFwic3dlYXRsaXN0LWNvbGxlY3Rpb25cIik7XG4gIFxuICAgICAgLy8gSWYgY29sbGVjdGlvbi5pZCBpcyBlbXB0eSwgZ2VuZXJhdGUgYSBuZXcgZG9jIElEIGFuZCBhc3NpZ24gaXQuXG4gICAgICBpZiAoIWNvbGxlY3Rpb24uaWQgfHwgY29sbGVjdGlvbi5pZC50cmltKCkgPT09IFwiXCIpIHtcbiAgICAgICAgY29uc3QgbmV3RG9jUmVmID0gZG9jKGNvbGxSZWYpO1xuICAgICAgICBjb2xsZWN0aW9uLmlkID0gbmV3RG9jUmVmLmlkO1xuICAgICAgfVxuICBcbiAgICAgIC8vIEVuc3VyZSB0aGUgY2hhbGxlbmdlIGlkIG1hdGNoZXMgdGhlIGNvbGxlY3Rpb24gaWQuXG4gICAgICBpZiAoY29sbGVjdGlvbi5jaGFsbGVuZ2UpIHtcbiAgICAgICAgY29sbGVjdGlvbi5jaGFsbGVuZ2UuaWQgPSBjb2xsZWN0aW9uLmlkO1xuICAgICAgfVxuICBcbiAgICAgIC8vIFVwZGF0ZSB0aGUgdXBkYXRlZEF0IGZpZWxkLlxuICAgICAgY29sbGVjdGlvbi51cGRhdGVkQXQgPSBuZXcgRGF0ZSgpO1xuICBcbiAgICAgIC8vIFNhdmUgdGhlIGNvbGxlY3Rpb24gdG8gRmlyZXN0b3JlLlxuICAgICAgYXdhaXQgc2V0RG9jKGRvYyhjb2xsUmVmLCBjb2xsZWN0aW9uLmlkKSwgY29sbGVjdGlvbi50b0RpY3Rpb25hcnkoKSk7XG4gICAgICBjb25zb2xlLmxvZyhcIkNvbGxlY3Rpb24gdXBkYXRlZCBzdWNjZXNzZnVsbHlcIik7XG4gICAgICByZXR1cm4gY29sbGVjdGlvbjtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHVwZGF0aW5nIGNvbGxlY3Rpb24gZG9jdW1lbnQ6XCIsIGVycm9yKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkVycm9yIHdoaWxlIHVwZGF0aW5nIHRoZSBjb2xsZWN0aW9uXCIpO1xuICAgIH1cbiAgfVxuICBcbiAgcHJpdmF0ZSBhc3luYyBwcm9jZXNzV29ya291dFNlc3Npb25Eb2N1bWVudChcbiAgICB3b3Jrb3V0RG9jOiBRdWVyeURvY3VtZW50U25hcHNob3Q8RG9jdW1lbnREYXRhPixcbiAgICBleGVyY2lzZXNXaXRoVmlkZW9zOiBFeGVyY2lzZVtdXG4gICk6IFByb21pc2U8eyB3b3Jrb3V0OiBXb3Jrb3V0OyBsb2dzOiBFeGVyY2lzZUxvZ1tdIH0+IHtcbiAgICBjb25zdCBkYXRhID0gd29ya291dERvYy5kYXRhKCk7XG4gIFxuICAgIC8vIE1hcCBleGVyY2lzZXMgd2l0aCB0aGVpciBmdWxsIGRhdGEgYW5kIHZpZGVvc1xuICAgIGNvbnN0IG1hcHBlZEV4ZXJjaXNlcyA9IChkYXRhLmV4ZXJjaXNlcyB8fCBbXSkubWFwKChleGVyY2lzZVJlZjogYW55KSA9PiB7XG4gICAgICAvLyBGaW5kIHRoZSBmdWxsIGV4ZXJjaXNlIHdpdGggdmlkZW9zXG4gICAgICBjb25zdCBleGVyY2lzZU5hbWVMb3dlciA9IGV4ZXJjaXNlUmVmLmV4ZXJjaXNlPy5uYW1lPy50b0xvd2VyQ2FzZSgpLnRyaW0oKTtcbiAgICAgIGNvbnN0IGZ1bGxFeGVyY2lzZSA9IGV4ZXJjaXNlc1dpdGhWaWRlb3MuZmluZChcbiAgICAgICAgZXggPT4gZXgubmFtZS50b0xvd2VyQ2FzZSgpLnRyaW0oKSA9PT0gZXhlcmNpc2VOYW1lTG93ZXJcbiAgICAgICk7XG4gIFxuICAgICAgLy8gSWYgZnVsbCBleGVyY2lzZSBmb3VuZCwgcmV0dXJuIGl0LCBvdGhlcndpc2UgdXNlIHRoZSBvcmlnaW5hbFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uZXhlcmNpc2VSZWYsXG4gICAgICAgIGV4ZXJjaXNlOiBmdWxsRXhlcmNpc2UgfHwgZXhlcmNpc2VSZWYuZXhlcmNpc2VcbiAgICAgIH07XG4gICAgfSk7XG4gIFxuICAgIC8vIENyZWF0ZSB0aGUgd29ya291dCB3aXRoIG1hcHBlZCBleGVyY2lzZXNcbiAgICBjb25zdCB3b3Jrb3V0ID0gbmV3IFdvcmtvdXQoe1xuICAgICAgaWQ6IHdvcmtvdXREb2MuaWQsXG4gICAgICByb3VuZFdvcmtvdXRJZDogZGF0YS5yb3VuZFdvcmtvdXRJZCB8fCAnJyxcbiAgICAgIGV4ZXJjaXNlczogbWFwcGVkRXhlcmNpc2VzLFxuICAgICAgdGl0bGU6IGRhdGEudGl0bGUgfHwgJycsXG4gICAgICBkZXNjcmlwdGlvbjogZGF0YS5kZXNjcmlwdGlvbiB8fCAnJyxcbiAgICAgIGR1cmF0aW9uOiBkYXRhLmR1cmF0aW9uIHx8IDAsXG4gICAgICB1c2VBdXRob3JDb250ZW50OiBkYXRhLnVzZUF1dGhvckNvbnRlbnQgfHwgZmFsc2UsXG4gICAgICBpc0NvbXBsZXRlZDogZGF0YS5pc0NvbXBsZXRlZCB8fCBmYWxzZSxcbiAgICAgIHdvcmtvdXRTdGF0dXM6IGRhdGEud29ya291dFN0YXR1cyB8fCBXb3Jrb3V0U3RhdHVzLkFyY2hpdmVkLFxuICAgICAgYXV0aG9yOiBkYXRhLmF1dGhvciB8fCAnJyxcbiAgICAgIGNyZWF0ZWRBdDogY29udmVydEZpcmVzdG9yZVRpbWVzdGFtcChkYXRhLmNyZWF0ZWRBdCksXG4gICAgICB1cGRhdGVkQXQ6IGNvbnZlcnRGaXJlc3RvcmVUaW1lc3RhbXAoZGF0YS51cGRhdGVkQXQpLFxuICAgICAgc3RhcnRUaW1lOiBjb252ZXJ0RmlyZXN0b3JlVGltZXN0YW1wKGRhdGEuc3RhcnRUaW1lKSxcbiAgICAgIGNvbGxlY3Rpb25JZDogZGF0YS5jb2xsZWN0aW9uSWQsXG4gICAgICBjaGFsbGVuZ2U6IGRhdGEuY2hhbGxlbmdlLFxuICAgICAgbG9nczogKGRhdGEubG9ncyB8fCBbXSkubWFwKChsb2dEYXRhOiBhbnkpID0+IHtcbiAgICAgICAgLy8gTWFwIGxvZ3Mgd2l0aCBmdWxsIGV4ZXJjaXNlc1xuICAgICAgICBjb25zdCBleGVyY2lzZU5hbWVMb3dlciA9IGxvZ0RhdGEuZXhlcmNpc2U/Lm5hbWU/LnRvTG93ZXJDYXNlKCkudHJpbSgpO1xuICAgICAgICBjb25zdCBmdWxsRXhlcmNpc2UgPSBleGVyY2lzZXNXaXRoVmlkZW9zLmZpbmQoXG4gICAgICAgICAgZXggPT4gZXgubmFtZS50b0xvd2VyQ2FzZSgpLnRyaW0oKSA9PT0gZXhlcmNpc2VOYW1lTG93ZXJcbiAgICAgICAgKTtcbiAgXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4ubG9nRGF0YSxcbiAgICAgICAgICBleGVyY2lzZTogZnVsbEV4ZXJjaXNlIHx8IGxvZ0RhdGEuZXhlcmNpc2VcbiAgICAgICAgfTtcbiAgICAgIH0pLFxuICAgICAgd29ya291dFJhdGluZzogZGF0YS53b3Jrb3V0UmF0aW5nLFxuICAgICAgb3JkZXI6IGRhdGEub3JkZXIsXG4gICAgICB6b25lOiBkYXRhLnpvbmUgfHwgQm9keVpvbmUuRnVsbEJvZHlcbiAgICB9KTtcbiAgXG4gICAgY29uc29sZS5sb2coXCJUaGUgV29ya291dCBJRCBpczogXCIgKyB3b3Jrb3V0LmlkKTtcbiAgICAvLyBGZXRjaCBsb2dzIGZyb20gc3ViY29sbGVjdGlvblxuICAgIGNvbnN0IGxvZ3NSZWYgPSBjb2xsZWN0aW9uKHdvcmtvdXREb2MucmVmLCAnbG9ncycpO1xuICAgIGNvbnN0IGxvZ3NTbmFwc2hvdCA9IGF3YWl0IGdldERvY3MobG9nc1JlZik7XG4gICAgXG4gICAgY29uc3QgbG9nczogRXhlcmNpc2VMb2dbXSA9IGxvZ3NTbmFwc2hvdC5kb2NzLm1hcChsb2dEb2MgPT4ge1xuICAgICAgY29uc3QgbG9nRGF0YSA9IGxvZ0RvYy5kYXRhKCk7XG4gICAgICBcbiAgICAgIC8vIEZpbmQgdGhlIGZ1bGwgZXhlcmNpc2Ugd2l0aCB2aWRlb3NcbiAgICAgIGNvbnN0IGV4ZXJjaXNlTmFtZUxvd2VyID0gbG9nRGF0YS5leGVyY2lzZT8ubmFtZT8udG9Mb3dlckNhc2UoKS50cmltKCk7XG4gICAgICBjb25zdCBmdWxsRXhlcmNpc2UgPSBleGVyY2lzZXNXaXRoVmlkZW9zLmZpbmQoXG4gICAgICAgIGV4ID0+IGV4Lm5hbWUudG9Mb3dlckNhc2UoKS50cmltKCkgPT09IGV4ZXJjaXNlTmFtZUxvd2VyXG4gICAgICApO1xuICBcbiAgICAgIC8vIFByZXBhcmUgbG9nIGRhdGEgd2l0aCBmdWxsIGV4ZXJjaXNlXG4gICAgICBjb25zdCBwcmVwYXJlZExvZ0RhdGEgPSB7XG4gICAgICAgIC4uLmxvZ0RhdGEsXG4gICAgICAgIGlkOiBsb2dEb2MuaWQsXG4gICAgICAgIHdvcmtvdXRJZDogd29ya291dC5pZCxcbiAgICAgICAgZXhlcmNpc2U6IGZ1bGxFeGVyY2lzZSB8fCBsb2dEYXRhLmV4ZXJjaXNlLFxuICAgICAgICBjcmVhdGVkQXQ6IGNvbnZlcnRGaXJlc3RvcmVUaW1lc3RhbXAobG9nRGF0YS5jcmVhdGVkQXQpLFxuICAgICAgICB1cGRhdGVkQXQ6IGNvbnZlcnRGaXJlc3RvcmVUaW1lc3RhbXAobG9nRGF0YS51cGRhdGVkQXQpXG4gICAgICB9O1xuICBcbiAgICAgIC8vIFVzZSB0aGUgRXhlcmNpc2VMb2cgY29uc3RydWN0b3IgdG8gZW5zdXJlIHByb3BlciBtYXBwaW5nXG4gICAgICByZXR1cm4gbmV3IEV4ZXJjaXNlTG9nKHByZXBhcmVkTG9nRGF0YSk7XG4gICAgfSk7XG4gIFxuICAgIHJldHVybiB7IHdvcmtvdXQsIGxvZ3MgfTtcbiAgfVxuXG4gIGFzeW5jIHNhdmVXb3Jrb3V0U2Vzc2lvbih7XG4gICAgdXNlcklkLFxuICAgIHdvcmtvdXQsXG4gICAgbG9nc1xuICAgfToge1xuICAgIHVzZXJJZDogc3RyaW5nLFxuICAgIHdvcmtvdXQ6IFdvcmtvdXQsXG4gICAgbG9nczogRXhlcmNpc2VMb2dbXVxuICAgfSk6IFByb21pc2U8V29ya291dCB8IG51bGw+IHtcbiAgICBpZiAoIXVzZXJJZCkgdGhyb3cgbmV3IEVycm9yKCdObyB1c2VyIElEIHByb3ZpZGVkJyk7XG4gICBcbiAgICB0cnkge1xuICAgICAgY29uc3QgY3VycmVudERhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgXG4gICAgICBjb25zdCBjbGVhbldvcmtvdXQgPSBuZXcgV29ya291dCh7XG4gICAgICAgIC4uLndvcmtvdXQsXG4gICAgICAgIHJvdW5kV29ya291dElkOiBgJHt3b3Jrb3V0LmlkfS0ke2N1cnJlbnREYXRlLmdldFRpbWUoKX1gLFxuICAgICAgICB3b3Jrb3V0U3RhdHVzOiBXb3Jrb3V0U3RhdHVzLlF1ZXVlZFVwLFxuICAgICAgICBjcmVhdGVkQXQ6IGN1cnJlbnREYXRlLFxuICAgICAgICB1cGRhdGVkQXQ6IGN1cnJlbnREYXRlLFxuICAgICAgICBzdGFydFRpbWU6IGN1cnJlbnREYXRlLFxuICAgICAgICBsb2dzOiBbXVxuICAgICAgIH0pO1xuICAgXG4gICAgICBjb25zdCB3b3Jrb3V0U2Vzc2lvblJlZiA9IGRvYyhjb2xsZWN0aW9uKGRiLCAndXNlcnMnLCB1c2VySWQsICd3b3Jrb3V0U2Vzc2lvbnMnKSk7XG4gICAgICBhd2FpdCBzZXREb2Mod29ya291dFNlc3Npb25SZWYsIGNsZWFuV29ya291dC50b0RpY3Rpb25hcnkoKSk7XG4gICBcbiAgICAgIGNvbnN0IGxvZ3NSZWYgPSBjb2xsZWN0aW9uKHdvcmtvdXRTZXNzaW9uUmVmLCAnbG9ncycpO1xuICAgICAgY29uc3QgbG9nQmF0Y2ggPSB3cml0ZUJhdGNoKGRiKTtcbiAgIFxuICAgICAgbG9ncy5mb3JFYWNoKChsb2csIGluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IGxvZ0RvY1JlZiA9IGRvYyhsb2dzUmVmLCBgJHtsb2cuaWR9LSR7Y3VycmVudERhdGUuZ2V0VGltZSgpfWApO1xuICAgICAgICBsb2dCYXRjaC5zZXQobG9nRG9jUmVmLCB7XG4gICAgICAgICAgaWQ6IGxvZ0RvY1JlZi5pZCxcbiAgICAgICAgICB3b3Jrb3V0SWQ6IHdvcmtvdXRTZXNzaW9uUmVmLmlkLFxuICAgICAgICAgIGV4ZXJjaXNlOiBsb2cuZXhlcmNpc2UudG9EaWN0aW9uYXJ5KCksIC8vIGNvbnZlcnQgdGhlIGN1c3RvbSBFeGVyY2lzZSBvYmplY3RcbiAgICAgICAgICBvcmRlcjogaW5kZXgsXG4gICAgICAgICAgY3JlYXRlZEF0OiBjdXJyZW50RGF0ZS5nZXRUaW1lKCksXG4gICAgICAgICAgdXBkYXRlZEF0OiBjdXJyZW50RGF0ZS5nZXRUaW1lKCksXG4gICAgICAgICAgbG9nU3VibWl0dGVkOiBmYWxzZSxcbiAgICAgICAgICBpc0NvbXBsZXRlZDogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICB9KTsgXG4gICBcbiAgICAgIGF3YWl0IGxvZ0JhdGNoLmNvbW1pdCgpO1xuICAgICAgXG4gICAgICByZXR1cm4gY2xlYW5Xb3Jrb3V0O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgd29ya291dCBzZXNzaW9uOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgIH1cblxuICAvKipcbiAgICogRXhhbXBsZSBcImpvaW4gY2hhbGxlbmdlXCIgbWV0aG9kIHVzaW5nIHRoZSBjbGllbnQgU0RLIChubyBhZG1pbiBwcml2aWxlZ2VzKS5cbiAgICogVGhpcyBjcmVhdGVzIGEgZG9jIGluIGB1c2VyLWNoYWxsZW5nZWAgd2l0aCB0aGUgdXNlcklkLCBjaGFsbGVuZ2VJZCwgZXRjLlxuICAgKi9cbiAgYXN5bmMgam9pbkNoYWxsZW5nZSh7XG4gICAgdXNlcm5hbWUsXG4gICAgY2hhbGxlbmdlSWRcbiAgfToge1xuICAgIHVzZXJuYW1lOiBzdHJpbmc7XG4gICAgY2hhbGxlbmdlSWQ6IHN0cmluZztcbiAgfSk6IFByb21pc2U8dm9pZD4ge1xuICAgIC8vIDEpIE1ha2Ugc3VyZSB3ZSBoYXZlIGEgc2lnbmVkLWluIHVzZXJcbiAgICBjb25zdCBjdXJyZW50VXNlciA9IHVzZXJTZXJ2aWNlLmN1cnJlbnRVc2VyO1xuICAgIGlmICghY3VycmVudFVzZXIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gdXNlciBpcyBzaWduZWQgaW4nKTtcbiAgICB9XG5cbiAgICAvLyAyKSBGaW5kIHRoZSB1c2VyIGRvYyBieSB1c2VybmFtZVxuICAgIGNvbnN0IHVzZXJzUmVmID0gY29sbGVjdGlvbihkYiwgJ3VzZXJzJyk7XG4gICAgY29uc3QgdXNlclF1ZXJ5ID0gcXVlcnkodXNlcnNSZWYsIHdoZXJlKCd1c2VybmFtZScsICc9PScsIHVzZXJuYW1lKSk7XG4gICAgY29uc3QgdXNlclNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyh1c2VyUXVlcnkpO1xuXG4gICAgaWYgKHVzZXJTbmFwc2hvdC5lbXB0eSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdVc2VyIG5vdCBmb3VuZCcpO1xuICAgIH1cblxuICAgIGNvbnN0IHVzZXJEb2MgPSB1c2VyU25hcHNob3QuZG9jc1swXTtcbiAgICBjb25zdCB1c2VyRGF0YSA9IHVzZXJEb2MuZGF0YSgpO1xuICAgIGNvbnN0IHVzZXJJZCA9IHVzZXJEb2MuaWQ7XG5cbiAgICAvLyAzKSBDaGVjayBpZiB0aGUgY2hhbGxlbmdlIGRvYyBleGlzdHNcbiAgICBjb25zdCBjaGFsbGVuZ2VSZWYgPSBkb2MoZGIsICdzd2VhdGxpc3QtY29sbGVjdGlvbicsIGNoYWxsZW5nZUlkKTtcbiAgICBjb25zdCBjaGFsbGVuZ2VTbmFwID0gYXdhaXQgZ2V0RG9jKGNoYWxsZW5nZVJlZik7XG5cbiAgICBpZiAoIWNoYWxsZW5nZVNuYXAuZXhpc3RzKCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2hhbGxlbmdlIG5vdCBmb3VuZCcpO1xuICAgIH1cblxuICAgIGNvbnN0IGNoYWxsZW5nZSA9IGNoYWxsZW5nZVNuYXAuZGF0YSgpO1xuXG4gICAgLy8gNCkgQnVpbGQgbmV3IHVzZXItY2hhbGxlbmdlIGRvY3VtZW50XG4gICAgY29uc3QgdXNlckNoYWxsZW5nZUlkID0gYCR7Y2hhbGxlbmdlSWR9LSR7dXNlcklkfS0ke0RhdGUubm93KCl9YDtcbiAgICBjb25zdCB1c2VyQ2hhbGxlbmdlRGF0YSA9IHtcbiAgICAgIGlkOiB1c2VyQ2hhbGxlbmdlSWQsXG4gICAgICBjaGFsbGVuZ2U6IGNoYWxsZW5nZSxcbiAgICAgIGNoYWxsZW5nZUlkLFxuICAgICAgdXNlcklkLFxuICAgICAgZmNtVG9rZW46IHVzZXJEYXRhLmZjbVRva2VuIHx8ICcnLFxuICAgICAgcHJvZmlsZUltYWdlOiB1c2VyRGF0YS5wcm9maWxlSW1hZ2UgfHwge30sXG4gICAgICBwcm9ncmVzczogMCxcbiAgICAgIGNvbXBsZXRlZFdvcmtvdXRzOiBbXSxcbiAgICAgIGlzQ29tcGxldGVkOiBmYWxzZSxcbiAgICAgIHVpZDogdXNlcklkLFxuICAgICAgbG9jYXRpb246IHVzZXJEYXRhLmxvY2F0aW9uIHx8IG51bGwsXG4gICAgICBjaXR5OiAnJyxcbiAgICAgIGNvdW50cnk6ICcnLFxuICAgICAgdGltZXpvbmU6ICcnLFxuICAgICAgdXNlcm5hbWUsXG4gICAgICBqb2luRGF0ZTogbmV3IERhdGUoKSxcbiAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgIHB1bHNlUG9pbnRzOiB7XG4gICAgICAgIGJhc2VDb21wbGV0aW9uOiAwLFxuICAgICAgICBmaXJzdENvbXBsZXRpb246IDAsXG4gICAgICAgIHN0cmVha0JvbnVzOiAwLFxuICAgICAgICBjaGVja0luQm9udXM6IDAsXG4gICAgICAgIGVmZm9ydFJhdGluZzogMCxcbiAgICAgICAgY2hhdFBhcnRpY2lwYXRpb246IDAsXG4gICAgICAgIGxvY2F0aW9uQ2hlY2tpbjogMCxcbiAgICAgICAgY29udGVudEVuZ2FnZW1lbnQ6IDAsXG4gICAgICAgIGVuY291cmFnZW1lbnRTZW50OiAwLFxuICAgICAgICBlbmNvdXJhZ2VtZW50UmVjZWl2ZWQ6IDBcbiAgICAgIH0sXG4gICAgICBjdXJyZW50U3RyZWFrOiAwLFxuICAgICAgZW5jb3VyYWdlZFVzZXJzOiBbXSxcbiAgICAgIGVuY291cmFnZWRCeVVzZXJzOiBbXSxcbiAgICAgIGNoZWNrSW5zOiBbXVxuICAgIH07XG5cbiAgICAvLyA1KSBTdG9yZSB1c2VyLWNoYWxsZW5nZSBkb2NcbiAgICBhd2FpdCBzZXREb2MoZG9jKGRiLCAndXNlci1jaGFsbGVuZ2UnLCB1c2VyQ2hhbGxlbmdlSWQpLCB1c2VyQ2hhbGxlbmdlRGF0YSk7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHdvcmtvdXRTZXJ2aWNlID0gbmV3IFdvcmtvdXRTZXJ2aWNlKCk7Il0sIm5hbWVzIjpbImNvbGxlY3Rpb24iLCJkb2MiLCJnZXREb2NzIiwiZ2V0RG9jIiwicXVlcnkiLCJ3aGVyZSIsIm9yZGVyQnkiLCJmc0NvbGxlY3Rpb24iLCJzZXREb2MiLCJkZWxldGVEb2MiLCJ3cml0ZUJhdGNoIiwiZGIiLCJ1c2VyU2VydmljZSIsIkV4ZXJjaXNlTG9nIiwiRXhlcmNpc2UiLCJFeGVyY2lzZVZpZGVvIiwiZXhlcmNpc2VTZXJ2aWNlIiwiV29ya291dCIsIkJvZHlab25lIiwiSW50cm9WaWRlbyIsIlJlcHNBbmRXZWlnaHRMb2ciLCJXb3Jrb3V0U3RhdHVzIiwiU3dlYXRsaXN0Q29sbGVjdGlvbiIsImZvcm1hdCIsImNvbnZlcnRUaW1lc3RhbXAiLCJjb252ZXJ0RmlyZXN0b3JlVGltZXN0YW1wIiwiQ2hhbGxlbmdlIiwiVXNlckNoYWxsZW5nZSIsInN0b3JlIiwic2V0Q3VycmVudFdvcmtvdXQiLCJzZXRDdXJyZW50RXhlcmNpc2VMb2dzIiwicmVzZXRXb3Jrb3V0U3RhdGUiLCJzZXRXb3Jrb3V0U3VtbWFyeSIsIldvcmtvdXRTZXJ2aWNlIiwiZ2VuZXJhdGVJZCIsImlkIiwiZm9ybWF0V29ya291dEFuZEluaXRpYWxpemVMb2dzIiwiZXhlcmNpc2VEZXRhaWxzIiwid29ya291dEF1dGhvciIsIndvcmtJZCIsImV4ZXJjaXNlUmVmZXJlbmNlcyIsImV4ZXJjaXNlTG9ncyIsInZhbGlkRXhlcmNpc2VEZXRhaWxzIiwibmV3V29ya291dCIsImZpbHRlciIsImRldGFpbCIsImV4ZXJjaXNlIiwiZm9yRWFjaCIsImluZGV4IiwiY2F0ZWdvcnkiLCJleGVyY2lzZUluc3RhbmNlIiwid29ya291dFNlcnZpY2UiLCJuYW1lIiwiYXV0aG9yIiwidXNlcklkIiwidXNlcm5hbWUiLCJkZXNjcmlwdGlvbiIsInR5cGUiLCJkZXRhaWxzIiwicHJpbWFyeUJvZHlQYXJ0cyIsInNlY29uZGFyeUJvZHlQYXJ0cyIsInRhZ3MiLCJ2aWRlb3MiLCJjcmVhdGVkQXQiLCJEYXRlIiwidXBkYXRlZEF0IiwiZXhlcmNpc2VSZWYiLCJncm91cElkIiwicHVzaCIsInNldHMiLCJyZXBzIiwid2VpZ2h0Iiwic2NyZWVuVGltZSIsInNldHNMb2dzIiwiQXJyYXkiLCJmcm9tIiwibGVuZ3RoIiwicGFyc2VJbnQiLCJleGVyY2lzZUxvZ0lkIiwiZ2VuZXJhdGVFeGVyY2lzZUxvZ0lEIiwiY3VycmVudFVzZXIiLCJsb2ciLCJ3b3Jrb3V0SWQiLCJsb2dzIiwiZmVlZGJhY2siLCJub3RlIiwibm90ZXMiLCJpc1NwbGl0IiwibG9nU3VibWl0dGVkIiwibG9nSXNFZGl0aW5nIiwiaXNDb21wbGV0ZWQiLCJvcmRlciIsImNvbXBsZXRlZEF0Iiwicm91bmRXb3Jrb3V0SWQiLCJleGVyY2lzZXMiLCJ0aXRsZSIsImR1cmF0aW9uIiwiZXN0aW1hdGVkRHVyYXRpb24iLCJ3b3Jrb3V0UmF0aW5nIiwidXNlQXV0aG9yQ29udGVudCIsIndvcmtvdXRTdGF0dXMiLCJ6b25lIiwiZGV0ZXJtaW5lV29ya291dFpvbmUiLCJ3b3Jrb3V0IiwiZ2V0VXNlckJ5SWQiLCJ1c2VyRG9jIiwiZXJyb3IiLCJleGlzdHMiLCJFcnJvciIsImRhdGEiLCJjb25zb2xlIiwidXBkYXRlV29ya291dCIsIndvcmtvdXRSZWYiLCJiYXRjaCIsImxvZ3NSZWYiLCJ0b0RpY3Rpb25hcnkiLCJtZXJnZSIsImxvZ1JlZiIsInNldCIsImNvbW1pdCIsImZldGNoQ3VycmVudFdvcmtvdXQiLCJzZXNzaW9uIiwiZmV0Y2hDdXJyZW50V29ya291dFNlc3Npb24iLCJnZXRBbGxTd2VhdGxpc3RzIiwid29ya291dHNSZWYiLCJleGVyY2lzZXNXaXRoVmlkZW9zIiwid29ya291dHNTbmFwc2hvdCIsIndvcmtvdXRzIiwid29ya291dERvYyIsIndvcmtvdXREYXRhIiwibWFwcGVkRXhlcmNpc2VzIiwibG9nc1NuYXBzaG90IiwiZmlyZXN0b3JlRXJyb3IiLCJmZXRjaEFuZE1hcEV4ZXJjaXNlc1dpdGhWaWRlb3MiLCJkb2NzIiwibWFwIiwiZnVsbEV4ZXJjaXNlIiwiZmluZCIsImV4IiwiY29sbGVjdGlvbklkIiwiY2hhbGxlbmdlIiwic3RhcnRUaW1lIiwidW5kZWZpbmVkIiwibG9nRG9jIiwibWVzc2FnZSIsImdldFVzZXJDaGFsbGVuZ2VzQnlDaGFsbGVuZ2VJZCIsImNoYWxsZW5nZUlkIiwidXNlckNoYWxsZW5nZXNSZWYiLCJxIiwic25hcHNob3QiLCJ1c2VyQ2hhbGxlbmdlcyIsImZldGNoV29ya291dFN1bW1hcmllcyIsImRhdGUiLCJmb3JtYXR0ZWREYXRlIiwic3VtbWFyaWVzUmVmIiwiZmV0Y2hBbGxXb3Jrb3V0U3VtbWFyaWVzIiwiZmV0Y2hVc2VyQ2hhbGxlbmdlc0J5VXNlcklkIiwic3VidGl0bGUiLCJwYXJ0aWNpcGFudHMiLCJzdGF0dXMiLCJzdGFydERhdGUiLCJlbmREYXRlIiwiaW50cm9WaWRlb3MiLCJ2IiwidmlkZW9VcmwiLCJmZXRjaENvbGxlY3Rpb25XaXRoU3dlYXRMaXN0cyIsInN3ZWF0TGlzdHMiLCJzd2VhdGxpc3RJZGVudGlmaWVyIiwiZ2V0Q29sbGVjdGlvbkJ5SWQiLCJzd2VhdGxpc3RJZHMiLCJmZXRjaFNhdmVkV29ya291dCIsInN3ZWF0bGlzdEF1dGhvcklkIiwid29ya291dFNuYXAiLCJwYXRoIiwiZm91bmRNYXRjaCIsImV4ZXJjaXNlQ291bnQiLCJzaXplIiwibG9nRGF0YSIsImxvZ0lkIiwiZXhlcmNpc2VOYW1lIiwiZm91bmRFeGVyY2lzZU1hdGNoIiwicmVjb21tZW5kZWRXZWlnaHQiLCJpc0JvZHlXZWlnaHQiLCJsb2dzQ291bnQiLCJmZXRjaFVzZXJDaGFsbGVuZ2VzQnlDaGFsbGVuZ2VJZCIsImRvY1JlZiIsImRvY1NuYXAiLCJmZXRjaEFjdGl2ZUNoYWxsZW5nZXMiLCJhbGxDaGFsbGVuZ2VzIiwiYWN0aXZlQ2hhbGxlbmdlcyIsInVzZXJDaGFsbGVuZ2UiLCJmZXRjaFVzZXJDaGFsbGVuZ2VzIiwidXBkYXRlV29ya291dFN1bW1hcnkiLCJzdW1tYXJ5Iiwic3VtbWFyeVJlZiIsInN1bW1hcnlEYXRhIiwiYm9keVBhcnRzIiwid29ya291dFRpdGxlIiwiY2Fsb3JpZXNCdXJuZWQiLCJleGVyY2lzZXNDb21wbGV0ZWQiLCJhaUluc2lnaHQiLCJyZWNvbW1lbmRhdGlvbnMiLCJnaWZVUkxzIiwicmVjb21tZW5kZWRXb3JrIiwidXBkYXRlV29ya291dExvZ3MiLCJsb2dEb2NSZWYiLCJ1cGRhdGUiLCJjYW5jZWxXb3Jrb3V0Iiwid29ya291dFN1bW1hcnkiLCJkZWxldGVXb3Jrb3V0U2Vzc2lvbiIsImRlbGV0ZVdvcmtvdXRTdW1tYXJ5IiwiY2xlYW5VcFdvcmtvdXRJblByb2dyZXNzIiwiZGVsZXRlIiwicmVmIiwid29ya291dFN1bW1hcnlJZCIsImRpc3BhdGNoIiwiZXhlcmNpc2VTbmFwc2hvdCIsInZpZGVvU25hcHNob3QiLCJleGVyY2lzZVZpZGVvcyIsIndvcmtvdXRTZXNzaW9uc1JlZiIsInNuYXAiLCJmcm9tRmlyZWJhc2UiLCJtYXRjaGluZ1ZpZGVvcyIsInZpZGVvIiwidG9Mb3dlckNhc2UiLCJRdWV1ZWRVcCIsImVtcHR5IiwicHJvY2Vzc1dvcmtvdXRTZXNzaW9uRG9jdW1lbnQiLCJJblByb2dyZXNzIiwiZmV0Y2hBbGxXb3Jrb3V0U2Vzc2lvbnMiLCJzZXNzaW9ucyIsIlByb21pc2UiLCJhbGwiLCJzZXNzaW9uRGF0YSIsInNvcnQiLCJhIiwiYiIsIm9yZGVyQSIsIm9yZGVyQiIsInVwZGF0ZUNvbGxlY3Rpb24iLCJjb2xsUmVmIiwibmV3RG9jUmVmIiwidHJpbSIsImV4ZXJjaXNlTmFtZUxvd2VyIiwiQXJjaGl2ZWQiLCJGdWxsQm9keSIsInByZXBhcmVkTG9nRGF0YSIsInNhdmVXb3Jrb3V0U2Vzc2lvbiIsImN1cnJlbnREYXRlIiwiY2xlYW5Xb3Jrb3V0Iiwid29ya291dFNlc3Npb25SZWYiLCJsb2dCYXRjaCIsImdldFRpbWUiLCJqb2luQ2hhbGxlbmdlIiwidXNlcnNSZWYiLCJ1c2VyUXVlcnkiLCJ1c2VyU25hcHNob3QiLCJ1c2VyRGF0YSIsImNoYWxsZW5nZVJlZiIsImNoYWxsZW5nZVNuYXAiLCJ1c2VyQ2hhbGxlbmdlSWQiLCJ1c2VyQ2hhbGxlbmdlRGF0YSIsIm5vdyIsImZjbVRva2VuIiwicHJvZmlsZUltYWdlIiwicHJvZ3Jlc3MiLCJjb21wbGV0ZWRXb3Jrb3V0cyIsInVpZCIsImxvY2F0aW9uIiwiY2l0eSIsImNvdW50cnkiLCJ0aW1lem9uZSIsImpvaW5EYXRlIiwicHVsc2VQb2ludHMiLCJiYXNlQ29tcGxldGlvbiIsImZpcnN0Q29tcGxldGlvbiIsInN0cmVha0JvbnVzIiwiY2hlY2tJbkJvbnVzIiwiZWZmb3J0UmF0aW5nIiwiY2hhdFBhcnRpY2lwYXRpb24iLCJsb2NhdGlvbkNoZWNraW4iLCJjb250ZW50RW5nYWdlbWVudCIsImVuY291cmFnZW1lbnRTZW50IiwiZW5jb3VyYWdlbWVudFJlY2VpdmVkIiwiY3VycmVudFN0cmVhayIsImVuY291cmFnZWRVc2VycyIsImVuY291cmFnZWRCeVVzZXJzIiwiY2hlY2tJbnMiLCJjdXJyZW50V29ya291dCIsImdldFN0YXRlIiwiY3VycmVudFdvcmtvdXRMb2dzIiwiY3VycmVudEV4ZXJjaXNlTG9ncyIsImN1cnJlbnRXb3Jrb3V0U3VtbWFyeSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/api/firebase/workout/service.ts\n"));

/***/ })

});
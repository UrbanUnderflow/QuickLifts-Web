"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/_app",{

/***/ "./src/api/firebase/exercise/types.ts":
/*!********************************************!*\
  !*** ./src/api/firebase/exercise/types.ts ***!
  \********************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BodyPart: function() { return /* binding */ BodyPart; },\n/* harmony export */   Exercise: function() { return /* binding */ Exercise; },\n/* harmony export */   ExerciseAuthor: function() { return /* binding */ ExerciseAuthor; },\n/* harmony export */   ExerciseCategory: function() { return /* binding */ ExerciseCategory; },\n/* harmony export */   ExerciseLog: function() { return /* binding */ ExerciseLog; },\n/* harmony export */   ExerciseVideo: function() { return /* binding */ ExerciseVideo; },\n/* harmony export */   isAdvancedBodyPart: function() { return /* binding */ isAdvancedBodyPart; }\n/* harmony export */ });\n/* harmony import */ var _swc_helpers_class_call_check__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @swc/helpers/_/_class_call_check */ \"./node_modules/@swc/helpers/esm/_class_call_check.js\");\n/* harmony import */ var _swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @swc/helpers/_/_object_spread */ \"./node_modules/@swc/helpers/esm/_object_spread.js\");\n/* harmony import */ var _swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @swc/helpers/_/_object_spread_props */ \"./node_modules/@swc/helpers/esm/_object_spread_props.js\");\n/* harmony import */ var _workout_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../workout/types */ \"./src/api/firebase/workout/types.ts\");\n/* harmony import */ var _user_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../user/types */ \"./src/api/firebase/user/types.ts\");\n/* harmony import */ var _utils_formatDate__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../utils/formatDate */ \"./src/utils/formatDate.ts\");\n\n\n\n\n\n\nvar BodyPart;\n(function(BodyPart) {\n    BodyPart[\"Biceps\"] = \"biceps\";\n    BodyPart[\"Triceps\"] = \"triceps\";\n    BodyPart[\"Chest\"] = \"chest\";\n    BodyPart[\"Calves\"] = \"calves\";\n    BodyPart[\"Abs\"] = \"abs\";\n    BodyPart[\"Hamstrings\"] = \"hamstrings\";\n    BodyPart[\"Back\"] = \"back\";\n    BodyPart[\"Glutes\"] = \"glutes\";\n    BodyPart[\"Quadriceps\"] = \"quadriceps\";\n    BodyPart[\"Forearms\"] = \"forearms\";\n    BodyPart[\"Shoulders\"] = \"shoulders\";\n    BodyPart[\"Lowerback\"] = \"lowerback\";\n    // advanced\n    BodyPart[\"Lats\"] = \"lats\";\n    BodyPart[\"Traps\"] = \"traps\";\n    BodyPart[\"Rhomboids\"] = \"rhomboids\";\n    BodyPart[\"Deltoids\"] = \"deltoids\";\n    BodyPart[\"Fullbody\"] = \"fullbody\";\n})(BodyPart || (BodyPart = {}));\n// Function to check if a body part is advanced\nfunction isAdvancedBodyPart(bodyPart) {\n    return [\n        \"traps\",\n        \"lats\",\n        \"rhomboids\",\n        \"deltoids\"\n    ].includes(bodyPart);\n}\nvar ExerciseLog = /*#__PURE__*/ function() {\n    \"use strict\";\n    function ExerciseLog(data) {\n        (0,_swc_helpers_class_call_check__WEBPACK_IMPORTED_MODULE_3__._)(this, ExerciseLog);\n        this.id = data.id || \"\";\n        this.workoutId = data.workoutId || \"\";\n        this.userId = data.userId || \"\";\n        this.exercise = Exercise.fromFirebase(data.exercise || {});\n        this.logs = (data.logs || []).map(function(log) {\n            return _workout_types__WEBPACK_IMPORTED_MODULE_0__.RepsAndWeightLog.fromFirebase(log);\n        });\n        this.feedback = data.feedback || \"\";\n        this.note = data.note || \"\";\n        this.recommendedWeight = data.recommendedWeight;\n        this.isSplit = data.isSplit || false;\n        this.isBodyWeight = data.isBodyWeight || false;\n        this.logSubmitted = data.logSubmitted || false;\n        this.logIsEditing = data.logIsEditing || false;\n        this.isCompleted = data.isCompleted || false;\n        this.order = data.order;\n        this.completedAt = (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_2__.convertFirestoreTimestamp)(data.completedAt);\n        this.createdAt = (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_2__.convertFirestoreTimestamp)(data.createdAt);\n        this.updatedAt = (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_2__.convertFirestoreTimestamp)(data.updatedAt);\n    }\n    var _proto = ExerciseLog.prototype;\n    _proto.toDictionary = function toDictionary() {\n        var data = {\n            id: this.id,\n            workoutId: this.workoutId,\n            userId: this.userId,\n            exercise: this.exercise.toDictionary(),\n            logs: this.logs.map(function(log) {\n                return log.toDictionary();\n            }),\n            feedback: this.feedback,\n            note: this.note,\n            isSplit: this.isSplit,\n            isBodyWeight: this.isBodyWeight,\n            logSubmitted: this.logSubmitted,\n            logIsEditing: this.logIsEditing,\n            isCompleted: this.isCompleted,\n            createdAt: this.createdAt.getTime(),\n            updatedAt: this.updatedAt.getTime(),\n            completedAt: this.completedAt.getTime()\n        };\n        if (this.recommendedWeight !== undefined) {\n            data.recommendedWeight = this.recommendedWeight;\n        }\n        if (this.order !== undefined) {\n            data.order = this.order;\n        }\n        return data;\n    };\n    ExerciseLog.fromFirebase = function fromFirebase(data) {\n        if (!data) {\n            // Return a default ExerciseLog instead of null\n            return new ExerciseLog({});\n        }\n        return new ExerciseLog({\n            id: data.id || \"\",\n            workoutId: data.workoutId || \"\",\n            userId: data.userId || \"\",\n            exercise: data.exercise || {},\n            logs: data.logs || [],\n            feedback: data.feedback || \"\",\n            note: data.note || \"\",\n            recommendedWeight: data.recommendedWeight,\n            isSplit: data.isSplit || false,\n            isBodyWeight: data.isBodyWeight || false,\n            logSubmitted: data.logSubmitted || false,\n            logIsEditing: data.logIsEditing || false,\n            isCompleted: data.isCompleted || false,\n            order: data.order,\n            completedAt: data.completedAt,\n            createdAt: data.createdAt,\n            updatedAt: data.updatedAt\n        });\n    };\n    return ExerciseLog;\n}();\n// Helper functions to mimic Swift enum behavior\nvar ExerciseCategory = {\n    weightTraining: function(details) {\n        return {\n            type: \"weightTraining\",\n            details: details\n        };\n    },\n    cardio: function(details) {\n        return {\n            type: \"cardio\",\n            details: details\n        };\n    },\n    fromIdentifier: function(identifier) {\n        switch(identifier){\n            case \"weight-training\":\n                return ExerciseCategory.weightTraining({\n                    reps: \"12\",\n                    sets: 3,\n                    weight: 0.0,\n                    screenTime: 0,\n                    selectedVideo: undefined\n                });\n            case \"cardio\":\n                return ExerciseCategory.cardio({\n                    duration: 20,\n                    bpm: 125,\n                    calories: 0,\n                    screenTime: 0,\n                    selectedVideo: undefined\n                });\n            default:\n                return null;\n        }\n    },\n    identifier: function(category) {\n        switch(category.type){\n            case \"weightTraining\":\n                return \"weight-training\";\n            case \"cardio\":\n                return \"cardio\";\n        }\n    }\n};\n// Usage examples:\n// const weightTraining = ExerciseCategory.weightTraining({ reps: '10', sets: 3, weight: 50 });\n// const cardio = ExerciseCategory.cardio({ duration: 30, bpm: 140, calories: 300 });\n// const fromId = ExerciseCategory.fromIdentifier('weight-training');\n// const id = ExerciseCategory.identifier(weightTraining);\nvar Exercise = /*#__PURE__*/ function() {\n    \"use strict\";\n    function Exercise(data) {\n        (0,_swc_helpers_class_call_check__WEBPACK_IMPORTED_MODULE_3__._)(this, Exercise);\n        this.id = data.id || \"\";\n        this.name = data.name || \"\";\n        this.description = data.description || \"\";\n        this.primaryBodyParts = data.primaryBodyParts || [];\n        this.secondaryBodyParts = data.secondaryBodyParts || [];\n        this.tags = data.tags || [];\n        this.videos = (data.videos || []).map(function(video) {\n            return ExerciseVideo.fromFirebase(video);\n        });\n        this.steps = data.steps || [];\n        this.visibility = data.visibility || \"live\";\n        this.currentVideoPosition = data.currentVideoPosition || 0;\n        this.sets = data.sets || 0;\n        this.reps = data.reps || \"\";\n        this.weight = data.weight || 0;\n        this.author = ExerciseAuthor.fromFirebase(data.author || {});\n        this.createdAt = (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_2__.convertFirestoreTimestamp)(data.createdAt);\n        this.updatedAt = (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_2__.convertFirestoreTimestamp)(data.updatedAt);\n        // Handle category parsing\n        var categoryData = data.category || {};\n        var categoryId = categoryData.id;\n        switch(categoryId){\n            case \"weight-training\":\n                this.category = ExerciseCategory.weightTraining({\n                    reps: categoryData.reps || \"12\",\n                    sets: categoryData.sets || 3,\n                    weight: categoryData.weight || 0,\n                    screenTime: categoryData.screenTime || 0,\n                    selectedVideo: categoryData.selectedVideo ? ExerciseVideo.fromFirebase(categoryData.selectedVideo) : undefined\n                });\n                break;\n            case \"cardio\":\n                this.category = ExerciseCategory.cardio({\n                    duration: categoryData.duration || 0,\n                    bpm: categoryData.bpm || 0,\n                    calories: categoryData.calories || 0,\n                    screenTime: categoryData.screenTime || 0,\n                    selectedVideo: categoryData.selectedVideo ? ExerciseVideo.fromFirebase(categoryData.selectedVideo) : undefined\n                });\n                break;\n            default:\n                this.category = ExerciseCategory.weightTraining({\n                    reps: \"12\",\n                    sets: 3,\n                    weight: 0,\n                    screenTime: 0\n                });\n        }\n    }\n    var _proto = Exercise.prototype;\n    _proto.toDictionary = function toDictionary() {\n        var _this_category_details_selectedVideo, _this_category_details;\n        var data = {\n            id: this.id,\n            name: this.name,\n            description: this.description,\n            category: (0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_4__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_5__._)({\n                id: this.category.type\n            }, this.category.details), {\n                selectedVideo: (_this_category_details = this.category.details) === null || _this_category_details === void 0 ? void 0 : (_this_category_details_selectedVideo = _this_category_details.selectedVideo) === null || _this_category_details_selectedVideo === void 0 ? void 0 : _this_category_details_selectedVideo.toDictionary()\n            }),\n            primaryBodyParts: this.primaryBodyParts,\n            secondaryBodyParts: this.secondaryBodyParts,\n            tags: this.tags,\n            videos: this.videos.map(function(video) {\n                return video.toDictionary();\n            }),\n            steps: this.steps,\n            visibility: this.visibility,\n            currentVideoPosition: this.currentVideoPosition,\n            sets: this.sets,\n            reps: this.reps,\n            weight: this.weight,\n            author: this.author.toDictionary(),\n            createdAt: this.createdAt.getTime(),\n            updatedAt: this.updatedAt.getTime()\n        };\n        return data;\n    };\n    Exercise.fromFirebase = function fromFirebase(data) {\n        if (!data) {\n            return new Exercise({});\n        }\n        return new Exercise({\n            id: data.id || \"\",\n            name: data.name || \"\",\n            description: data.description || \"\",\n            category: data.category || {},\n            primaryBodyParts: data.primaryBodyParts || [],\n            secondaryBodyParts: data.secondaryBodyParts || [],\n            tags: data.tags || [],\n            videos: data.videos || [],\n            steps: data.steps || [],\n            visibility: data.visibility || [],\n            currentVideoPosition: data.currentVideoPosition || 0,\n            sets: data.sets || 0,\n            reps: data.reps || \"\",\n            weight: data.weight || 0,\n            author: data.author || {},\n            createdAt: data.createdAt,\n            updatedAt: data.updatedAt\n        });\n    };\n    return Exercise;\n}();\n// ExerciseVideo.ts\nvar ExerciseVideo = /*#__PURE__*/ function() {\n    \"use strict\";\n    function ExerciseVideo(data) {\n        (0,_swc_helpers_class_call_check__WEBPACK_IMPORTED_MODULE_3__._)(this, ExerciseVideo);\n        this.id = data.id || \"\";\n        this.exerciseId = data.exerciseId || \"\";\n        this.username = data.username || \"\";\n        this.userId = data.userId || \"\";\n        this.videoURL = data.videoURL || \"\";\n        this.fileName = data.fileName || \"\";\n        this.exercise = data.exercise || \"\";\n        this.profileImage = _user_types__WEBPACK_IMPORTED_MODULE_1__.ProfileImage.fromFirebase(data.profileImage || {});\n        this.caption = data.caption;\n        this.gifURL = data.gifURL;\n        this.thumbnail = data.thumbnail;\n        this.visibility = data.visibility || \"private\";\n        this.totalAccountsReached = data.totalAccountsReached || 0;\n        this.totalAccountLikes = data.totalAccountLikes || 0;\n        this.totalAccountBookmarked = data.totalAccountBookmarked || 0;\n        this.totalAccountUsage = data.totalAccountUsage || 0;\n        this.isApproved = data.isApproved || false;\n        this.liked = data.liked || false;\n        this.bookmarked = data.bookmarked || false;\n        this.createdAt = (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_2__.convertFirestoreTimestamp)(data.createdAt);\n        this.updatedAt = (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_2__.convertFirestoreTimestamp)(data.updatedAt);\n    }\n    var _proto = ExerciseVideo.prototype;\n    _proto.toDictionary = function toDictionary() {\n        var data = {\n            id: this.id,\n            exerciseId: this.exerciseId,\n            username: this.username,\n            userId: this.userId,\n            videoURL: this.videoURL,\n            fileName: this.fileName,\n            exercise: this.exercise,\n            profileImage: this.profileImage.toDictionary(),\n            visibility: this.visibility,\n            totalAccountsReached: this.totalAccountsReached,\n            totalAccountLikes: this.totalAccountLikes,\n            totalAccountBookmarked: this.totalAccountBookmarked,\n            totalAccountUsage: this.totalAccountUsage,\n            isApproved: this.isApproved,\n            createdAt: this.createdAt.getTime(),\n            updatedAt: this.updatedAt.getTime()\n        };\n        if (this.caption) data.caption = this.caption;\n        if (this.gifURL) data.gifURL = this.gifURL;\n        if (this.thumbnail) data.thumbnail = this.thumbnail;\n        if (this.liked !== undefined) data.liked = this.liked;\n        if (this.bookmarked !== undefined) data.bookmarked = this.bookmarked;\n        return data;\n    };\n    ExerciseVideo.fromFirebase = function fromFirebase(data) {\n        if (!data) {\n            return new ExerciseVideo({});\n        }\n        return new ExerciseVideo({\n            id: data.id || \"\",\n            exerciseId: data.exerciseId || \"\",\n            username: data.username || \"\",\n            userId: data.userId || \"\",\n            videoURL: data.videoURL || \"\",\n            fileName: data.fileName || \"\",\n            exercise: data.exercise || \"\",\n            profileImage: data.profileImage || {},\n            caption: data.caption,\n            gifURL: data.gifURL,\n            thumbnail: data.thumbnail,\n            visibility: data.visibility || \"private\",\n            totalAccountsReached: data.totalAccountsReached || 0,\n            totalAccountLikes: data.totalAccountLikes || 0,\n            totalAccountBookmarked: data.totalAccountBookmarked || 0,\n            totalAccountUsage: data.totalAccountUsage || 0,\n            isApproved: data.isApproved || false,\n            liked: data.liked || false,\n            bookmarked: data.bookmarked || false,\n            createdAt: data.createdAt,\n            updatedAt: data.updatedAt\n        });\n    };\n    return ExerciseVideo;\n}();\n// ExerciseAuthor.ts\nvar ExerciseAuthor = /*#__PURE__*/ function() {\n    \"use strict\";\n    function ExerciseAuthor(data) {\n        (0,_swc_helpers_class_call_check__WEBPACK_IMPORTED_MODULE_3__._)(this, ExerciseAuthor);\n        this.userId = data.userId || \"\";\n        this.username = data.username || \"\";\n    }\n    var _proto = ExerciseAuthor.prototype;\n    _proto.toDictionary = function toDictionary() {\n        return {\n            userId: this.userId,\n            username: this.username\n        };\n    };\n    ExerciseAuthor.fromFirebase = function fromFirebase(data) {\n        if (!data) {\n            return new ExerciseAuthor({});\n        }\n        return new ExerciseAuthor({\n            userId: data.userId || \"\",\n            username: data.username || \"\"\n        });\n    };\n    return ExerciseAuthor;\n}();\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYXBpL2ZpcmViYXNlL2V4ZXJjaXNlL3R5cGVzLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBb0Q7QUFDUDtBQUV5Qjs7VUEwQjFERzs7Ozs7Ozs7Ozs7OztJQWFSLFdBQVc7Ozs7OztHQWJIQSxhQUFBQTtBQXFCWiwrQ0FBK0M7QUFDeEMsU0FBU0MsbUJBQW1CQyxRQUFrQjtJQUNuRCxPQUFPOzs7OztLQUFzRSxDQUFDQyxRQUFRLENBQUNEO0FBQ3pGO0FBV08sZ0NBQUs7O2FBQUNFLFlBbUJDQyxJQUFTOytFQW5CVkQ7UUFvQlQsSUFBSSxDQUFDRSxFQUFFLEdBQUdELEtBQUtDLEVBQUUsSUFBSTtRQUNyQixJQUFJLENBQUNDLFNBQVMsR0FBR0YsS0FBS0UsU0FBUyxJQUFJO1FBQ25DLElBQUksQ0FBQ0MsTUFBTSxHQUFHSCxLQUFLRyxNQUFNLElBQUk7UUFDN0IsSUFBSSxDQUFDQyxRQUFRLEdBQUdDLFNBQVNDLFlBQVksQ0FBQ04sS0FBS0ksUUFBUSxJQUFJLENBQUM7UUFDeEQsSUFBSSxDQUFDRyxJQUFJLEdBQUcsQ0FBQ1AsS0FBS08sSUFBSSxJQUFJLEVBQUUsRUFBRUMsR0FBRyxDQUFDLFNBQUNDO21CQUFhakIsNERBQWdCQSxDQUFDYyxZQUFZLENBQUNHOztRQUM5RSxJQUFJLENBQUNDLFFBQVEsR0FBR1YsS0FBS1UsUUFBUSxJQUFJO1FBQ2pDLElBQUksQ0FBQ0MsSUFBSSxHQUFHWCxLQUFLVyxJQUFJLElBQUk7UUFDekIsSUFBSSxDQUFDQyxpQkFBaUIsR0FBR1osS0FBS1ksaUJBQWlCO1FBQy9DLElBQUksQ0FBQ0MsT0FBTyxHQUFHYixLQUFLYSxPQUFPLElBQUk7UUFDL0IsSUFBSSxDQUFDQyxZQUFZLEdBQUdkLEtBQUtjLFlBQVksSUFBSTtRQUN6QyxJQUFJLENBQUNDLFlBQVksR0FBR2YsS0FBS2UsWUFBWSxJQUFJO1FBQ3pDLElBQUksQ0FBQ0MsWUFBWSxHQUFHaEIsS0FBS2dCLFlBQVksSUFBSTtRQUN6QyxJQUFJLENBQUNDLFdBQVcsR0FBR2pCLEtBQUtpQixXQUFXLElBQUk7UUFDdkMsSUFBSSxDQUFDQyxLQUFLLEdBQUdsQixLQUFLa0IsS0FBSztRQUN2QixJQUFJLENBQUNDLFdBQVcsR0FBR3pCLDRFQUF5QkEsQ0FBQ00sS0FBS21CLFdBQVc7UUFDN0QsSUFBSSxDQUFDQyxTQUFTLEdBQUcxQiw0RUFBeUJBLENBQUNNLEtBQUtvQixTQUFTO1FBQ3pELElBQUksQ0FBQ0MsU0FBUyxHQUFHM0IsNEVBQXlCQSxDQUFDTSxLQUFLcUIsU0FBUzs7aUJBcENoRHRCO0lBa0VYdUIsT0FBQUEsWUE0QkMsR0E1QkRBLFNBQUFBO1FBQ0UsSUFBTXRCLE9BQStCO1lBQ25DQyxJQUFJLElBQUksQ0FBQ0EsRUFBRTtZQUNYQyxXQUFXLElBQUksQ0FBQ0EsU0FBUztZQUN6QkMsUUFBUSxJQUFJLENBQUNBLE1BQU07WUFDbkJDLFVBQVUsSUFBSSxDQUFDQSxRQUFRLENBQUNrQixZQUFZO1lBQ3BDZixNQUFNLElBQUksQ0FBQ0EsSUFBSSxDQUFDQyxHQUFHLENBQUNDLFNBQUFBO3VCQUFPQSxJQUFJYSxZQUFZOztZQUMzQ1osVUFBVSxJQUFJLENBQUNBLFFBQVE7WUFDdkJDLE1BQU0sSUFBSSxDQUFDQSxJQUFJO1lBQ2ZFLFNBQVMsSUFBSSxDQUFDQSxPQUFPO1lBQ3JCQyxjQUFjLElBQUksQ0FBQ0EsWUFBWTtZQUMvQkMsY0FBYyxJQUFJLENBQUNBLFlBQVk7WUFDL0JDLGNBQWMsSUFBSSxDQUFDQSxZQUFZO1lBQy9CQyxhQUFhLElBQUksQ0FBQ0EsV0FBVztZQUM3QkcsV0FBVyxJQUFJLENBQUNBLFNBQVMsQ0FBQ0csT0FBTztZQUNqQ0YsV0FBVyxJQUFJLENBQUNBLFNBQVMsQ0FBQ0UsT0FBTztZQUNqQ0osYUFBYSxJQUFJLENBQUNBLFdBQVcsQ0FBQ0ksT0FBTztRQUN2QztRQUVBLElBQUksSUFBSSxDQUFDWCxpQkFBaUIsS0FBS1ksV0FBVztZQUN4Q3hCLEtBQUtZLGlCQUFpQixHQUFHLElBQUksQ0FBQ0EsaUJBQWlCO1FBQ2pEO1FBRUEsSUFBSSxJQUFJLENBQUNNLEtBQUssS0FBS00sV0FBVztZQUM1QnhCLEtBQUtrQixLQUFLLEdBQUcsSUFBSSxDQUFDQSxLQUFLO1FBQ3pCO1FBRUEsT0FBT2xCO0lBQ1Q7SUE5RldELFlBdUNKTyxZQXlCTixHQXpCRCxTQUFPQSxhQUFhTixJQUFTO1FBQzNCLElBQUksQ0FBQ0EsTUFBTTtZQUNULCtDQUErQztZQUMvQyxPQUFPLElBMUNBRCxZQTBDZ0IsQ0FBQztRQUMxQjtRQUVBLE9BQU8sSUE3Q0VBLFlBNkNjO1lBQ3JCRSxJQUFJRCxLQUFLQyxFQUFFLElBQUk7WUFDZkMsV0FBV0YsS0FBS0UsU0FBUyxJQUFJO1lBQzdCQyxRQUFRSCxLQUFLRyxNQUFNLElBQUk7WUFDdkJDLFVBQVVKLEtBQUtJLFFBQVEsSUFBSSxDQUFDO1lBQzVCRyxNQUFNUCxLQUFLTyxJQUFJLElBQUksRUFBRTtZQUNyQkcsVUFBVVYsS0FBS1UsUUFBUSxJQUFJO1lBQzNCQyxNQUFNWCxLQUFLVyxJQUFJLElBQUk7WUFDbkJDLG1CQUFtQlosS0FBS1ksaUJBQWlCO1lBQ3pDQyxTQUFTYixLQUFLYSxPQUFPLElBQUk7WUFDekJDLGNBQWNkLEtBQUtjLFlBQVksSUFBSTtZQUNuQ0MsY0FBY2YsS0FBS2UsWUFBWSxJQUFJO1lBQ25DQyxjQUFjaEIsS0FBS2dCLFlBQVksSUFBSTtZQUNuQ0MsYUFBYWpCLEtBQUtpQixXQUFXLElBQUk7WUFDakNDLE9BQU9sQixLQUFLa0IsS0FBSztZQUNqQkMsYUFBYW5CLEtBQUttQixXQUFXO1lBQzdCQyxXQUFXcEIsS0FBS29CLFNBQVM7WUFDekJDLFdBQVdyQixLQUFLcUIsU0FBUztRQUMzQjtJQUNGO1dBaEVXdEI7SUErRlo7QUFzQkQsZ0RBQWdEO0FBQ3pDLElBQU0wQixtQkFBbUI7SUFDOUJDLGdCQUFnQixTQUFDQztlQUF3RDtZQUN2RUMsTUFBTTtZQUNORCxTQUFBQTtRQUNGOztJQUNBRSxRQUFRLFNBQUNGO2VBQWdEO1lBQ3ZEQyxNQUFNO1lBQ05ELFNBQUFBO1FBQ0Y7O0lBRUFHLGdCQUFnQixTQUFDQztRQUNmLE9BQVFBO1lBQ04sS0FBSztnQkFDSCxPQUFPTixpQkFBaUJDLGNBQWMsQ0FBQztvQkFDckNNLE1BQU07b0JBQ05DLE1BQU07b0JBQ05DLFFBQVE7b0JBQ1JDLFlBQVk7b0JBQ1pDLGVBQWVaO2dCQUNqQjtZQUNGLEtBQUs7Z0JBQ0gsT0FBT0MsaUJBQWlCSSxNQUFNLENBQUM7b0JBQzdCUSxVQUFVO29CQUNWQyxLQUFLO29CQUNMQyxVQUFVO29CQUNWSixZQUFZO29CQUNaQyxlQUFlWjtnQkFDakI7WUFDRjtnQkFDRSxPQUFPO1FBQ1g7SUFDRjtJQUVBTyxZQUFZLFNBQUNTO1FBQ1gsT0FBUUEsU0FBU1osSUFBSTtZQUNuQixLQUFLO2dCQUNILE9BQU87WUFDVCxLQUFLO2dCQUNILE9BQU87UUFDWDtJQUNGO0FBQ0YsRUFBRTtBQUVGLGtCQUFrQjtBQUNsQiwrRkFBK0Y7QUFDL0YscUZBQXFGO0FBQ3JGLHFFQUFxRTtBQUNyRSwwREFBMEQ7QUFHbkQsNkJBQUs7O2FBQUN2QixTQW1CQ0wsSUFBUzsrRUFuQlZLO1FBb0JULElBQUksQ0FBQ0osRUFBRSxHQUFHRCxLQUFLQyxFQUFFLElBQUk7UUFDckIsSUFBSSxDQUFDd0MsSUFBSSxHQUFHekMsS0FBS3lDLElBQUksSUFBSTtRQUN6QixJQUFJLENBQUNDLFdBQVcsR0FBRzFDLEtBQUswQyxXQUFXLElBQUk7UUFDdkMsSUFBSSxDQUFDQyxnQkFBZ0IsR0FBSTNDLEtBQUsyQyxnQkFBZ0IsSUFBSSxFQUFFO1FBQ3BELElBQUksQ0FBQ0Msa0JBQWtCLEdBQUk1QyxLQUFLNEMsa0JBQWtCLElBQUksRUFBRTtRQUN4RCxJQUFJLENBQUNDLElBQUksR0FBRzdDLEtBQUs2QyxJQUFJLElBQUksRUFBRTtRQUMzQixJQUFJLENBQUNDLE1BQU0sR0FBRyxDQUFDOUMsS0FBSzhDLE1BQU0sSUFBSSxFQUFFLEVBQUV0QyxHQUFHLENBQUMsU0FBQ3VDO21CQUFlQyxjQUFjMUMsWUFBWSxDQUFDeUM7O1FBQ2pGLElBQUksQ0FBQ0UsS0FBSyxHQUFHakQsS0FBS2lELEtBQUssSUFBSSxFQUFFO1FBQzdCLElBQUksQ0FBQ0MsVUFBVSxHQUFHbEQsS0FBS2tELFVBQVUsSUFBSTtRQUNyQyxJQUFJLENBQUNDLG9CQUFvQixHQUFHbkQsS0FBS21ELG9CQUFvQixJQUFJO1FBQ3pELElBQUksQ0FBQ2xCLElBQUksR0FBR2pDLEtBQUtpQyxJQUFJLElBQUk7UUFDekIsSUFBSSxDQUFDRCxJQUFJLEdBQUdoQyxLQUFLZ0MsSUFBSSxJQUFJO1FBQ3pCLElBQUksQ0FBQ0UsTUFBTSxHQUFHbEMsS0FBS2tDLE1BQU0sSUFBSTtRQUM3QixJQUFJLENBQUNrQixNQUFNLEdBQUdDLGVBQWUvQyxZQUFZLENBQUNOLEtBQUtvRCxNQUFNLElBQUksQ0FBQztRQUMxRCxJQUFJLENBQUNoQyxTQUFTLEdBQUcxQiw0RUFBeUJBLENBQUNNLEtBQUtvQixTQUFTO1FBQ3pELElBQUksQ0FBQ0MsU0FBUyxHQUFHM0IsNEVBQXlCQSxDQUFDTSxLQUFLcUIsU0FBUztRQUV6RCwwQkFBMEI7UUFDMUIsSUFBTWlDLGVBQWV0RCxLQUFLd0MsUUFBUSxJQUFJLENBQUM7UUFDdkMsSUFBTWUsYUFBYUQsYUFBYXJELEVBQUU7UUFFbEMsT0FBUXNEO1lBQ04sS0FBSztnQkFDSCxJQUFJLENBQUNmLFFBQVEsR0FBR2YsaUJBQWlCQyxjQUFjLENBQUM7b0JBQzlDTSxNQUFNc0IsYUFBYXRCLElBQUksSUFBSTtvQkFDM0JDLE1BQU1xQixhQUFhckIsSUFBSSxJQUFJO29CQUMzQkMsUUFBUW9CLGFBQWFwQixNQUFNLElBQUk7b0JBQy9CQyxZQUFZbUIsYUFBYW5CLFVBQVUsSUFBSTtvQkFDdkNDLGVBQWVrQixhQUFhbEIsYUFBYSxHQUNyQ1ksY0FBYzFDLFlBQVksQ0FBQ2dELGFBQWFsQixhQUFhLElBQ3JEWjtnQkFDTjtnQkFDQTtZQUVGLEtBQUs7Z0JBQ0gsSUFBSSxDQUFDZ0IsUUFBUSxHQUFHZixpQkFBaUJJLE1BQU0sQ0FBQztvQkFDdENRLFVBQVVpQixhQUFhakIsUUFBUSxJQUFJO29CQUNuQ0MsS0FBS2dCLGFBQWFoQixHQUFHLElBQUk7b0JBQ3pCQyxVQUFVZSxhQUFhZixRQUFRLElBQUk7b0JBQ25DSixZQUFZbUIsYUFBYW5CLFVBQVUsSUFBSTtvQkFDdkNDLGVBQWVrQixhQUFhbEIsYUFBYSxHQUNyQ1ksY0FBYzFDLFlBQVksQ0FBQ2dELGFBQWFsQixhQUFhLElBQ3JEWjtnQkFDTjtnQkFDQTtZQUVGO2dCQUNFLElBQUksQ0FBQ2dCLFFBQVEsR0FBR2YsaUJBQWlCQyxjQUFjLENBQUM7b0JBQzlDTSxNQUFNO29CQUNOQyxNQUFNO29CQUNOQyxRQUFRO29CQUNSQyxZQUFZO2dCQUNkO1FBQ0o7O2lCQXpFUzlCO0lBc0dYaUIsT0FBQUEsWUEwQkMsR0ExQkRBLFNBQUFBO1lBUXFCO1FBUG5CLElBQU10QixPQUErQjtZQUNuQ0MsSUFBSSxJQUFJLENBQUNBLEVBQUU7WUFDWHdDLE1BQU0sSUFBSSxDQUFDQSxJQUFJO1lBQ2ZDLGFBQWEsSUFBSSxDQUFDQSxXQUFXO1lBQzdCRixVQUFVO2dCQUNSdkMsSUFBSSxJQUFJLENBQUN1QyxRQUFRLENBQUNaLElBQUk7ZUFDbkIsSUFBSSxDQUFDWSxRQUFRLENBQUNiLE9BQU87Z0JBQ3hCUyxhQUFhLEdBQUUsNkJBQUksQ0FBQ0ksUUFBUSxDQUFDYixPQUFPLGNBQXJCLDRHQUF1QlMsYUFBYSxjQUFwQyxnR0FBc0NkLFlBQVk7O1lBRW5FcUIsa0JBQWtCLElBQUksQ0FBQ0EsZ0JBQWdCO1lBQ3ZDQyxvQkFBb0IsSUFBSSxDQUFDQSxrQkFBa0I7WUFDM0NDLE1BQU0sSUFBSSxDQUFDQSxJQUFJO1lBQ2ZDLFFBQVEsSUFBSSxDQUFDQSxNQUFNLENBQUN0QyxHQUFHLENBQUN1QyxTQUFBQTt1QkFBU0EsTUFBTXpCLFlBQVk7O1lBQ25EMkIsT0FBTyxJQUFJLENBQUNBLEtBQUs7WUFDakJDLFlBQVksSUFBSSxDQUFDQSxVQUFVO1lBQzNCQyxzQkFBc0IsSUFBSSxDQUFDQSxvQkFBb0I7WUFDL0NsQixNQUFNLElBQUksQ0FBQ0EsSUFBSTtZQUNmRCxNQUFNLElBQUksQ0FBQ0EsSUFBSTtZQUNmRSxRQUFRLElBQUksQ0FBQ0EsTUFBTTtZQUNuQmtCLFFBQVEsSUFBSSxDQUFDQSxNQUFNLENBQUM5QixZQUFZO1lBQ2hDRixXQUFXLElBQUksQ0FBQ0EsU0FBUyxDQUFDRyxPQUFPO1lBQ2pDRixXQUFXLElBQUksQ0FBQ0EsU0FBUyxDQUFDRSxPQUFPO1FBQ25DO1FBRUEsT0FBT3ZCO0lBQ1Q7SUFoSVdLLFNBNEVKQyxZQXdCTixHQXhCRCxTQUFPQSxhQUFhTixJQUFTO1FBQzNCLElBQUksQ0FBQ0EsTUFBTTtZQUNULE9BQU8sSUE5RUFLLFNBOEVhLENBQUM7UUFDdkI7UUFFQSxPQUFPLElBakZFQSxTQWlGVztZQUNsQkosSUFBSUQsS0FBS0MsRUFBRSxJQUFJO1lBQ2Z3QyxNQUFNekMsS0FBS3lDLElBQUksSUFBSTtZQUNuQkMsYUFBYTFDLEtBQUswQyxXQUFXLElBQUk7WUFDakNGLFVBQVV4QyxLQUFLd0MsUUFBUSxJQUFJLENBQUM7WUFDNUJHLGtCQUFrQjNDLEtBQUsyQyxnQkFBZ0IsSUFBSSxFQUFFO1lBQzdDQyxvQkFBb0I1QyxLQUFLNEMsa0JBQWtCLElBQUksRUFBRTtZQUNqREMsTUFBTTdDLEtBQUs2QyxJQUFJLElBQUksRUFBRTtZQUNyQkMsUUFBUTlDLEtBQUs4QyxNQUFNLElBQUksRUFBRTtZQUN6QkcsT0FBT2pELEtBQUtpRCxLQUFLLElBQUksRUFBRTtZQUN2QkMsWUFBWWxELEtBQUtrRCxVQUFVLElBQUksRUFBRTtZQUNqQ0Msc0JBQXNCbkQsS0FBS21ELG9CQUFvQixJQUFJO1lBQ25EbEIsTUFBTWpDLEtBQUtpQyxJQUFJLElBQUk7WUFDbkJELE1BQU1oQyxLQUFLZ0MsSUFBSSxJQUFJO1lBQ25CRSxRQUFRbEMsS0FBS2tDLE1BQU0sSUFBSTtZQUN2QmtCLFFBQVFwRCxLQUFLb0QsTUFBTSxJQUFJLENBQUM7WUFDeEJoQyxXQUFXcEIsS0FBS29CLFNBQVM7WUFDekJDLFdBQVdyQixLQUFLcUIsU0FBUztRQUMzQjtJQUNGO1dBcEdXaEI7SUFpSVo7QUFLRCxtQkFBbUI7QUFDWixrQ0FBSzs7YUFBQzJDLGNBdUJDaEQsSUFBUzsrRUF2QlZnRDtRQXdCVCxJQUFJLENBQUMvQyxFQUFFLEdBQUdELEtBQUtDLEVBQUUsSUFBSTtRQUNyQixJQUFJLENBQUN1RCxVQUFVLEdBQUd4RCxLQUFLd0QsVUFBVSxJQUFJO1FBQ3JDLElBQUksQ0FBQ0MsUUFBUSxHQUFHekQsS0FBS3lELFFBQVEsSUFBSTtRQUNqQyxJQUFJLENBQUN0RCxNQUFNLEdBQUdILEtBQUtHLE1BQU0sSUFBSTtRQUM3QixJQUFJLENBQUN1RCxRQUFRLEdBQUcxRCxLQUFLMEQsUUFBUSxJQUFJO1FBQ2pDLElBQUksQ0FBQ0MsUUFBUSxHQUFHM0QsS0FBSzJELFFBQVEsSUFBSTtRQUNqQyxJQUFJLENBQUN2RCxRQUFRLEdBQUdKLEtBQUtJLFFBQVEsSUFBSTtRQUNqQyxJQUFJLENBQUN3RCxZQUFZLEdBQUduRSxxREFBWUEsQ0FBQ2EsWUFBWSxDQUFDTixLQUFLNEQsWUFBWSxJQUFJLENBQUM7UUFDcEUsSUFBSSxDQUFDQyxPQUFPLEdBQUc3RCxLQUFLNkQsT0FBTztRQUMzQixJQUFJLENBQUNDLE1BQU0sR0FBRzlELEtBQUs4RCxNQUFNO1FBQ3pCLElBQUksQ0FBQ0MsU0FBUyxHQUFHL0QsS0FBSytELFNBQVM7UUFDL0IsSUFBSSxDQUFDYixVQUFVLEdBQUdsRCxLQUFLa0QsVUFBVSxJQUErQjtRQUNoRSxJQUFJLENBQUNjLG9CQUFvQixHQUFHaEUsS0FBS2dFLG9CQUFvQixJQUFJO1FBQ3pELElBQUksQ0FBQ0MsaUJBQWlCLEdBQUdqRSxLQUFLaUUsaUJBQWlCLElBQUk7UUFDbkQsSUFBSSxDQUFDQyxzQkFBc0IsR0FBR2xFLEtBQUtrRSxzQkFBc0IsSUFBSTtRQUM3RCxJQUFJLENBQUNDLGlCQUFpQixHQUFHbkUsS0FBS21FLGlCQUFpQixJQUFJO1FBQ25ELElBQUksQ0FBQ0MsVUFBVSxHQUFHcEUsS0FBS29FLFVBQVUsSUFBSTtRQUNyQyxJQUFJLENBQUNDLEtBQUssR0FBR3JFLEtBQUtxRSxLQUFLLElBQUk7UUFDM0IsSUFBSSxDQUFDQyxVQUFVLEdBQUd0RSxLQUFLc0UsVUFBVSxJQUFJO1FBQ3JDLElBQUksQ0FBQ2xELFNBQVMsR0FBRzFCLDRFQUF5QkEsQ0FBQ00sS0FBS29CLFNBQVM7UUFDekQsSUFBSSxDQUFDQyxTQUFTLEdBQUczQiw0RUFBeUJBLENBQUNNLEtBQUtxQixTQUFTOztpQkE1Q2hEMkI7SUE2RVgxQixPQUFBQSxZQTJCQyxHQTNCREEsU0FBQUE7UUFDRSxJQUFNdEIsT0FBK0I7WUFDbkNDLElBQUksSUFBSSxDQUFDQSxFQUFFO1lBQ1h1RCxZQUFZLElBQUksQ0FBQ0EsVUFBVTtZQUMzQkMsVUFBVSxJQUFJLENBQUNBLFFBQVE7WUFDdkJ0RCxRQUFRLElBQUksQ0FBQ0EsTUFBTTtZQUNuQnVELFVBQVUsSUFBSSxDQUFDQSxRQUFRO1lBQ3ZCQyxVQUFVLElBQUksQ0FBQ0EsUUFBUTtZQUN2QnZELFVBQVUsSUFBSSxDQUFDQSxRQUFRO1lBQ3ZCd0QsY0FBYyxJQUFJLENBQUNBLFlBQVksQ0FBQ3RDLFlBQVk7WUFDNUM0QixZQUFZLElBQUksQ0FBQ0EsVUFBVTtZQUMzQmMsc0JBQXNCLElBQUksQ0FBQ0Esb0JBQW9CO1lBQy9DQyxtQkFBbUIsSUFBSSxDQUFDQSxpQkFBaUI7WUFDekNDLHdCQUF3QixJQUFJLENBQUNBLHNCQUFzQjtZQUNuREMsbUJBQW1CLElBQUksQ0FBQ0EsaUJBQWlCO1lBQ3pDQyxZQUFZLElBQUksQ0FBQ0EsVUFBVTtZQUMzQmhELFdBQVcsSUFBSSxDQUFDQSxTQUFTLENBQUNHLE9BQU87WUFDakNGLFdBQVcsSUFBSSxDQUFDQSxTQUFTLENBQUNFLE9BQU87UUFDbkM7UUFFQSxJQUFJLElBQUksQ0FBQ3NDLE9BQU8sRUFBRTdELEtBQUs2RCxPQUFPLEdBQUcsSUFBSSxDQUFDQSxPQUFPO1FBQzdDLElBQUksSUFBSSxDQUFDQyxNQUFNLEVBQUU5RCxLQUFLOEQsTUFBTSxHQUFHLElBQUksQ0FBQ0EsTUFBTTtRQUMxQyxJQUFJLElBQUksQ0FBQ0MsU0FBUyxFQUFFL0QsS0FBSytELFNBQVMsR0FBRyxJQUFJLENBQUNBLFNBQVM7UUFDbkQsSUFBSSxJQUFJLENBQUNNLEtBQUssS0FBSzdDLFdBQVd4QixLQUFLcUUsS0FBSyxHQUFHLElBQUksQ0FBQ0EsS0FBSztRQUNyRCxJQUFJLElBQUksQ0FBQ0MsVUFBVSxLQUFLOUMsV0FBV3hCLEtBQUtzRSxVQUFVLEdBQUcsSUFBSSxDQUFDQSxVQUFVO1FBRXBFLE9BQU90RTtJQUNUO0lBeEdXZ0QsY0ErQ0oxQyxZQTRCTixHQTVCRCxTQUFPQSxhQUFhTixJQUFTO1FBQzNCLElBQUksQ0FBQ0EsTUFBTTtZQUNULE9BQU8sSUFqREFnRCxjQWlEa0IsQ0FBQztRQUM1QjtRQUVBLE9BQU8sSUFwREVBLGNBb0RnQjtZQUN2Qi9DLElBQUlELEtBQUtDLEVBQUUsSUFBSTtZQUNmdUQsWUFBWXhELEtBQUt3RCxVQUFVLElBQUk7WUFDL0JDLFVBQVV6RCxLQUFLeUQsUUFBUSxJQUFJO1lBQzNCdEQsUUFBUUgsS0FBS0csTUFBTSxJQUFJO1lBQ3ZCdUQsVUFBVTFELEtBQUswRCxRQUFRLElBQUk7WUFDM0JDLFVBQVUzRCxLQUFLMkQsUUFBUSxJQUFJO1lBQzNCdkQsVUFBVUosS0FBS0ksUUFBUSxJQUFJO1lBQzNCd0QsY0FBYzVELEtBQUs0RCxZQUFZLElBQUksQ0FBQztZQUNwQ0MsU0FBUzdELEtBQUs2RCxPQUFPO1lBQ3JCQyxRQUFROUQsS0FBSzhELE1BQU07WUFDbkJDLFdBQVcvRCxLQUFLK0QsU0FBUztZQUN6QmIsWUFBWWxELEtBQUtrRCxVQUFVLElBQUk7WUFDL0JjLHNCQUFzQmhFLEtBQUtnRSxvQkFBb0IsSUFBSTtZQUNuREMsbUJBQW1CakUsS0FBS2lFLGlCQUFpQixJQUFJO1lBQzdDQyx3QkFBd0JsRSxLQUFLa0Usc0JBQXNCLElBQUk7WUFDdkRDLG1CQUFtQm5FLEtBQUttRSxpQkFBaUIsSUFBSTtZQUM3Q0MsWUFBWXBFLEtBQUtvRSxVQUFVLElBQUk7WUFDL0JDLE9BQU9yRSxLQUFLcUUsS0FBSyxJQUFJO1lBQ3JCQyxZQUFZdEUsS0FBS3NFLFVBQVUsSUFBSTtZQUMvQmxELFdBQVdwQixLQUFLb0IsU0FBUztZQUN6QkMsV0FBV3JCLEtBQUtxQixTQUFTO1FBQzNCO0lBQ0Y7V0EzRVcyQjtJQXlHWjtBQUVELG9CQUFvQjtBQUNiLG1DQUFLOzthQUFDSyxlQUlDckQsSUFBUzsrRUFKVnFEO1FBS1QsSUFBSSxDQUFDbEQsTUFBTSxHQUFHSCxLQUFLRyxNQUFNLElBQUk7UUFDN0IsSUFBSSxDQUFDc0QsUUFBUSxHQUFHekQsS0FBS3lELFFBQVEsSUFBSTs7aUJBTnhCSjtJQW9CWC9CLE9BQUFBLFlBS0MsR0FMREEsU0FBQUE7UUFDRSxPQUFPO1lBQ0xuQixRQUFRLElBQUksQ0FBQ0EsTUFBTTtZQUNuQnNELFVBQVUsSUFBSSxDQUFDQSxRQUFRO1FBQ3pCO0lBQ0Y7SUF6QldKLGVBU0ovQyxZQVNOLEdBVEQsU0FBT0EsYUFBYU4sSUFBUztRQUMzQixJQUFJLENBQUNBLE1BQU07WUFDVCxPQUFPLElBWEFxRCxlQVdtQixDQUFDO1FBQzdCO1FBRUEsT0FBTyxJQWRFQSxlQWNpQjtZQUN4QmxELFFBQVFILEtBQUtHLE1BQU0sSUFBSTtZQUN2QnNELFVBQVV6RCxLQUFLeUQsUUFBUSxJQUFJO1FBQzdCO0lBQ0Y7V0FsQldKO0lBMEJaIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9hcGkvZmlyZWJhc2UvZXhlcmNpc2UvdHlwZXMudHM/ZWI4MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSZXBzQW5kV2VpZ2h0TG9nIH0gZnJvbSBcIi4uL3dvcmtvdXQvdHlwZXNcIjtcbmltcG9ydCB7IFByb2ZpbGVJbWFnZSB9IGZyb20gJy4uL3VzZXIvdHlwZXMnO1xuaW1wb3J0IHsgRG9jdW1lbnRTbmFwc2hvdCB9IGZyb20gJ2ZpcmViYXNlL2ZpcmVzdG9yZSc7XG5pbXBvcnQgeyBjb252ZXJ0RmlyZXN0b3JlVGltZXN0YW1wIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvZm9ybWF0RGF0ZSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRXhlcmNpc2VTZXJ2aWNlIHtcbiAgZmV0Y2hFeGVyY2lzZXM6ICgpID0+IFByb21pc2U8dm9pZD47XG4gIGZldGNoUGFnaW5hdGVkRXhlcmNpc2VzOiAoXG4gICAgICBsYXN0RG9jOiBEb2N1bWVudFNuYXBzaG90IHwgbnVsbCxcbiAgICAgIHBhZ2VTaXplPzogbnVtYmVyXG4gICkgPT4gUHJvbWlzZTx7IGV4ZXJjaXNlczogRXhlcmNpc2VbXTsgbGFzdFZpc2libGU6IERvY3VtZW50U25hcHNob3QgfCBudWxsIH0+O1xuICBmZXRjaEZlYXR1cmVkRXhlcmNpc2VzV2l0aFZpZGVvczogKGxpbWl0PzogbnVtYmVyKSA9PiBQcm9taXNlPEV4ZXJjaXNlW10+O1xuICBhbGxFeGVyY2lzZXM6IEV4ZXJjaXNlW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRXhlcmNpc2VDb21tZW50IHtcbiAgaWQ6IHN0cmluZztcbiAgdXNlcm5hbWU6IHN0cmluZztcbiAgdGV4dDogc3RyaW5nO1xuICBjcmVhdGVkQXQ6IERhdGU7XG4gIHVwZGF0ZWRBdDogRGF0ZTtcbn1cblxuLy8gSW50ZXJmYWNlc1xuZXhwb3J0IGludGVyZmFjZSBFeGVyY2lzZVJlZmVyZW5jZSB7XG4gICAgZXhlcmNpc2U6IEV4ZXJjaXNlO1xuICAgIGdyb3VwSWQ6IG51bWJlcjtcbn1cblxuZXhwb3J0IGVudW0gQm9keVBhcnQge1xuICAgIEJpY2VwcyA9ICdiaWNlcHMnLFxuICAgIFRyaWNlcHMgPSAndHJpY2VwcycsXG4gICAgQ2hlc3QgPSAnY2hlc3QnLFxuICAgIENhbHZlcyA9ICdjYWx2ZXMnLFxuICAgIEFicyA9ICdhYnMnLFxuICAgIEhhbXN0cmluZ3MgPSAnaGFtc3RyaW5ncycsXG4gICAgQmFjayA9ICdiYWNrJyxcbiAgICBHbHV0ZXMgPSAnZ2x1dGVzJyxcbiAgICBRdWFkcmljZXBzID0gJ3F1YWRyaWNlcHMnLFxuICAgIEZvcmVhcm1zID0gJ2ZvcmVhcm1zJyxcbiAgICBTaG91bGRlcnMgPSAnc2hvdWxkZXJzJyxcbiAgICBMb3dlcmJhY2sgPSAnbG93ZXJiYWNrJyxcbiAgICAvLyBhZHZhbmNlZFxuICAgIExhdHMgPSAnbGF0cycsXG4gICAgVHJhcHMgPSAndHJhcHMnLFxuICAgIFJob21ib2lkcyA9ICdyaG9tYm9pZHMnLFxuICAgIERlbHRvaWRzID0gJ2RlbHRvaWRzJyxcbiAgICBGdWxsYm9keSA9ICdmdWxsYm9keSdcbn1cbiAgXG4vLyBGdW5jdGlvbiB0byBjaGVjayBpZiBhIGJvZHkgcGFydCBpcyBhZHZhbmNlZFxuZXhwb3J0IGZ1bmN0aW9uIGlzQWR2YW5jZWRCb2R5UGFydChib2R5UGFydDogQm9keVBhcnQpOiBib29sZWFuIHtcbiAgcmV0dXJuIFtCb2R5UGFydC5UcmFwcywgQm9keVBhcnQuTGF0cywgQm9keVBhcnQuUmhvbWJvaWRzLCBCb2R5UGFydC5EZWx0b2lkc10uaW5jbHVkZXMoYm9keVBhcnQpO1xufVxuXG50eXBlIEV4ZXJjaXNlVmlzaWJpbGl0eSA9ICdsaW1pdGVkJyB8ICdzZWNyZXQnIHwgJ2xpdmUnO1xuXG5cbmV4cG9ydCBpbnRlcmZhY2UgRXhlcmNpc2VSZWZlcmVuY2Uge1xuICBleGVyY2lzZTogRXhlcmNpc2U7XG4gIGdyb3VwSWQ6IG51bWJlcjtcbn1cblxuXG5leHBvcnQgY2xhc3MgRXhlcmNpc2VMb2cge1xuICBpZDogc3RyaW5nO1xuICB3b3Jrb3V0SWQ6IHN0cmluZztcbiAgdXNlcklkOiBzdHJpbmc7XG4gIGV4ZXJjaXNlOiBFeGVyY2lzZTtcbiAgbG9nczogUmVwc0FuZFdlaWdodExvZ1tdO1xuICBmZWVkYmFjazogc3RyaW5nO1xuICBub3RlOiBzdHJpbmc7XG4gIHJlY29tbWVuZGVkV2VpZ2h0Pzogc3RyaW5nO1xuICBpc1NwbGl0OiBib29sZWFuO1xuICBpc0JvZHlXZWlnaHQ6IGJvb2xlYW47XG4gIGxvZ1N1Ym1pdHRlZDogYm9vbGVhbjtcbiAgbG9nSXNFZGl0aW5nOiBib29sZWFuO1xuICBpc0NvbXBsZXRlZDogYm9vbGVhbjtcbiAgb3JkZXI/OiBudW1iZXI7XG4gIGNvbXBsZXRlZEF0OiBEYXRlO1xuICBjcmVhdGVkQXQ6IERhdGU7XG4gIHVwZGF0ZWRBdDogRGF0ZTtcblxuICBjb25zdHJ1Y3RvcihkYXRhOiBhbnkpIHtcbiAgICB0aGlzLmlkID0gZGF0YS5pZCB8fCAnJztcbiAgICB0aGlzLndvcmtvdXRJZCA9IGRhdGEud29ya291dElkIHx8ICcnO1xuICAgIHRoaXMudXNlcklkID0gZGF0YS51c2VySWQgfHwgJyc7XG4gICAgdGhpcy5leGVyY2lzZSA9IEV4ZXJjaXNlLmZyb21GaXJlYmFzZShkYXRhLmV4ZXJjaXNlIHx8IHt9KTtcbiAgICB0aGlzLmxvZ3MgPSAoZGF0YS5sb2dzIHx8IFtdKS5tYXAoKGxvZzogYW55KSA9PiBSZXBzQW5kV2VpZ2h0TG9nLmZyb21GaXJlYmFzZShsb2cpKTtcbiAgICB0aGlzLmZlZWRiYWNrID0gZGF0YS5mZWVkYmFjayB8fCAnJztcbiAgICB0aGlzLm5vdGUgPSBkYXRhLm5vdGUgfHwgJyc7XG4gICAgdGhpcy5yZWNvbW1lbmRlZFdlaWdodCA9IGRhdGEucmVjb21tZW5kZWRXZWlnaHQ7XG4gICAgdGhpcy5pc1NwbGl0ID0gZGF0YS5pc1NwbGl0IHx8IGZhbHNlO1xuICAgIHRoaXMuaXNCb2R5V2VpZ2h0ID0gZGF0YS5pc0JvZHlXZWlnaHQgfHwgZmFsc2U7XG4gICAgdGhpcy5sb2dTdWJtaXR0ZWQgPSBkYXRhLmxvZ1N1Ym1pdHRlZCB8fCBmYWxzZTtcbiAgICB0aGlzLmxvZ0lzRWRpdGluZyA9IGRhdGEubG9nSXNFZGl0aW5nIHx8IGZhbHNlO1xuICAgIHRoaXMuaXNDb21wbGV0ZWQgPSBkYXRhLmlzQ29tcGxldGVkIHx8IGZhbHNlO1xuICAgIHRoaXMub3JkZXIgPSBkYXRhLm9yZGVyO1xuICAgIHRoaXMuY29tcGxldGVkQXQgPSBjb252ZXJ0RmlyZXN0b3JlVGltZXN0YW1wKGRhdGEuY29tcGxldGVkQXQpO1xuICAgIHRoaXMuY3JlYXRlZEF0ID0gY29udmVydEZpcmVzdG9yZVRpbWVzdGFtcChkYXRhLmNyZWF0ZWRBdCk7XG4gICAgdGhpcy51cGRhdGVkQXQgPSBjb252ZXJ0RmlyZXN0b3JlVGltZXN0YW1wKGRhdGEudXBkYXRlZEF0KTtcbiAgfVxuXG4gIHN0YXRpYyBmcm9tRmlyZWJhc2UoZGF0YTogYW55KTogRXhlcmNpc2VMb2cge1xuICAgIGlmICghZGF0YSkge1xuICAgICAgLy8gUmV0dXJuIGEgZGVmYXVsdCBFeGVyY2lzZUxvZyBpbnN0ZWFkIG9mIG51bGxcbiAgICAgIHJldHVybiBuZXcgRXhlcmNpc2VMb2coe30pO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gbmV3IEV4ZXJjaXNlTG9nKHtcbiAgICAgIGlkOiBkYXRhLmlkIHx8ICcnLFxuICAgICAgd29ya291dElkOiBkYXRhLndvcmtvdXRJZCB8fCAnJyxcbiAgICAgIHVzZXJJZDogZGF0YS51c2VySWQgfHwgJycsXG4gICAgICBleGVyY2lzZTogZGF0YS5leGVyY2lzZSB8fCB7fSxcbiAgICAgIGxvZ3M6IGRhdGEubG9ncyB8fCBbXSxcbiAgICAgIGZlZWRiYWNrOiBkYXRhLmZlZWRiYWNrIHx8ICcnLFxuICAgICAgbm90ZTogZGF0YS5ub3RlIHx8ICcnLFxuICAgICAgcmVjb21tZW5kZWRXZWlnaHQ6IGRhdGEucmVjb21tZW5kZWRXZWlnaHQsXG4gICAgICBpc1NwbGl0OiBkYXRhLmlzU3BsaXQgfHwgZmFsc2UsXG4gICAgICBpc0JvZHlXZWlnaHQ6IGRhdGEuaXNCb2R5V2VpZ2h0IHx8IGZhbHNlLFxuICAgICAgbG9nU3VibWl0dGVkOiBkYXRhLmxvZ1N1Ym1pdHRlZCB8fCBmYWxzZSxcbiAgICAgIGxvZ0lzRWRpdGluZzogZGF0YS5sb2dJc0VkaXRpbmcgfHwgZmFsc2UsXG4gICAgICBpc0NvbXBsZXRlZDogZGF0YS5pc0NvbXBsZXRlZCB8fCBmYWxzZSxcbiAgICAgIG9yZGVyOiBkYXRhLm9yZGVyLFxuICAgICAgY29tcGxldGVkQXQ6IGRhdGEuY29tcGxldGVkQXQsXG4gICAgICBjcmVhdGVkQXQ6IGRhdGEuY3JlYXRlZEF0LFxuICAgICAgdXBkYXRlZEF0OiBkYXRhLnVwZGF0ZWRBdFxuICAgIH0pO1xuICB9XG5cbiAgdG9EaWN0aW9uYXJ5KCk6IHsgW2tleTogc3RyaW5nXTogYW55IH0ge1xuICAgIGNvbnN0IGRhdGE6IHsgW2tleTogc3RyaW5nXTogYW55IH0gPSB7XG4gICAgICBpZDogdGhpcy5pZCxcbiAgICAgIHdvcmtvdXRJZDogdGhpcy53b3Jrb3V0SWQsXG4gICAgICB1c2VySWQ6IHRoaXMudXNlcklkLFxuICAgICAgZXhlcmNpc2U6IHRoaXMuZXhlcmNpc2UudG9EaWN0aW9uYXJ5KCksXG4gICAgICBsb2dzOiB0aGlzLmxvZ3MubWFwKGxvZyA9PiBsb2cudG9EaWN0aW9uYXJ5KCkpLFxuICAgICAgZmVlZGJhY2s6IHRoaXMuZmVlZGJhY2ssXG4gICAgICBub3RlOiB0aGlzLm5vdGUsXG4gICAgICBpc1NwbGl0OiB0aGlzLmlzU3BsaXQsXG4gICAgICBpc0JvZHlXZWlnaHQ6IHRoaXMuaXNCb2R5V2VpZ2h0LFxuICAgICAgbG9nU3VibWl0dGVkOiB0aGlzLmxvZ1N1Ym1pdHRlZCxcbiAgICAgIGxvZ0lzRWRpdGluZzogdGhpcy5sb2dJc0VkaXRpbmcsXG4gICAgICBpc0NvbXBsZXRlZDogdGhpcy5pc0NvbXBsZXRlZCxcbiAgICAgIGNyZWF0ZWRBdDogdGhpcy5jcmVhdGVkQXQuZ2V0VGltZSgpLFxuICAgICAgdXBkYXRlZEF0OiB0aGlzLnVwZGF0ZWRBdC5nZXRUaW1lKCksXG4gICAgICBjb21wbGV0ZWRBdDogdGhpcy5jb21wbGV0ZWRBdC5nZXRUaW1lKClcbiAgICB9O1xuXG4gICAgaWYgKHRoaXMucmVjb21tZW5kZWRXZWlnaHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgZGF0YS5yZWNvbW1lbmRlZFdlaWdodCA9IHRoaXMucmVjb21tZW5kZWRXZWlnaHQ7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMub3JkZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgZGF0YS5vcmRlciA9IHRoaXMub3JkZXI7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBXZWlnaHRUcmFpbmluZ0V4ZXJjaXNlIHtcbiAgcmVwczogc3RyaW5nO1xuICBzZXRzOiBudW1iZXI7XG4gIHdlaWdodDogbnVtYmVyO1xuICBzY3JlZW5UaW1lOiBudW1iZXI7XG4gIHNlbGVjdGVkVmlkZW8/OiBFeGVyY2lzZVZpZGVvO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENhcmRpb0V4ZXJjaXNlIHtcbiAgZHVyYXRpb246IG51bWJlcjtcbiAgYnBtOiBudW1iZXI7XG4gIGNhbG9yaWVzOiBudW1iZXI7XG4gIHNjcmVlblRpbWU6IG51bWJlcjtcbiAgc2VsZWN0ZWRWaWRlbz86IEV4ZXJjaXNlVmlkZW87XG59XG5cbmV4cG9ydCB0eXBlIEV4ZXJjaXNlQ2F0ZWdvcnkgPSBcbiAgfCB7IHR5cGU6ICd3ZWlnaHRUcmFpbmluZycsIGRldGFpbHM/OiBXZWlnaHRUcmFpbmluZ0V4ZXJjaXNlIH1cbiAgfCB7IHR5cGU6ICdjYXJkaW8nLCBkZXRhaWxzPzogQ2FyZGlvRXhlcmNpc2UgfTtcblxuLy8gSGVscGVyIGZ1bmN0aW9ucyB0byBtaW1pYyBTd2lmdCBlbnVtIGJlaGF2aW9yXG5leHBvcnQgY29uc3QgRXhlcmNpc2VDYXRlZ29yeSA9IHtcbiAgd2VpZ2h0VHJhaW5pbmc6IChkZXRhaWxzPzogV2VpZ2h0VHJhaW5pbmdFeGVyY2lzZSk6IEV4ZXJjaXNlQ2F0ZWdvcnkgPT4gKHtcbiAgICB0eXBlOiAnd2VpZ2h0VHJhaW5pbmcnLFxuICAgIGRldGFpbHNcbiAgfSksXG4gIGNhcmRpbzogKGRldGFpbHM/OiBDYXJkaW9FeGVyY2lzZSk6IEV4ZXJjaXNlQ2F0ZWdvcnkgPT4gKHtcbiAgICB0eXBlOiAnY2FyZGlvJyxcbiAgICBkZXRhaWxzXG4gIH0pLFxuXG4gIGZyb21JZGVudGlmaWVyOiAoaWRlbnRpZmllcjogc3RyaW5nKTogRXhlcmNpc2VDYXRlZ29yeSB8IG51bGwgPT4ge1xuICAgIHN3aXRjaCAoaWRlbnRpZmllcikge1xuICAgICAgY2FzZSAnd2VpZ2h0LXRyYWluaW5nJzpcbiAgICAgICAgcmV0dXJuIEV4ZXJjaXNlQ2F0ZWdvcnkud2VpZ2h0VHJhaW5pbmcoe1xuICAgICAgICAgIHJlcHM6ICcxMicsXG4gICAgICAgICAgc2V0czogMyxcbiAgICAgICAgICB3ZWlnaHQ6IDAuMCwgXG4gICAgICAgICAgc2NyZWVuVGltZTogMCxcbiAgICAgICAgICBzZWxlY3RlZFZpZGVvOiB1bmRlZmluZWRcbiAgICAgICAgfSk7XG4gICAgICBjYXNlICdjYXJkaW8nOlxuICAgICAgICByZXR1cm4gRXhlcmNpc2VDYXRlZ29yeS5jYXJkaW8oe1xuICAgICAgICAgIGR1cmF0aW9uOiAyMCxcbiAgICAgICAgICBicG06IDEyNSxcbiAgICAgICAgICBjYWxvcmllczogMCxcbiAgICAgICAgICBzY3JlZW5UaW1lOiAwLFxuICAgICAgICAgIHNlbGVjdGVkVmlkZW86IHVuZGVmaW5lZFxuICAgICAgICB9KTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfSxcblxuICBpZGVudGlmaWVyOiAoY2F0ZWdvcnk6IEV4ZXJjaXNlQ2F0ZWdvcnkpOiBzdHJpbmcgPT4ge1xuICAgIHN3aXRjaCAoY2F0ZWdvcnkudHlwZSkge1xuICAgICAgY2FzZSAnd2VpZ2h0VHJhaW5pbmcnOlxuICAgICAgICByZXR1cm4gJ3dlaWdodC10cmFpbmluZyc7XG4gICAgICBjYXNlICdjYXJkaW8nOlxuICAgICAgICByZXR1cm4gJ2NhcmRpbyc7XG4gICAgfVxuICB9XG59O1xuXG4vLyBVc2FnZSBleGFtcGxlczpcbi8vIGNvbnN0IHdlaWdodFRyYWluaW5nID0gRXhlcmNpc2VDYXRlZ29yeS53ZWlnaHRUcmFpbmluZyh7IHJlcHM6ICcxMCcsIHNldHM6IDMsIHdlaWdodDogNTAgfSk7XG4vLyBjb25zdCBjYXJkaW8gPSBFeGVyY2lzZUNhdGVnb3J5LmNhcmRpbyh7IGR1cmF0aW9uOiAzMCwgYnBtOiAxNDAsIGNhbG9yaWVzOiAzMDAgfSk7XG4vLyBjb25zdCBmcm9tSWQgPSBFeGVyY2lzZUNhdGVnb3J5LmZyb21JZGVudGlmaWVyKCd3ZWlnaHQtdHJhaW5pbmcnKTtcbi8vIGNvbnN0IGlkID0gRXhlcmNpc2VDYXRlZ29yeS5pZGVudGlmaWVyKHdlaWdodFRyYWluaW5nKTtcblxuXG5leHBvcnQgY2xhc3MgRXhlcmNpc2Uge1xuICBpZDogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gIGNhdGVnb3J5OiBFeGVyY2lzZUNhdGVnb3J5O1xuICBwcmltYXJ5Qm9keVBhcnRzOiBCb2R5UGFydFtdO1xuICBzZWNvbmRhcnlCb2R5UGFydHM6IEJvZHlQYXJ0W107XG4gIHRhZ3M6IHN0cmluZ1tdO1xuICB2aWRlb3M6IEV4ZXJjaXNlVmlkZW9bXTtcbiAgc3RlcHM6IHN0cmluZ1tdO1xuICB2aXNpYmlsaXR5OiBFeGVyY2lzZVZpc2liaWxpdHk7XG4gIGN1cnJlbnRWaWRlb1Bvc2l0aW9uOiBudW1iZXI7XG4gIHNldHM6IG51bWJlcjtcbiAgcmVwczogc3RyaW5nO1xuICB3ZWlnaHQ6IG51bWJlcjtcbiAgYXV0aG9yOiBFeGVyY2lzZUF1dGhvcjtcbiAgY3JlYXRlZEF0OiBEYXRlO1xuICB1cGRhdGVkQXQ6IERhdGU7XG5cbiAgY29uc3RydWN0b3IoZGF0YTogYW55KSB7XG4gICAgdGhpcy5pZCA9IGRhdGEuaWQgfHwgJyc7XG4gICAgdGhpcy5uYW1lID0gZGF0YS5uYW1lIHx8ICcnO1xuICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkYXRhLmRlc2NyaXB0aW9uIHx8ICcnO1xuICAgIHRoaXMucHJpbWFyeUJvZHlQYXJ0cyA9IChkYXRhLnByaW1hcnlCb2R5UGFydHMgfHwgW10pIGFzIEJvZHlQYXJ0W107XG4gICAgdGhpcy5zZWNvbmRhcnlCb2R5UGFydHMgPSAoZGF0YS5zZWNvbmRhcnlCb2R5UGFydHMgfHwgW10pIGFzIEJvZHlQYXJ0W107XG4gICAgdGhpcy50YWdzID0gZGF0YS50YWdzIHx8IFtdO1xuICAgIHRoaXMudmlkZW9zID0gKGRhdGEudmlkZW9zIHx8IFtdKS5tYXAoKHZpZGVvOiBhbnkpID0+IEV4ZXJjaXNlVmlkZW8uZnJvbUZpcmViYXNlKHZpZGVvKSk7XG4gICAgdGhpcy5zdGVwcyA9IGRhdGEuc3RlcHMgfHwgW107XG4gICAgdGhpcy52aXNpYmlsaXR5ID0gZGF0YS52aXNpYmlsaXR5IHx8ICdsaXZlJztcbiAgICB0aGlzLmN1cnJlbnRWaWRlb1Bvc2l0aW9uID0gZGF0YS5jdXJyZW50VmlkZW9Qb3NpdGlvbiB8fCAwO1xuICAgIHRoaXMuc2V0cyA9IGRhdGEuc2V0cyB8fCAwO1xuICAgIHRoaXMucmVwcyA9IGRhdGEucmVwcyB8fCAnJztcbiAgICB0aGlzLndlaWdodCA9IGRhdGEud2VpZ2h0IHx8IDA7XG4gICAgdGhpcy5hdXRob3IgPSBFeGVyY2lzZUF1dGhvci5mcm9tRmlyZWJhc2UoZGF0YS5hdXRob3IgfHwge30pO1xuICAgIHRoaXMuY3JlYXRlZEF0ID0gY29udmVydEZpcmVzdG9yZVRpbWVzdGFtcChkYXRhLmNyZWF0ZWRBdCk7XG4gICAgdGhpcy51cGRhdGVkQXQgPSBjb252ZXJ0RmlyZXN0b3JlVGltZXN0YW1wKGRhdGEudXBkYXRlZEF0KTtcblxuICAgIC8vIEhhbmRsZSBjYXRlZ29yeSBwYXJzaW5nXG4gICAgY29uc3QgY2F0ZWdvcnlEYXRhID0gZGF0YS5jYXRlZ29yeSB8fCB7fTtcbiAgICBjb25zdCBjYXRlZ29yeUlkID0gY2F0ZWdvcnlEYXRhLmlkO1xuXG4gICAgc3dpdGNoIChjYXRlZ29yeUlkKSB7XG4gICAgICBjYXNlICd3ZWlnaHQtdHJhaW5pbmcnOlxuICAgICAgICB0aGlzLmNhdGVnb3J5ID0gRXhlcmNpc2VDYXRlZ29yeS53ZWlnaHRUcmFpbmluZyh7XG4gICAgICAgICAgcmVwczogY2F0ZWdvcnlEYXRhLnJlcHMgfHwgJzEyJyxcbiAgICAgICAgICBzZXRzOiBjYXRlZ29yeURhdGEuc2V0cyB8fCAzLFxuICAgICAgICAgIHdlaWdodDogY2F0ZWdvcnlEYXRhLndlaWdodCB8fCAwLFxuICAgICAgICAgIHNjcmVlblRpbWU6IGNhdGVnb3J5RGF0YS5zY3JlZW5UaW1lIHx8IDAsXG4gICAgICAgICAgc2VsZWN0ZWRWaWRlbzogY2F0ZWdvcnlEYXRhLnNlbGVjdGVkVmlkZW8gXG4gICAgICAgICAgICA/IEV4ZXJjaXNlVmlkZW8uZnJvbUZpcmViYXNlKGNhdGVnb3J5RGF0YS5zZWxlY3RlZFZpZGVvKVxuICAgICAgICAgICAgOiB1bmRlZmluZWRcbiAgICAgICAgfSk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdjYXJkaW8nOlxuICAgICAgICB0aGlzLmNhdGVnb3J5ID0gRXhlcmNpc2VDYXRlZ29yeS5jYXJkaW8oe1xuICAgICAgICAgIGR1cmF0aW9uOiBjYXRlZ29yeURhdGEuZHVyYXRpb24gfHwgMCxcbiAgICAgICAgICBicG06IGNhdGVnb3J5RGF0YS5icG0gfHwgMCxcbiAgICAgICAgICBjYWxvcmllczogY2F0ZWdvcnlEYXRhLmNhbG9yaWVzIHx8IDAsXG4gICAgICAgICAgc2NyZWVuVGltZTogY2F0ZWdvcnlEYXRhLnNjcmVlblRpbWUgfHwgMCxcbiAgICAgICAgICBzZWxlY3RlZFZpZGVvOiBjYXRlZ29yeURhdGEuc2VsZWN0ZWRWaWRlbyBcbiAgICAgICAgICAgID8gRXhlcmNpc2VWaWRlby5mcm9tRmlyZWJhc2UoY2F0ZWdvcnlEYXRhLnNlbGVjdGVkVmlkZW8pXG4gICAgICAgICAgICA6IHVuZGVmaW5lZFxuICAgICAgICB9KTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRoaXMuY2F0ZWdvcnkgPSBFeGVyY2lzZUNhdGVnb3J5LndlaWdodFRyYWluaW5nKHtcbiAgICAgICAgICByZXBzOiAnMTInLFxuICAgICAgICAgIHNldHM6IDMsXG4gICAgICAgICAgd2VpZ2h0OiAwLFxuICAgICAgICAgIHNjcmVlblRpbWU6IDBcbiAgICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGZyb21GaXJlYmFzZShkYXRhOiBhbnkpOiBFeGVyY2lzZSB7XG4gICAgaWYgKCFkYXRhKSB7XG4gICAgICByZXR1cm4gbmV3IEV4ZXJjaXNlKHt9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IEV4ZXJjaXNlKHtcbiAgICAgIGlkOiBkYXRhLmlkIHx8ICcnLFxuICAgICAgbmFtZTogZGF0YS5uYW1lIHx8ICcnLFxuICAgICAgZGVzY3JpcHRpb246IGRhdGEuZGVzY3JpcHRpb24gfHwgJycsXG4gICAgICBjYXRlZ29yeTogZGF0YS5jYXRlZ29yeSB8fCB7fSxcbiAgICAgIHByaW1hcnlCb2R5UGFydHM6IGRhdGEucHJpbWFyeUJvZHlQYXJ0cyB8fCBbXSxcbiAgICAgIHNlY29uZGFyeUJvZHlQYXJ0czogZGF0YS5zZWNvbmRhcnlCb2R5UGFydHMgfHwgW10sXG4gICAgICB0YWdzOiBkYXRhLnRhZ3MgfHwgW10sXG4gICAgICB2aWRlb3M6IGRhdGEudmlkZW9zIHx8IFtdLFxuICAgICAgc3RlcHM6IGRhdGEuc3RlcHMgfHwgW10sXG4gICAgICB2aXNpYmlsaXR5OiBkYXRhLnZpc2liaWxpdHkgfHwgW10sXG4gICAgICBjdXJyZW50VmlkZW9Qb3NpdGlvbjogZGF0YS5jdXJyZW50VmlkZW9Qb3NpdGlvbiB8fCAwLFxuICAgICAgc2V0czogZGF0YS5zZXRzIHx8IDAsXG4gICAgICByZXBzOiBkYXRhLnJlcHMgfHwgJycsXG4gICAgICB3ZWlnaHQ6IGRhdGEud2VpZ2h0IHx8IDAsXG4gICAgICBhdXRob3I6IGRhdGEuYXV0aG9yIHx8IHt9LFxuICAgICAgY3JlYXRlZEF0OiBkYXRhLmNyZWF0ZWRBdCxcbiAgICAgIHVwZGF0ZWRBdDogZGF0YS51cGRhdGVkQXRcbiAgICB9KTtcbiAgfVxuXG4gIHRvRGljdGlvbmFyeSgpOiB7IFtrZXk6IHN0cmluZ106IGFueSB9IHtcbiAgICBjb25zdCBkYXRhOiB7IFtrZXk6IHN0cmluZ106IGFueSB9ID0ge1xuICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICBkZXNjcmlwdGlvbjogdGhpcy5kZXNjcmlwdGlvbixcbiAgICAgIGNhdGVnb3J5OiB7XG4gICAgICAgIGlkOiB0aGlzLmNhdGVnb3J5LnR5cGUsXG4gICAgICAgIC4uLnRoaXMuY2F0ZWdvcnkuZGV0YWlscyxcbiAgICAgICAgc2VsZWN0ZWRWaWRlbzogdGhpcy5jYXRlZ29yeS5kZXRhaWxzPy5zZWxlY3RlZFZpZGVvPy50b0RpY3Rpb25hcnkoKVxuICAgICAgfSxcbiAgICAgIHByaW1hcnlCb2R5UGFydHM6IHRoaXMucHJpbWFyeUJvZHlQYXJ0cyxcbiAgICAgIHNlY29uZGFyeUJvZHlQYXJ0czogdGhpcy5zZWNvbmRhcnlCb2R5UGFydHMsXG4gICAgICB0YWdzOiB0aGlzLnRhZ3MsXG4gICAgICB2aWRlb3M6IHRoaXMudmlkZW9zLm1hcCh2aWRlbyA9PiB2aWRlby50b0RpY3Rpb25hcnkoKSksXG4gICAgICBzdGVwczogdGhpcy5zdGVwcyxcbiAgICAgIHZpc2liaWxpdHk6IHRoaXMudmlzaWJpbGl0eSxcbiAgICAgIGN1cnJlbnRWaWRlb1Bvc2l0aW9uOiB0aGlzLmN1cnJlbnRWaWRlb1Bvc2l0aW9uLFxuICAgICAgc2V0czogdGhpcy5zZXRzLFxuICAgICAgcmVwczogdGhpcy5yZXBzLFxuICAgICAgd2VpZ2h0OiB0aGlzLndlaWdodCxcbiAgICAgIGF1dGhvcjogdGhpcy5hdXRob3IudG9EaWN0aW9uYXJ5KCksXG4gICAgICBjcmVhdGVkQXQ6IHRoaXMuY3JlYXRlZEF0LmdldFRpbWUoKSxcbiAgICAgIHVwZGF0ZWRBdDogdGhpcy51cGRhdGVkQXQuZ2V0VGltZSgpXG4gICAgfTtcblxuICAgIHJldHVybiBkYXRhO1xuICB9XG59XG5cbi8vIHR5cGVzL0V4ZXJjaXNlVmlkZW8udHNcbmV4cG9ydCB0eXBlIEV4ZXJjaXNlVmlkZW9WaXNpYmlsaXR5ID0gJ29wZW4nIHwgJ3ByaXZhdGUnIHwgJ2ZvbGxvd2Vycyc7XG5cbi8vIEV4ZXJjaXNlVmlkZW8udHNcbmV4cG9ydCBjbGFzcyBFeGVyY2lzZVZpZGVvIHtcbiAgaWQ6IHN0cmluZztcbiAgZXhlcmNpc2VJZDogc3RyaW5nO1xuICB1c2VybmFtZTogc3RyaW5nO1xuICB1c2VySWQ6IHN0cmluZztcbiAgdmlkZW9VUkw6IHN0cmluZztcbiAgZmlsZU5hbWU6IHN0cmluZztcbiAgZXhlcmNpc2U6IHN0cmluZztcbiAgcHJvZmlsZUltYWdlOiBQcm9maWxlSW1hZ2U7XG4gIGNhcHRpb24/OiBzdHJpbmc7XG4gIGdpZlVSTD86IHN0cmluZztcbiAgdGh1bWJuYWlsPzogc3RyaW5nO1xuICB2aXNpYmlsaXR5OiBFeGVyY2lzZVZpZGVvVmlzaWJpbGl0eTtcbiAgdG90YWxBY2NvdW50c1JlYWNoZWQ6IG51bWJlcjtcbiAgdG90YWxBY2NvdW50TGlrZXM6IG51bWJlcjtcbiAgdG90YWxBY2NvdW50Qm9va21hcmtlZDogbnVtYmVyO1xuICB0b3RhbEFjY291bnRVc2FnZTogbnVtYmVyO1xuICBpc0FwcHJvdmVkOiBib29sZWFuO1xuICBsaWtlZD86IGJvb2xlYW47XG4gIGJvb2ttYXJrZWQ/OiBib29sZWFuO1xuICBjcmVhdGVkQXQ6IERhdGU7XG4gIHVwZGF0ZWRBdDogRGF0ZTtcblxuICBjb25zdHJ1Y3RvcihkYXRhOiBhbnkpIHtcbiAgICB0aGlzLmlkID0gZGF0YS5pZCB8fCAnJztcbiAgICB0aGlzLmV4ZXJjaXNlSWQgPSBkYXRhLmV4ZXJjaXNlSWQgfHwgJyc7XG4gICAgdGhpcy51c2VybmFtZSA9IGRhdGEudXNlcm5hbWUgfHwgJyc7XG4gICAgdGhpcy51c2VySWQgPSBkYXRhLnVzZXJJZCB8fCAnJztcbiAgICB0aGlzLnZpZGVvVVJMID0gZGF0YS52aWRlb1VSTCB8fCAnJztcbiAgICB0aGlzLmZpbGVOYW1lID0gZGF0YS5maWxlTmFtZSB8fCAnJztcbiAgICB0aGlzLmV4ZXJjaXNlID0gZGF0YS5leGVyY2lzZSB8fCAnJztcbiAgICB0aGlzLnByb2ZpbGVJbWFnZSA9IFByb2ZpbGVJbWFnZS5mcm9tRmlyZWJhc2UoZGF0YS5wcm9maWxlSW1hZ2UgfHwge30pO1xuICAgIHRoaXMuY2FwdGlvbiA9IGRhdGEuY2FwdGlvbjtcbiAgICB0aGlzLmdpZlVSTCA9IGRhdGEuZ2lmVVJMO1xuICAgIHRoaXMudGh1bWJuYWlsID0gZGF0YS50aHVtYm5haWw7XG4gICAgdGhpcy52aXNpYmlsaXR5ID0gZGF0YS52aXNpYmlsaXR5IGFzIEV4ZXJjaXNlVmlkZW9WaXNpYmlsaXR5IHx8ICdwcml2YXRlJztcbiAgICB0aGlzLnRvdGFsQWNjb3VudHNSZWFjaGVkID0gZGF0YS50b3RhbEFjY291bnRzUmVhY2hlZCB8fCAwO1xuICAgIHRoaXMudG90YWxBY2NvdW50TGlrZXMgPSBkYXRhLnRvdGFsQWNjb3VudExpa2VzIHx8IDA7XG4gICAgdGhpcy50b3RhbEFjY291bnRCb29rbWFya2VkID0gZGF0YS50b3RhbEFjY291bnRCb29rbWFya2VkIHx8IDA7XG4gICAgdGhpcy50b3RhbEFjY291bnRVc2FnZSA9IGRhdGEudG90YWxBY2NvdW50VXNhZ2UgfHwgMDtcbiAgICB0aGlzLmlzQXBwcm92ZWQgPSBkYXRhLmlzQXBwcm92ZWQgfHwgZmFsc2U7XG4gICAgdGhpcy5saWtlZCA9IGRhdGEubGlrZWQgfHwgZmFsc2U7XG4gICAgdGhpcy5ib29rbWFya2VkID0gZGF0YS5ib29rbWFya2VkIHx8IGZhbHNlO1xuICAgIHRoaXMuY3JlYXRlZEF0ID0gY29udmVydEZpcmVzdG9yZVRpbWVzdGFtcChkYXRhLmNyZWF0ZWRBdCk7XG4gICAgdGhpcy51cGRhdGVkQXQgPSBjb252ZXJ0RmlyZXN0b3JlVGltZXN0YW1wKGRhdGEudXBkYXRlZEF0KTtcbiAgfVxuXG4gIHN0YXRpYyBmcm9tRmlyZWJhc2UoZGF0YTogYW55KTogRXhlcmNpc2VWaWRlbyB7XG4gICAgaWYgKCFkYXRhKSB7XG4gICAgICByZXR1cm4gbmV3IEV4ZXJjaXNlVmlkZW8oe30pO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgRXhlcmNpc2VWaWRlbyh7XG4gICAgICBpZDogZGF0YS5pZCB8fCAnJyxcbiAgICAgIGV4ZXJjaXNlSWQ6IGRhdGEuZXhlcmNpc2VJZCB8fCAnJyxcbiAgICAgIHVzZXJuYW1lOiBkYXRhLnVzZXJuYW1lIHx8ICcnLFxuICAgICAgdXNlcklkOiBkYXRhLnVzZXJJZCB8fCAnJyxcbiAgICAgIHZpZGVvVVJMOiBkYXRhLnZpZGVvVVJMIHx8ICcnLFxuICAgICAgZmlsZU5hbWU6IGRhdGEuZmlsZU5hbWUgfHwgJycsXG4gICAgICBleGVyY2lzZTogZGF0YS5leGVyY2lzZSB8fCAnJyxcbiAgICAgIHByb2ZpbGVJbWFnZTogZGF0YS5wcm9maWxlSW1hZ2UgfHwge30sXG4gICAgICBjYXB0aW9uOiBkYXRhLmNhcHRpb24sXG4gICAgICBnaWZVUkw6IGRhdGEuZ2lmVVJMLFxuICAgICAgdGh1bWJuYWlsOiBkYXRhLnRodW1ibmFpbCxcbiAgICAgIHZpc2liaWxpdHk6IGRhdGEudmlzaWJpbGl0eSB8fCAncHJpdmF0ZScsXG4gICAgICB0b3RhbEFjY291bnRzUmVhY2hlZDogZGF0YS50b3RhbEFjY291bnRzUmVhY2hlZCB8fCAwLFxuICAgICAgdG90YWxBY2NvdW50TGlrZXM6IGRhdGEudG90YWxBY2NvdW50TGlrZXMgfHwgMCxcbiAgICAgIHRvdGFsQWNjb3VudEJvb2ttYXJrZWQ6IGRhdGEudG90YWxBY2NvdW50Qm9va21hcmtlZCB8fCAwLFxuICAgICAgdG90YWxBY2NvdW50VXNhZ2U6IGRhdGEudG90YWxBY2NvdW50VXNhZ2UgfHwgMCxcbiAgICAgIGlzQXBwcm92ZWQ6IGRhdGEuaXNBcHByb3ZlZCB8fCBmYWxzZSxcbiAgICAgIGxpa2VkOiBkYXRhLmxpa2VkIHx8IGZhbHNlLFxuICAgICAgYm9va21hcmtlZDogZGF0YS5ib29rbWFya2VkIHx8IGZhbHNlLFxuICAgICAgY3JlYXRlZEF0OiBkYXRhLmNyZWF0ZWRBdCxcbiAgICAgIHVwZGF0ZWRBdDogZGF0YS51cGRhdGVkQXRcbiAgICB9KTtcbiAgfVxuXG4gIHRvRGljdGlvbmFyeSgpOiB7IFtrZXk6IHN0cmluZ106IGFueSB9IHtcbiAgICBjb25zdCBkYXRhOiB7IFtrZXk6IHN0cmluZ106IGFueSB9ID0ge1xuICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICBleGVyY2lzZUlkOiB0aGlzLmV4ZXJjaXNlSWQsXG4gICAgICB1c2VybmFtZTogdGhpcy51c2VybmFtZSxcbiAgICAgIHVzZXJJZDogdGhpcy51c2VySWQsXG4gICAgICB2aWRlb1VSTDogdGhpcy52aWRlb1VSTCxcbiAgICAgIGZpbGVOYW1lOiB0aGlzLmZpbGVOYW1lLFxuICAgICAgZXhlcmNpc2U6IHRoaXMuZXhlcmNpc2UsXG4gICAgICBwcm9maWxlSW1hZ2U6IHRoaXMucHJvZmlsZUltYWdlLnRvRGljdGlvbmFyeSgpLFxuICAgICAgdmlzaWJpbGl0eTogdGhpcy52aXNpYmlsaXR5LFxuICAgICAgdG90YWxBY2NvdW50c1JlYWNoZWQ6IHRoaXMudG90YWxBY2NvdW50c1JlYWNoZWQsXG4gICAgICB0b3RhbEFjY291bnRMaWtlczogdGhpcy50b3RhbEFjY291bnRMaWtlcyxcbiAgICAgIHRvdGFsQWNjb3VudEJvb2ttYXJrZWQ6IHRoaXMudG90YWxBY2NvdW50Qm9va21hcmtlZCxcbiAgICAgIHRvdGFsQWNjb3VudFVzYWdlOiB0aGlzLnRvdGFsQWNjb3VudFVzYWdlLFxuICAgICAgaXNBcHByb3ZlZDogdGhpcy5pc0FwcHJvdmVkLFxuICAgICAgY3JlYXRlZEF0OiB0aGlzLmNyZWF0ZWRBdC5nZXRUaW1lKCksXG4gICAgICB1cGRhdGVkQXQ6IHRoaXMudXBkYXRlZEF0LmdldFRpbWUoKVxuICAgIH07XG5cbiAgICBpZiAodGhpcy5jYXB0aW9uKSBkYXRhLmNhcHRpb24gPSB0aGlzLmNhcHRpb247XG4gICAgaWYgKHRoaXMuZ2lmVVJMKSBkYXRhLmdpZlVSTCA9IHRoaXMuZ2lmVVJMO1xuICAgIGlmICh0aGlzLnRodW1ibmFpbCkgZGF0YS50aHVtYm5haWwgPSB0aGlzLnRodW1ibmFpbDtcbiAgICBpZiAodGhpcy5saWtlZCAhPT0gdW5kZWZpbmVkKSBkYXRhLmxpa2VkID0gdGhpcy5saWtlZDtcbiAgICBpZiAodGhpcy5ib29rbWFya2VkICE9PSB1bmRlZmluZWQpIGRhdGEuYm9va21hcmtlZCA9IHRoaXMuYm9va21hcmtlZDtcblxuICAgIHJldHVybiBkYXRhO1xuICB9XG59XG5cbi8vIEV4ZXJjaXNlQXV0aG9yLnRzXG5leHBvcnQgY2xhc3MgRXhlcmNpc2VBdXRob3Ige1xuICB1c2VySWQ6IHN0cmluZztcbiAgdXNlcm5hbWU6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihkYXRhOiBhbnkpIHtcbiAgICB0aGlzLnVzZXJJZCA9IGRhdGEudXNlcklkIHx8ICcnO1xuICAgIHRoaXMudXNlcm5hbWUgPSBkYXRhLnVzZXJuYW1lIHx8ICcnO1xuICB9XG5cbiAgc3RhdGljIGZyb21GaXJlYmFzZShkYXRhOiBhbnkpOiBFeGVyY2lzZUF1dGhvciB7XG4gICAgaWYgKCFkYXRhKSB7XG4gICAgICByZXR1cm4gbmV3IEV4ZXJjaXNlQXV0aG9yKHt9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IEV4ZXJjaXNlQXV0aG9yKHtcbiAgICAgIHVzZXJJZDogZGF0YS51c2VySWQgfHwgJycsXG4gICAgICB1c2VybmFtZTogZGF0YS51c2VybmFtZSB8fCAnJ1xuICAgIH0pO1xuICB9XG5cbiAgdG9EaWN0aW9uYXJ5KCk6IHsgW2tleTogc3RyaW5nXTogYW55IH0ge1xuICAgIHJldHVybiB7XG4gICAgICB1c2VySWQ6IHRoaXMudXNlcklkLFxuICAgICAgdXNlcm5hbWU6IHRoaXMudXNlcm5hbWVcbiAgICB9O1xuICB9XG59Il0sIm5hbWVzIjpbIlJlcHNBbmRXZWlnaHRMb2ciLCJQcm9maWxlSW1hZ2UiLCJjb252ZXJ0RmlyZXN0b3JlVGltZXN0YW1wIiwiQm9keVBhcnQiLCJpc0FkdmFuY2VkQm9keVBhcnQiLCJib2R5UGFydCIsImluY2x1ZGVzIiwiRXhlcmNpc2VMb2ciLCJkYXRhIiwiaWQiLCJ3b3Jrb3V0SWQiLCJ1c2VySWQiLCJleGVyY2lzZSIsIkV4ZXJjaXNlIiwiZnJvbUZpcmViYXNlIiwibG9ncyIsIm1hcCIsImxvZyIsImZlZWRiYWNrIiwibm90ZSIsInJlY29tbWVuZGVkV2VpZ2h0IiwiaXNTcGxpdCIsImlzQm9keVdlaWdodCIsImxvZ1N1Ym1pdHRlZCIsImxvZ0lzRWRpdGluZyIsImlzQ29tcGxldGVkIiwib3JkZXIiLCJjb21wbGV0ZWRBdCIsImNyZWF0ZWRBdCIsInVwZGF0ZWRBdCIsInRvRGljdGlvbmFyeSIsImdldFRpbWUiLCJ1bmRlZmluZWQiLCJFeGVyY2lzZUNhdGVnb3J5Iiwid2VpZ2h0VHJhaW5pbmciLCJkZXRhaWxzIiwidHlwZSIsImNhcmRpbyIsImZyb21JZGVudGlmaWVyIiwiaWRlbnRpZmllciIsInJlcHMiLCJzZXRzIiwid2VpZ2h0Iiwic2NyZWVuVGltZSIsInNlbGVjdGVkVmlkZW8iLCJkdXJhdGlvbiIsImJwbSIsImNhbG9yaWVzIiwiY2F0ZWdvcnkiLCJuYW1lIiwiZGVzY3JpcHRpb24iLCJwcmltYXJ5Qm9keVBhcnRzIiwic2Vjb25kYXJ5Qm9keVBhcnRzIiwidGFncyIsInZpZGVvcyIsInZpZGVvIiwiRXhlcmNpc2VWaWRlbyIsInN0ZXBzIiwidmlzaWJpbGl0eSIsImN1cnJlbnRWaWRlb1Bvc2l0aW9uIiwiYXV0aG9yIiwiRXhlcmNpc2VBdXRob3IiLCJjYXRlZ29yeURhdGEiLCJjYXRlZ29yeUlkIiwiZXhlcmNpc2VJZCIsInVzZXJuYW1lIiwidmlkZW9VUkwiLCJmaWxlTmFtZSIsInByb2ZpbGVJbWFnZSIsImNhcHRpb24iLCJnaWZVUkwiLCJ0aHVtYm5haWwiLCJ0b3RhbEFjY291bnRzUmVhY2hlZCIsInRvdGFsQWNjb3VudExpa2VzIiwidG90YWxBY2NvdW50Qm9va21hcmtlZCIsInRvdGFsQWNjb3VudFVzYWdlIiwiaXNBcHByb3ZlZCIsImxpa2VkIiwiYm9va21hcmtlZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/api/firebase/exercise/types.ts\n"));

/***/ }),

/***/ "./src/api/firebase/user/service.ts":
/*!******************************************!*\
  !*** ./src/api/firebase/user/service.ts ***!
  \******************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   userService: function() { return /* binding */ userService; }\n/* harmony export */ });\n/* harmony import */ var _swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @swc/helpers/_/_async_to_generator */ \"./node_modules/@swc/helpers/esm/_async_to_generator.js\");\n/* harmony import */ var _swc_helpers_class_call_check__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @swc/helpers/_/_class_call_check */ \"./node_modules/@swc/helpers/esm/_class_call_check.js\");\n/* harmony import */ var _swc_helpers_create_class__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @swc/helpers/_/_create_class */ \"./node_modules/@swc/helpers/esm/_create_class.js\");\n/* harmony import */ var _swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @swc/helpers/_/_object_spread */ \"./node_modules/@swc/helpers/esm/_object_spread.js\");\n/* harmony import */ var _swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @swc/helpers/_/_ts_generator */ \"./node_modules/@swc/helpers/esm/_ts_generator.js\");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types */ \"./src/api/firebase/user/types.ts\");\n/* harmony import */ var _exercise_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../exercise/types */ \"./src/api/firebase/exercise/types.ts\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! firebase/firestore */ \"./node_modules/firebase/firestore/dist/esm/index.esm.js\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../config */ \"./src/api/firebase/config.ts\");\n\n\n\n\n\n\n\n\n\nvar UserService = /*#__PURE__*/ function() {\n    \"use strict\";\n    function UserService() {\n        (0,_swc_helpers_class_call_check__WEBPACK_IMPORTED_MODULE_4__._)(this, UserService);\n        this._currentUser = null;\n    }\n    var _proto = UserService.prototype;\n    _proto.fetchUserFromFirestore = function fetchUserFromFirestore(userId) {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_5__._)(function() {\n            var userRef, userDoc;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_6__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        userRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(_config__WEBPACK_IMPORTED_MODULE_3__.db, \"users\", userId);\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDoc)(userRef)\n                        ];\n                    case 1:\n                        userDoc = _state.sent();\n                        if (!userDoc.exists()) {\n                            throw new Error(\"User not found\");\n                        }\n                        return [\n                            2,\n                            _types__WEBPACK_IMPORTED_MODULE_0__.User.fromFirebase(userDoc.data())\n                        ];\n                }\n            });\n        })();\n    };\n    _proto.updateUser = function updateUser(userId, user) {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_5__._)(function() {\n            var userRef;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_6__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        userRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(_config__WEBPACK_IMPORTED_MODULE_3__.db, \"users\", userId);\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.setDoc)(userRef, user.toFirestore(), {\n                                merge: true\n                            })\n                        ];\n                    case 1:\n                        _state.sent();\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    _proto.getUsersByIds = function getUsersByIds(ids) {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_5__._)(function() {\n            var users, chunkSize, i, chunk, usersRef, q, querySnapshot;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_6__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        if (!ids.length) return [\n                            2,\n                            []\n                        ];\n                        users = [];\n                        chunkSize = 10; // Firestore 'in' queries support up to 10 values\n                        i = 0;\n                        _state.label = 1;\n                    case 1:\n                        if (!(i < ids.length)) return [\n                            3,\n                            4\n                        ];\n                        chunk = ids.slice(i, i + chunkSize);\n                        usersRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(_config__WEBPACK_IMPORTED_MODULE_3__.db, \"users\");\n                        q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.query)(usersRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.where)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.documentId)(), \"in\", chunk));\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDocs)(q)\n                        ];\n                    case 2:\n                        querySnapshot = _state.sent();\n                        querySnapshot.docs.forEach(function(doc) {\n                            users.push(_types__WEBPACK_IMPORTED_MODULE_0__.User.fromFirebase((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_7__._)({\n                                id: doc.id\n                            }, doc.data())));\n                        });\n                        _state.label = 3;\n                    case 3:\n                        i += chunkSize;\n                        return [\n                            3,\n                            1\n                        ];\n                    case 4:\n                        return [\n                            2,\n                            users\n                        ];\n                }\n            });\n        })();\n    };\n    _proto.fetchUserVideos = function fetchUserVideos(userId) {\n        var _this = this;\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_5__._)(function() {\n            var _this_currentUser, currentUserId, exerciseVideosRef, q, videoSnapshot, videosByExerciseName, exercisesRef, exercisesSnapshot, userExercises, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_6__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        // Use current user's ID if no ID is provided\n                        currentUserId = userId || ((_this_currentUser = _this.currentUser) === null || _this_currentUser === void 0 ? void 0 : _this_currentUser.id);\n                        if (!currentUserId) {\n                            throw new Error(\"No user ID provided\");\n                        }\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            4,\n                            ,\n                            5\n                        ]);\n                        // Step 1: Fetch user's exercise videos\n                        exerciseVideosRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(_config__WEBPACK_IMPORTED_MODULE_3__.db, \"exerciseVideos\");\n                        q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.query)(exerciseVideosRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.where)(\"userId\", \"==\", currentUserId));\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDocs)(q)\n                        ];\n                    case 2:\n                        videoSnapshot = _state.sent();\n                        // Group videos by exercise name\n                        videosByExerciseName = {};\n                        videoSnapshot.docs.forEach(function(doc) {\n                            var videoData = doc.data();\n                            var exerciseName = videoData[\"exercise\"];\n                            if (!exerciseName) {\n                                console.warn(\"Exercise name missing for video \".concat(doc.id));\n                                return;\n                            }\n                            var video = {\n                                id: doc.id,\n                                exerciseId: videoData.exerciseId || \"\",\n                                username: videoData.username || \"\",\n                                userId: videoData.userId || \"\",\n                                videoURL: videoData.videoURL || \"\",\n                                fileName: videoData.fileName || \"\",\n                                exercise: exerciseName,\n                                profileImage: videoData.profileImage || {},\n                                caption: videoData.caption || \"\",\n                                gifURL: videoData.gifURL || \"\",\n                                thumbnail: videoData.thumbnail || \"\",\n                                visibility: videoData.visibility || \"open\",\n                                totalAccountsReached: videoData.totalAccountsReached || 0,\n                                totalAccountLikes: videoData.totalAccountLikes || 0,\n                                totalAccountBookmarked: videoData.totalAccountBookmarked || 0,\n                                totalAccountUsage: videoData.totalAccountUsage || 0,\n                                isApproved: videoData.isApproved || false,\n                                liked: videoData.liked || false,\n                                bookmarked: videoData.bookmarked || false,\n                                createdAt: videoData.createdAt ? new Date(videoData.createdAt) : new Date(),\n                                updatedAt: videoData.updatedAt ? new Date(videoData.updatedAt) : new Date()\n                            };\n                            if (!videosByExerciseName[exerciseName]) {\n                                videosByExerciseName[exerciseName] = [];\n                            }\n                            videosByExerciseName[exerciseName].push(video);\n                        });\n                        // Step 2: Fetch all exercises\n                        exercisesRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(_config__WEBPACK_IMPORTED_MODULE_3__.db, \"exercises\");\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDocs)(exercisesRef)\n                        ];\n                    case 3:\n                        exercisesSnapshot = _state.sent();\n                        // Step 3: Map videos to exercises\n                        userExercises = exercisesSnapshot.docs.map(function(doc) {\n                            var _exerciseData_author, _exerciseData_author1;\n                            var exerciseData = doc.data();\n                            var exerciseName = exerciseData.name;\n                            // Create base exercise\n                            // For the Exercise:\n                            var exercise = new _exercise_types__WEBPACK_IMPORTED_MODULE_1__.Exercise({\n                                id: doc.id,\n                                name: exerciseName,\n                                category: exerciseData.category,\n                                primaryBodyParts: exerciseData.primaryBodyParts || [],\n                                secondaryBodyParts: exerciseData.secondaryBodyParts || [],\n                                tags: exerciseData.tags || [],\n                                description: exerciseData.description || \"\",\n                                visibility: exerciseData.visibility || \"limited\",\n                                steps: exerciseData.steps || [],\n                                videos: videosByExerciseName[exerciseName] || [],\n                                currentVideoPosition: 0,\n                                reps: exerciseData.reps || \"\",\n                                sets: exerciseData.sets || 0,\n                                weight: exerciseData.weight || 0,\n                                author: new _exercise_types__WEBPACK_IMPORTED_MODULE_1__.ExerciseAuthor({\n                                    userId: ((_exerciseData_author = exerciseData.author) === null || _exerciseData_author === void 0 ? void 0 : _exerciseData_author.userId) || \"\",\n                                    username: ((_exerciseData_author1 = exerciseData.author) === null || _exerciseData_author1 === void 0 ? void 0 : _exerciseData_author1.username) || \"\"\n                                }),\n                                createdAt: exerciseData.createdAt ? new Date(exerciseData.createdAt) : new Date(),\n                                updatedAt: exerciseData.updatedAt ? new Date(exerciseData.updatedAt) : new Date()\n                            });\n                            return exercise;\n                        }).filter(function(exercise) {\n                            return exercise.videos.length > 0;\n                        });\n                        return [\n                            2,\n                            userExercises\n                        ];\n                    case 4:\n                        error = _state.sent();\n                        console.error(\"Error fetching user videos:\", error);\n                        throw error;\n                    case 5:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    _proto.fetchFollowing = function fetchFollowing() {\n        var _this = this;\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_5__._)(function() {\n            var currentUser, followRequestsRef, q, querySnapshot, followRequests, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_6__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        currentUser = _this.currentUser;\n                        if (!(currentUser === null || currentUser === void 0 ? void 0 : currentUser.id)) {\n                            throw new Error(\"No user is signed in\");\n                        }\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            3,\n                            ,\n                            4\n                        ]);\n                        followRequestsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(_config__WEBPACK_IMPORTED_MODULE_3__.db, \"followRequests\");\n                        q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.query)(followRequestsRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.where)(\"fromUser.id\", \"==\", currentUser.id));\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDocs)(q)\n                        ];\n                    case 2:\n                        querySnapshot = _state.sent();\n                        followRequests = querySnapshot.docs.map(function(doc) {\n                            var _data_fromUser, _data_fromUser1, _data_fromUser2, _data_toUser, _data_toUser1, _data_toUser2;\n                            var data = doc.data();\n                            return {\n                                fromUser: {\n                                    id: ((_data_fromUser = data.fromUser) === null || _data_fromUser === void 0 ? void 0 : _data_fromUser.id) || \"\",\n                                    username: ((_data_fromUser1 = data.fromUser) === null || _data_fromUser1 === void 0 ? void 0 : _data_fromUser1.username) || \"\",\n                                    displayName: ((_data_fromUser2 = data.fromUser) === null || _data_fromUser2 === void 0 ? void 0 : _data_fromUser2.displayName) || \"\"\n                                },\n                                toUser: {\n                                    id: ((_data_toUser = data.toUser) === null || _data_toUser === void 0 ? void 0 : _data_toUser.id) || \"\",\n                                    username: ((_data_toUser1 = data.toUser) === null || _data_toUser1 === void 0 ? void 0 : _data_toUser1.username) || \"\",\n                                    displayName: ((_data_toUser2 = data.toUser) === null || _data_toUser2 === void 0 ? void 0 : _data_toUser2.displayName) || \"\"\n                                },\n                                status: data.status || \"\",\n                                createdAt: data.createdAt instanceof Date ? data.createdAt : data.createdAt ? new Date(data.createdAt) : new Date(),\n                                updatedAt: data.updatedAt instanceof Date ? data.updatedAt : data.updatedAt ? new Date(data.updatedAt) : new Date()\n                            };\n                        });\n                        return [\n                            2,\n                            followRequests\n                        ];\n                    case 3:\n                        error = _state.sent();\n                        console.error(\"Error fetching following:\", error);\n                        throw error;\n                    case 4:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    _proto.fetchFollowers = function fetchFollowers() {\n        var _this = this;\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_5__._)(function() {\n            var currentUser, followRequestsRef, q, querySnapshot, followRequests, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_6__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        currentUser = _this.currentUser;\n                        if (!(currentUser === null || currentUser === void 0 ? void 0 : currentUser.id)) {\n                            throw new Error(\"No user is signed in\");\n                        }\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            3,\n                            ,\n                            4\n                        ]);\n                        followRequestsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(_config__WEBPACK_IMPORTED_MODULE_3__.db, \"followRequests\");\n                        q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.query)(followRequestsRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.where)(\"toUser.id\", \"==\", currentUser.id));\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDocs)(q)\n                        ];\n                    case 2:\n                        querySnapshot = _state.sent();\n                        followRequests = querySnapshot.docs.map(function(doc) {\n                            var _data_fromUser, _data_fromUser1, _data_fromUser2, _data_toUser, _data_toUser1, _data_toUser2;\n                            var data = doc.data();\n                            return {\n                                fromUser: {\n                                    id: ((_data_fromUser = data.fromUser) === null || _data_fromUser === void 0 ? void 0 : _data_fromUser.id) || \"\",\n                                    username: ((_data_fromUser1 = data.fromUser) === null || _data_fromUser1 === void 0 ? void 0 : _data_fromUser1.username) || \"\",\n                                    displayName: ((_data_fromUser2 = data.fromUser) === null || _data_fromUser2 === void 0 ? void 0 : _data_fromUser2.displayName) || \"\"\n                                },\n                                toUser: {\n                                    id: ((_data_toUser = data.toUser) === null || _data_toUser === void 0 ? void 0 : _data_toUser.id) || \"\",\n                                    username: ((_data_toUser1 = data.toUser) === null || _data_toUser1 === void 0 ? void 0 : _data_toUser1.username) || \"\",\n                                    displayName: ((_data_toUser2 = data.toUser) === null || _data_toUser2 === void 0 ? void 0 : _data_toUser2.displayName) || \"\"\n                                },\n                                status: data.status || \"\",\n                                createdAt: data.createdAt instanceof Date ? data.createdAt : data.createdAt ? new Date(data.createdAt) : new Date(),\n                                updatedAt: data.updatedAt instanceof Date ? data.updatedAt : data.updatedAt ? new Date(data.updatedAt) : new Date()\n                            };\n                        });\n                        return [\n                            2,\n                            followRequests\n                        ];\n                    case 3:\n                        error = _state.sent();\n                        console.error(\"Error fetching followers:\", error);\n                        throw error;\n                    case 4:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    /**\n   * Fetch user ID by username\n   * @param username The username to search for\n   * @returns Promise resolving to the user ID or null if not found\n   */ _proto.getUserIdByUsername = function getUserIdByUsername(username) {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_5__._)(function() {\n            var usersRef, q, querySnapshot, userDoc, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_6__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        _state.trys.push([\n                            0,\n                            2,\n                            ,\n                            3\n                        ]);\n                        usersRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(_config__WEBPACK_IMPORTED_MODULE_3__.db, \"users\");\n                        q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.query)(usersRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.where)(\"username\", \"==\", username), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.limit)(1));\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDocs)(q)\n                        ];\n                    case 1:\n                        querySnapshot = _state.sent();\n                        if (!querySnapshot.empty) {\n                            userDoc = querySnapshot.docs[0];\n                            return [\n                                2,\n                                userDoc.id\n                            ];\n                        }\n                        return [\n                            2,\n                            null\n                        ];\n                    case 2:\n                        error = _state.sent();\n                        console.error(\"Error fetching user ID by username:\", error);\n                        return [\n                            2,\n                            null\n                        ];\n                    case 3:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    _proto.fetchUsersWithVideosUploaded = function fetchUsersWithVideosUploaded() {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_5__._)(function() {\n            var usersRef, q, querySnapshot, users, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_6__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        _state.trys.push([\n                            0,\n                            2,\n                            ,\n                            3\n                        ]);\n                        // Create a query against the users collection\n                        usersRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(_config__WEBPACK_IMPORTED_MODULE_3__.db, \"users\");\n                        q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.query)(usersRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.where)(\"videoCount\", \">\", 0) // Only fetch users with videos\n                        );\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDocs)(q)\n                        ];\n                    case 1:\n                        querySnapshot = _state.sent();\n                        // Map the documents to User objects\n                        users = querySnapshot.docs.map(function(doc) {\n                            var data = doc.data();\n                            return _types__WEBPACK_IMPORTED_MODULE_0__.User.fromFirebase((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_7__._)({\n                                id: doc.id\n                            }, data));\n                        })// Filter out users without profile images\n                        .filter(function(user) {\n                            var _user_profileImage;\n                            return (_user_profileImage = user.profileImage) === null || _user_profileImage === void 0 ? void 0 : _user_profileImage.profileImageURL;\n                        })// Shuffle the results\n                        .sort(function() {\n                            return Math.random() - 0.5;\n                        });\n                        return [\n                            2,\n                            users\n                        ];\n                    case 2:\n                        error = _state.sent();\n                        console.error(\"Error fetching users with videos:\", error);\n                        return [\n                            2,\n                            []\n                        ];\n                    case 3:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    (0,_swc_helpers_create_class__WEBPACK_IMPORTED_MODULE_8__._)(UserService, [\n        {\n            key: \"currentUser\",\n            get: function get() {\n                return this._currentUser;\n            },\n            set: function set(user) {\n                this._currentUser = user;\n            }\n        }\n    ]);\n    return UserService;\n}();\nvar userService = new UserService();\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFFQSxFQUFFO3dCQUMxQnNCLElBQUkxQix5REFBS0EsQ0FDYnlCLFVBQ0F4Qix5REFBS0EsQ0FBQyxjQUFjLEtBQUssR0FBRywrQkFBK0I7O3dCQUd2Qzs7NEJBQU1DLDJEQUFPQSxDQUFDd0I7Ozt3QkFBOUJDLGdCQUFnQjt3QkFFdEIsb0NBQW9DO3dCQUM5Qk4sUUFBUU0sY0FBY0csSUFBSSxDQUM3QnVDLEdBQUcsQ0FBQzFFLFNBQUFBOzRCQUNILElBQU1tQixPQUFPbkIsSUFBSW1CLElBQUk7NEJBQ3JCLE9BQU90Qix3Q0FBSUEsQ0FBQ3FCLFlBQVksQ0FBQztnQ0FBRW9CLElBQUl0QyxJQUFJc0MsRUFBRTsrQkFBS25CO3dCQUM1QyxFQUNBLDBDQUEwQzt5QkFDekNzRSxNQUFNLENBQUNwRSxTQUFBQTtnQ0FBUUE7b0NBQUFBLHFCQUFBQSxLQUFLc0MsWUFBWSxjQUFqQnRDLHlDQUFBQSxtQkFBbUJnRixlQUFlOzBCQUNsRCxzQkFBc0I7eUJBQ3JCQyxJQUFJLENBQUM7bUNBQU1DLEtBQUtDLE1BQU0sS0FBSzs7d0JBRTlCOzs0QkFBTzlFOzs7d0JBQ0FxQjt3QkFDUEksUUFBUUosS0FBSyxDQUFDLHFDQUFxQ0E7d0JBQ25EOzs7Ozs7Ozs7O1FBRUo7O2lFQWhTSXJDOztZQUdBc0MsS0FBQUE7aUJBQUo7Z0JBQ0UsT0FBTyxJQUFJLENBQUNyQyxZQUFZO1lBQzFCO2lCQUVBLGFBQWdCVSxJQUFpQjtnQkFDL0IsSUFBSSxDQUFDVixZQUFZLEdBQUdVO1lBQ3RCOzs7V0FUSVg7O0FBbVNDLElBQU0rRixjQUFjLElBQUkvRixjQUFjIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9hcGkvZmlyZWJhc2UvdXNlci9zZXJ2aWNlLnRzPzhmMGEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVXNlciwgRm9sbG93UmVxdWVzdCB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgRXhlcmNpc2UsIEV4ZXJjaXNlVmlkZW8sIEV4ZXJjaXNlQXV0aG9yIH0gZnJvbSAnLi4vZXhlcmNpc2UvdHlwZXMnO1xuXG5pbXBvcnQgeyBkb2MsIGdldERvYywgc2V0RG9jLCBkb2N1bWVudElkLCBjb2xsZWN0aW9uLCBxdWVyeSwgd2hlcmUsIGdldERvY3MsIGxpbWl0IH0gZnJvbSAnZmlyZWJhc2UvZmlyZXN0b3JlJztcbmltcG9ydCB7IGRiIH0gZnJvbSAnLi4vY29uZmlnJztcblxuY2xhc3MgVXNlclNlcnZpY2Uge1xuICBwcml2YXRlIF9jdXJyZW50VXNlcjogVXNlciB8IG51bGwgPSBudWxsO1xuXG4gIGdldCBjdXJyZW50VXNlcigpOiBVc2VyIHwgbnVsbCB7XG4gICAgcmV0dXJuIHRoaXMuX2N1cnJlbnRVc2VyO1xuICB9XG5cbiAgc2V0IGN1cnJlbnRVc2VyKHVzZXI6IFVzZXIgfCBudWxsKSB7XG4gICAgdGhpcy5fY3VycmVudFVzZXIgPSB1c2VyO1xuICB9XG5cbiAgYXN5bmMgZmV0Y2hVc2VyRnJvbUZpcmVzdG9yZSh1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8VXNlcj4ge1xuICAgIGNvbnN0IHVzZXJSZWYgPSBkb2MoZGIsICd1c2VycycsIHVzZXJJZCk7XG4gICAgY29uc3QgdXNlckRvYyA9IGF3YWl0IGdldERvYyh1c2VyUmVmKTtcblxuICAgIGlmICghdXNlckRvYy5leGlzdHMoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdVc2VyIG5vdCBmb3VuZCcpO1xuICAgIH1cblxuICAgIHJldHVybiBVc2VyLmZyb21GaXJlYmFzZSh1c2VyRG9jLmRhdGEoKSk7XG4gIH1cblxuICBhc3luYyB1cGRhdGVVc2VyKHVzZXJJZDogc3RyaW5nLCB1c2VyOiBVc2VyKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgdXNlclJlZiA9IGRvYyhkYiwgJ3VzZXJzJywgdXNlcklkKTtcbiAgICBhd2FpdCBzZXREb2ModXNlclJlZiwgdXNlci50b0ZpcmVzdG9yZSgpLCB7IG1lcmdlOiB0cnVlIH0pO1xuICB9XG5cbiAgYXN5bmMgZ2V0VXNlcnNCeUlkcyhpZHM6IHN0cmluZ1tdKTogUHJvbWlzZTxVc2VyW10+IHtcbiAgICBpZiAoIWlkcy5sZW5ndGgpIHJldHVybiBbXTtcbiAgICBjb25zdCB1c2VyczogVXNlcltdID0gW107XG4gICAgY29uc3QgY2h1bmtTaXplID0gMTA7IC8vIEZpcmVzdG9yZSAnaW4nIHF1ZXJpZXMgc3VwcG9ydCB1cCB0byAxMCB2YWx1ZXNcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlkcy5sZW5ndGg7IGkgKz0gY2h1bmtTaXplKSB7XG4gICAgICBjb25zdCBjaHVuayA9IGlkcy5zbGljZShpLCBpICsgY2h1bmtTaXplKTtcbiAgICAgIGNvbnN0IHVzZXJzUmVmID0gY29sbGVjdGlvbihkYiwgJ3VzZXJzJyk7XG4gICAgICBjb25zdCBxID0gcXVlcnkodXNlcnNSZWYsIHdoZXJlKGRvY3VtZW50SWQoKSwgJ2luJywgY2h1bmspKTtcbiAgICAgIGNvbnN0IHF1ZXJ5U25hcHNob3QgPSBhd2FpdCBnZXREb2NzKHEpO1xuICAgICAgcXVlcnlTbmFwc2hvdC5kb2NzLmZvckVhY2goZG9jID0+IHtcbiAgICAgICAgdXNlcnMucHVzaChVc2VyLmZyb21GaXJlYmFzZSh7IGlkOiBkb2MuaWQsIC4uLmRvYy5kYXRhKCkgfSkpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB1c2VycztcbiAgfVxuXG4gIGFzeW5jIGZldGNoVXNlclZpZGVvcyh1c2VySWQ/OiBzdHJpbmcpOiBQcm9taXNlPEV4ZXJjaXNlW10+IHtcbiAgICAvLyBVc2UgY3VycmVudCB1c2VyJ3MgSUQgaWYgbm8gSUQgaXMgcHJvdmlkZWRcbiAgICBjb25zdCBjdXJyZW50VXNlcklkID0gdXNlcklkIHx8IHRoaXMuY3VycmVudFVzZXI/LmlkO1xuICAgIFxuICAgIGlmICghY3VycmVudFVzZXJJZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyB1c2VyIElEIHByb3ZpZGVkJyk7XG4gICAgfVxuICBcbiAgICB0cnkge1xuICAgICAgLy8gU3RlcCAxOiBGZXRjaCB1c2VyJ3MgZXhlcmNpc2UgdmlkZW9zXG4gICAgICBjb25zdCBleGVyY2lzZVZpZGVvc1JlZiA9IGNvbGxlY3Rpb24oZGIsICdleGVyY2lzZVZpZGVvcycpO1xuICAgICAgY29uc3QgcSA9IHF1ZXJ5KGV4ZXJjaXNlVmlkZW9zUmVmLCB3aGVyZSgndXNlcklkJywgJz09JywgY3VycmVudFVzZXJJZCkpO1xuICAgICAgXG4gICAgICBjb25zdCB2aWRlb1NuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhxKTtcbiAgXG4gICAgICAvLyBHcm91cCB2aWRlb3MgYnkgZXhlcmNpc2UgbmFtZVxuICAgICAgY29uc3QgdmlkZW9zQnlFeGVyY2lzZU5hbWU6IHsgW2tleTogc3RyaW5nXTogRXhlcmNpc2VWaWRlb1tdIH0gPSB7fTtcbiAgXG4gICAgICB2aWRlb1NuYXBzaG90LmRvY3MuZm9yRWFjaChkb2MgPT4ge1xuICAgICAgICBjb25zdCB2aWRlb0RhdGEgPSBkb2MuZGF0YSgpO1xuICAgICAgICBjb25zdCBleGVyY2lzZU5hbWUgPSB2aWRlb0RhdGFbJ2V4ZXJjaXNlJ10gYXMgc3RyaW5nO1xuICAgICAgICBcbiAgICAgICAgaWYgKCFleGVyY2lzZU5hbWUpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oYEV4ZXJjaXNlIG5hbWUgbWlzc2luZyBmb3IgdmlkZW8gJHtkb2MuaWR9YCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gIFxuICAgICAgICBjb25zdCB2aWRlbzogRXhlcmNpc2VWaWRlbyA9IHtcbiAgICAgICAgICBpZDogZG9jLmlkLFxuICAgICAgICAgIGV4ZXJjaXNlSWQ6IHZpZGVvRGF0YS5leGVyY2lzZUlkIHx8ICcnLFxuICAgICAgICAgIHVzZXJuYW1lOiB2aWRlb0RhdGEudXNlcm5hbWUgfHwgJycsXG4gICAgICAgICAgdXNlcklkOiB2aWRlb0RhdGEudXNlcklkIHx8ICcnLFxuICAgICAgICAgIHZpZGVvVVJMOiB2aWRlb0RhdGEudmlkZW9VUkwgfHwgJycsXG4gICAgICAgICAgZmlsZU5hbWU6IHZpZGVvRGF0YS5maWxlTmFtZSB8fCAnJyxcbiAgICAgICAgICBleGVyY2lzZTogZXhlcmNpc2VOYW1lLFxuICAgICAgICAgIHByb2ZpbGVJbWFnZTogdmlkZW9EYXRhLnByb2ZpbGVJbWFnZSB8fCB7fSxcbiAgICAgICAgICBjYXB0aW9uOiB2aWRlb0RhdGEuY2FwdGlvbiB8fCAnJyxcbiAgICAgICAgICBnaWZVUkw6IHZpZGVvRGF0YS5naWZVUkwgfHwgJycsXG4gICAgICAgICAgdGh1bWJuYWlsOiB2aWRlb0RhdGEudGh1bWJuYWlsIHx8ICcnLFxuICAgICAgICAgIHZpc2liaWxpdHk6IHZpZGVvRGF0YS52aXNpYmlsaXR5IHx8ICdvcGVuJyxcbiAgICAgICAgICB0b3RhbEFjY291bnRzUmVhY2hlZDogdmlkZW9EYXRhLnRvdGFsQWNjb3VudHNSZWFjaGVkIHx8IDAsXG4gICAgICAgICAgdG90YWxBY2NvdW50TGlrZXM6IHZpZGVvRGF0YS50b3RhbEFjY291bnRMaWtlcyB8fCAwLFxuICAgICAgICAgIHRvdGFsQWNjb3VudEJvb2ttYXJrZWQ6IHZpZGVvRGF0YS50b3RhbEFjY291bnRCb29rbWFya2VkIHx8IDAsXG4gICAgICAgICAgdG90YWxBY2NvdW50VXNhZ2U6IHZpZGVvRGF0YS50b3RhbEFjY291bnRVc2FnZSB8fCAwLFxuICAgICAgICAgIGlzQXBwcm92ZWQ6IHZpZGVvRGF0YS5pc0FwcHJvdmVkIHx8IGZhbHNlLFxuICAgICAgICAgIGxpa2VkOiB2aWRlb0RhdGEubGlrZWQgfHwgZmFsc2UsXG4gICAgICAgICAgYm9va21hcmtlZDogdmlkZW9EYXRhLmJvb2ttYXJrZWQgfHwgZmFsc2UsXG4gICAgICAgICAgY3JlYXRlZEF0OiB2aWRlb0RhdGEuY3JlYXRlZEF0ID8gbmV3IERhdGUodmlkZW9EYXRhLmNyZWF0ZWRBdCkgOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgIHVwZGF0ZWRBdDogdmlkZW9EYXRhLnVwZGF0ZWRBdCA/IG5ldyBEYXRlKHZpZGVvRGF0YS51cGRhdGVkQXQpIDogbmV3IERhdGUoKVxuICAgICAgICB9O1xuICBcbiAgICAgICAgaWYgKCF2aWRlb3NCeUV4ZXJjaXNlTmFtZVtleGVyY2lzZU5hbWVdKSB7XG4gICAgICAgICAgdmlkZW9zQnlFeGVyY2lzZU5hbWVbZXhlcmNpc2VOYW1lXSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHZpZGVvc0J5RXhlcmNpc2VOYW1lW2V4ZXJjaXNlTmFtZV0ucHVzaCh2aWRlbyk7XG4gICAgICB9KTtcbiAgXG4gICAgICAvLyBTdGVwIDI6IEZldGNoIGFsbCBleGVyY2lzZXNcbiAgICAgIGNvbnN0IGV4ZXJjaXNlc1JlZiA9IGNvbGxlY3Rpb24oZGIsICdleGVyY2lzZXMnKTtcbiAgICAgIGNvbnN0IGV4ZXJjaXNlc1NuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhleGVyY2lzZXNSZWYpO1xuICBcbiAgICAgIC8vIFN0ZXAgMzogTWFwIHZpZGVvcyB0byBleGVyY2lzZXNcbiAgICAgIGNvbnN0IHVzZXJFeGVyY2lzZXM6IEV4ZXJjaXNlW10gPSBleGVyY2lzZXNTbmFwc2hvdC5kb2NzXG4gICAgICAgIC5tYXAoZG9jID0+IHtcbiAgICAgICAgICBjb25zdCBleGVyY2lzZURhdGEgPSBkb2MuZGF0YSgpO1xuICAgICAgICAgIGNvbnN0IGV4ZXJjaXNlTmFtZSA9IGV4ZXJjaXNlRGF0YS5uYW1lO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIENyZWF0ZSBiYXNlIGV4ZXJjaXNlXG4gICAgICAgICAgLy8gRm9yIHRoZSBFeGVyY2lzZTpcbiAgICAgICAgICBjb25zdCBleGVyY2lzZSA9IG5ldyBFeGVyY2lzZSh7XG4gICAgICAgICAgICBpZDogZG9jLmlkLFxuICAgICAgICAgICAgbmFtZTogZXhlcmNpc2VOYW1lLFxuICAgICAgICAgICAgY2F0ZWdvcnk6IGV4ZXJjaXNlRGF0YS5jYXRlZ29yeSxcbiAgICAgICAgICAgIHByaW1hcnlCb2R5UGFydHM6IGV4ZXJjaXNlRGF0YS5wcmltYXJ5Qm9keVBhcnRzIHx8IFtdLFxuICAgICAgICAgICAgc2Vjb25kYXJ5Qm9keVBhcnRzOiBleGVyY2lzZURhdGEuc2Vjb25kYXJ5Qm9keVBhcnRzIHx8IFtdLFxuICAgICAgICAgICAgdGFnczogZXhlcmNpc2VEYXRhLnRhZ3MgfHwgW10sXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogZXhlcmNpc2VEYXRhLmRlc2NyaXB0aW9uIHx8ICcnLFxuICAgICAgICAgICAgdmlzaWJpbGl0eTogZXhlcmNpc2VEYXRhLnZpc2liaWxpdHkgfHwgJ2xpbWl0ZWQnLFxuICAgICAgICAgICAgc3RlcHM6IGV4ZXJjaXNlRGF0YS5zdGVwcyB8fCBbXSxcbiAgICAgICAgICAgIHZpZGVvczogdmlkZW9zQnlFeGVyY2lzZU5hbWVbZXhlcmNpc2VOYW1lXSB8fCBbXSxcbiAgICAgICAgICAgIGN1cnJlbnRWaWRlb1Bvc2l0aW9uOiAwLFxuICAgICAgICAgICAgcmVwczogZXhlcmNpc2VEYXRhLnJlcHMgfHwgJycsXG4gICAgICAgICAgICBzZXRzOiBleGVyY2lzZURhdGEuc2V0cyB8fCAwLFxuICAgICAgICAgICAgd2VpZ2h0OiBleGVyY2lzZURhdGEud2VpZ2h0IHx8IDAsXG4gICAgICAgICAgICBhdXRob3I6IG5ldyBFeGVyY2lzZUF1dGhvcih7ICAvLyBVc2UgRXhlcmNpc2VBdXRob3IgY29uc3RydWN0b3JcbiAgICAgICAgICAgICAgdXNlcklkOiBleGVyY2lzZURhdGEuYXV0aG9yPy51c2VySWQgfHwgJycsXG4gICAgICAgICAgICAgIHVzZXJuYW1lOiBleGVyY2lzZURhdGEuYXV0aG9yPy51c2VybmFtZSB8fCAnJ1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBjcmVhdGVkQXQ6IGV4ZXJjaXNlRGF0YS5jcmVhdGVkQXQgPyBuZXcgRGF0ZShleGVyY2lzZURhdGEuY3JlYXRlZEF0KSA6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICB1cGRhdGVkQXQ6IGV4ZXJjaXNlRGF0YS51cGRhdGVkQXQgPyBuZXcgRGF0ZShleGVyY2lzZURhdGEudXBkYXRlZEF0KSA6IG5ldyBEYXRlKClcbiAgICAgICAgICB9KTtcbiAgXG4gICAgICAgICAgcmV0dXJuIGV4ZXJjaXNlO1xuICAgICAgICB9KVxuICAgICAgICAuZmlsdGVyKGV4ZXJjaXNlID0+IGV4ZXJjaXNlLnZpZGVvcy5sZW5ndGggPiAwKTtcbiAgXG4gICAgICByZXR1cm4gdXNlckV4ZXJjaXNlcztcbiAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHVzZXIgdmlkZW9zOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGZldGNoRm9sbG93aW5nKCk6IFByb21pc2U8Rm9sbG93UmVxdWVzdFtdPiB7XG4gICAgY29uc3QgY3VycmVudFVzZXIgPSB0aGlzLmN1cnJlbnRVc2VyO1xuICAgIGlmICghY3VycmVudFVzZXI/LmlkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHVzZXIgaXMgc2lnbmVkIGluJyk7XG4gICAgfVxuICBcbiAgICB0cnkge1xuICAgICAgY29uc3QgZm9sbG93UmVxdWVzdHNSZWYgPSBjb2xsZWN0aW9uKGRiLCAnZm9sbG93UmVxdWVzdHMnKTtcbiAgICAgIGNvbnN0IHEgPSBxdWVyeShcbiAgICAgICAgZm9sbG93UmVxdWVzdHNSZWYsIFxuICAgICAgICB3aGVyZSgnZnJvbVVzZXIuaWQnLCAnPT0nLCBjdXJyZW50VXNlci5pZClcbiAgICAgICk7XG4gIFxuICAgICAgY29uc3QgcXVlcnlTbmFwc2hvdCA9IGF3YWl0IGdldERvY3MocSk7XG4gIFxuICAgICAgY29uc3QgZm9sbG93UmVxdWVzdHM6IEZvbGxvd1JlcXVlc3RbXSA9IHF1ZXJ5U25hcHNob3QuZG9jcy5tYXAoZG9jID0+IHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGRvYy5kYXRhKCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgZnJvbVVzZXI6IHtcbiAgICAgICAgICAgIGlkOiBkYXRhLmZyb21Vc2VyPy5pZCB8fCAnJyxcbiAgICAgICAgICAgIHVzZXJuYW1lOiBkYXRhLmZyb21Vc2VyPy51c2VybmFtZSB8fCAnJyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiBkYXRhLmZyb21Vc2VyPy5kaXNwbGF5TmFtZSB8fCAnJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAgdG9Vc2VyOiB7XG4gICAgICAgICAgICBpZDogZGF0YS50b1VzZXI/LmlkIHx8ICcnLFxuICAgICAgICAgICAgdXNlcm5hbWU6IGRhdGEudG9Vc2VyPy51c2VybmFtZSB8fCAnJyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiBkYXRhLnRvVXNlcj8uZGlzcGxheU5hbWUgfHwgJydcbiAgICAgICAgICB9LFxuICAgICAgICAgIHN0YXR1czogZGF0YS5zdGF0dXMgfHwgJycsXG4gICAgICAgICAgY3JlYXRlZEF0OiBkYXRhLmNyZWF0ZWRBdCBpbnN0YW5jZW9mIERhdGUgXG4gICAgICAgICAgICA/IGRhdGEuY3JlYXRlZEF0IFxuICAgICAgICAgICAgOiAoZGF0YS5jcmVhdGVkQXQgPyBuZXcgRGF0ZShkYXRhLmNyZWF0ZWRBdCkgOiBuZXcgRGF0ZSgpKSxcbiAgICAgICAgICB1cGRhdGVkQXQ6IGRhdGEudXBkYXRlZEF0IGluc3RhbmNlb2YgRGF0ZSBcbiAgICAgICAgICAgID8gZGF0YS51cGRhdGVkQXQgXG4gICAgICAgICAgICA6IChkYXRhLnVwZGF0ZWRBdCA/IG5ldyBEYXRlKGRhdGEudXBkYXRlZEF0KSA6IG5ldyBEYXRlKCkpXG4gICAgICAgIH0gYXMgRm9sbG93UmVxdWVzdDtcbiAgICAgIH0pO1xuICBcbiAgICAgIHJldHVybiBmb2xsb3dSZXF1ZXN0cztcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgZm9sbG93aW5nOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuICBcbiAgYXN5bmMgZmV0Y2hGb2xsb3dlcnMoKTogUHJvbWlzZTxGb2xsb3dSZXF1ZXN0W10+IHtcbiAgICBjb25zdCBjdXJyZW50VXNlciA9IHRoaXMuY3VycmVudFVzZXI7XG4gICAgaWYgKCFjdXJyZW50VXNlcj8uaWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gdXNlciBpcyBzaWduZWQgaW4nKTtcbiAgICB9XG4gIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCBmb2xsb3dSZXF1ZXN0c1JlZiA9IGNvbGxlY3Rpb24oZGIsICdmb2xsb3dSZXF1ZXN0cycpO1xuICAgICAgY29uc3QgcSA9IHF1ZXJ5KFxuICAgICAgICBmb2xsb3dSZXF1ZXN0c1JlZiwgXG4gICAgICAgIHdoZXJlKCd0b1VzZXIuaWQnLCAnPT0nLCBjdXJyZW50VXNlci5pZClcbiAgICAgICk7XG4gIFxuICAgICAgY29uc3QgcXVlcnlTbmFwc2hvdCA9IGF3YWl0IGdldERvY3MocSk7XG4gIFxuICAgICAgY29uc3QgZm9sbG93UmVxdWVzdHM6IEZvbGxvd1JlcXVlc3RbXSA9IHF1ZXJ5U25hcHNob3QuZG9jcy5tYXAoZG9jID0+IHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGRvYy5kYXRhKCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgZnJvbVVzZXI6IHtcbiAgICAgICAgICAgIGlkOiBkYXRhLmZyb21Vc2VyPy5pZCB8fCAnJyxcbiAgICAgICAgICAgIHVzZXJuYW1lOiBkYXRhLmZyb21Vc2VyPy51c2VybmFtZSB8fCAnJyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiBkYXRhLmZyb21Vc2VyPy5kaXNwbGF5TmFtZSB8fCAnJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAgdG9Vc2VyOiB7XG4gICAgICAgICAgICBpZDogZGF0YS50b1VzZXI/LmlkIHx8ICcnLFxuICAgICAgICAgICAgdXNlcm5hbWU6IGRhdGEudG9Vc2VyPy51c2VybmFtZSB8fCAnJyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiBkYXRhLnRvVXNlcj8uZGlzcGxheU5hbWUgfHwgJydcbiAgICAgICAgICB9LFxuICAgICAgICAgIHN0YXR1czogZGF0YS5zdGF0dXMgfHwgJycsXG4gICAgICAgICAgY3JlYXRlZEF0OiBkYXRhLmNyZWF0ZWRBdCBpbnN0YW5jZW9mIERhdGUgXG4gICAgICAgICAgICA/IGRhdGEuY3JlYXRlZEF0IFxuICAgICAgICAgICAgOiAoZGF0YS5jcmVhdGVkQXQgPyBuZXcgRGF0ZShkYXRhLmNyZWF0ZWRBdCkgOiBuZXcgRGF0ZSgpKSxcbiAgICAgICAgICB1cGRhdGVkQXQ6IGRhdGEudXBkYXRlZEF0IGluc3RhbmNlb2YgRGF0ZSBcbiAgICAgICAgICAgID8gZGF0YS51cGRhdGVkQXQgXG4gICAgICAgICAgICA6IChkYXRhLnVwZGF0ZWRBdCA/IG5ldyBEYXRlKGRhdGEudXBkYXRlZEF0KSA6IG5ldyBEYXRlKCkpXG4gICAgICAgIH0gYXMgRm9sbG93UmVxdWVzdDtcbiAgICAgIH0pO1xuICBcbiAgICAgIHJldHVybiBmb2xsb3dSZXF1ZXN0cztcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgZm9sbG93ZXJzOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gICAvKipcbiAgICogRmV0Y2ggdXNlciBJRCBieSB1c2VybmFtZVxuICAgKiBAcGFyYW0gdXNlcm5hbWUgVGhlIHVzZXJuYW1lIHRvIHNlYXJjaCBmb3JcbiAgICogQHJldHVybnMgUHJvbWlzZSByZXNvbHZpbmcgdG8gdGhlIHVzZXIgSUQgb3IgbnVsbCBpZiBub3QgZm91bmRcbiAgICovXG4gICBhc3luYyBnZXRVc2VySWRCeVVzZXJuYW1lKHVzZXJuYW1lOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZyB8IG51bGw+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXNlcnNSZWYgPSBjb2xsZWN0aW9uKGRiLCAndXNlcnMnKTtcbiAgICAgIGNvbnN0IHEgPSBxdWVyeSh1c2Vyc1JlZiwgd2hlcmUoJ3VzZXJuYW1lJywgJz09JywgdXNlcm5hbWUpLCBsaW1pdCgxKSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHF1ZXJ5U25hcHNob3QgPSBhd2FpdCBnZXREb2NzKHEpO1xuICAgICAgXG4gICAgICBpZiAoIXF1ZXJ5U25hcHNob3QuZW1wdHkpIHtcbiAgICAgICAgY29uc3QgdXNlckRvYyA9IHF1ZXJ5U25hcHNob3QuZG9jc1swXTtcbiAgICAgICAgcmV0dXJuIHVzZXJEb2MuaWQ7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyB1c2VyIElEIGJ5IHVzZXJuYW1lOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGZldGNoVXNlcnNXaXRoVmlkZW9zVXBsb2FkZWQoKTogUHJvbWlzZTxVc2VyW10+IHtcbiAgICB0cnkge1xuICAgICAgLy8gQ3JlYXRlIGEgcXVlcnkgYWdhaW5zdCB0aGUgdXNlcnMgY29sbGVjdGlvblxuICAgICAgY29uc3QgdXNlcnNSZWYgPSBjb2xsZWN0aW9uKGRiLCAndXNlcnMnKTtcbiAgICAgIGNvbnN0IHEgPSBxdWVyeShcbiAgICAgICAgdXNlcnNSZWYsXG4gICAgICAgIHdoZXJlKCd2aWRlb0NvdW50JywgJz4nLCAwKSAvLyBPbmx5IGZldGNoIHVzZXJzIHdpdGggdmlkZW9zXG4gICAgICApO1xuXG4gICAgICBjb25zdCBxdWVyeVNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhxKTtcbiAgICAgIFxuICAgICAgLy8gTWFwIHRoZSBkb2N1bWVudHMgdG8gVXNlciBvYmplY3RzXG4gICAgICBjb25zdCB1c2VycyA9IHF1ZXJ5U25hcHNob3QuZG9jc1xuICAgICAgICAubWFwKGRvYyA9PiB7XG4gICAgICAgICAgY29uc3QgZGF0YSA9IGRvYy5kYXRhKCk7XG4gICAgICAgICAgcmV0dXJuIFVzZXIuZnJvbUZpcmViYXNlKHsgaWQ6IGRvYy5pZCwgLi4uZGF0YSB9KTtcbiAgICAgICAgfSlcbiAgICAgICAgLy8gRmlsdGVyIG91dCB1c2VycyB3aXRob3V0IHByb2ZpbGUgaW1hZ2VzXG4gICAgICAgIC5maWx0ZXIodXNlciA9PiB1c2VyLnByb2ZpbGVJbWFnZT8ucHJvZmlsZUltYWdlVVJMKVxuICAgICAgICAvLyBTaHVmZmxlIHRoZSByZXN1bHRzXG4gICAgICAgIC5zb3J0KCgpID0+IE1hdGgucmFuZG9tKCkgLSAwLjUpO1xuXG4gICAgICByZXR1cm4gdXNlcnM7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHVzZXJzIHdpdGggdmlkZW9zOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHVzZXJTZXJ2aWNlID0gbmV3IFVzZXJTZXJ2aWNlKCk7Il0sIm5hbWVzIjpbIlVzZXIiLCJFeGVyY2lzZSIsIkV4ZXJjaXNlQXV0aG9yIiwiZG9jIiwiZ2V0RG9jIiwic2V0RG9jIiwiZG9jdW1lbnRJZCIsImNvbGxlY3Rpb24iLCJxdWVyeSIsIndoZXJlIiwiZ2V0RG9jcyIsImxpbWl0IiwiZGIiLCJVc2VyU2VydmljZSIsIl9jdXJyZW50VXNlciIsImZldGNoVXNlckZyb21GaXJlc3RvcmUiLCJ1c2VySWQiLCJ1c2VyUmVmIiwidXNlckRvYyIsImV4aXN0cyIsIkVycm9yIiwiZnJvbUZpcmViYXNlIiwiZGF0YSIsInVwZGF0ZVVzZXIiLCJ1c2VyIiwidG9GaXJlc3RvcmUiLCJtZXJnZSIsImdldFVzZXJzQnlJZHMiLCJpZHMiLCJ1c2VycyIsImNodW5rU2l6ZSIsImkiLCJjaHVuayIsInVzZXJzUmVmIiwicSIsInF1ZXJ5U25hcHNob3QiLCJsZW5ndGgiLCJzbGljZSIsImRvY3MiLCJmb3JFYWNoIiwicHVzaCIsImlkIiwiZmV0Y2hVc2VyVmlkZW9zIiwiY3VycmVudFVzZXJJZCIsImV4ZXJjaXNlVmlkZW9zUmVmIiwidmlkZW9TbmFwc2hvdCIsInZpZGVvc0J5RXhlcmNpc2VOYW1lIiwiZXhlcmNpc2VzUmVmIiwiZXhlcmNpc2VzU25hcHNob3QiLCJ1c2VyRXhlcmNpc2VzIiwiZXJyb3IiLCJjdXJyZW50VXNlciIsInZpZGVvRGF0YSIsImV4ZXJjaXNlTmFtZSIsImNvbnNvbGUiLCJ3YXJuIiwidmlkZW8iLCJleGVyY2lzZUlkIiwidXNlcm5hbWUiLCJ2aWRlb1VSTCIsImZpbGVOYW1lIiwiZXhlcmNpc2UiLCJwcm9maWxlSW1hZ2UiLCJjYXB0aW9uIiwiZ2lmVVJMIiwidGh1bWJuYWlsIiwidmlzaWJpbGl0eSIsInRvdGFsQWNjb3VudHNSZWFjaGVkIiwidG90YWxBY2NvdW50TGlrZXMiLCJ0b3RhbEFjY291bnRCb29rbWFya2VkIiwidG90YWxBY2NvdW50VXNhZ2UiLCJpc0FwcHJvdmVkIiwibGlrZWQiLCJib29rbWFya2VkIiwiY3JlYXRlZEF0IiwiRGF0ZSIsInVwZGF0ZWRBdCIsIm1hcCIsImV4ZXJjaXNlRGF0YSIsIm5hbWUiLCJjYXRlZ29yeSIsInByaW1hcnlCb2R5UGFydHMiLCJzZWNvbmRhcnlCb2R5UGFydHMiLCJ0YWdzIiwiZGVzY3JpcHRpb24iLCJzdGVwcyIsInZpZGVvcyIsImN1cnJlbnRWaWRlb1Bvc2l0aW9uIiwicmVwcyIsInNldHMiLCJ3ZWlnaHQiLCJhdXRob3IiLCJmaWx0ZXIiLCJmZXRjaEZvbGxvd2luZyIsImZvbGxvd1JlcXVlc3RzUmVmIiwiZm9sbG93UmVxdWVzdHMiLCJmcm9tVXNlciIsImRpc3BsYXlOYW1lIiwidG9Vc2VyIiwic3RhdHVzIiwiZmV0Y2hGb2xsb3dlcnMiLCJnZXRVc2VySWRCeVVzZXJuYW1lIiwiZW1wdHkiLCJmZXRjaFVzZXJzV2l0aFZpZGVvc1VwbG9hZGVkIiwicHJvZmlsZUltYWdlVVJMIiwic29ydCIsIk1hdGgiLCJyYW5kb20iLCJ1c2VyU2VydmljZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/api/firebase/user/service.ts\n"));

/***/ }),

/***/ "./src/api/firebase/workout/types.ts":
/*!*******************************************!*\
  !*** ./src/api/firebase/workout/types.ts ***!
  \*******************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BodyZone: function() { return /* binding */ BodyZone; },\n/* harmony export */   Challenge: function() { return /* binding */ Challenge; },\n/* harmony export */   ChallengeStatus: function() { return /* binding */ ChallengeStatus; },\n/* harmony export */   IntroVideo: function() { return /* binding */ IntroVideo; },\n/* harmony export */   ReferralChain: function() { return /* binding */ ReferralChain; },\n/* harmony export */   RepsAndWeightLog: function() { return /* binding */ RepsAndWeightLog; },\n/* harmony export */   SweatlistCollection: function() { return /* binding */ SweatlistCollection; },\n/* harmony export */   SweatlistType: function() { return /* binding */ SweatlistType; },\n/* harmony export */   UserChallenge: function() { return /* binding */ UserChallenge; },\n/* harmony export */   Workout: function() { return /* binding */ Workout; },\n/* harmony export */   WorkoutRating: function() { return /* binding */ WorkoutRating; },\n/* harmony export */   WorkoutStatus: function() { return /* binding */ WorkoutStatus; },\n/* harmony export */   WorkoutSummary: function() { return /* binding */ WorkoutSummary; }\n/* harmony export */ });\n/* harmony import */ var _swc_helpers_class_call_check__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @swc/helpers/_/_class_call_check */ \"./node_modules/@swc/helpers/esm/_class_call_check.js\");\n/* harmony import */ var _swc_helpers_create_class__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @swc/helpers/_/_create_class */ \"./node_modules/@swc/helpers/esm/_create_class.js\");\n/* harmony import */ var _swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @swc/helpers/_/_object_spread */ \"./node_modules/@swc/helpers/esm/_object_spread.js\");\n/* harmony import */ var _swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @swc/helpers/_/_object_spread_props */ \"./node_modules/@swc/helpers/esm/_object_spread_props.js\");\n/* harmony import */ var _exercise_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../exercise/types */ \"./src/api/firebase/exercise/types.ts\");\n/* harmony import */ var _utils_formatDate__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../utils/formatDate */ \"./src/utils/formatDate.ts\");\n\n\n\n\n\n\n\nvar WorkoutStatus;\n(function(WorkoutStatus) {\n    WorkoutStatus[\"QueuedUp\"] = \"queuedUp\";\n    WorkoutStatus[\"InProgress\"] = \"inProgress\";\n    WorkoutStatus[\"Complete\"] = \"complete\";\n    WorkoutStatus[\"Archived\"] = \"archived\";\n})(WorkoutStatus || (WorkoutStatus = {}));\nvar WorkoutRating;\n(function(WorkoutRating) {\n    WorkoutRating[\"TooHard\"] = \"Too Hard\";\n    WorkoutRating[\"TooEasy\"] = \"Too Easy\";\n    WorkoutRating[\"JustRight\"] = \"Just Right\";\n})(WorkoutRating || (WorkoutRating = {}));\nvar BodyZone;\n(function(BodyZone) {\n    BodyZone[\"LowerBody\"] = \"Lower Body\";\n    BodyZone[\"UpperBody\"] = \"Upper Body\";\n    BodyZone[\"FullBody\"] = \"Full Body\";\n    BodyZone[\"Core\"] = \"Core\";\n})(BodyZone || (BodyZone = {}));\nvar RepsAndWeightLog = /*#__PURE__*/ function() {\n    \"use strict\";\n    function RepsAndWeightLog(data) {\n        (0,_swc_helpers_class_call_check__WEBPACK_IMPORTED_MODULE_2__._)(this, RepsAndWeightLog);\n        this.reps = data.reps || 0;\n        this.weight = data.weight || 0;\n        this.leftReps = data.leftReps || 0;\n        this.leftWeight = data.leftWeight || 0;\n        this.isSplit = data.isSplit || false;\n        this.isBodyWeight = data.isBodyWeight || false;\n        this.duration = data.duration || 0;\n        this.calories = data.calories || 0;\n        this.bpm = data.bpm || 0;\n    }\n    var _proto = RepsAndWeightLog.prototype;\n    _proto.toDictionary = function toDictionary() {\n        return {\n            reps: this.reps,\n            weight: this.weight,\n            leftReps: this.leftReps,\n            leftWeight: this.leftWeight,\n            isSplit: this.isSplit,\n            isBodyWeight: this.isBodyWeight,\n            duration: this.duration,\n            calories: this.calories,\n            bpm: this.bpm\n        };\n    };\n    RepsAndWeightLog.fromFirebase = function fromFirebase(data) {\n        if (!data) {\n            return new RepsAndWeightLog({});\n        }\n        return new RepsAndWeightLog({\n            reps: data.reps || 0,\n            weight: data.weight || 0,\n            leftReps: data.leftReps || 0,\n            leftWeight: data.leftWeight || 0,\n            isSplit: data.isSplit || false,\n            isBodyWeight: data.isBodyWeight || false,\n            duration: data.duration || 0,\n            calories: data.calories || 0,\n            bpm: data.bpm || 0\n        });\n    };\n    return RepsAndWeightLog;\n}();\n// WorkoutClass.ts\nvar Workout = /*#__PURE__*/ function() {\n    \"use strict\";\n    function Workout(data) {\n        (0,_swc_helpers_class_call_check__WEBPACK_IMPORTED_MODULE_2__._)(this, Workout);\n        this.id = data.id;\n        this.collectionId = data.collectionId;\n        this.roundWorkoutId = data.roundWorkoutId;\n        this.exercises = data.exercises;\n        this.challenge = data.challenge;\n        this.logs = data.logs;\n        this.title = data.title;\n        this.description = data.description;\n        this.duration = data.duration;\n        this.workoutRating = data.workoutRating;\n        this.useAuthorContent = data.useAuthorContent;\n        this.isCompleted = data.isCompleted;\n        this.workoutStatus = data.workoutStatus;\n        this.startTime = data.startTime;\n        this.order = data.order;\n        this.author = data.author;\n        this.assignedDate = data.assignedDate;\n        this.createdAt = data.createdAt;\n        this.updatedAt = data.updatedAt;\n        this.zone = Workout.determineWorkoutZone(data.exercises);\n    }\n    var _proto = Workout.prototype;\n    _proto.fetchPrimaryBodyParts = function fetchPrimaryBodyParts() {\n        return this.exercises.flatMap(function(exerciseRef) {\n            return exerciseRef.exercise.primaryBodyParts;\n        });\n    };\n    _proto.fetchSecondaryBodyParts = function fetchSecondaryBodyParts() {\n        return this.exercises.flatMap(function(exerciseRef) {\n            return exerciseRef.exercise.secondaryBodyParts;\n        });\n    };\n    _proto.toDictionary = function toDictionary() {\n        var _this_logs;\n        var _this_logs_map;\n        var data = {\n            id: this.id,\n            exercises: this.exercises.map(function(ex) {\n                return {\n                    exercise: ex.exercise,\n                    groupId: ex.groupId\n                };\n            }),\n            logs: (_this_logs_map = (_this_logs = this.logs) === null || _this_logs === void 0 ? void 0 : _this_logs.map(function(log) {\n                return log.toDictionary();\n            })) !== null && _this_logs_map !== void 0 ? _this_logs_map : [],\n            title: this.title,\n            description: this.description,\n            zone: this.zone,\n            duration: this.duration,\n            workoutRating: this.workoutRating,\n            useAuthorContent: this.useAuthorContent,\n            isCompleted: this.isCompleted,\n            workoutStatus: this.workoutStatus,\n            author: this.author,\n            createdAt: this.createdAt.getTime(),\n            updatedAt: this.updatedAt.getTime()\n        };\n        if (this.challenge) {\n            data.challenge = this.challenge;\n        }\n        if (this.order !== undefined) {\n            data.order = this.order;\n        }\n        if (this.collectionId) {\n            data.collectionId = this.collectionId;\n        }\n        if (this.startTime) {\n            data.startTime = this.startTime.getTime();\n        }\n        if (this.assignedDate) {\n            data.assignedDate = this.assignedDate.getTime();\n        }\n        return data;\n    };\n    Workout.estimatedDuration = function estimatedDuration(exercises) {\n        var warmupTime = 5;\n        var cooldownTime = 5;\n        var totalExerciseTime = 0;\n        var restTime = 0;\n        var hasScreenTimeExercises = false;\n        var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n        try {\n            for(var _iterator = exercises[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){\n                var exerciseRef = _step.value;\n                var exercise = exerciseRef.exercise;\n                console.groupCollapsed(\"Exercise: \".concat(exercise));\n                if (exercise.category.type === \"cardio\") {\n                    var _exercise_category_details;\n                    var duration = ((_exercise_category_details = exercise.category.details) === null || _exercise_category_details === void 0 ? void 0 : _exercise_category_details.duration) || 0;\n                    console.log(\"Cardio duration (minutes):\", duration);\n                    totalExerciseTime += duration;\n                } else if (exercise.category.type === \"weightTraining\") {\n                    var _exercise_category_details1;\n                    var screenTime = ((_exercise_category_details1 = exercise.category.details) === null || _exercise_category_details1 === void 0 ? void 0 : _exercise_category_details1.screenTime) || 0;\n                    if (screenTime > 0) {\n                        console.log(\"Screen time (seconds):\", screenTime);\n                        console.log(\"Converted to minutes:\", Math.floor(screenTime / 60));\n                        totalExerciseTime += Math.floor(screenTime / 60);\n                        hasScreenTimeExercises = true;\n                    } else {\n                        console.log(\"Using default timing (8m exercise + 1m rest)\");\n                        totalExerciseTime += 8;\n                        restTime += 1;\n                    }\n                }\n                console.log(\"Current totals:\", {\n                    totalExerciseTime: totalExerciseTime,\n                    restTime: restTime,\n                    hasScreenTimeExercises: hasScreenTimeExercises\n                });\n                console.groupEnd();\n            }\n        } catch (err) {\n            _didIteratorError = true;\n            _iteratorError = err;\n        } finally{\n            try {\n                if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n                    _iterator[\"return\"]();\n                }\n            } finally{\n                if (_didIteratorError) {\n                    throw _iteratorError;\n                }\n            }\n        }\n        if (!hasScreenTimeExercises) {\n            console.log(\"Adding warmup/cool-down:\", warmupTime + cooldownTime, \"minutes\");\n            totalExerciseTime += warmupTime + cooldownTime;\n        }\n        var estimatedTotalTime = totalExerciseTime + restTime;\n        console.log(\"Pre-rounded total:\", estimatedTotalTime);\n        var finalEstimate = estimatedTotalTime;\n        if (!hasScreenTimeExercises) {\n            finalEstimate = Math.round(estimatedTotalTime / 5) * 5;\n            console.log(\"Rounded to nearest 5 minutes:\", finalEstimate);\n        }\n        console.log(\"Final estimated duration:\", finalEstimate, \"minutes\");\n        return finalEstimate;\n    };\n    Workout.determineWorkoutZone = function determineWorkoutZone(exercises) {\n        var bodyPartsInvolved = new Set();\n        var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n        try {\n            for(var _iterator = exercises[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){\n                var exerciseRef = _step.value;\n                var _iteratorNormalCompletion1 = true, _didIteratorError1 = false, _iteratorError1 = undefined;\n                try {\n                    for(var _iterator1 = (exerciseRef.exercise.primaryBodyParts || [\n                        exerciseRef.exercise.primaryBodyParts\n                    ])[Symbol.iterator](), _step1; !(_iteratorNormalCompletion1 = (_step1 = _iterator1.next()).done); _iteratorNormalCompletion1 = true){\n                        var bodyPart = _step1.value;\n                        bodyPartsInvolved.add(bodyPart);\n                    }\n                } catch (err) {\n                    _didIteratorError1 = true;\n                    _iteratorError1 = err;\n                } finally{\n                    try {\n                        if (!_iteratorNormalCompletion1 && _iterator1[\"return\"] != null) {\n                            _iterator1[\"return\"]();\n                        }\n                    } finally{\n                        if (_didIteratorError1) {\n                            throw _iteratorError1;\n                        }\n                    }\n                }\n            }\n        } catch (err) {\n            _didIteratorError = true;\n            _iteratorError = err;\n        } finally{\n            try {\n                if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n                    _iterator[\"return\"]();\n                }\n            } finally{\n                if (_didIteratorError) {\n                    throw _iteratorError;\n                }\n            }\n        }\n        var upperBodyParts = new Set([\n            _exercise_types__WEBPACK_IMPORTED_MODULE_0__.BodyPart.Chest,\n            _exercise_types__WEBPACK_IMPORTED_MODULE_0__.BodyPart.Shoulders,\n            _exercise_types__WEBPACK_IMPORTED_MODULE_0__.BodyPart.Biceps,\n            _exercise_types__WEBPACK_IMPORTED_MODULE_0__.BodyPart.Triceps,\n            _exercise_types__WEBPACK_IMPORTED_MODULE_0__.BodyPart.Traps,\n            _exercise_types__WEBPACK_IMPORTED_MODULE_0__.BodyPart.Lats,\n            _exercise_types__WEBPACK_IMPORTED_MODULE_0__.BodyPart.Forearms\n        ]);\n        var lowerBodyParts = new Set([\n            _exercise_types__WEBPACK_IMPORTED_MODULE_0__.BodyPart.Hamstrings,\n            _exercise_types__WEBPACK_IMPORTED_MODULE_0__.BodyPart.Glutes,\n            _exercise_types__WEBPACK_IMPORTED_MODULE_0__.BodyPart.Quadriceps,\n            _exercise_types__WEBPACK_IMPORTED_MODULE_0__.BodyPart.Calves\n        ]);\n        var coreParts = new Set([\n            _exercise_types__WEBPACK_IMPORTED_MODULE_0__.BodyPart.Abs,\n            _exercise_types__WEBPACK_IMPORTED_MODULE_0__.BodyPart.Lowerback\n        ]);\n        var hasCommonElements = function(set1, set2) {\n            return Array.from(set1).some(function(item) {\n                return set2.has(item);\n            });\n        };\n        var hasUpperBody = hasCommonElements(bodyPartsInvolved, upperBodyParts);\n        var hasLowerBody = hasCommonElements(bodyPartsInvolved, lowerBodyParts);\n        var hasCore = hasCommonElements(bodyPartsInvolved, coreParts);\n        if (hasUpperBody && hasLowerBody && hasCore || hasUpperBody && hasLowerBody) {\n            return \"Full Body\";\n        } else if (hasUpperBody && hasCore || hasUpperBody) {\n            return \"Upper Body\";\n        } else if (hasLowerBody && hasCore || hasLowerBody) {\n            return \"Lower Body\";\n        } else if (hasCore) {\n            return \"Core\";\n        } else {\n            return \"Full Body\";\n        }\n    };\n    (0,_swc_helpers_create_class__WEBPACK_IMPORTED_MODULE_3__._)(Workout, [\n        {\n            key: \"isTimedWorkout\",\n            get: function get() {\n                if (!this.logs) return false;\n                return this.logs.some(function(log) {\n                    if (log.exercise.category.type === \"weightTraining\") {\n                        var _log_exercise_category_details;\n                        return ((_log_exercise_category_details = log.exercise.category.details) === null || _log_exercise_category_details === void 0 ? void 0 : _log_exercise_category_details.screenTime) !== 0;\n                    } else if (log.exercise.category.type === \"cardio\") {\n                        var _log_exercise_category_details1;\n                        return ((_log_exercise_category_details1 = log.exercise.category.details) === null || _log_exercise_category_details1 === void 0 ? void 0 : _log_exercise_category_details1.screenTime) !== 0;\n                    }\n                    return false;\n                });\n            }\n        }\n    ]);\n    return Workout;\n}();\nvar WorkoutSummary = /*#__PURE__*/ function() {\n    \"use strict\";\n    function WorkoutSummary(data) {\n        (0,_swc_helpers_class_call_check__WEBPACK_IMPORTED_MODULE_2__._)(this, WorkoutSummary);\n        this.id = data.id;\n        this.workoutId = data.workoutId;\n        this.exercises = data.exercises.map(function(ex) {\n            return _exercise_types__WEBPACK_IMPORTED_MODULE_0__.ExerciseLog.fromFirebase(ex);\n        });\n        this.bodyParts = data.bodyParts;\n        this.secondaryBodyParts = data.secondaryBodyParts;\n        this.workoutTitle = data.workoutTitle;\n        this.caloriesBurned = data.caloriesBurned;\n        this.workoutRating = data.workoutRating;\n        this.exercisesCompleted = data.exercisesCompleted.map(function(ex) {\n            return _exercise_types__WEBPACK_IMPORTED_MODULE_0__.ExerciseLog.fromFirebase(ex);\n        });\n        this.aiInsight = data.aiInsight;\n        this.recommendations = data.recommendations;\n        this.gifURLs = data.gifURLs;\n        this.recommendedWork = data.recommendedWork;\n        this.isCompleted = data.isCompleted;\n        this.createdAt = data.createdAt ? new Date(data.createdAt) : new Date();\n        this.updatedAt = data.updatedAt ? new Date(data.updatedAt) : new Date();\n        this.completedAt = data.completedAt ? new Date(data.completedAt) : null;\n        this.duration = data.duration;\n    }\n    WorkoutSummary.fromFirebase = function fromFirebase(data) {\n        return new WorkoutSummary({\n            id: data.id || \"\",\n            workoutId: data.workoutId || \"\",\n            exercises: data.exercises || [],\n            bodyParts: data.bodyParts || [],\n            secondaryBodyParts: data.secondaryBodyParts || [],\n            workoutTitle: data.workoutTitle || \"\",\n            caloriesBurned: data.caloriesBurned || 0,\n            workoutRating: data.workoutRating,\n            exercisesCompleted: data.exercisesCompleted || [],\n            aiInsight: data.aiInsight || \"\",\n            recommendations: data.recommendations || [],\n            gifURLs: data.gifURLs || [],\n            recommendedWork: data.recommendedWork,\n            isCompleted: data.isCompleted || false,\n            createdAt: data.createdAt,\n            updatedAt: data.updatedAt,\n            completedAt: data.completedAt,\n            duration: data.duration || \"\"\n        });\n    };\n    return WorkoutSummary;\n}();\nvar SweatlistType;\n(function(SweatlistType) {\n    SweatlistType[\"Together\"] = \"together\";\n    SweatlistType[\"Solo\"] = \"solo\";\n    SweatlistType[\"Locked\"] = \"locked\";\n})(SweatlistType || (SweatlistType = {}));\nvar ReferralChain = /*#__PURE__*/ function() {\n    \"use strict\";\n    function ReferralChain(data) {\n        (0,_swc_helpers_class_call_check__WEBPACK_IMPORTED_MODULE_2__._)(this, ReferralChain);\n        this.originalHostId = data.originalHostId || \"\";\n        this.sharedBy = data.sharedBy || \"\";\n    }\n    var _proto = ReferralChain.prototype;\n    _proto.toDictionary = function toDictionary() {\n        return {\n            originalHostId: this.originalHostId,\n            sharedBy: this.sharedBy\n        };\n    };\n    ReferralChain.fromFirestore = function fromFirestore(data) {\n        return new ReferralChain(data);\n    };\n    return ReferralChain;\n}();\n// Main SweatlistCollection interface\nvar SweatlistCollection = /*#__PURE__*/ function() {\n    \"use strict\";\n    function SweatlistCollection(data) {\n        (0,_swc_helpers_class_call_check__WEBPACK_IMPORTED_MODULE_2__._)(this, SweatlistCollection);\n        this.id = data.id;\n        this.title = data.title || \"\";\n        this.subtitle = data.subtitle || \"\";\n        this.pin = data.pin || null;\n        this.challenge = data.challenge ? new Challenge(data.challenge) : undefined;\n        this.sweatlistIds = (data.sweatlistIds || []).map(function(item) {\n            return {\n                id: item.id || \"\",\n                sweatlistAuthorId: item.sweatlistAuthorId || \"\",\n                sweatlistName: item.sweatlistName || \"\",\n                order: item.order || 0\n            };\n        });\n        // If ownerId is not an array, wrap it in an array.\n        if (Array.isArray(data.ownerId)) {\n            this.ownerId = data.ownerId;\n        } else if (data.ownerId) {\n            this.ownerId = [\n                data.ownerId\n            ];\n        } else {\n            this.ownerId = [];\n        }\n        this.privacy = this.challenge ? \"together\" : \"solo\";\n        this.participants = (data.participants || []).map(function(participant) {\n            return participant || \"\";\n        });\n        this.createdAt = (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_1__.convertFirestoreTimestamp)(data.createdAt);\n        this.updatedAt = (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_1__.convertFirestoreTimestamp)(data.updatedAt);\n    }\n    var _proto = SweatlistCollection.prototype;\n    _proto.toDictionary = function toDictionary() {\n        return {\n            id: this.id,\n            title: this.title,\n            subtitle: this.subtitle,\n            pin: this.pin,\n            challenge: this.challenge ? this.challenge.toDictionary() : null,\n            sweatlistIds: this.sweatlistIds.map(function(item) {\n                return {\n                    id: item.id,\n                    sweatlistAuthorId: item.sweatlistAuthorId,\n                    order: item.order\n                };\n            }),\n            ownerId: this.ownerId,\n            privacy: this.privacy,\n            createdAt: this.createdAt,\n            updatedAt: this.updatedAt\n        };\n    };\n    _proto.toRESTDictionary = function toRESTDictionary() {\n        return {\n            fields: {\n                id: {\n                    stringValue: this.id\n                },\n                title: {\n                    stringValue: this.title\n                },\n                subtitle: {\n                    stringValue: this.subtitle\n                },\n                pin: {\n                    stringValue: this.pin\n                },\n                // ownerId as an array of string values\n                ownerId: {\n                    arrayValue: {\n                        values: this.ownerId.map(function(owner) {\n                            return {\n                                stringValue: owner\n                            };\n                        })\n                    }\n                },\n                sweatlistIds: {\n                    arrayValue: {\n                        values: this.sweatlistIds.map(function(item) {\n                            return {\n                                mapValue: {\n                                    fields: {\n                                        id: {\n                                            stringValue: item.id\n                                        },\n                                        sweatlistAuthorId: {\n                                            stringValue: item.sweatlistAuthorId\n                                        },\n                                        order: {\n                                            integerValue: item.order\n                                        }\n                                    }\n                                }\n                            };\n                        })\n                    }\n                },\n                createdAt: {\n                    doubleValue: this.createdAt.getTime()\n                },\n                updatedAt: {\n                    doubleValue: this.updatedAt.getTime()\n                }\n            }\n        };\n    };\n    _proto.isPublished = function isPublished() {\n        if (!this.challenge) return false;\n        return this.challenge.status === \"published\";\n    };\n    SweatlistCollection.fromFirestore = function fromFirestore(data) {\n        return new SweatlistCollection(data);\n    };\n    return SweatlistCollection;\n}();\nvar ProfileImage = /*#__PURE__*/ function() {\n    \"use strict\";\n    function ProfileImage(data) {\n        (0,_swc_helpers_class_call_check__WEBPACK_IMPORTED_MODULE_2__._)(this, ProfileImage);\n        this.profileImageURL = data.profileImageURL || \"\";\n        this.thumbnailURL = data.thumbnailURL || \"\";\n    }\n    var _proto = ProfileImage.prototype;\n    _proto.toDictionary = function toDictionary() {\n        return {\n            profileImageURL: this.profileImageURL,\n            thumbnailURL: this.thumbnailURL || null\n        };\n    };\n    ProfileImage.fromFirestore = function fromFirestore(data) {\n        return new ProfileImage(data);\n    };\n    return ProfileImage;\n}();\nvar UserLocation = /*#__PURE__*/ function() {\n    \"use strict\";\n    function UserLocation(data) {\n        (0,_swc_helpers_class_call_check__WEBPACK_IMPORTED_MODULE_2__._)(this, UserLocation);\n        this.latitude = data.latitude || 0;\n        this.longitude = data.longitude || 0;\n    }\n    var _proto = UserLocation.prototype;\n    _proto.toDictionary = function toDictionary() {\n        return {\n            latitude: this.latitude,\n            longitude: this.longitude\n        };\n    };\n    UserLocation.fromFirestore = function fromFirestore(data) {\n        return new UserLocation(data);\n    };\n    return UserLocation;\n}();\nvar PulsePoints = /*#__PURE__*/ function() {\n    \"use strict\";\n    function PulsePoints(data) {\n        (0,_swc_helpers_class_call_check__WEBPACK_IMPORTED_MODULE_2__._)(this, PulsePoints);\n        var _data_baseCompletion;\n        this.baseCompletion = (_data_baseCompletion = data.baseCompletion) !== null && _data_baseCompletion !== void 0 ? _data_baseCompletion : 0;\n        var _data_firstCompletion;\n        this.firstCompletion = (_data_firstCompletion = data.firstCompletion) !== null && _data_firstCompletion !== void 0 ? _data_firstCompletion : 0;\n        var _data_streakBonus;\n        this.streakBonus = (_data_streakBonus = data.streakBonus) !== null && _data_streakBonus !== void 0 ? _data_streakBonus : 0;\n        var _data_checkInBonus;\n        this.checkInBonus = (_data_checkInBonus = data.checkInBonus) !== null && _data_checkInBonus !== void 0 ? _data_checkInBonus : 0;\n        var _data_effortRating;\n        this.effortRating = (_data_effortRating = data.effortRating) !== null && _data_effortRating !== void 0 ? _data_effortRating : 0;\n        var _data_chatParticipation;\n        this.chatParticipation = (_data_chatParticipation = data.chatParticipation) !== null && _data_chatParticipation !== void 0 ? _data_chatParticipation : 0;\n        var _data_locationCheckin;\n        this.locationCheckin = (_data_locationCheckin = data.locationCheckin) !== null && _data_locationCheckin !== void 0 ? _data_locationCheckin : 0;\n        var _data_contentEngagement;\n        this.contentEngagement = (_data_contentEngagement = data.contentEngagement) !== null && _data_contentEngagement !== void 0 ? _data_contentEngagement : 0;\n        var _data_encouragementSent;\n        this.encouragementSent = (_data_encouragementSent = data.encouragementSent) !== null && _data_encouragementSent !== void 0 ? _data_encouragementSent : 0;\n        var _data_encouragementReceived;\n        this.encouragementReceived = (_data_encouragementReceived = data.encouragementReceived) !== null && _data_encouragementReceived !== void 0 ? _data_encouragementReceived : 0;\n        var _data_cumulativeStreakBonus;\n        this.cumulativeStreakBonus = (_data_cumulativeStreakBonus = data.cumulativeStreakBonus) !== null && _data_cumulativeStreakBonus !== void 0 ? _data_cumulativeStreakBonus : 0;\n    }\n    var _proto = PulsePoints.prototype;\n    _proto.toDictionary = function toDictionary() {\n        return {\n            baseCompletion: this.baseCompletion,\n            firstCompletion: this.firstCompletion,\n            streakBonus: this.streakBonus,\n            checkInBonus: this.checkInBonus,\n            effortRating: this.effortRating,\n            chatParticipation: this.chatParticipation,\n            locationCheckin: this.locationCheckin,\n            contentEngagement: this.contentEngagement,\n            encouragementSent: this.encouragementSent,\n            encouragementReceived: this.encouragementReceived,\n            cumulativeStreakBonus: this.cumulativeStreakBonus,\n            totalStackPoints: this.totalStackPoints,\n            totalCommunityPoints: this.totalCommunityPoints,\n            totalPoints: this.totalPoints\n        };\n    };\n    PulsePoints.fromFirestore = function fromFirestore(data) {\n        return new PulsePoints(data);\n    };\n    (0,_swc_helpers_create_class__WEBPACK_IMPORTED_MODULE_3__._)(PulsePoints, [\n        {\n            key: \"totalStackPoints\",\n            get: function get() {\n                return this.baseCompletion + this.firstCompletion + this.streakBonus + this.checkInBonus + this.effortRating;\n            }\n        },\n        {\n            key: \"totalCommunityPoints\",\n            get: function get() {\n                return this.chatParticipation + this.locationCheckin + this.contentEngagement + this.encouragementSent + this.encouragementReceived;\n            }\n        },\n        {\n            key: \"totalPoints\",\n            get: function get() {\n                return this.totalStackPoints + this.totalCommunityPoints + this.cumulativeStreakBonus;\n            }\n        }\n    ]);\n    return PulsePoints;\n}();\n// Types for user in challenge\nvar UserChallenge = /*#__PURE__*/ function() {\n    \"use strict\";\n    function UserChallenge(id, data) {\n        (0,_swc_helpers_class_call_check__WEBPACK_IMPORTED_MODULE_2__._)(this, UserChallenge);\n        this.id = id;\n        this.challenge = data.challenge ? new Challenge(data.challenge) : undefined;\n        this.challengeId = data.challengeId || \"\";\n        this.userId = data.userId || \"\";\n        this.username = data.username || \"\";\n        this.profileImage = data.profileImage ? new ProfileImage(data.profileImage) : undefined;\n        var _data_progress;\n        this.progress = (_data_progress = data.progress) !== null && _data_progress !== void 0 ? _data_progress : 0;\n        this.referralChains = data.referralChains ? new ReferralChain(data.referralChains) : new ReferralChain({\n            originalHostId: \"\",\n            sharedBy: \"\"\n        });\n        this.completedWorkouts = Array.isArray(data.completedWorkouts) ? data.completedWorkouts.map(function(cw) {\n            return {\n                id: cw.id || \"\",\n                workoutId: cw.workoutId || \"\",\n                completedAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_1__.convertFirestoreTimestamp)(cw.completedAt)\n            };\n        }) : [];\n        var _data_isCompleted;\n        this.isCompleted = (_data_isCompleted = data.isCompleted) !== null && _data_isCompleted !== void 0 ? _data_isCompleted : false;\n        this.location = data.location ? new UserLocation(data.location) : undefined;\n        this.city = data.city || \"\";\n        this.country = data.country || \"\";\n        this.timezone = data.timezone || \"\";\n        this.joinDate = (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_1__.convertFirestoreTimestamp)(data.joinDate);\n        this.createdAt = (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_1__.convertFirestoreTimestamp)(data.createdAt);\n        this.updatedAt = (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_1__.convertFirestoreTimestamp)(data.updatedAt);\n        this.pulsePoints = data.pulsePoints ? new PulsePoints(data.pulsePoints) : new PulsePoints({});\n        var _data_currentStreak;\n        this.currentStreak = (_data_currentStreak = data.currentStreak) !== null && _data_currentStreak !== void 0 ? _data_currentStreak : 0;\n        this.encouragedUsers = Array.isArray(data.encouragedUsers) ? data.encouragedUsers : [];\n        this.encouragedByUsers = Array.isArray(data.encouragedByUsers) ? data.encouragedByUsers : [];\n        this.checkIns = Array.isArray(data.checkIns) ? data.checkIns.map(function(d) {\n            return (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_1__.convertFirestoreTimestamp)(d);\n        }) : [];\n    }\n    var _proto = UserChallenge.prototype;\n    // Optionally, add a method to convert to a plain dictionary (for saving to Firestore)\n    _proto.toDictionary = function toDictionary() {\n        return {\n            challenge: this.challenge ? this.challenge.toDictionary() : null,\n            challengeId: this.challengeId,\n            userId: this.userId,\n            username: this.username,\n            profileImage: this.profileImage ? this.profileImage.toDictionary() : null,\n            progress: this.progress,\n            referralChains: this.referralChains ? this.referralChains.toDictionary() : {},\n            completedWorkouts: this.completedWorkouts.map(function(workout) {\n                return (0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_4__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_5__._)({}, workout), {\n                    completedAt: Math.floor(new Date(workout.completedAt).getTime() / 1000)\n                });\n            }),\n            isCompleted: this.isCompleted,\n            location: this.location ? this.location.toDictionary() : null,\n            city: this.city,\n            country: this.country,\n            timezone: this.timezone,\n            joinDate: Math.floor(this.joinDate.getTime() / 1000),\n            createdAt: Math.floor(this.createdAt.getTime() / 1000),\n            updatedAt: Math.floor(this.updatedAt.getTime() / 1000),\n            pulsePoints: this.pulsePoints ? this.pulsePoints.toDictionary() : {},\n            currentStreak: this.currentStreak,\n            encouragedUsers: this.encouragedUsers,\n            encouragedByUsers: this.encouragedByUsers,\n            checkIns: this.checkIns.map(function(date) {\n                return Math.floor(date.getTime() / 1000);\n            })\n        };\n    };\n    // Optionally, you can add a static method to create an instance from Firestore data\n    UserChallenge.fromFirestore = function fromFirestore(id, data) {\n        return new UserChallenge(id, data);\n    };\n    return UserChallenge;\n}();\nvar ChallengeStatus;\n// Challenge status enum\n(function(ChallengeStatus) {\n    ChallengeStatus[\"Draft\"] = \"draft\";\n    ChallengeStatus[\"Published\"] = \"published\";\n    ChallengeStatus[\"Completed\"] = \"completed\";\n    ChallengeStatus[\"Cancelled\"] = \"cancelled\";\n})(ChallengeStatus || (ChallengeStatus = {}));\nvar IntroVideo = /*#__PURE__*/ function() {\n    \"use strict\";\n    function IntroVideo(data) {\n        (0,_swc_helpers_class_call_check__WEBPACK_IMPORTED_MODULE_2__._)(this, IntroVideo);\n        this.id = data.id;\n        this.userId = data.userId;\n        this.videoUrl = data.videoUrl;\n    }\n    var _proto = IntroVideo.prototype;\n    _proto.toDictionary = function toDictionary() {\n        return {\n            id: this.id,\n            userId: this.userId,\n            videoUrl: this.videoUrl\n        };\n    };\n    return IntroVideo;\n}();\nvar Challenge = /*#__PURE__*/ function() {\n    \"use strict\";\n    function Challenge(data) {\n        (0,_swc_helpers_class_call_check__WEBPACK_IMPORTED_MODULE_2__._)(this, Challenge);\n        this.id = data.id;\n        this.title = data.title;\n        this.subtitle = data.subtitle;\n        // Use an empty array if participants is missing.\n        this.participants = Array.isArray(data.participants) ? data.participants : [];\n        this.status = data.status;\n        this.startDate = (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_1__.convertFirestoreTimestamp)(data.startDate);\n        this.endDate = (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_1__.convertFirestoreTimestamp)(data.endDate);\n        this.createdAt = (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_1__.convertFirestoreTimestamp)(data.createdAt);\n        this.updatedAt = (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_1__.convertFirestoreTimestamp)(data.updatedAt);\n        // Handle both old and new format for intro videos.\n        if (Array.isArray(data.introVideos)) {\n            this.introVideos = data.introVideos.map(function(video) {\n                return new IntroVideo(video);\n            });\n        } else if (data.introVideoURL && Array.isArray(data.participants) && data.participants.length > 0) {\n            this.introVideos = [\n                new IntroVideo({\n                    id: \"1\",\n                    userId: data.participants[0].userId,\n                    videoUrl: data.introVideoURL\n                })\n            ];\n        } else {\n            this.introVideos = [];\n        }\n        this.durationInDays = this.calculateDurationInDays();\n    }\n    var _proto = Challenge.prototype;\n    _proto.toDictionary = function toDictionary() {\n        return {\n            id: this.id,\n            title: this.title,\n            subtitle: this.subtitle,\n            participants: this.participants.map(function(participant) {\n                return {\n                    id: participant.id,\n                    challengeId: participant.challengeId,\n                    userId: participant.userId,\n                    username: participant.username,\n                    profileImage: participant.profileImage,\n                    progress: participant.progress,\n                    completedWorkouts: participant.completedWorkouts,\n                    isCompleted: participant.isCompleted,\n                    location: participant.location,\n                    city: participant.city,\n                    country: participant.country,\n                    timezone: participant.timezone,\n                    joinDate: participant.joinDate,\n                    createdAt: participant.createdAt,\n                    updatedAt: participant.updatedAt,\n                    pulsePoints: participant.pulsePoints,\n                    currentStreak: participant.currentStreak,\n                    encouragedUsers: participant.encouragedUsers,\n                    encouragedByUsers: participant.encouragedByUsers,\n                    checkIns: participant.checkIns\n                };\n            }),\n            status: this.status,\n            startDate: this.startDate,\n            endDate: this.endDate,\n            createdAt: this.createdAt,\n            updatedAt: this.updatedAt,\n            durationInDays: this.durationInDays,\n            introVideos: this.introVideos.map(function(video) {\n                return video.toDictionary();\n            })\n        };\n    };\n    /**\n   * Calculates the duration in days between the startDate and endDate.\n   * @returns The number of days between the two dates.\n   */ _proto.calculateDurationInDays = function calculateDurationInDays() {\n        var _this_startDate, _this_endDate;\n        var start = (_this_startDate = this.startDate) === null || _this_startDate === void 0 ? void 0 : _this_startDate.valueOf();\n        var end = (_this_endDate = this.endDate) === null || _this_endDate === void 0 ? void 0 : _this_endDate.valueOf();\n        if (!start || !end || isNaN(start) || isNaN(end)) {\n            throw new Error(\"Invalid startDate or endDate\");\n        }\n        var durationInMilliseconds = end - start;\n        return Math.ceil(durationInMilliseconds / (1000 * 60 * 60 * 24));\n    };\n    Challenge.toFirestoreObject = function toFirestoreObject(obj) {\n        var _this = this;\n        if (obj === null || typeof obj !== \"object\") {\n            return obj;\n        }\n        if (obj instanceof Date) {\n            return obj;\n        }\n        if (Array.isArray(obj)) {\n            return obj.map(function(item) {\n                return _this.toFirestoreObject(item);\n            });\n        }\n        if (obj instanceof Challenge) {\n            return {\n                id: obj.id,\n                title: obj.title,\n                subtitle: obj.subtitle,\n                participants: obj.participants,\n                status: obj.status,\n                startDate: obj.startDate,\n                endDate: obj.endDate,\n                createdAt: obj.createdAt,\n                updatedAt: obj.updatedAt,\n                introVideos: obj.introVideos.map(function(video) {\n                    return {\n                        id: video.id,\n                        userId: video.userId,\n                        videoUrl: video.videoUrl\n                    };\n                })\n            };\n        }\n        var plainObject = {};\n        for(var key in obj){\n            if (Object.prototype.hasOwnProperty.call(obj, key)) {\n                plainObject[key] = this.toFirestoreObject(obj[key]);\n            }\n        }\n        return plainObject;\n    };\n    return Challenge;\n}();\n\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LE1BQU07WUFDdkIsT0FBTzRGO1FBQ1Q7UUFFQSxJQUFJL0csTUFBTWlDLE9BQU8sQ0FBQzhFLE1BQU07WUFDdEIsT0FBT0EsSUFBSTlKLEdBQUcsQ0FBQ2tELFNBQUFBO3VCQUFRLE1BQUsyRyxpQkFBaUIsQ0FBQzNHOztRQUNoRDtRQUVBLElBQUk0RyxlQXpIRmxGLFdBeUg0QjtZQUM1QixPQUFPO2dCQUNMdkcsSUFBSXlMLElBQUl6TCxFQUFFO2dCQUNWTSxPQUFPbUwsSUFBSW5MLEtBQUs7Z0JBQ2hCK0YsVUFBVW9GLElBQUlwRixRQUFRO2dCQUN0QlMsY0FBYzJFLElBQUkzRSxZQUFZO2dCQUM5QlksUUFBUStELElBQUkvRCxNQUFNO2dCQUNsQitDLFdBQVdnQixJQUFJaEIsU0FBUztnQkFDeEJDLFNBQVNlLElBQUlmLE9BQU87Z0JBQ3BCMUosV0FBV3lLLElBQUl6SyxTQUFTO2dCQUN4QkMsV0FBV3dLLElBQUl4SyxTQUFTO2dCQUN4QjBKLGFBQWFjLElBQUlkLFdBQVcsQ0FBQ2hKLEdBQUcsQ0FBQ2lKLFNBQUFBOzJCQUFVO3dCQUN6QzVLLElBQUk0SyxNQUFNNUssRUFBRTt3QkFDWmtKLFFBQVEwQixNQUFNMUIsTUFBTTt3QkFDcEJzQixVQUFVSSxNQUFNSixRQUFRO29CQUMxQjs7WUFDRjtRQUNGO1FBRUEsSUFBTWtCLGNBQXNDLENBQUM7UUFDN0MsSUFBSyxJQUFNQyxPQUFPRixJQUFLO1lBQ3JCLElBQUlHLE9BQU9DLFNBQVMsQ0FBQ0MsY0FBYyxDQUFDQyxJQUFJLENBQUNOLEtBQUtFLE1BQU07Z0JBQ2xERCxXQUFXLENBQUNDLElBQUksR0FBRyxJQUFJLENBQUNILGlCQUFpQixDQUFDQyxHQUFHLENBQUNFLElBQUk7WUFDcEQ7UUFDRjtRQUNBLE9BQU9EO0lBQ1Q7V0FuSkluRjs7QUFxSytDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9hcGkvZmlyZWJhc2Uvd29ya291dC90eXBlcy50cz9iZDI2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEV4ZXJjaXNlUmVmZXJlbmNlLCBFeGVyY2lzZUxvZyB9IGZyb20gJy4uL2V4ZXJjaXNlL3R5cGVzJztcbmltcG9ydCB7IEJvZHlQYXJ0LCBFeGVyY2lzZUNhdGVnb3J5IH0gZnJvbSAnLi4vZXhlcmNpc2UvdHlwZXMnO1xuaW1wb3J0IHsgY29udmVydEZpcmVzdG9yZVRpbWVzdGFtcCB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2Zvcm1hdERhdGUnO1xuXG4vLyBzcmMvdHlwZXMvV29ya291dFR5cGVzLnRzXG5leHBvcnQgZW51bSBXb3Jrb3V0U3RhdHVzIHtcbiAgUXVldWVkVXAgPSAncXVldWVkVXAnLFxuICBJblByb2dyZXNzID0gJ2luUHJvZ3Jlc3MnLFxuICBDb21wbGV0ZSA9ICdjb21wbGV0ZScsXG4gIEFyY2hpdmVkID0gJ2FyY2hpdmVkJ1xufVxuXG4vLyBzcmMvdHlwZXMvV29ya291dFR5cGVzLnRzXG5leHBvcnQgZW51bSBXb3Jrb3V0UmF0aW5nIHtcbiAgVG9vSGFyZCA9ICdUb28gSGFyZCcsXG4gIFRvb0Vhc3kgPSAnVG9vIEVhc3knLFxuICBKdXN0UmlnaHQgPSAnSnVzdCBSaWdodCdcbn1cblxuXG5leHBvcnQgZW51bSBCb2R5Wm9uZSB7XG4gIExvd2VyQm9keSA9IFwiTG93ZXIgQm9keVwiLFxuICBVcHBlckJvZHkgPSBcIlVwcGVyIEJvZHlcIixcbiAgRnVsbEJvZHkgPSBcIkZ1bGwgQm9keVwiLFxuICBDb3JlID0gXCJDb3JlXCJcblxufVxuICBcbmV4cG9ydCBjbGFzcyBSZXBzQW5kV2VpZ2h0TG9nIHtcbiAgcmVwczogbnVtYmVyO1xuICB3ZWlnaHQ6IG51bWJlcjtcbiAgbGVmdFJlcHM6IG51bWJlcjtcbiAgbGVmdFdlaWdodDogbnVtYmVyO1xuICBpc1NwbGl0OiBib29sZWFuO1xuICBpc0JvZHlXZWlnaHQ6IGJvb2xlYW47XG4gIGR1cmF0aW9uOiBudW1iZXI7XG4gIGNhbG9yaWVzOiBudW1iZXI7XG4gIGJwbTogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKGRhdGE6IGFueSkge1xuICAgIHRoaXMucmVwcyA9IGRhdGEucmVwcyB8fCAwO1xuICAgIHRoaXMud2VpZ2h0ID0gZGF0YS53ZWlnaHQgfHwgMDtcbiAgICB0aGlzLmxlZnRSZXBzID0gZGF0YS5sZWZ0UmVwcyB8fCAwO1xuICAgIHRoaXMubGVmdFdlaWdodCA9IGRhdGEubGVmdFdlaWdodCB8fCAwO1xuICAgIHRoaXMuaXNTcGxpdCA9IGRhdGEuaXNTcGxpdCB8fCBmYWxzZTtcbiAgICB0aGlzLmlzQm9keVdlaWdodCA9IGRhdGEuaXNCb2R5V2VpZ2h0IHx8IGZhbHNlO1xuICAgIHRoaXMuZHVyYXRpb24gPSBkYXRhLmR1cmF0aW9uIHx8IDA7XG4gICAgdGhpcy5jYWxvcmllcyA9IGRhdGEuY2Fsb3JpZXMgfHwgMDtcbiAgICB0aGlzLmJwbSA9IGRhdGEuYnBtIHx8IDA7XG4gIH1cblxuICBzdGF0aWMgZnJvbUZpcmViYXNlKGRhdGE6IGFueSk6IFJlcHNBbmRXZWlnaHRMb2cge1xuICAgIGlmICghZGF0YSkge1xuICAgICAgcmV0dXJuIG5ldyBSZXBzQW5kV2VpZ2h0TG9nKHt9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFJlcHNBbmRXZWlnaHRMb2coe1xuICAgICAgcmVwczogZGF0YS5yZXBzIHx8IDAsXG4gICAgICB3ZWlnaHQ6IGRhdGEud2VpZ2h0IHx8IDAsXG4gICAgICBsZWZ0UmVwczogZGF0YS5sZWZ0UmVwcyB8fCAwLFxuICAgICAgbGVmdFdlaWdodDogZGF0YS5sZWZ0V2VpZ2h0IHx8IDAsXG4gICAgICBpc1NwbGl0OiBkYXRhLmlzU3BsaXQgfHwgZmFsc2UsXG4gICAgICBpc0JvZHlXZWlnaHQ6IGRhdGEuaXNCb2R5V2VpZ2h0IHx8IGZhbHNlLFxuICAgICAgZHVyYXRpb246IGRhdGEuZHVyYXRpb24gfHwgMCxcbiAgICAgIGNhbG9yaWVzOiBkYXRhLmNhbG9yaWVzIHx8IDAsXG4gICAgICBicG06IGRhdGEuYnBtIHx8IDBcbiAgICB9KTtcbiAgfVxuXG4gIHRvRGljdGlvbmFyeSgpOiB7IFtrZXk6IHN0cmluZ106IGFueSB9IHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVwczogdGhpcy5yZXBzLFxuICAgICAgd2VpZ2h0OiB0aGlzLndlaWdodCxcbiAgICAgIGxlZnRSZXBzOiB0aGlzLmxlZnRSZXBzLFxuICAgICAgbGVmdFdlaWdodDogdGhpcy5sZWZ0V2VpZ2h0LFxuICAgICAgaXNTcGxpdDogdGhpcy5pc1NwbGl0LFxuICAgICAgaXNCb2R5V2VpZ2h0OiB0aGlzLmlzQm9keVdlaWdodCxcbiAgICAgIGR1cmF0aW9uOiB0aGlzLmR1cmF0aW9uLFxuICAgICAgY2Fsb3JpZXM6IHRoaXMuY2Fsb3JpZXMsXG4gICAgICBicG06IHRoaXMuYnBtXG4gICAgfTtcbiAgfVxufVxuXG4vLyBXb3Jrb3V0Q2xhc3MudHNcblxuZXhwb3J0IGNsYXNzIFdvcmtvdXQge1xuICBpZDogc3RyaW5nO1xuICBjb2xsZWN0aW9uSWQ/OiBzdHJpbmdbXTtcbiAgcm91bmRXb3Jrb3V0SWQ6IHN0cmluZztcbiAgZXhlcmNpc2VzOiBFeGVyY2lzZVJlZmVyZW5jZVtdO1xuICBjaGFsbGVuZ2U/OiBDaGFsbGVuZ2U7XG4gIGxvZ3M/OiBFeGVyY2lzZUxvZ1tdO1xuICB0aXRsZTogc3RyaW5nO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICBkdXJhdGlvbjogbnVtYmVyO1xuICB3b3Jrb3V0UmF0aW5nPzogV29ya291dFJhdGluZztcbiAgdXNlQXV0aG9yQ29udGVudDogYm9vbGVhbjtcbiAgaXNDb21wbGV0ZWQ6IGJvb2xlYW47XG4gIHdvcmtvdXRTdGF0dXM6IFdvcmtvdXRTdGF0dXM7XG4gIHN0YXJ0VGltZT86IERhdGU7XG4gIG9yZGVyPzogbnVtYmVyO1xuICBhdXRob3I6IHN0cmluZztcbiAgYXNzaWduZWREYXRlPzogRGF0ZTtcbiAgY3JlYXRlZEF0OiBEYXRlO1xuICB1cGRhdGVkQXQ6IERhdGU7XG4gIHpvbmU6IEJvZHlab25lO1xuXG4gIGNvbnN0cnVjdG9yKGRhdGE6IGFueSkge1xuICAgIHRoaXMuaWQgPSBkYXRhLmlkO1xuICAgIHRoaXMuY29sbGVjdGlvbklkID0gZGF0YS5jb2xsZWN0aW9uSWQ7XG4gICAgdGhpcy5yb3VuZFdvcmtvdXRJZCA9IGRhdGEucm91bmRXb3Jrb3V0SWQ7XG4gICAgdGhpcy5leGVyY2lzZXMgPSBkYXRhLmV4ZXJjaXNlcztcbiAgICB0aGlzLmNoYWxsZW5nZSA9IGRhdGEuY2hhbGxlbmdlO1xuICAgIHRoaXMubG9ncyA9IGRhdGEubG9ncztcbiAgICB0aGlzLnRpdGxlID0gZGF0YS50aXRsZTtcbiAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGF0YS5kZXNjcmlwdGlvbjtcbiAgICB0aGlzLmR1cmF0aW9uID0gZGF0YS5kdXJhdGlvbjtcbiAgICB0aGlzLndvcmtvdXRSYXRpbmcgPSBkYXRhLndvcmtvdXRSYXRpbmc7XG4gICAgdGhpcy51c2VBdXRob3JDb250ZW50ID0gZGF0YS51c2VBdXRob3JDb250ZW50O1xuICAgIHRoaXMuaXNDb21wbGV0ZWQgPSBkYXRhLmlzQ29tcGxldGVkO1xuICAgIHRoaXMud29ya291dFN0YXR1cyA9IGRhdGEud29ya291dFN0YXR1cztcbiAgICB0aGlzLnN0YXJ0VGltZSA9IGRhdGEuc3RhcnRUaW1lO1xuICAgIHRoaXMub3JkZXIgPSBkYXRhLm9yZGVyO1xuICAgIHRoaXMuYXV0aG9yID0gZGF0YS5hdXRob3I7XG4gICAgdGhpcy5hc3NpZ25lZERhdGUgPSBkYXRhLmFzc2lnbmVkRGF0ZTtcbiAgICB0aGlzLmNyZWF0ZWRBdCA9IGRhdGEuY3JlYXRlZEF0O1xuICAgIHRoaXMudXBkYXRlZEF0ID0gZGF0YS51cGRhdGVkQXQ7XG4gICAgdGhpcy56b25lID0gV29ya291dC5kZXRlcm1pbmVXb3Jrb3V0Wm9uZShkYXRhLmV4ZXJjaXNlcyk7XG4gIH1cblxuICBnZXQgaXNUaW1lZFdvcmtvdXQoKTogYm9vbGVhbiB7XG4gICAgaWYgKCF0aGlzLmxvZ3MpIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gdGhpcy5sb2dzLnNvbWUobG9nID0+IHtcbiAgICAgIGlmIChsb2cuZXhlcmNpc2UuY2F0ZWdvcnkudHlwZSA9PT0gJ3dlaWdodFRyYWluaW5nJykge1xuICAgICAgICByZXR1cm4gbG9nLmV4ZXJjaXNlLmNhdGVnb3J5LmRldGFpbHM/LnNjcmVlblRpbWUgIT09IDA7XG4gICAgICB9IGVsc2UgaWYgKGxvZy5leGVyY2lzZS5jYXRlZ29yeS50eXBlID09PSAnY2FyZGlvJykge1xuICAgICAgICByZXR1cm4gbG9nLmV4ZXJjaXNlLmNhdGVnb3J5LmRldGFpbHM/LnNjcmVlblRpbWUgIT09IDA7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSk7XG4gIH1cblxuICBmZXRjaFByaW1hcnlCb2R5UGFydHMoKTogQm9keVBhcnRbXSB7XG4gICAgcmV0dXJuIHRoaXMuZXhlcmNpc2VzLmZsYXRNYXAoZXhlcmNpc2VSZWYgPT4gZXhlcmNpc2VSZWYuZXhlcmNpc2UucHJpbWFyeUJvZHlQYXJ0cyk7XG4gIH1cblxuICBmZXRjaFNlY29uZGFyeUJvZHlQYXJ0cygpOiBCb2R5UGFydFtdIHtcbiAgICByZXR1cm4gdGhpcy5leGVyY2lzZXMuZmxhdE1hcChleGVyY2lzZVJlZiA9PiBleGVyY2lzZVJlZi5leGVyY2lzZS5zZWNvbmRhcnlCb2R5UGFydHMpO1xuICB9XG5cbiAgc3RhdGljIGVzdGltYXRlZER1cmF0aW9uKGV4ZXJjaXNlczogRXhlcmNpc2VSZWZlcmVuY2VbXSk6IG51bWJlciB7XG4gICAgY29uc3Qgd2FybXVwVGltZSA9IDU7XG4gICAgY29uc3QgY29vbGRvd25UaW1lID0gNTtcbiAgICBsZXQgdG90YWxFeGVyY2lzZVRpbWUgPSAwO1xuICAgIGxldCByZXN0VGltZSA9IDA7XG4gICAgbGV0IGhhc1NjcmVlblRpbWVFeGVyY2lzZXMgPSBmYWxzZTtcbiAgICBcbiAgICBmb3IgKGNvbnN0IGV4ZXJjaXNlUmVmIG9mIGV4ZXJjaXNlcykge1xuICAgICAgY29uc3QgZXhlcmNpc2UgPSBleGVyY2lzZVJlZi5leGVyY2lzZTtcbiAgICAgIGNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQoYEV4ZXJjaXNlOiAke2V4ZXJjaXNlfWApO1xuICAgICAgXG4gICAgICBpZiAoZXhlcmNpc2UuY2F0ZWdvcnkudHlwZSA9PT0gJ2NhcmRpbycpIHtcbiAgICAgICAgY29uc3QgZHVyYXRpb24gPSBleGVyY2lzZS5jYXRlZ29yeS5kZXRhaWxzPy5kdXJhdGlvbiB8fCAwO1xuICAgICAgICBjb25zb2xlLmxvZygnQ2FyZGlvIGR1cmF0aW9uIChtaW51dGVzKTonLCBkdXJhdGlvbik7XG4gICAgICAgIHRvdGFsRXhlcmNpc2VUaW1lICs9IGR1cmF0aW9uO1xuICAgICAgfSBlbHNlIGlmIChleGVyY2lzZS5jYXRlZ29yeS50eXBlID09PSAnd2VpZ2h0VHJhaW5pbmcnKSB7XG4gICAgICAgIGNvbnN0IHNjcmVlblRpbWUgPSBleGVyY2lzZS5jYXRlZ29yeS5kZXRhaWxzPy5zY3JlZW5UaW1lIHx8IDA7XG4gICAgICAgIFxuICAgICAgICBpZiAoc2NyZWVuVGltZSA+IDApIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnU2NyZWVuIHRpbWUgKHNlY29uZHMpOicsIHNjcmVlblRpbWUpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdDb252ZXJ0ZWQgdG8gbWludXRlczonLCBNYXRoLmZsb29yKHNjcmVlblRpbWUgLyA2MCkpO1xuICAgICAgICAgIHRvdGFsRXhlcmNpc2VUaW1lICs9IE1hdGguZmxvb3Ioc2NyZWVuVGltZSAvIDYwKTtcbiAgICAgICAgICBoYXNTY3JlZW5UaW1lRXhlcmNpc2VzID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnVXNpbmcgZGVmYXVsdCB0aW1pbmcgKDhtIGV4ZXJjaXNlICsgMW0gcmVzdCknKTtcbiAgICAgICAgICB0b3RhbEV4ZXJjaXNlVGltZSArPSA4O1xuICAgICAgICAgIHJlc3RUaW1lICs9IDE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgXG4gICAgICBjb25zb2xlLmxvZygnQ3VycmVudCB0b3RhbHM6Jywge1xuICAgICAgICB0b3RhbEV4ZXJjaXNlVGltZSxcbiAgICAgICAgcmVzdFRpbWUsXG4gICAgICAgIGhhc1NjcmVlblRpbWVFeGVyY2lzZXNcbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5ncm91cEVuZCgpO1xuICAgIH1cbiAgXG4gICAgaWYgKCFoYXNTY3JlZW5UaW1lRXhlcmNpc2VzKSB7XG4gICAgICBjb25zb2xlLmxvZygnQWRkaW5nIHdhcm11cC9jb29sLWRvd246Jywgd2FybXVwVGltZSArIGNvb2xkb3duVGltZSwgJ21pbnV0ZXMnKTtcbiAgICAgIHRvdGFsRXhlcmNpc2VUaW1lICs9IHdhcm11cFRpbWUgKyBjb29sZG93blRpbWU7XG4gICAgfVxuICBcbiAgICBjb25zdCBlc3RpbWF0ZWRUb3RhbFRpbWUgPSB0b3RhbEV4ZXJjaXNlVGltZSArIHJlc3RUaW1lO1xuICAgIGNvbnNvbGUubG9nKCdQcmUtcm91bmRlZCB0b3RhbDonLCBlc3RpbWF0ZWRUb3RhbFRpbWUpO1xuICBcbiAgICBsZXQgZmluYWxFc3RpbWF0ZSA9IGVzdGltYXRlZFRvdGFsVGltZTtcbiAgICBpZiAoIWhhc1NjcmVlblRpbWVFeGVyY2lzZXMpIHtcbiAgICAgIGZpbmFsRXN0aW1hdGUgPSBNYXRoLnJvdW5kKGVzdGltYXRlZFRvdGFsVGltZSAvIDUpICogNTtcbiAgICAgIGNvbnNvbGUubG9nKCdSb3VuZGVkIHRvIG5lYXJlc3QgNSBtaW51dGVzOicsIGZpbmFsRXN0aW1hdGUpO1xuICAgIH1cbiAgXG4gICAgY29uc29sZS5sb2coJ0ZpbmFsIGVzdGltYXRlZCBkdXJhdGlvbjonLCBmaW5hbEVzdGltYXRlLCAnbWludXRlcycpO1xuICAgIHJldHVybiBmaW5hbEVzdGltYXRlO1xuICB9XG5cbiAgc3RhdGljIGRldGVybWluZVdvcmtvdXRab25lKGV4ZXJjaXNlczogRXhlcmNpc2VSZWZlcmVuY2VbXSk6IEJvZHlab25lIHtcbiAgICBjb25zdCBib2R5UGFydHNJbnZvbHZlZCA9IG5ldyBTZXQ8Qm9keVBhcnQ+KCk7XG5cbiAgICBmb3IgKGNvbnN0IGV4ZXJjaXNlUmVmIG9mIGV4ZXJjaXNlcykge1xuICAgICAgZm9yIChjb25zdCBib2R5UGFydCBvZiBleGVyY2lzZVJlZi5leGVyY2lzZS5wcmltYXJ5Qm9keVBhcnRzIHx8IFtleGVyY2lzZVJlZi5leGVyY2lzZS5wcmltYXJ5Qm9keVBhcnRzXSkge1xuICAgICAgICBib2R5UGFydHNJbnZvbHZlZC5hZGQoYm9keVBhcnQgYXMgQm9keVBhcnQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHVwcGVyQm9keVBhcnRzID0gbmV3IFNldChbXG4gICAgICBCb2R5UGFydC5DaGVzdCxcbiAgICAgIEJvZHlQYXJ0LlNob3VsZGVycyxcbiAgICAgIEJvZHlQYXJ0LkJpY2VwcyxcbiAgICAgIEJvZHlQYXJ0LlRyaWNlcHMsXG4gICAgICBCb2R5UGFydC5UcmFwcyxcbiAgICAgIEJvZHlQYXJ0LkxhdHMsXG4gICAgICBCb2R5UGFydC5Gb3JlYXJtcyxcbiAgICBdKTtcblxuICAgIGNvbnN0IGxvd2VyQm9keVBhcnRzID0gbmV3IFNldChbXG4gICAgICBCb2R5UGFydC5IYW1zdHJpbmdzLFxuICAgICAgQm9keVBhcnQuR2x1dGVzLFxuICAgICAgQm9keVBhcnQuUXVhZHJpY2VwcyxcbiAgICAgIEJvZHlQYXJ0LkNhbHZlcyxcbiAgICBdKTtcblxuICAgIGNvbnN0IGNvcmVQYXJ0cyA9IG5ldyBTZXQoW0JvZHlQYXJ0LkFicywgQm9keVBhcnQuTG93ZXJiYWNrXSk7XG5cbiAgICBjb25zdCBoYXNDb21tb25FbGVtZW50cyA9IChzZXQxOiBTZXQ8Qm9keVBhcnQ+LCBzZXQyOiBTZXQ8Qm9keVBhcnQ+KTogYm9vbGVhbiA9PiB7XG4gICAgICByZXR1cm4gQXJyYXkuZnJvbShzZXQxKS5zb21lKChpdGVtKSA9PiBzZXQyLmhhcyhpdGVtKSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhc1VwcGVyQm9keSA9IGhhc0NvbW1vbkVsZW1lbnRzKGJvZHlQYXJ0c0ludm9sdmVkLCB1cHBlckJvZHlQYXJ0cyk7XG4gICAgY29uc3QgaGFzTG93ZXJCb2R5ID0gaGFzQ29tbW9uRWxlbWVudHMoYm9keVBhcnRzSW52b2x2ZWQsIGxvd2VyQm9keVBhcnRzKTtcbiAgICBjb25zdCBoYXNDb3JlID0gaGFzQ29tbW9uRWxlbWVudHMoYm9keVBhcnRzSW52b2x2ZWQsIGNvcmVQYXJ0cyk7XG5cbiAgICBpZiAoKGhhc1VwcGVyQm9keSAmJiBoYXNMb3dlckJvZHkgJiYgaGFzQ29yZSkgfHwgKGhhc1VwcGVyQm9keSAmJiBoYXNMb3dlckJvZHkpKSB7XG4gICAgICByZXR1cm4gQm9keVpvbmUuRnVsbEJvZHk7XG4gICAgfSBlbHNlIGlmIChoYXNVcHBlckJvZHkgJiYgaGFzQ29yZSB8fCBoYXNVcHBlckJvZHkpIHtcbiAgICAgIHJldHVybiBCb2R5Wm9uZS5VcHBlckJvZHk7XG4gICAgfSBlbHNlIGlmIChoYXNMb3dlckJvZHkgJiYgaGFzQ29yZSB8fCBoYXNMb3dlckJvZHkpIHtcbiAgICAgIHJldHVybiBCb2R5Wm9uZS5Mb3dlckJvZHk7XG4gICAgfSBlbHNlIGlmIChoYXNDb3JlKSB7XG4gICAgICByZXR1cm4gQm9keVpvbmUuQ29yZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIEJvZHlab25lLkZ1bGxCb2R5O1xuICAgIH1cbiAgfVxuXG4gIHRvRGljdGlvbmFyeSgpOiB7IFtrZXk6IHN0cmluZ106IGFueSB9IHtcbiAgICBjb25zdCBkYXRhOiB7IFtrZXk6IHN0cmluZ106IGFueSB9ID0ge1xuICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICBleGVyY2lzZXM6IHRoaXMuZXhlcmNpc2VzLm1hcChleCA9PiAoe1xuICAgICAgICBleGVyY2lzZTogZXguZXhlcmNpc2UsXG4gICAgICAgIGdyb3VwSWQ6IGV4Lmdyb3VwSWRcbiAgICAgIH0pKSxcbiAgICAgIGxvZ3M6IHRoaXMubG9ncz8ubWFwKGxvZyA9PiBsb2cudG9EaWN0aW9uYXJ5KCkpID8/IFtdLFxuICAgICAgdGl0bGU6IHRoaXMudGl0bGUsXG4gICAgICBkZXNjcmlwdGlvbjogdGhpcy5kZXNjcmlwdGlvbixcbiAgICAgIHpvbmU6IHRoaXMuem9uZSxcbiAgICAgIGR1cmF0aW9uOiB0aGlzLmR1cmF0aW9uLFxuICAgICAgd29ya291dFJhdGluZzogdGhpcy53b3Jrb3V0UmF0aW5nLFxuICAgICAgdXNlQXV0aG9yQ29udGVudDogdGhpcy51c2VBdXRob3JDb250ZW50LFxuICAgICAgaXNDb21wbGV0ZWQ6IHRoaXMuaXNDb21wbGV0ZWQsXG4gICAgICB3b3Jrb3V0U3RhdHVzOiB0aGlzLndvcmtvdXRTdGF0dXMsXG4gICAgICBhdXRob3I6IHRoaXMuYXV0aG9yLFxuICAgICAgY3JlYXRlZEF0OiB0aGlzLmNyZWF0ZWRBdC5nZXRUaW1lKCksXG4gICAgICB1cGRhdGVkQXQ6IHRoaXMudXBkYXRlZEF0LmdldFRpbWUoKVxuICAgIH07XG5cbiAgICBpZiAodGhpcy5jaGFsbGVuZ2UpIHtcbiAgICAgIGRhdGEuY2hhbGxlbmdlID0gdGhpcy5jaGFsbGVuZ2U7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMub3JkZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgZGF0YS5vcmRlciA9IHRoaXMub3JkZXI7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuY29sbGVjdGlvbklkKSB7XG4gICAgICBkYXRhLmNvbGxlY3Rpb25JZCA9IHRoaXMuY29sbGVjdGlvbklkO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnN0YXJ0VGltZSkge1xuICAgICAgZGF0YS5zdGFydFRpbWUgPSB0aGlzLnN0YXJ0VGltZS5nZXRUaW1lKCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuYXNzaWduZWREYXRlKSB7XG4gICAgICBkYXRhLmFzc2lnbmVkRGF0ZSA9IHRoaXMuYXNzaWduZWREYXRlLmdldFRpbWUoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGF0YTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgV29ya291dFN1bW1hcnkge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgd29ya291dElkOiBzdHJpbmc7XG4gICAgZXhlcmNpc2VzOiBFeGVyY2lzZUxvZ1tdO1xuICAgIGJvZHlQYXJ0czogQm9keVBhcnRbXTtcbiAgICBzZWNvbmRhcnlCb2R5UGFydHM6IEJvZHlQYXJ0W107XG4gICAgd29ya291dFRpdGxlOiBzdHJpbmc7XG4gICAgY2Fsb3JpZXNCdXJuZWQ6IG51bWJlcjtcbiAgICB3b3Jrb3V0UmF0aW5nPzogV29ya291dFJhdGluZztcbiAgICBleGVyY2lzZXNDb21wbGV0ZWQ6IEV4ZXJjaXNlTG9nW107XG4gICAgYWlJbnNpZ2h0OiBzdHJpbmc7XG4gICAgcmVjb21tZW5kYXRpb25zOiBzdHJpbmdbXTtcbiAgICBnaWZVUkxzPzogc3RyaW5nW107XG4gICAgcmVjb21tZW5kZWRXb3JrPzogbnVtYmVyO1xuICAgIGlzQ29tcGxldGVkOiBib29sZWFuO1xuICAgIGNyZWF0ZWRBdDogRGF0ZTtcbiAgICB1cGRhdGVkQXQ6IERhdGU7XG4gICAgY29tcGxldGVkQXQ/OiBEYXRlIHwgbnVsbDtcbiAgICBkdXJhdGlvbjogc3RyaW5nO1xuICBcbiAgICBjb25zdHJ1Y3RvcihkYXRhOiBhbnkpIHtcbiAgICAgIHRoaXMuaWQgPSBkYXRhLmlkO1xuICAgICAgdGhpcy53b3Jrb3V0SWQgPSBkYXRhLndvcmtvdXRJZDtcbiAgICAgIHRoaXMuZXhlcmNpc2VzID0gZGF0YS5leGVyY2lzZXMubWFwKChleDogYW55KSA9PiBFeGVyY2lzZUxvZy5mcm9tRmlyZWJhc2UoZXgpKTtcbiAgICAgIHRoaXMuYm9keVBhcnRzID0gZGF0YS5ib2R5UGFydHM7XG4gICAgICB0aGlzLnNlY29uZGFyeUJvZHlQYXJ0cyA9IGRhdGEuc2Vjb25kYXJ5Qm9keVBhcnRzO1xuICAgICAgdGhpcy53b3Jrb3V0VGl0bGUgPSBkYXRhLndvcmtvdXRUaXRsZTtcbiAgICAgIHRoaXMuY2Fsb3JpZXNCdXJuZWQgPSBkYXRhLmNhbG9yaWVzQnVybmVkO1xuICAgICAgdGhpcy53b3Jrb3V0UmF0aW5nID0gZGF0YS53b3Jrb3V0UmF0aW5nO1xuICAgICAgdGhpcy5leGVyY2lzZXNDb21wbGV0ZWQgPSBkYXRhLmV4ZXJjaXNlc0NvbXBsZXRlZC5tYXAoKGV4OiBhbnkpID0+IEV4ZXJjaXNlTG9nLmZyb21GaXJlYmFzZShleCkpO1xuICAgICAgdGhpcy5haUluc2lnaHQgPSBkYXRhLmFpSW5zaWdodDtcbiAgICAgIHRoaXMucmVjb21tZW5kYXRpb25zID0gZGF0YS5yZWNvbW1lbmRhdGlvbnM7XG4gICAgICB0aGlzLmdpZlVSTHMgPSBkYXRhLmdpZlVSTHM7XG4gICAgICB0aGlzLnJlY29tbWVuZGVkV29yayA9IGRhdGEucmVjb21tZW5kZWRXb3JrO1xuICAgICAgdGhpcy5pc0NvbXBsZXRlZCA9IGRhdGEuaXNDb21wbGV0ZWQ7XG4gICAgICB0aGlzLmNyZWF0ZWRBdCA9IGRhdGEuY3JlYXRlZEF0ID8gbmV3IERhdGUoZGF0YS5jcmVhdGVkQXQpIDogbmV3IERhdGUoKTtcbiAgICAgIHRoaXMudXBkYXRlZEF0ID0gZGF0YS51cGRhdGVkQXQgPyBuZXcgRGF0ZShkYXRhLnVwZGF0ZWRBdCkgOiBuZXcgRGF0ZSgpO1xuICAgICAgdGhpcy5jb21wbGV0ZWRBdCA9IGRhdGEuY29tcGxldGVkQXQgPyBuZXcgRGF0ZShkYXRhLmNvbXBsZXRlZEF0KSA6IG51bGw7XG4gICAgICB0aGlzLmR1cmF0aW9uID0gZGF0YS5kdXJhdGlvbjtcbiAgICB9XG4gIFxuICAgIHN0YXRpYyBmcm9tRmlyZWJhc2UoZGF0YTogYW55KTogV29ya291dFN1bW1hcnkge1xuICAgICAgcmV0dXJuIG5ldyBXb3Jrb3V0U3VtbWFyeSh7XG4gICAgICAgIGlkOiBkYXRhLmlkIHx8ICcnLFxuICAgICAgICB3b3Jrb3V0SWQ6IGRhdGEud29ya291dElkIHx8ICcnLFxuICAgICAgICBleGVyY2lzZXM6IGRhdGEuZXhlcmNpc2VzIHx8IFtdLFxuICAgICAgICBib2R5UGFydHM6IGRhdGEuYm9keVBhcnRzIHx8IFtdLFxuICAgICAgICBzZWNvbmRhcnlCb2R5UGFydHM6IGRhdGEuc2Vjb25kYXJ5Qm9keVBhcnRzIHx8IFtdLFxuICAgICAgICB3b3Jrb3V0VGl0bGU6IGRhdGEud29ya291dFRpdGxlIHx8ICcnLFxuICAgICAgICBjYWxvcmllc0J1cm5lZDogZGF0YS5jYWxvcmllc0J1cm5lZCB8fCAwLFxuICAgICAgICB3b3Jrb3V0UmF0aW5nOiBkYXRhLndvcmtvdXRSYXRpbmcsXG4gICAgICAgIGV4ZXJjaXNlc0NvbXBsZXRlZDogZGF0YS5leGVyY2lzZXNDb21wbGV0ZWQgfHwgW10sXG4gICAgICAgIGFpSW5zaWdodDogZGF0YS5haUluc2lnaHQgfHwgJycsXG4gICAgICAgIHJlY29tbWVuZGF0aW9uczogZGF0YS5yZWNvbW1lbmRhdGlvbnMgfHwgW10sXG4gICAgICAgIGdpZlVSTHM6IGRhdGEuZ2lmVVJMcyB8fCBbXSxcbiAgICAgICAgcmVjb21tZW5kZWRXb3JrOiBkYXRhLnJlY29tbWVuZGVkV29yayxcbiAgICAgICAgaXNDb21wbGV0ZWQ6IGRhdGEuaXNDb21wbGV0ZWQgfHwgZmFsc2UsXG4gICAgICAgIGNyZWF0ZWRBdDogZGF0YS5jcmVhdGVkQXQsXG4gICAgICAgIHVwZGF0ZWRBdDogZGF0YS51cGRhdGVkQXQsXG4gICAgICAgIGNvbXBsZXRlZEF0OiBkYXRhLmNvbXBsZXRlZEF0LFxuICAgICAgICBkdXJhdGlvbjogZGF0YS5kdXJhdGlvbiB8fCAnJ1xuICAgICAgfSk7XG4gICAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFdvcmtvdXRTZXJ2aWNlIHtcbiAgZmV0Y2hDdXJyZW50V29ya291dDogKCkgPT4gUHJvbWlzZTxXb3Jrb3V0IHwgbnVsbD47XG4gIGdlbmVyYXRlV29ya291dDogKGJvZHlQYXJ0czogQm9keVpvbmVbXSkgPT4gUHJvbWlzZTxXb3Jrb3V0PjtcbiAgc3RhcnRXb3Jrb3V0OiAod29ya291dElkOiBzdHJpbmcpID0+IFByb21pc2U8dm9pZD47XG4gIGNhbmNlbFdvcmtvdXQ6ICh3b3Jrb3V0SWQ6IHN0cmluZykgPT4gUHJvbWlzZTx2b2lkPjtcbiAgY29tcGxldGVXb3Jrb3V0OiAod29ya291dElkOiBzdHJpbmcsIHJhdGluZz86IFdvcmtvdXRSYXRpbmcpID0+IFByb21pc2U8dm9pZD47XG4gIGZldGNoQ3VycmVudFdvcmtvdXRTZXNzaW9uOiAoKSA9PiBQcm9taXNlPHtcbiAgICB3b3Jrb3V0OiBXb3Jrb3V0IHwgbnVsbDtcbiAgICBsb2dzOiBFeGVyY2lzZUxvZ1tdIHwgbnVsbDtcbiAgfT47XG4gIHN3YXBXb3Jrb3V0OiAob2xkV29ya291dElkOiBzdHJpbmcsIG5ld0JvZHlQYXJ0czogQm9keVpvbmVbXSkgPT4gUHJvbWlzZTxXb3Jrb3V0PjtcbiAgdXBkYXRlV29ya291dFN0YXR1czogKHdvcmtvdXRJZDogc3RyaW5nLCBzdGF0dXM6IFdvcmtvdXRTdGF0dXMpID0+IFByb21pc2U8dm9pZD47XG4gIGxvZ0V4ZXJjaXNlOiAod29ya291dElkOiBzdHJpbmcsIGV4ZXJjaXNlTG9nOiBFeGVyY2lzZUxvZykgPT4gUHJvbWlzZTx2b2lkPjtcbiAgZ2V0V29ya291dExvZ3M6ICh3b3Jrb3V0SWQ6IHN0cmluZykgPT4gUHJvbWlzZTxFeGVyY2lzZUxvZ1tdPjtcbiAgY2FuY2VsQ3VycmVudFdvcmtvdXQ6ICgpID0+IFByb21pc2U8dm9pZD47XG4gIGdldEN1cnJlbnRXb3Jrb3V0U3RhdHVzOiAoKSA9PiBQcm9taXNlPFdvcmtvdXRTdGF0dXM+O1xuICBzYXZlV29ya291dDogKHdvcmtvdXQ6IFdvcmtvdXQpID0+IFByb21pc2U8dm9pZD47XG59XG5cbi8vIFN3ZWF0bGlzdElkZW50aWZpZXJzIHR5cGVcbmV4cG9ydCBpbnRlcmZhY2UgU3dlYXRsaXN0SWRlbnRpZmllcnMge1xuICBpZDogc3RyaW5nO1xuICBzd2VhdGxpc3RBdXRob3JJZDogc3RyaW5nO1xuICBzd2VhdGxpc3ROYW1lOiBzdHJpbmc7XG4gIG9yZGVyOiBudW1iZXI7XG59XG5cbi8vIEVudW0gZm9yIHN3ZWF0bGlzdCB0eXBlIG1hdGNoaW5nIFN3aWZ0IGltcGxlbWVudGF0aW9uXG5leHBvcnQgZW51bSBTd2VhdGxpc3RUeXBlIHtcbiAgVG9nZXRoZXIgPSAndG9nZXRoZXInLFxuICBTb2xvID0gJ3NvbG8nLFxuICBMb2NrZWQgPSAnbG9ja2VkJ1xufVxuXG5leHBvcnQgY2xhc3MgUmVmZXJyYWxDaGFpbiB7XG4gIG9yaWdpbmFsSG9zdElkOiBzdHJpbmc7XG4gIHNoYXJlZEJ5OiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3IoZGF0YTogYW55KSB7XG4gICAgdGhpcy5vcmlnaW5hbEhvc3RJZCA9IGRhdGEub3JpZ2luYWxIb3N0SWQgfHwgJyc7XG4gICAgdGhpcy5zaGFyZWRCeSA9IGRhdGEuc2hhcmVkQnkgfHwgJyc7XG4gIH1cblxuICB0b0RpY3Rpb25hcnkoKTogYW55IHtcbiAgICByZXR1cm4ge1xuICAgICAgb3JpZ2luYWxIb3N0SWQ6IHRoaXMub3JpZ2luYWxIb3N0SWQsXG4gICAgICBzaGFyZWRCeTogdGhpcy5zaGFyZWRCeSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGZyb21GaXJlc3RvcmUoZGF0YTogYW55KTogUmVmZXJyYWxDaGFpbiB7XG4gICAgcmV0dXJuIG5ldyBSZWZlcnJhbENoYWluKGRhdGEpO1xuICB9XG59XG5cblxuLy8gTWFpbiBTd2VhdGxpc3RDb2xsZWN0aW9uIGludGVyZmFjZVxuZXhwb3J0IGNsYXNzIFN3ZWF0bGlzdENvbGxlY3Rpb24ge1xuICBpZDogc3RyaW5nO1xuICB0aXRsZTogc3RyaW5nO1xuICBzdWJ0aXRsZTogc3RyaW5nO1xuICBwaW46IHN0cmluZyB8IG51bGw7XG4gIGNoYWxsZW5nZT86IENoYWxsZW5nZTtcbiAgcHVibGlzaGVkU3RhdHVzPzogYm9vbGVhbjtcbiAgcGFydGljaXBhbnRzOiBzdHJpbmdbXTtcbiAgc3dlYXRsaXN0SWRzOiBTd2VhdGxpc3RJZGVudGlmaWVyc1tdO1xuICBvd25lcklkOiBzdHJpbmdbXTsgLy8gVXBkYXRlZCB0byBiZSBhbiBhcnJheVxuICBwcml2YWN5OiBTd2VhdGxpc3RUeXBlO1xuICBjcmVhdGVkQXQ6IERhdGU7XG4gIHVwZGF0ZWRBdDogRGF0ZTtcblxuICBjb25zdHJ1Y3RvcihkYXRhOiBhbnkpIHtcbiAgICB0aGlzLmlkID0gZGF0YS5pZDtcbiAgICB0aGlzLnRpdGxlID0gZGF0YS50aXRsZSB8fCAnJztcbiAgICB0aGlzLnN1YnRpdGxlID0gZGF0YS5zdWJ0aXRsZSB8fCAnJztcbiAgICB0aGlzLnBpbiA9IGRhdGEucGluIHx8IG51bGw7XG4gICAgdGhpcy5jaGFsbGVuZ2UgPSBkYXRhLmNoYWxsZW5nZSA/IG5ldyBDaGFsbGVuZ2UoZGF0YS5jaGFsbGVuZ2UpIDogdW5kZWZpbmVkO1xuICAgIHRoaXMuc3dlYXRsaXN0SWRzID0gKGRhdGEuc3dlYXRsaXN0SWRzIHx8IFtdKS5tYXAoKGl0ZW06IGFueSkgPT4gKHtcbiAgICAgIGlkOiBpdGVtLmlkIHx8ICcnLFxuICAgICAgc3dlYXRsaXN0QXV0aG9ySWQ6IGl0ZW0uc3dlYXRsaXN0QXV0aG9ySWQgfHwgJycsXG4gICAgICBzd2VhdGxpc3ROYW1lOiBpdGVtLnN3ZWF0bGlzdE5hbWUgfHwgJycsXG4gICAgICBvcmRlcjogaXRlbS5vcmRlciB8fCAwLFxuICAgIH0pKTtcbiAgICAvLyBJZiBvd25lcklkIGlzIG5vdCBhbiBhcnJheSwgd3JhcCBpdCBpbiBhbiBhcnJheS5cbiAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhLm93bmVySWQpKSB7XG4gICAgICB0aGlzLm93bmVySWQgPSBkYXRhLm93bmVySWQ7XG4gICAgfSBlbHNlIGlmIChkYXRhLm93bmVySWQpIHtcbiAgICAgIHRoaXMub3duZXJJZCA9IFtkYXRhLm93bmVySWRdO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm93bmVySWQgPSBbXTtcbiAgICB9XG4gICAgdGhpcy5wcml2YWN5ID0gdGhpcy5jaGFsbGVuZ2UgPyBTd2VhdGxpc3RUeXBlLlRvZ2V0aGVyIDogU3dlYXRsaXN0VHlwZS5Tb2xvO1xuICAgIHRoaXMucGFydGljaXBhbnRzID0gKGRhdGEucGFydGljaXBhbnRzIHx8IFtdKS5tYXAoKHBhcnRpY2lwYW50OiBhbnkpID0+IHBhcnRpY2lwYW50IHx8ICcnKTtcbiAgICB0aGlzLmNyZWF0ZWRBdCA9IGNvbnZlcnRGaXJlc3RvcmVUaW1lc3RhbXAoZGF0YS5jcmVhdGVkQXQpO1xuICAgIHRoaXMudXBkYXRlZEF0ID0gY29udmVydEZpcmVzdG9yZVRpbWVzdGFtcChkYXRhLnVwZGF0ZWRBdCk7XG4gIH1cblxuICBzdGF0aWMgZnJvbUZpcmVzdG9yZShkYXRhOiBhbnkpOiBTd2VhdGxpc3RDb2xsZWN0aW9uIHtcbiAgICByZXR1cm4gbmV3IFN3ZWF0bGlzdENvbGxlY3Rpb24oZGF0YSk7XG4gIH1cblxuICB0b0RpY3Rpb25hcnkoKTogYW55IHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICB0aXRsZTogdGhpcy50aXRsZSxcbiAgICAgIHN1YnRpdGxlOiB0aGlzLnN1YnRpdGxlLFxuICAgICAgcGluOiB0aGlzLnBpbixcbiAgICAgIGNoYWxsZW5nZTogdGhpcy5jaGFsbGVuZ2UgPyB0aGlzLmNoYWxsZW5nZS50b0RpY3Rpb25hcnkoKSA6IG51bGwsXG4gICAgICBzd2VhdGxpc3RJZHM6IHRoaXMuc3dlYXRsaXN0SWRzLm1hcChpdGVtID0+ICh7XG4gICAgICAgIGlkOiBpdGVtLmlkLFxuICAgICAgICBzd2VhdGxpc3RBdXRob3JJZDogaXRlbS5zd2VhdGxpc3RBdXRob3JJZCxcbiAgICAgICAgb3JkZXI6IGl0ZW0ub3JkZXJcbiAgICAgIH0pKSxcbiAgICAgIG93bmVySWQ6IHRoaXMub3duZXJJZCwgLy8gVXBkYXRlZCB0byBiZSBhbiBhcnJheVxuICAgICAgcHJpdmFjeTogdGhpcy5wcml2YWN5LFxuICAgICAgY3JlYXRlZEF0OiB0aGlzLmNyZWF0ZWRBdCxcbiAgICAgIHVwZGF0ZWRBdDogdGhpcy51cGRhdGVkQXRcbiAgICB9O1xuICB9XG5cbiAgdG9SRVNURGljdGlvbmFyeSgpOiBhbnkge1xuICAgIHJldHVybiB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgaWQ6IHsgc3RyaW5nVmFsdWU6IHRoaXMuaWQgfSxcbiAgICAgICAgdGl0bGU6IHsgc3RyaW5nVmFsdWU6IHRoaXMudGl0bGUgfSxcbiAgICAgICAgc3VidGl0bGU6IHsgc3RyaW5nVmFsdWU6IHRoaXMuc3VidGl0bGUgfSxcbiAgICAgICAgcGluOiB7IHN0cmluZ1ZhbHVlOiB0aGlzLnBpbiB9LFxuICAgICAgICAvLyBvd25lcklkIGFzIGFuIGFycmF5IG9mIHN0cmluZyB2YWx1ZXNcbiAgICAgICAgb3duZXJJZDoge1xuICAgICAgICAgIGFycmF5VmFsdWU6IHtcbiAgICAgICAgICAgIHZhbHVlczogdGhpcy5vd25lcklkLm1hcChvd25lciA9PiAoeyBzdHJpbmdWYWx1ZTogb3duZXIgfSkpXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBzd2VhdGxpc3RJZHM6IHtcbiAgICAgICAgICBhcnJheVZhbHVlOiB7XG4gICAgICAgICAgICB2YWx1ZXM6IHRoaXMuc3dlYXRsaXN0SWRzLm1hcChpdGVtID0+ICh7XG4gICAgICAgICAgICAgIG1hcFZhbHVlOiB7XG4gICAgICAgICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAgICAgICBpZDogeyBzdHJpbmdWYWx1ZTogaXRlbS5pZCB9LFxuICAgICAgICAgICAgICAgICAgc3dlYXRsaXN0QXV0aG9ySWQ6IHsgc3RyaW5nVmFsdWU6IGl0ZW0uc3dlYXRsaXN0QXV0aG9ySWQgfSxcbiAgICAgICAgICAgICAgICAgIG9yZGVyOiB7IGludGVnZXJWYWx1ZTogaXRlbS5vcmRlciB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSlcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGNyZWF0ZWRBdDogeyBkb3VibGVWYWx1ZTogdGhpcy5jcmVhdGVkQXQuZ2V0VGltZSgpIH0sXG4gICAgICAgIHVwZGF0ZWRBdDogeyBkb3VibGVWYWx1ZTogdGhpcy51cGRhdGVkQXQuZ2V0VGltZSgpIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgaXNQdWJsaXNoZWQoKTogYm9vbGVhbiB7XG4gICAgaWYgKCF0aGlzLmNoYWxsZW5nZSkgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0aGlzLmNoYWxsZW5nZS5zdGF0dXMgPT09IENoYWxsZW5nZVN0YXR1cy5QdWJsaXNoZWQ7XG4gIH1cbn1cblxuY2xhc3MgUHJvZmlsZUltYWdlIHtcbiAgcHJvZmlsZUltYWdlVVJMOiBzdHJpbmc7XG4gIHRodW1ibmFpbFVSTD86IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihkYXRhOiBhbnkpIHtcbiAgICB0aGlzLnByb2ZpbGVJbWFnZVVSTCA9IGRhdGEucHJvZmlsZUltYWdlVVJMIHx8ICcnO1xuICAgIHRoaXMudGh1bWJuYWlsVVJMID0gZGF0YS50aHVtYm5haWxVUkwgfHwgJyc7XG4gIH1cblxuICB0b0RpY3Rpb25hcnkoKTogYW55IHtcbiAgICByZXR1cm4ge1xuICAgICAgcHJvZmlsZUltYWdlVVJMOiB0aGlzLnByb2ZpbGVJbWFnZVVSTCxcbiAgICAgIHRodW1ibmFpbFVSTDogdGhpcy50aHVtYm5haWxVUkwgfHwgbnVsbCxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGZyb21GaXJlc3RvcmUoZGF0YTogYW55KTogUHJvZmlsZUltYWdlIHtcbiAgICByZXR1cm4gbmV3IFByb2ZpbGVJbWFnZShkYXRhKTtcbiAgfVxufVxuXG5jbGFzcyBVc2VyTG9jYXRpb24ge1xuICBsYXRpdHVkZTogbnVtYmVyO1xuICBsb25naXR1ZGU6IG51bWJlcjtcblxuICBjb25zdHJ1Y3RvcihkYXRhOiBhbnkpIHtcbiAgICB0aGlzLmxhdGl0dWRlID0gZGF0YS5sYXRpdHVkZSB8fCAwO1xuICAgIHRoaXMubG9uZ2l0dWRlID0gZGF0YS5sb25naXR1ZGUgfHwgMDtcbiAgfVxuXG4gIHRvRGljdGlvbmFyeSgpOiBhbnkge1xuICAgIHJldHVybiB7XG4gICAgICBsYXRpdHVkZTogdGhpcy5sYXRpdHVkZSxcbiAgICAgIGxvbmdpdHVkZTogdGhpcy5sb25naXR1ZGUsXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBmcm9tRmlyZXN0b3JlKGRhdGE6IGFueSk6IFVzZXJMb2NhdGlvbiB7XG4gICAgcmV0dXJuIG5ldyBVc2VyTG9jYXRpb24oZGF0YSk7XG4gIH1cbn1cblxuY2xhc3MgUHVsc2VQb2ludHMge1xuICBiYXNlQ29tcGxldGlvbjogbnVtYmVyOyAgICAgIC8vIGUuZy4gMTAwIHBvaW50c1xuICBmaXJzdENvbXBsZXRpb246IG51bWJlcjsgICAgIC8vIGUuZy4gNTAgcG9pbnRzXG4gIHN0cmVha0JvbnVzOiBudW1iZXI7ICAgICAgICAgLy8gZS5nLiAyNSBwb2ludHMgcGVyIGRheVxuICBjaGVja0luQm9udXM6IG51bWJlcjsgICAgICAgIC8vIGUuZy4gMjUgcG9pbnRzXG4gIGVmZm9ydFJhdGluZzogbnVtYmVyOyAgICAgICAgLy8gZS5nLiAxMCBwb2ludHNcbiAgY2hhdFBhcnRpY2lwYXRpb246IG51bWJlcjsgICAvLyBlLmcuIDI1IHBvaW50c1xuICBsb2NhdGlvbkNoZWNraW46IG51bWJlcjsgICAgIC8vIGUuZy4gMjUgcG9pbnRzXG4gIGNvbnRlbnRFbmdhZ2VtZW50OiBudW1iZXI7ICAgLy8gZS5nLiAxMCBwb2ludHMgcGVyIGludGVyYWN0aW9uXG4gIGVuY291cmFnZW1lbnRTZW50OiBudW1iZXI7ICAgLy8gZS5nLiAxNSBwb2ludHMgcGVyIHVuaXF1ZSB1c2VyXG4gIGVuY291cmFnZW1lbnRSZWNlaXZlZDogbnVtYmVyOyAvLyBlLmcuIDEwIHBvaW50cyBwZXIgdW5pcXVlIHVzZXJcbiAgY3VtdWxhdGl2ZVN0cmVha0JvbnVzOiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IoZGF0YTogYW55KSB7XG4gICAgdGhpcy5iYXNlQ29tcGxldGlvbiA9IGRhdGEuYmFzZUNvbXBsZXRpb24gPz8gMDtcbiAgICB0aGlzLmZpcnN0Q29tcGxldGlvbiA9IGRhdGEuZmlyc3RDb21wbGV0aW9uID8/IDA7XG4gICAgdGhpcy5zdHJlYWtCb251cyA9IGRhdGEuc3RyZWFrQm9udXMgPz8gMDtcbiAgICB0aGlzLmNoZWNrSW5Cb251cyA9IGRhdGEuY2hlY2tJbkJvbnVzID8/IDA7XG4gICAgdGhpcy5lZmZvcnRSYXRpbmcgPSBkYXRhLmVmZm9ydFJhdGluZyA/PyAwO1xuICAgIHRoaXMuY2hhdFBhcnRpY2lwYXRpb24gPSBkYXRhLmNoYXRQYXJ0aWNpcGF0aW9uID8/IDA7XG4gICAgdGhpcy5sb2NhdGlvbkNoZWNraW4gPSBkYXRhLmxvY2F0aW9uQ2hlY2tpbiA/PyAwO1xuICAgIHRoaXMuY29udGVudEVuZ2FnZW1lbnQgPSBkYXRhLmNvbnRlbnRFbmdhZ2VtZW50ID8/IDA7XG4gICAgdGhpcy5lbmNvdXJhZ2VtZW50U2VudCA9IGRhdGEuZW5jb3VyYWdlbWVudFNlbnQgPz8gMDtcbiAgICB0aGlzLmVuY291cmFnZW1lbnRSZWNlaXZlZCA9IGRhdGEuZW5jb3VyYWdlbWVudFJlY2VpdmVkID8/IDA7XG4gICAgdGhpcy5jdW11bGF0aXZlU3RyZWFrQm9udXMgPSBkYXRhLmN1bXVsYXRpdmVTdHJlYWtCb251cyA/PyAwO1xuICB9XG5cbiAgZ2V0IHRvdGFsU3RhY2tQb2ludHMoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5iYXNlQ29tcGxldGlvbiArXG4gICAgICB0aGlzLmZpcnN0Q29tcGxldGlvbiArXG4gICAgICB0aGlzLnN0cmVha0JvbnVzICtcbiAgICAgIHRoaXMuY2hlY2tJbkJvbnVzICtcbiAgICAgIHRoaXMuZWZmb3J0UmF0aW5nXG4gICAgKTtcbiAgfVxuXG4gIGdldCB0b3RhbENvbW11bml0eVBvaW50cygpOiBudW1iZXIge1xuICAgIHJldHVybiAoXG4gICAgICB0aGlzLmNoYXRQYXJ0aWNpcGF0aW9uICtcbiAgICAgIHRoaXMubG9jYXRpb25DaGVja2luICtcbiAgICAgIHRoaXMuY29udGVudEVuZ2FnZW1lbnQgK1xuICAgICAgdGhpcy5lbmNvdXJhZ2VtZW50U2VudCArXG4gICAgICB0aGlzLmVuY291cmFnZW1lbnRSZWNlaXZlZFxuICAgICk7XG4gIH1cblxuICBnZXQgdG90YWxQb2ludHMoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy50b3RhbFN0YWNrUG9pbnRzICsgdGhpcy50b3RhbENvbW11bml0eVBvaW50cyArIHRoaXMuY3VtdWxhdGl2ZVN0cmVha0JvbnVzO1xuICB9XG5cbiAgdG9EaWN0aW9uYXJ5KCk6IGFueSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGJhc2VDb21wbGV0aW9uOiB0aGlzLmJhc2VDb21wbGV0aW9uLFxuICAgICAgZmlyc3RDb21wbGV0aW9uOiB0aGlzLmZpcnN0Q29tcGxldGlvbixcbiAgICAgIHN0cmVha0JvbnVzOiB0aGlzLnN0cmVha0JvbnVzLFxuICAgICAgY2hlY2tJbkJvbnVzOiB0aGlzLmNoZWNrSW5Cb251cyxcbiAgICAgIGVmZm9ydFJhdGluZzogdGhpcy5lZmZvcnRSYXRpbmcsXG4gICAgICBjaGF0UGFydGljaXBhdGlvbjogdGhpcy5jaGF0UGFydGljaXBhdGlvbixcbiAgICAgIGxvY2F0aW9uQ2hlY2tpbjogdGhpcy5sb2NhdGlvbkNoZWNraW4sXG4gICAgICBjb250ZW50RW5nYWdlbWVudDogdGhpcy5jb250ZW50RW5nYWdlbWVudCxcbiAgICAgIGVuY291cmFnZW1lbnRTZW50OiB0aGlzLmVuY291cmFnZW1lbnRTZW50LFxuICAgICAgZW5jb3VyYWdlbWVudFJlY2VpdmVkOiB0aGlzLmVuY291cmFnZW1lbnRSZWNlaXZlZCxcbiAgICAgIGN1bXVsYXRpdmVTdHJlYWtCb251czogdGhpcy5jdW11bGF0aXZlU3RyZWFrQm9udXMsXG4gICAgICB0b3RhbFN0YWNrUG9pbnRzOiB0aGlzLnRvdGFsU3RhY2tQb2ludHMsXG4gICAgICB0b3RhbENvbW11bml0eVBvaW50czogdGhpcy50b3RhbENvbW11bml0eVBvaW50cyxcbiAgICAgIHRvdGFsUG9pbnRzOiB0aGlzLnRvdGFsUG9pbnRzLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZnJvbUZpcmVzdG9yZShkYXRhOiBhbnkpOiBQdWxzZVBvaW50cyB7XG4gICAgcmV0dXJuIG5ldyBQdWxzZVBvaW50cyhkYXRhKTtcbiAgfVxufVxuXG5cbi8vIFR5cGVzIGZvciB1c2VyIGluIGNoYWxsZW5nZVxuY2xhc3MgVXNlckNoYWxsZW5nZSB7XG4gIGlkOiBzdHJpbmc7XG4gIGNoYWxsZW5nZT86IENoYWxsZW5nZTtcbiAgY2hhbGxlbmdlSWQ6IHN0cmluZztcbiAgdXNlcklkOiBzdHJpbmc7XG4gIHVzZXJuYW1lOiBzdHJpbmc7XG4gIHByb2ZpbGVJbWFnZT86IFByb2ZpbGVJbWFnZTtcbiAgcHJvZ3Jlc3M6IG51bWJlcjtcbiAgcmVmZXJyYWxDaGFpbnM6IFJlZmVycmFsQ2hhaW47XG4gIGNvbXBsZXRlZFdvcmtvdXRzOiB7IGlkOiBzdHJpbmc7IHdvcmtvdXRJZDogc3RyaW5nOyBjb21wbGV0ZWRBdDogbnVtYmVyIH1bXTtcbiAgaXNDb21wbGV0ZWQ6IGJvb2xlYW47XG4gIGxvY2F0aW9uPzogVXNlckxvY2F0aW9uO1xuICBjaXR5OiBzdHJpbmc7XG4gIGNvdW50cnk/OiBzdHJpbmc7XG4gIHRpbWV6b25lPzogc3RyaW5nO1xuICBqb2luRGF0ZTogRGF0ZTtcbiAgY3JlYXRlZEF0OiBEYXRlO1xuICB1cGRhdGVkQXQ6IERhdGU7XG4gIHB1bHNlUG9pbnRzOiBQdWxzZVBvaW50cztcbiAgY3VycmVudFN0cmVhazogbnVtYmVyO1xuICBlbmNvdXJhZ2VkVXNlcnM6IHN0cmluZ1tdO1xuICBlbmNvdXJhZ2VkQnlVc2Vyczogc3RyaW5nW107XG4gIGNoZWNrSW5zOiBEYXRlW107XG5cbiAgY29uc3RydWN0b3IoaWQ6IHN0cmluZywgZGF0YTogYW55KSB7XG4gICAgdGhpcy5pZCA9IGlkO1xuICAgIHRoaXMuY2hhbGxlbmdlID0gZGF0YS5jaGFsbGVuZ2UgPyBuZXcgQ2hhbGxlbmdlKGRhdGEuY2hhbGxlbmdlKSA6IHVuZGVmaW5lZDtcbiAgICB0aGlzLmNoYWxsZW5nZUlkID0gZGF0YS5jaGFsbGVuZ2VJZCB8fCAnJztcbiAgICB0aGlzLnVzZXJJZCA9IGRhdGEudXNlcklkIHx8ICcnO1xuICAgIHRoaXMudXNlcm5hbWUgPSBkYXRhLnVzZXJuYW1lIHx8ICcnO1xuICAgIHRoaXMucHJvZmlsZUltYWdlID0gZGF0YS5wcm9maWxlSW1hZ2UgPyBuZXcgUHJvZmlsZUltYWdlKGRhdGEucHJvZmlsZUltYWdlKSA6IHVuZGVmaW5lZDtcbiAgICB0aGlzLnByb2dyZXNzID0gZGF0YS5wcm9ncmVzcyA/PyAwO1xuICAgIHRoaXMucmVmZXJyYWxDaGFpbnMgPSBkYXRhLnJlZmVycmFsQ2hhaW5zID8gbmV3IFJlZmVycmFsQ2hhaW4oZGF0YS5yZWZlcnJhbENoYWlucykgOiBuZXcgUmVmZXJyYWxDaGFpbih7IG9yaWdpbmFsSG9zdElkOiAnJywgc2hhcmVkQnk6ICcnIH0pO1xuICAgIHRoaXMuY29tcGxldGVkV29ya291dHMgPSBBcnJheS5pc0FycmF5KGRhdGEuY29tcGxldGVkV29ya291dHMpXG4gICAgPyBkYXRhLmNvbXBsZXRlZFdvcmtvdXRzLm1hcCgoY3c6IGFueSkgPT4gKHtcbiAgICAgICAgaWQ6IGN3LmlkIHx8ICcnLFxuICAgICAgICB3b3Jrb3V0SWQ6IGN3LndvcmtvdXRJZCB8fCAnJyxcbiAgICAgICAgY29tcGxldGVkQXQ6IGNvbnZlcnRGaXJlc3RvcmVUaW1lc3RhbXAoY3cuY29tcGxldGVkQXQpLCAgLy8gVXNlIGNvbnZlcnRGaXJlc3RvcmVUaW1lc3RhbXAgaGVyZVxuICAgICAgfSkpXG4gICAgOiBbXTtcbiAgICB0aGlzLmlzQ29tcGxldGVkID0gZGF0YS5pc0NvbXBsZXRlZCA/PyBmYWxzZTtcbiAgICB0aGlzLmxvY2F0aW9uID0gZGF0YS5sb2NhdGlvbiA/IG5ldyBVc2VyTG9jYXRpb24oZGF0YS5sb2NhdGlvbikgOiB1bmRlZmluZWQ7XG4gICAgdGhpcy5jaXR5ID0gZGF0YS5jaXR5IHx8ICcnO1xuICAgIHRoaXMuY291bnRyeSA9IGRhdGEuY291bnRyeSB8fCAnJztcbiAgICB0aGlzLnRpbWV6b25lID0gZGF0YS50aW1lem9uZSB8fCAnJztcbiAgICB0aGlzLmpvaW5EYXRlID0gY29udmVydEZpcmVzdG9yZVRpbWVzdGFtcChkYXRhLmpvaW5EYXRlKTtcbiAgICB0aGlzLmNyZWF0ZWRBdCA9IGNvbnZlcnRGaXJlc3RvcmVUaW1lc3RhbXAoZGF0YS5jcmVhdGVkQXQpO1xuICAgIHRoaXMudXBkYXRlZEF0ID0gY29udmVydEZpcmVzdG9yZVRpbWVzdGFtcChkYXRhLnVwZGF0ZWRBdCk7XG4gICAgdGhpcy5wdWxzZVBvaW50cyA9IGRhdGEucHVsc2VQb2ludHMgPyBuZXcgUHVsc2VQb2ludHMoZGF0YS5wdWxzZVBvaW50cykgOiBuZXcgUHVsc2VQb2ludHMoe30pO1xuICAgIHRoaXMuY3VycmVudFN0cmVhayA9IGRhdGEuY3VycmVudFN0cmVhayA/PyAwO1xuICAgIHRoaXMuZW5jb3VyYWdlZFVzZXJzID0gQXJyYXkuaXNBcnJheShkYXRhLmVuY291cmFnZWRVc2VycykgPyBkYXRhLmVuY291cmFnZWRVc2VycyA6IFtdO1xuICAgIHRoaXMuZW5jb3VyYWdlZEJ5VXNlcnMgPSBBcnJheS5pc0FycmF5KGRhdGEuZW5jb3VyYWdlZEJ5VXNlcnMpID8gZGF0YS5lbmNvdXJhZ2VkQnlVc2VycyA6IFtdO1xuICAgIHRoaXMuY2hlY2tJbnMgPSBBcnJheS5pc0FycmF5KGRhdGEuY2hlY2tJbnMpID8gZGF0YS5jaGVja0lucy5tYXAoKGQ6IGFueSkgPT4gY29udmVydEZpcmVzdG9yZVRpbWVzdGFtcChkKSkgOiBbXTtcbiAgfVxuXG4gIC8vIE9wdGlvbmFsbHksIHlvdSBjYW4gYWRkIGEgc3RhdGljIG1ldGhvZCB0byBjcmVhdGUgYW4gaW5zdGFuY2UgZnJvbSBGaXJlc3RvcmUgZGF0YVxuICBzdGF0aWMgZnJvbUZpcmVzdG9yZShpZDogc3RyaW5nLCBkYXRhOiBhbnkpOiBVc2VyQ2hhbGxlbmdlIHtcbiAgICByZXR1cm4gbmV3IFVzZXJDaGFsbGVuZ2UoaWQsIGRhdGEpO1xuICB9XG5cbiAgLy8gT3B0aW9uYWxseSwgYWRkIGEgbWV0aG9kIHRvIGNvbnZlcnQgdG8gYSBwbGFpbiBkaWN0aW9uYXJ5IChmb3Igc2F2aW5nIHRvIEZpcmVzdG9yZSlcbiAgdG9EaWN0aW9uYXJ5KCk6IGFueSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNoYWxsZW5nZTogdGhpcy5jaGFsbGVuZ2UgPyB0aGlzLmNoYWxsZW5nZS50b0RpY3Rpb25hcnkoKSA6IG51bGwsXG4gICAgICBjaGFsbGVuZ2VJZDogdGhpcy5jaGFsbGVuZ2VJZCxcbiAgICAgIHVzZXJJZDogdGhpcy51c2VySWQsXG4gICAgICB1c2VybmFtZTogdGhpcy51c2VybmFtZSxcbiAgICAgIHByb2ZpbGVJbWFnZTogdGhpcy5wcm9maWxlSW1hZ2UgPyB0aGlzLnByb2ZpbGVJbWFnZS50b0RpY3Rpb25hcnkoKSA6IG51bGwsXG4gICAgICBwcm9ncmVzczogdGhpcy5wcm9ncmVzcyxcbiAgICAgIHJlZmVycmFsQ2hhaW5zOiB0aGlzLnJlZmVycmFsQ2hhaW5zID8gdGhpcy5yZWZlcnJhbENoYWlucy50b0RpY3Rpb25hcnkoKSA6IHt9LFxuICAgICAgY29tcGxldGVkV29ya291dHM6IHRoaXMuY29tcGxldGVkV29ya291dHMubWFwKHdvcmtvdXQgPT4gKHtcbiAgICAgICAgLi4ud29ya291dCxcbiAgICAgICAgY29tcGxldGVkQXQ6IE1hdGguZmxvb3IobmV3IERhdGUod29ya291dC5jb21wbGV0ZWRBdCkuZ2V0VGltZSgpIC8gMTAwMClcbiAgICAgIH0pKSxcbiAgICAgIGlzQ29tcGxldGVkOiB0aGlzLmlzQ29tcGxldGVkLFxuICAgICAgbG9jYXRpb246IHRoaXMubG9jYXRpb24gPyB0aGlzLmxvY2F0aW9uLnRvRGljdGlvbmFyeSgpIDogbnVsbCxcbiAgICAgIGNpdHk6IHRoaXMuY2l0eSxcbiAgICAgIGNvdW50cnk6IHRoaXMuY291bnRyeSxcbiAgICAgIHRpbWV6b25lOiB0aGlzLnRpbWV6b25lLFxuICAgICAgam9pbkRhdGU6IE1hdGguZmxvb3IodGhpcy5qb2luRGF0ZS5nZXRUaW1lKCkgLyAxMDAwKSwgLy8gQ29udmVydCB0byBzZWNvbmRzXG4gICAgICBjcmVhdGVkQXQ6IE1hdGguZmxvb3IodGhpcy5jcmVhdGVkQXQuZ2V0VGltZSgpIC8gMTAwMCksXG4gICAgICB1cGRhdGVkQXQ6IE1hdGguZmxvb3IodGhpcy51cGRhdGVkQXQuZ2V0VGltZSgpIC8gMTAwMCksXG4gICAgICBwdWxzZVBvaW50czogdGhpcy5wdWxzZVBvaW50cyA/IHRoaXMucHVsc2VQb2ludHMudG9EaWN0aW9uYXJ5KCkgOiB7fSxcbiAgICAgIGN1cnJlbnRTdHJlYWs6IHRoaXMuY3VycmVudFN0cmVhayxcbiAgICAgIGVuY291cmFnZWRVc2VyczogdGhpcy5lbmNvdXJhZ2VkVXNlcnMsXG4gICAgICBlbmNvdXJhZ2VkQnlVc2VyczogdGhpcy5lbmNvdXJhZ2VkQnlVc2VycyxcbiAgICAgIGNoZWNrSW5zOiB0aGlzLmNoZWNrSW5zLm1hcChkYXRlID0+IE1hdGguZmxvb3IoZGF0ZS5nZXRUaW1lKCkgLyAxMDAwKSksXG4gICAgfTtcbiAgfVxufVxuXG4vLyBDaGFsbGVuZ2Ugc3RhdHVzIGVudW1cbmVudW0gQ2hhbGxlbmdlU3RhdHVzIHtcbiAgRHJhZnQgPSAnZHJhZnQnLFxuICBQdWJsaXNoZWQgPSAncHVibGlzaGVkJyxcbiAgQ29tcGxldGVkID0gJ2NvbXBsZXRlZCcsXG4gIENhbmNlbGxlZCA9ICdjYW5jZWxsZWQnXG59XG5leHBvcnQgaW50ZXJmYWNlIEludHJvVmlkZW8ge1xuICBpZDogc3RyaW5nO1xuICB1c2VySWQ6IHN0cmluZztcbiAgdmlkZW9Vcmw6IHN0cmluZztcbiAgdG9EaWN0aW9uYXJ5KCk6IGFueTtcbn1cblxuZXhwb3J0IGNsYXNzIEludHJvVmlkZW8gaW1wbGVtZW50cyBJbnRyb1ZpZGVvIHtcbiAgaWQ6IHN0cmluZztcbiAgdXNlcklkOiBzdHJpbmc7XG4gIHZpZGVvVXJsOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3IoZGF0YTogeyBpZDogc3RyaW5nOyB1c2VySWQ6IHN0cmluZzsgdmlkZW9Vcmw6IHN0cmluZzsgfSkge1xuICAgIHRoaXMuaWQgPSBkYXRhLmlkO1xuICAgIHRoaXMudXNlcklkID0gZGF0YS51c2VySWQ7XG4gICAgdGhpcy52aWRlb1VybCA9IGRhdGEudmlkZW9Vcmw7XG4gIH1cblxuICB0b0RpY3Rpb25hcnkoKTogYW55IHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICB1c2VySWQ6IHRoaXMudXNlcklkLFxuICAgICAgdmlkZW9Vcmw6IHRoaXMudmlkZW9VcmxcbiAgICB9O1xuICB9XG59XG5cbmNsYXNzIENoYWxsZW5nZSB7XG4gIGlkOiBzdHJpbmc7XG4gIHRpdGxlOiBzdHJpbmc7XG4gIHN1YnRpdGxlOiBzdHJpbmc7XG4gIHBhcnRpY2lwYW50czogVXNlckNoYWxsZW5nZVtdO1xuICBkdXJhdGlvbkluRGF5czogbnVtYmVyO1xuICBzdGF0dXM6IENoYWxsZW5nZVN0YXR1cztcbiAgc3RhcnREYXRlOiBEYXRlO1xuICBlbmREYXRlOiBEYXRlO1xuICBjcmVhdGVkQXQ6IERhdGU7XG4gIHVwZGF0ZWRBdDogRGF0ZTtcbiAgaW50cm9WaWRlb3M6IEludHJvVmlkZW9bXTtcblxuICBjb25zdHJ1Y3RvcihkYXRhOiB7XG4gICAgaWQ6IHN0cmluZztcbiAgICB0aXRsZTogc3RyaW5nO1xuICAgIHN1YnRpdGxlOiBzdHJpbmc7XG4gICAgcGFydGljaXBhbnRzPzogVXNlckNoYWxsZW5nZVtdOyAvLyBtYWtlIG9wdGlvbmFsIGluIGNhc2UgaXQncyBtaXNzaW5nXG4gICAgc3RhdHVzOiBDaGFsbGVuZ2VTdGF0dXM7XG4gICAgc3RhcnREYXRlOiBEYXRlO1xuICAgIGVuZERhdGU6IERhdGU7XG4gICAgY3JlYXRlZEF0OiBEYXRlO1xuICAgIHVwZGF0ZWRBdDogRGF0ZTtcbiAgICBpbnRyb1ZpZGVvcz86IEludHJvVmlkZW9bXTtcbiAgICBpbnRyb1ZpZGVvVVJMPzogc3RyaW5nOyAvLyBBZGQgdGhpcyBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHlcbiAgfSkge1xuICAgIHRoaXMuaWQgPSBkYXRhLmlkO1xuICAgIHRoaXMudGl0bGUgPSBkYXRhLnRpdGxlO1xuICAgIHRoaXMuc3VidGl0bGUgPSBkYXRhLnN1YnRpdGxlO1xuICAgIC8vIFVzZSBhbiBlbXB0eSBhcnJheSBpZiBwYXJ0aWNpcGFudHMgaXMgbWlzc2luZy5cbiAgICB0aGlzLnBhcnRpY2lwYW50cyA9IEFycmF5LmlzQXJyYXkoZGF0YS5wYXJ0aWNpcGFudHMpID8gZGF0YS5wYXJ0aWNpcGFudHMgOiBbXTtcbiAgICB0aGlzLnN0YXR1cyA9IGRhdGEuc3RhdHVzO1xuICAgIHRoaXMuc3RhcnREYXRlID0gY29udmVydEZpcmVzdG9yZVRpbWVzdGFtcChkYXRhLnN0YXJ0RGF0ZSk7XG4gICAgdGhpcy5lbmREYXRlID0gY29udmVydEZpcmVzdG9yZVRpbWVzdGFtcChkYXRhLmVuZERhdGUpO1xuICAgIHRoaXMuY3JlYXRlZEF0ID0gY29udmVydEZpcmVzdG9yZVRpbWVzdGFtcChkYXRhLmNyZWF0ZWRBdCk7XG4gICAgdGhpcy51cGRhdGVkQXQgPSBjb252ZXJ0RmlyZXN0b3JlVGltZXN0YW1wKGRhdGEudXBkYXRlZEF0KTtcblxuICAgIC8vIEhhbmRsZSBib3RoIG9sZCBhbmQgbmV3IGZvcm1hdCBmb3IgaW50cm8gdmlkZW9zLlxuICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEuaW50cm9WaWRlb3MpKSB7XG4gICAgICB0aGlzLmludHJvVmlkZW9zID0gZGF0YS5pbnRyb1ZpZGVvcy5tYXAodmlkZW8gPT4gbmV3IEludHJvVmlkZW8odmlkZW8pKTtcbiAgICB9IGVsc2UgaWYgKGRhdGEuaW50cm9WaWRlb1VSTCAmJiBBcnJheS5pc0FycmF5KGRhdGEucGFydGljaXBhbnRzKSAmJiBkYXRhLnBhcnRpY2lwYW50cy5sZW5ndGggPiAwKSB7XG4gICAgICB0aGlzLmludHJvVmlkZW9zID0gW1xuICAgICAgICBuZXcgSW50cm9WaWRlbyh7XG4gICAgICAgICAgaWQ6ICcxJyxcbiAgICAgICAgICB1c2VySWQ6IGRhdGEucGFydGljaXBhbnRzWzBdLnVzZXJJZCxcbiAgICAgICAgICB2aWRlb1VybDogZGF0YS5pbnRyb1ZpZGVvVVJMXG4gICAgICAgIH0pXG4gICAgICBdO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmludHJvVmlkZW9zID0gW107XG4gICAgfVxuXG4gICAgdGhpcy5kdXJhdGlvbkluRGF5cyA9IHRoaXMuY2FsY3VsYXRlRHVyYXRpb25JbkRheXMoKTtcbiAgfVxuXG4gIHRvRGljdGlvbmFyeSgpOiBhbnkge1xuICAgIHJldHVybiB7XG4gICAgICBpZDogdGhpcy5pZCxcbiAgICAgIHRpdGxlOiB0aGlzLnRpdGxlLFxuICAgICAgc3VidGl0bGU6IHRoaXMuc3VidGl0bGUsXG4gICAgICBwYXJ0aWNpcGFudHM6IHRoaXMucGFydGljaXBhbnRzLm1hcChwYXJ0aWNpcGFudCA9PiAoe1xuICAgICAgICBpZDogcGFydGljaXBhbnQuaWQsXG4gICAgICAgIGNoYWxsZW5nZUlkOiBwYXJ0aWNpcGFudC5jaGFsbGVuZ2VJZCxcbiAgICAgICAgdXNlcklkOiBwYXJ0aWNpcGFudC51c2VySWQsXG4gICAgICAgIHVzZXJuYW1lOiBwYXJ0aWNpcGFudC51c2VybmFtZSxcbiAgICAgICAgcHJvZmlsZUltYWdlOiBwYXJ0aWNpcGFudC5wcm9maWxlSW1hZ2UsXG4gICAgICAgIHByb2dyZXNzOiBwYXJ0aWNpcGFudC5wcm9ncmVzcyxcbiAgICAgICAgY29tcGxldGVkV29ya291dHM6IHBhcnRpY2lwYW50LmNvbXBsZXRlZFdvcmtvdXRzLFxuICAgICAgICBpc0NvbXBsZXRlZDogcGFydGljaXBhbnQuaXNDb21wbGV0ZWQsXG4gICAgICAgIGxvY2F0aW9uOiBwYXJ0aWNpcGFudC5sb2NhdGlvbixcbiAgICAgICAgY2l0eTogcGFydGljaXBhbnQuY2l0eSxcbiAgICAgICAgY291bnRyeTogcGFydGljaXBhbnQuY291bnRyeSxcbiAgICAgICAgdGltZXpvbmU6IHBhcnRpY2lwYW50LnRpbWV6b25lLFxuICAgICAgICBqb2luRGF0ZTogcGFydGljaXBhbnQuam9pbkRhdGUsXG4gICAgICAgIGNyZWF0ZWRBdDogcGFydGljaXBhbnQuY3JlYXRlZEF0LFxuICAgICAgICB1cGRhdGVkQXQ6IHBhcnRpY2lwYW50LnVwZGF0ZWRBdCxcbiAgICAgICAgcHVsc2VQb2ludHM6IHBhcnRpY2lwYW50LnB1bHNlUG9pbnRzLFxuICAgICAgICBjdXJyZW50U3RyZWFrOiBwYXJ0aWNpcGFudC5jdXJyZW50U3RyZWFrLFxuICAgICAgICBlbmNvdXJhZ2VkVXNlcnM6IHBhcnRpY2lwYW50LmVuY291cmFnZWRVc2VycyxcbiAgICAgICAgZW5jb3VyYWdlZEJ5VXNlcnM6IHBhcnRpY2lwYW50LmVuY291cmFnZWRCeVVzZXJzLFxuICAgICAgICBjaGVja0luczogcGFydGljaXBhbnQuY2hlY2tJbnNcbiAgICAgIH0pKSxcbiAgICAgIHN0YXR1czogdGhpcy5zdGF0dXMsXG4gICAgICBzdGFydERhdGU6IHRoaXMuc3RhcnREYXRlLFxuICAgICAgZW5kRGF0ZTogdGhpcy5lbmREYXRlLFxuICAgICAgY3JlYXRlZEF0OiB0aGlzLmNyZWF0ZWRBdCxcbiAgICAgIHVwZGF0ZWRBdDogdGhpcy51cGRhdGVkQXQsXG4gICAgICBkdXJhdGlvbkluRGF5czogdGhpcy5kdXJhdGlvbkluRGF5cyxcbiAgICAgIGludHJvVmlkZW9zOiB0aGlzLmludHJvVmlkZW9zLm1hcCh2aWRlbyA9PiB2aWRlby50b0RpY3Rpb25hcnkoKSlcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZXMgdGhlIGR1cmF0aW9uIGluIGRheXMgYmV0d2VlbiB0aGUgc3RhcnREYXRlIGFuZCBlbmREYXRlLlxuICAgKiBAcmV0dXJucyBUaGUgbnVtYmVyIG9mIGRheXMgYmV0d2VlbiB0aGUgdHdvIGRhdGVzLlxuICAgKi9cbiAgcHJpdmF0ZSBjYWxjdWxhdGVEdXJhdGlvbkluRGF5cygpOiBudW1iZXIge1xuICAgIGNvbnN0IHN0YXJ0ID0gdGhpcy5zdGFydERhdGU/LnZhbHVlT2YoKTtcbiAgICBjb25zdCBlbmQgPSB0aGlzLmVuZERhdGU/LnZhbHVlT2YoKTtcblxuICAgIGlmICghc3RhcnQgfHwgIWVuZCB8fCBpc05hTihzdGFydCkgfHwgaXNOYU4oZW5kKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHN0YXJ0RGF0ZSBvciBlbmREYXRlJyk7XG4gICAgfVxuXG4gICAgY29uc3QgZHVyYXRpb25Jbk1pbGxpc2Vjb25kcyA9IGVuZCAtIHN0YXJ0O1xuICAgIHJldHVybiBNYXRoLmNlaWwoZHVyYXRpb25Jbk1pbGxpc2Vjb25kcyAvICgxMDAwICogNjAgKiA2MCAqIDI0KSk7XG4gIH1cblxuICBzdGF0aWMgdG9GaXJlc3RvcmVPYmplY3Qob2JqOiBhbnkpOiBhbnkge1xuICAgIGlmIChvYmogPT09IG51bGwgfHwgdHlwZW9mIG9iaiAhPT0gJ29iamVjdCcpIHtcbiAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuXG4gICAgaWYgKG9iaiBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgICAgcmV0dXJuIG9iai5tYXAoaXRlbSA9PiB0aGlzLnRvRmlyZXN0b3JlT2JqZWN0KGl0ZW0pKTtcbiAgICB9XG5cbiAgICBpZiAob2JqIGluc3RhbmNlb2YgQ2hhbGxlbmdlKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZDogb2JqLmlkLFxuICAgICAgICB0aXRsZTogb2JqLnRpdGxlLFxuICAgICAgICBzdWJ0aXRsZTogb2JqLnN1YnRpdGxlLFxuICAgICAgICBwYXJ0aWNpcGFudHM6IG9iai5wYXJ0aWNpcGFudHMsXG4gICAgICAgIHN0YXR1czogb2JqLnN0YXR1cyxcbiAgICAgICAgc3RhcnREYXRlOiBvYmouc3RhcnREYXRlLFxuICAgICAgICBlbmREYXRlOiBvYmouZW5kRGF0ZSxcbiAgICAgICAgY3JlYXRlZEF0OiBvYmouY3JlYXRlZEF0LFxuICAgICAgICB1cGRhdGVkQXQ6IG9iai51cGRhdGVkQXQsXG4gICAgICAgIGludHJvVmlkZW9zOiBvYmouaW50cm9WaWRlb3MubWFwKHZpZGVvID0+ICh7XG4gICAgICAgICAgaWQ6IHZpZGVvLmlkLFxuICAgICAgICAgIHVzZXJJZDogdmlkZW8udXNlcklkLFxuICAgICAgICAgIHZpZGVvVXJsOiB2aWRlby52aWRlb1VybFxuICAgICAgICB9KSlcbiAgICAgIH07XG4gICAgfVxuXG4gICAgY29uc3QgcGxhaW5PYmplY3Q6IHsgW2tleTogc3RyaW5nXTogYW55IH0gPSB7fTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmopIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7XG4gICAgICAgIHBsYWluT2JqZWN0W2tleV0gPSB0aGlzLnRvRmlyZXN0b3JlT2JqZWN0KG9ialtrZXldKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHBsYWluT2JqZWN0O1xuICB9XG59XG5cblxuLy8gUHJvcHMgaW50ZXJmYWNlIGZvciB0aGUgY29tcG9uZW50XG5pbnRlcmZhY2UgQ2hhbGxlbmdlSW52aXRhdGlvblByb3BzIHtcbiAgY2hhbGxlbmdlOiBDaGFsbGVuZ2U7XG4gIG9uQ2xvc2U6ICgpID0+IHZvaWQ7XG4gIG9uSm9pbkNoYWxsZW5nZTogKGNoYWxsZW5nZTogYW55KSA9PiBQcm9taXNlPHZvaWQ+O1xufVxuXG5leHBvcnQgdHlwZSB7XG4gIFByb2ZpbGVJbWFnZSxcbiAgVXNlckxvY2F0aW9uLFxuICBQdWxzZVBvaW50cyxcbiAgQ2hhbGxlbmdlSW52aXRhdGlvblByb3BzXG59O1xuXG5leHBvcnQgeyBDaGFsbGVuZ2VTdGF0dXMsIENoYWxsZW5nZSwgVXNlckNoYWxsZW5nZSB9O1xuIl0sIm5hbWVzIjpbIkV4ZXJjaXNlTG9nIiwiQm9keVBhcnQiLCJjb252ZXJ0RmlyZXN0b3JlVGltZXN0YW1wIiwiV29ya291dFN0YXR1cyIsIldvcmtvdXRSYXRpbmciLCJCb2R5Wm9uZSIsIlJlcHNBbmRXZWlnaHRMb2ciLCJkYXRhIiwicmVwcyIsIndlaWdodCIsImxlZnRSZXBzIiwibGVmdFdlaWdodCIsImlzU3BsaXQiLCJpc0JvZHlXZWlnaHQiLCJkdXJhdGlvbiIsImNhbG9yaWVzIiwiYnBtIiwidG9EaWN0aW9uYXJ5IiwiZnJvbUZpcmViYXNlIiwiV29ya291dCIsImlkIiwiY29sbGVjdGlvbklkIiwicm91bmRXb3Jrb3V0SWQiLCJleGVyY2lzZXMiLCJjaGFsbGVuZ2UiLCJsb2dzIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsIndvcmtvdXRSYXRpbmciLCJ1c2VBdXRob3JDb250ZW50IiwiaXNDb21wbGV0ZWQiLCJ3b3Jrb3V0U3RhdHVzIiwic3RhcnRUaW1lIiwib3JkZXIiLCJhdXRob3IiLCJhc3NpZ25lZERhdGUiLCJjcmVhdGVkQXQiLCJ1cGRhdGVkQXQiLCJ6b25lIiwiZGV0ZXJtaW5lV29ya291dFpvbmUiLCJmZXRjaFByaW1hcnlCb2R5UGFydHMiLCJmbGF0TWFwIiwiZXhlcmNpc2VSZWYiLCJleGVyY2lzZSIsInByaW1hcnlCb2R5UGFydHMiLCJmZXRjaFNlY29uZGFyeUJvZHlQYXJ0cyIsInNlY29uZGFyeUJvZHlQYXJ0cyIsIm1hcCIsImV4IiwiZ3JvdXBJZCIsImxvZyIsImdldFRpbWUiLCJ1bmRlZmluZWQiLCJlc3RpbWF0ZWREdXJhdGlvbiIsIndhcm11cFRpbWUiLCJjb29sZG93blRpbWUiLCJ0b3RhbEV4ZXJjaXNlVGltZSIsInJlc3RUaW1lIiwiaGFzU2NyZWVuVGltZUV4ZXJjaXNlcyIsImNvbnNvbGUiLCJncm91cENvbGxhcHNlZCIsImNhdGVnb3J5IiwidHlwZSIsImRldGFpbHMiLCJzY3JlZW5UaW1lIiwiTWF0aCIsImZsb29yIiwiZ3JvdXBFbmQiLCJlc3RpbWF0ZWRUb3RhbFRpbWUiLCJmaW5hbEVzdGltYXRlIiwicm91bmQiLCJib2R5UGFydHNJbnZvbHZlZCIsIlNldCIsImJvZHlQYXJ0IiwiYWRkIiwidXBwZXJCb2R5UGFydHMiLCJDaGVzdCIsIlNob3VsZGVycyIsIkJpY2VwcyIsIlRyaWNlcHMiLCJUcmFwcyIsIkxhdHMiLCJGb3JlYXJtcyIsImxvd2VyQm9keVBhcnRzIiwiSGFtc3RyaW5ncyIsIkdsdXRlcyIsIlF1YWRyaWNlcHMiLCJDYWx2ZXMiLCJjb3JlUGFydHMiLCJBYnMiLCJMb3dlcmJhY2siLCJoYXNDb21tb25FbGVtZW50cyIsInNldDEiLCJzZXQyIiwiQXJyYXkiLCJmcm9tIiwic29tZSIsIml0ZW0iLCJoYXMiLCJoYXNVcHBlckJvZHkiLCJoYXNMb3dlckJvZHkiLCJoYXNDb3JlIiwiaXNUaW1lZFdvcmtvdXQiLCJXb3Jrb3V0U3VtbWFyeSIsIndvcmtvdXRJZCIsImJvZHlQYXJ0cyIsIndvcmtvdXRUaXRsZSIsImNhbG9yaWVzQnVybmVkIiwiZXhlcmNpc2VzQ29tcGxldGVkIiwiYWlJbnNpZ2h0IiwicmVjb21tZW5kYXRpb25zIiwiZ2lmVVJMcyIsInJlY29tbWVuZGVkV29yayIsIkRhdGUiLCJjb21wbGV0ZWRBdCIsIlN3ZWF0bGlzdFR5cGUiLCJSZWZlcnJhbENoYWluIiwib3JpZ2luYWxIb3N0SWQiLCJzaGFyZWRCeSIsImZyb21GaXJlc3RvcmUiLCJTd2VhdGxpc3RDb2xsZWN0aW9uIiwic3VidGl0bGUiLCJwaW4iLCJDaGFsbGVuZ2UiLCJzd2VhdGxpc3RJZHMiLCJzd2VhdGxpc3RBdXRob3JJZCIsInN3ZWF0bGlzdE5hbWUiLCJpc0FycmF5Iiwib3duZXJJZCIsInByaXZhY3kiLCJwYXJ0aWNpcGFudHMiLCJwYXJ0aWNpcGFudCIsInRvUkVTVERpY3Rpb25hcnkiLCJmaWVsZHMiLCJzdHJpbmdWYWx1ZSIsImFycmF5VmFsdWUiLCJ2YWx1ZXMiLCJvd25lciIsIm1hcFZhbHVlIiwiaW50ZWdlclZhbHVlIiwiZG91YmxlVmFsdWUiLCJpc1B1Ymxpc2hlZCIsInN0YXR1cyIsIlByb2ZpbGVJbWFnZSIsInByb2ZpbGVJbWFnZVVSTCIsInRodW1ibmFpbFVSTCIsIlVzZXJMb2NhdGlvbiIsImxhdGl0dWRlIiwibG9uZ2l0dWRlIiwiUHVsc2VQb2ludHMiLCJiYXNlQ29tcGxldGlvbiIsImZpcnN0Q29tcGxldGlvbiIsInN0cmVha0JvbnVzIiwiY2hlY2tJbkJvbnVzIiwiZWZmb3J0UmF0aW5nIiwiY2hhdFBhcnRpY2lwYXRpb24iLCJsb2NhdGlvbkNoZWNraW4iLCJjb250ZW50RW5nYWdlbWVudCIsImVuY291cmFnZW1lbnRTZW50IiwiZW5jb3VyYWdlbWVudFJlY2VpdmVkIiwiY3VtdWxhdGl2ZVN0cmVha0JvbnVzIiwidG90YWxTdGFja1BvaW50cyIsInRvdGFsQ29tbXVuaXR5UG9pbnRzIiwidG90YWxQb2ludHMiLCJVc2VyQ2hhbGxlbmdlIiwiY2hhbGxlbmdlSWQiLCJ1c2VySWQiLCJ1c2VybmFtZSIsInByb2ZpbGVJbWFnZSIsInByb2dyZXNzIiwicmVmZXJyYWxDaGFpbnMiLCJjb21wbGV0ZWRXb3Jrb3V0cyIsImN3IiwibG9jYXRpb24iLCJjaXR5IiwiY291bnRyeSIsInRpbWV6b25lIiwiam9pbkRhdGUiLCJwdWxzZVBvaW50cyIsImN1cnJlbnRTdHJlYWsiLCJlbmNvdXJhZ2VkVXNlcnMiLCJlbmNvdXJhZ2VkQnlVc2VycyIsImNoZWNrSW5zIiwiZCIsIndvcmtvdXQiLCJkYXRlIiwiQ2hhbGxlbmdlU3RhdHVzIiwiSW50cm9WaWRlbyIsInZpZGVvVXJsIiwic3RhcnREYXRlIiwiZW5kRGF0ZSIsImludHJvVmlkZW9zIiwidmlkZW8iLCJpbnRyb1ZpZGVvVVJMIiwibGVuZ3RoIiwiZHVyYXRpb25JbkRheXMiLCJjYWxjdWxhdGVEdXJhdGlvbkluRGF5cyIsInN0YXJ0IiwidmFsdWVPZiIsImVuZCIsImlzTmFOIiwiRXJyb3IiLCJkdXJhdGlvbkluTWlsbGlzZWNvbmRzIiwiY2VpbCIsInRvRmlyZXN0b3JlT2JqZWN0Iiwib2JqIiwicGxhaW5PYmplY3QiLCJrZXkiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/api/firebase/workout/types.ts\n"));

/***/ }),

/***/ "./src/utils/formatDate.ts":
/*!*********************************!*\
  !*** ./src/utils/formatDate.ts ***!
  \*********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   convertFirestoreTimestamp: function() { return /* binding */ convertFirestoreTimestamp; }\n/* harmony export */ });\nvar convertFirestoreTimestamp = function(timestamp) {\n    // If null or undefined, return current date\n    if (timestamp == null) return new Date();\n    // If already a Date object, return it\n    if (timestamp instanceof Date) return timestamp;\n    // Convert to number if it's a string\n    var numTimestamp = typeof timestamp === \"string\" ? parseInt(timestamp, 10) : timestamp;\n    // If the timestamp looks like seconds (less than current millisecond timestamp)\n    if (numTimestamp < 10000000000) {\n        return new Date(numTimestamp * 1000);\n    }\n    // If it looks like milliseconds\n    return new Date(numTimestamp);\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbHMvZm9ybWF0RGF0ZS50cyIsIm1hcHBpbmdzIjoiOzs7O0FBQU8sSUFBTUEsNEJBQTRCLFNBQUNDO0lBQ3RDLDRDQUE0QztJQUM1QyxJQUFJQSxhQUFhLE1BQU0sT0FBTyxJQUFJQztJQUVsQyxzQ0FBc0M7SUFDdEMsSUFBSUQscUJBQXFCQyxNQUFNLE9BQU9EO0lBRXRDLHFDQUFxQztJQUNyQyxJQUFNRSxlQUFlLE9BQU9GLGNBQWMsV0FDdENHLFNBQVNILFdBQVcsTUFDcEJBO0lBRUosZ0ZBQWdGO0lBQ2hGLElBQUlFLGVBQWUsYUFBYTtRQUM5QixPQUFPLElBQUlELEtBQUtDLGVBQWU7SUFDakM7SUFFQSxnQ0FBZ0M7SUFDaEMsT0FBTyxJQUFJRCxLQUFLQztBQUNsQixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy91dGlscy9mb3JtYXREYXRlLnRzP2EzODIiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGNvbnZlcnRGaXJlc3RvcmVUaW1lc3RhbXAgPSAodGltZXN0YW1wOiBudW1iZXIgfCBzdHJpbmcgfCBEYXRlIHwgbnVsbCB8IHVuZGVmaW5lZCk6IERhdGUgPT4ge1xuICAgIC8vIElmIG51bGwgb3IgdW5kZWZpbmVkLCByZXR1cm4gY3VycmVudCBkYXRlXG4gICAgaWYgKHRpbWVzdGFtcCA9PSBudWxsKSByZXR1cm4gbmV3IERhdGUoKTtcbiAgXG4gICAgLy8gSWYgYWxyZWFkeSBhIERhdGUgb2JqZWN0LCByZXR1cm4gaXRcbiAgICBpZiAodGltZXN0YW1wIGluc3RhbmNlb2YgRGF0ZSkgcmV0dXJuIHRpbWVzdGFtcDtcbiAgXG4gICAgLy8gQ29udmVydCB0byBudW1iZXIgaWYgaXQncyBhIHN0cmluZ1xuICAgIGNvbnN0IG51bVRpbWVzdGFtcCA9IHR5cGVvZiB0aW1lc3RhbXAgPT09ICdzdHJpbmcnIFxuICAgICAgPyBwYXJzZUludCh0aW1lc3RhbXAsIDEwKSBcbiAgICAgIDogdGltZXN0YW1wO1xuICBcbiAgICAvLyBJZiB0aGUgdGltZXN0YW1wIGxvb2tzIGxpa2Ugc2Vjb25kcyAobGVzcyB0aGFuIGN1cnJlbnQgbWlsbGlzZWNvbmQgdGltZXN0YW1wKVxuICAgIGlmIChudW1UaW1lc3RhbXAgPCAxMDAwMDAwMDAwMCkge1xuICAgICAgcmV0dXJuIG5ldyBEYXRlKG51bVRpbWVzdGFtcCAqIDEwMDApO1xuICAgIH1cbiAgXG4gICAgLy8gSWYgaXQgbG9va3MgbGlrZSBtaWxsaXNlY29uZHNcbiAgICByZXR1cm4gbmV3IERhdGUobnVtVGltZXN0YW1wKTtcbiAgfTsiXSwibmFtZXMiOlsiY29udmVydEZpcmVzdG9yZVRpbWVzdGFtcCIsInRpbWVzdGFtcCIsIkRhdGUiLCJudW1UaW1lc3RhbXAiLCJwYXJzZUludCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/utils/formatDate.ts\n"));

/***/ })

});
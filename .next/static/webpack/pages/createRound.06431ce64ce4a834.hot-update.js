"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/createRound",{

/***/ "./src/api/firebase/gemini/service.ts":
/*!********************************************!*\
  !*** ./src/api/firebase/gemini/service.ts ***!
  \********************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GeminiService: function() { return /* binding */ GeminiService; }\n/* harmony export */ });\n/* harmony import */ var _swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @swc/helpers/_/_async_to_generator */ \"./node_modules/@swc/helpers/esm/_async_to_generator.js\");\n/* harmony import */ var _swc_helpers_class_call_check__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @swc/helpers/_/_class_call_check */ \"./node_modules/@swc/helpers/esm/_class_call_check.js\");\n/* harmony import */ var _swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @swc/helpers/_/_ts_generator */ \"./node_modules/@swc/helpers/esm/_ts_generator.js\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config */ \"./src/api/firebase/config.ts\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! firebase/firestore */ \"./node_modules/firebase/firestore/dist/esm/index.esm.js\");\n// services/GeminiService.ts\n\n\n\n\n\nvar GeminiService = /*#__PURE__*/ function() {\n    \"use strict\";\n    function GeminiService() {\n        (0,_swc_helpers_class_call_check__WEBPACK_IMPORTED_MODULE_2__._)(this, GeminiService);\n    }\n    var _proto = GeminiService.prototype;\n    _proto.sendPrompt = function sendPrompt(prompt) {\n        var _this = this;\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_3__._)(function() {\n            var generateRef, response, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_4__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        _state.trys.push([\n                            0,\n                            3,\n                            ,\n                            4\n                        ]);\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.addDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.collection)(_config__WEBPACK_IMPORTED_MODULE_0__.db, \"generate\"), {\n                                prompt: prompt\n                            })\n                        ];\n                    case 1:\n                        generateRef = _state.sent();\n                        return [\n                            4,\n                            _this.fetchOutputWithRetry(generateRef, 30, 2000)\n                        ];\n                    case 2:\n                        response = _state.sent();\n                        return [\n                            2,\n                            response\n                        ];\n                    case 3:\n                        error = _state.sent();\n                        console.error(\"Error sending prompt:\", error);\n                        throw error;\n                    case 4:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    _proto.fetchOutputWithRetry = function fetchOutputWithRetry(docRef, attempts, delay) {\n        var _this = this;\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_3__._)(function() {\n            var snapshot, data;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_4__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        if (attempts === 0) {\n                            throw new Error(\"Max retry attempts reached\");\n                        }\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getDoc)(docRef)\n                        ];\n                    case 1:\n                        snapshot = _state.sent();\n                        data = snapshot.data();\n                        if (data === null || data === void 0 ? void 0 : data.output) {\n                            return [\n                                2,\n                                data.output\n                            ];\n                        }\n                        // Wait for the specified delay\n                        return [\n                            4,\n                            new Promise(function(resolve) {\n                                return setTimeout(resolve, delay);\n                            })\n                        ];\n                    case 2:\n                        _state.sent();\n                        // Retry\n                        return [\n                            2,\n                            _this.fetchOutputWithRetry(docRef, attempts - 1, delay)\n                        ];\n                }\n            });\n        })();\n    };\n    _proto.generateRound = function generateRound(mustIncludeExercises, userPrompt, preferences, creatorExercises, allAvailableExercises) {\n        var _this = this;\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_3__._)(function() {\n            var mustIncludeList, creatorExerciseList, allExerciseList, prompt, response, parsedResponse, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_4__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        // Combine all available exercises\n                        mustIncludeList = mustIncludeExercises.join(\", \");\n                        creatorExerciseList = creatorExercises.map(function(ex) {\n                            return ex.name;\n                        }).join(\", \");\n                        allExerciseList = allAvailableExercises.map(function(ex) {\n                            return ex.name;\n                        }).join(\", \");\n                        prompt = \"\\n    As an AI fitness expert, Create a fitness program with the following requirements:\\n\\n    USER DESCRIPTION:\\n    \".concat(userPrompt, \"\\n\\n    EXERCISE SELECTION PRIORITIES:\\n    1. Must include these exercises: \").concat(mustIncludeList, \"\\n    2. Prefer these creator-specific exercises when possible: \").concat(creatorExerciseList, \"\\n    3. Can also include any of these exercises as needed: \").concat(allExerciseList, \"\\n\\n    PREFERENCES:\\n    \").concat(preferences.join(\"\\n\"), '\\n\\n    Please ensure:\\n    - Balanced program structure\\n    - Proper exercise sequencing\\n    - Rest and recovery consideration\\n    - Progressive overload\\n    - Exercise variety while maintaining focus\\n\\n    Create a complete workout program with multiple stacks (workout sessions). Each stack should have a specific focus and purpose.\\n\\n    Format your response as a JSON object with the following structure:\\n    {\\n      \"stacks\": [\\n        {\\n          \"title\": \"Name of the workout stack\",\\n          \"description\": \"Detailed description of this stack\\'s focus and goals\",\\n          \"exercises\": [\\n            {\\n              \"name\": \"Exercise Name\",\\n              \"category\": {\\n                \"details\": {\\n                  \"sets\": 3,\\n                  \"reps\": [\"8\",\"10\"],\\n                  \"weight\": 0,\\n                }\\n              }\\n            }\\n          ]\\n        }\\n      ]\\n    }\\n\\n    IMPORTANT:\\n    1. Only include exercises from the provided list\\n    2. Each stack should have 4-6 exercises\\n    3. Provide detailed, meaningful titles and descriptions\\n    4. Consider the user\\'s preferences\\n    5. Ensure proper exercise order and flow within each stack\\n    6. Format as valid JSON\\n  ');\n                        console.log(\"The prompt is\", prompt);\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            3,\n                            ,\n                            4\n                        ]);\n                        return [\n                            4,\n                            _this.sendPrompt(prompt)\n                        ];\n                    case 2:\n                        response = _state.sent();\n                        console.log(\"Raw response: \", response);\n                        parsedResponse = JSON.parse(response);\n                        console.log(\"parsed response: \", parsedResponse);\n                        return [\n                            2,\n                            parsedResponse\n                        ];\n                    case 3:\n                        error = _state.sent();\n                        console.error(\"Error generating round:\", error);\n                        throw new Error(\"Failed to generate workout round\");\n                    case 4:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    _proto.parseExercises = function parseExercises(input) {\n        // Remove any leading/trailing whitespace and parse the JSON array\n        var trimmedInput = input.trim();\n        try {\n            return JSON.parse(trimmedInput);\n        } catch (error) {\n            console.error(\"Error parsing exercises:\", error);\n            throw new Error(\"Failed to parse exercise response\");\n        }\n    };\n    GeminiService.getInstance = function getInstance() {\n        if (!GeminiService.instance) {\n            GeminiService.instance = new GeminiService();\n        }\n        return GeminiService.instance;\n    };\n    return GeminiService;\n}();\n/* harmony default export */ __webpack_exports__[\"default\"] = (GeminiService);\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYXBpL2ZpcmViYXNlL2dlbWluaS9zZXJ2aWNlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBLDRCQUE0Qjs7OztBQUVHO0FBQ29EO0FBNEI1RSxrQ0FBSzs7YUFBQ0k7K0VBQUFBOztpQkFBQUE7SUFZWCxPQUFNQyxVQWNMLEdBZEQsU0FBTUEsV0FBV0MsTUFBYzs7ZUFBL0I7Z0JBR1VDLGFBS0FDLFVBRUNDOzs7Ozs7Ozs7O3dCQVBhOzs0QkFBTVAsMERBQU1BLENBQUNELDhEQUFVQSxDQUFDRCx1Q0FBRUEsRUFBRSxhQUFhO2dDQUMzRE0sUUFBUUE7NEJBQ1Y7Ozt3QkFGTUMsY0FBYzt3QkFLSDs7NEJBQU0sTUFBS0csb0JBQW9CLENBQUNILGFBQWEsSUFBSTs7O3dCQUE1REMsV0FBVzt3QkFDakI7OzRCQUFPQTs7O3dCQUNBQzt3QkFDUEUsUUFBUUYsS0FBSyxDQUFDLHlCQUF5QkE7d0JBQ3ZDLE1BQU1BOzs7Ozs7O1FBRVY7O0lBRUEsT0FBY0Msb0JBcUJiLEdBckJELFNBQWNBLHFCQUNaRSxNQUF5QixFQUN6QkMsUUFBZ0IsRUFDaEJDLEtBQWE7O2VBSGY7Z0JBU1FDLFVBQ0FDOzs7O3dCQUxOLElBQUlILGFBQWEsR0FBRzs0QkFDbEIsTUFBTSxJQUFJSSxNQUFNO3dCQUNsQjt3QkFFaUI7OzRCQUFNZCwwREFBTUEsQ0FBQ1M7Ozt3QkFBeEJHLFdBQVc7d0JBQ1hDLE9BQU9ELFNBQVNDLElBQUk7d0JBRTFCLElBQUlBLGlCQUFBQSwyQkFBQUEsS0FBTUUsTUFBTSxFQUFFOzRCQUNoQjs7Z0NBQU9GLEtBQUtFLE1BQU07O3dCQUNwQjt3QkFFQSwrQkFBK0I7d0JBQy9COzs0QkFBTSxJQUFJQyxRQUFRQyxTQUFBQTt1Q0FBV0MsV0FBV0QsU0FBU047Ozs7d0JBQWpEO3dCQUVBLFFBQVE7d0JBQ1I7OzRCQUFPLE1BQUtKLG9CQUFvQixDQUFDRSxRQUFRQyxXQUFXLEdBQUdDOzs7O1FBQ3pEOztJQUVGLE9BQU1RLGFBa0ZMLEdBbEZELFNBQU1BLGNBQ0pDLG9CQUE4QixFQUM5QkMsVUFBa0IsRUFDbEJDLFdBQXFCLEVBQ3JCQyxnQkFBNEIsRUFDNUJDLHFCQUFpQzs7ZUFMbkM7Z0JBUVFDLGlCQUNBQyxxQkFDQUMsaUJBRUF4QixRQXlERUUsVUFJQXVCLGdCQUtDdEI7Ozs7d0JBdkVULGtDQUFrQzt3QkFDNUJtQixrQkFBa0JMLHFCQUFxQlMsSUFBSSxDQUFDO3dCQUM1Q0gsc0JBQXNCSCxpQkFBaUJPLEdBQUcsQ0FBQ0MsU0FBQUE7bUNBQU1BLEdBQUdDLElBQUk7MkJBQUVILElBQUksQ0FBQzt3QkFDL0RGLGtCQUFrQkgsc0JBQXNCTSxHQUFHLENBQUNDLFNBQUFBO21DQUFNQSxHQUFHQyxJQUFJOzJCQUFFSCxJQUFJLENBQUM7d0JBRWhFMUIsU0FBUywwSEFPc0JzQixPQUhqQ0osWUFBVyxpRkFJK0NLLE9BRHpCRCxpQkFBZ0Isb0VBRUtFLE9BRElELHFCQUFvQixnRUFJOUVKLE9BSHNESyxpQkFBZ0IsOEJBRy9DLE9BQXZCTCxZQUFZTyxJQUFJLENBQUMsT0FBTTt3QkEwQzNCckIsUUFBUXlCLEdBQUcsQ0FBQyxpQkFBaUI5Qjs7Ozs7Ozs7O3dCQUdWOzs0QkFBTSxNQUFLRCxVQUFVLENBQUNDOzs7d0JBQWpDRSxXQUFXO3dCQUVqQkcsUUFBUXlCLEdBQUcsQ0FBQyxrQkFBa0I1Qjt3QkFFeEJ1QixpQkFBaUJNLEtBQUtDLEtBQUssQ0FBQzlCO3dCQUVsQ0csUUFBUXlCLEdBQUcsQ0FBQyxxQkFBcUJMO3dCQUVqQzs7NEJBQU9BOzs7d0JBQ0F0Qjt3QkFDUEUsUUFBUUYsS0FBSyxDQUFDLDJCQUEyQkE7d0JBQ3pDLE1BQU0sSUFBSVEsTUFBTTs7Ozs7OztRQUVwQjs7SUFFRSxPQUFRc0IsY0FTUCxHQVRELFNBQVFBLGVBQWVDLEtBQWE7UUFDbEMsa0VBQWtFO1FBQ2xFLElBQU1DLGVBQWVELE1BQU1FLElBQUk7UUFDL0IsSUFBSTtZQUNGLE9BQU9MLEtBQUtDLEtBQUssQ0FBQ0c7UUFDcEIsRUFBRSxPQUFPaEMsT0FBTztZQUNkRSxRQUFRRixLQUFLLENBQUMsNEJBQTRCQTtZQUMxQyxNQUFNLElBQUlRLE1BQU07UUFDbEI7SUFDRjtJQWhKV2IsY0FLR3VDLFdBS2IsR0FMRCxTQUFjQTtRQUNaLElBQUksQ0FBQ3ZDLGNBQWN3QyxRQUFRLEVBQUU7WUFOcEJ4QyxjQU9Pd0MsUUFBUSxHQUFHLElBUGxCeEM7UUFRVDtRQUNBLE9BQU9BLGNBQWN3QyxRQUFRO0lBQy9CO1dBVld4QztJQWlKWjtBQUVELCtEQUFlQSxhQUFhQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9hcGkvZmlyZWJhc2UvZ2VtaW5pL3NlcnZpY2UudHM/NmZiNSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzZXJ2aWNlcy9HZW1pbmlTZXJ2aWNlLnRzXG5pbXBvcnQgeyBFeGVyY2lzZSB9IGZyb20gJy4uL2V4ZXJjaXNlJztcbmltcG9ydCB7IGRiIH0gZnJvbSAnLi4vY29uZmlnJztcbmltcG9ydCB7IGNvbGxlY3Rpb24sIGFkZERvYywgZ2V0RG9jLCBEb2N1bWVudFJlZmVyZW5jZSB9IGZyb20gJ2ZpcmViYXNlL2ZpcmVzdG9yZSc7XG5cbi8vIGFwaS9maXJlYmFzZS9nZW1pbmkvdHlwZXMudHNcbmludGVyZmFjZSBHZW5lcmF0ZWRFeGVyY2lzZSB7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIHNldHM6IG51bWJlcjtcbiAgICByZXBzOiBzdHJpbmdbXTtcbiAgICBjYXRlZ29yeToge1xuICAgICAgdHlwZTogJ3dlaWdodFRyYWluaW5nJztcbiAgICAgIGRldGFpbHM6IHtcbiAgICAgICAgc2V0czogbnVtYmVyO1xuICAgICAgICByZXBzOiBzdHJpbmdbXTtcbiAgICAgICAgd2VpZ2h0OiBudW1iZXI7XG4gICAgICAgIHNjcmVlblRpbWU6IG51bWJlcjtcbiAgICAgIH07XG4gICAgfTtcbiAgfVxuICBcbiAgaW50ZXJmYWNlIEdlbmVyYXRlZFN0YWNrIHtcbiAgICB0aXRsZTogc3RyaW5nO1xuICAgIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gICAgZXhlcmNpc2VzOiBHZW5lcmF0ZWRFeGVyY2lzZVtdO1xuICB9XG4gIFxuICBpbnRlcmZhY2UgR2VuZXJhdGVkUm91bmRSZXNwb25zZSB7XG4gICAgc3RhY2tzOiBHZW5lcmF0ZWRTdGFja1tdO1xuICB9XG5cbmV4cG9ydCBjbGFzcyBHZW1pbmlTZXJ2aWNlIHtcbiAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2U6IEdlbWluaVNlcnZpY2U7XG4gIFxuICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge31cblxuICBwdWJsaWMgc3RhdGljIGdldEluc3RhbmNlKCk6IEdlbWluaVNlcnZpY2Uge1xuICAgIGlmICghR2VtaW5pU2VydmljZS5pbnN0YW5jZSkge1xuICAgICAgR2VtaW5pU2VydmljZS5pbnN0YW5jZSA9IG5ldyBHZW1pbmlTZXJ2aWNlKCk7XG4gICAgfVxuICAgIHJldHVybiBHZW1pbmlTZXJ2aWNlLmluc3RhbmNlO1xuICB9XG5cbiAgYXN5bmMgc2VuZFByb21wdChwcm9tcHQ6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIENyZWF0ZSBhIG5ldyBkb2N1bWVudCBpbiB0aGUgJ2dlbmVyYXRlJyBjb2xsZWN0aW9uXG4gICAgICBjb25zdCBnZW5lcmF0ZVJlZiA9IGF3YWl0IGFkZERvYyhjb2xsZWN0aW9uKGRiLCAnZ2VuZXJhdGUnKSwge1xuICAgICAgICBwcm9tcHQ6IHByb21wdFxuICAgICAgfSk7XG5cbiAgICAgIC8vIFdhaXQgZm9yIHRoZSByZXNwb25zZSB3aXRoIHJldHJpZXNcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5mZXRjaE91dHB1dFdpdGhSZXRyeShnZW5lcmF0ZVJlZiwgMzAsIDIwMDApO1xuICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzZW5kaW5nIHByb21wdDonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGZldGNoT3V0cHV0V2l0aFJldHJ5KFxuICAgIGRvY1JlZjogRG9jdW1lbnRSZWZlcmVuY2UsXG4gICAgYXR0ZW1wdHM6IG51bWJlcixcbiAgICBkZWxheTogbnVtYmVyXG4gICk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgaWYgKGF0dGVtcHRzID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01heCByZXRyeSBhdHRlbXB0cyByZWFjaGVkJyk7XG4gICAgfVxuXG4gICAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBnZXREb2MoZG9jUmVmKTtcbiAgICBjb25zdCBkYXRhID0gc25hcHNob3QuZGF0YSgpO1xuXG4gICAgaWYgKGRhdGE/Lm91dHB1dCkge1xuICAgICAgcmV0dXJuIGRhdGEub3V0cHV0O1xuICAgIH1cblxuICAgIC8vIFdhaXQgZm9yIHRoZSBzcGVjaWZpZWQgZGVsYXlcbiAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgZGVsYXkpKTtcblxuICAgIC8vIFJldHJ5XG4gICAgcmV0dXJuIHRoaXMuZmV0Y2hPdXRwdXRXaXRoUmV0cnkoZG9jUmVmLCBhdHRlbXB0cyAtIDEsIGRlbGF5KTtcbiAgfVxuXG5hc3luYyBnZW5lcmF0ZVJvdW5kKFxuICBtdXN0SW5jbHVkZUV4ZXJjaXNlczogc3RyaW5nW10sXG4gIHVzZXJQcm9tcHQ6IHN0cmluZyxcbiAgcHJlZmVyZW5jZXM6IHN0cmluZ1tdLFxuICBjcmVhdG9yRXhlcmNpc2VzOiBFeGVyY2lzZVtdLFxuICBhbGxBdmFpbGFibGVFeGVyY2lzZXM6IEV4ZXJjaXNlW11cbik6IFByb21pc2U8R2VuZXJhdGVkUm91bmRSZXNwb25zZT4ge1xuICAvLyBDb21iaW5lIGFsbCBhdmFpbGFibGUgZXhlcmNpc2VzXG4gIGNvbnN0IG11c3RJbmNsdWRlTGlzdCA9IG11c3RJbmNsdWRlRXhlcmNpc2VzLmpvaW4oXCIsIFwiKTtcbiAgY29uc3QgY3JlYXRvckV4ZXJjaXNlTGlzdCA9IGNyZWF0b3JFeGVyY2lzZXMubWFwKGV4ID0+IGV4Lm5hbWUpLmpvaW4oXCIsIFwiKTtcbiAgY29uc3QgYWxsRXhlcmNpc2VMaXN0ID0gYWxsQXZhaWxhYmxlRXhlcmNpc2VzLm1hcChleCA9PiBleC5uYW1lKS5qb2luKFwiLCBcIik7XG4gIFxuICBjb25zdCBwcm9tcHQgPSBgXG4gICAgQXMgYW4gQUkgZml0bmVzcyBleHBlcnQsIENyZWF0ZSBhIGZpdG5lc3MgcHJvZ3JhbSB3aXRoIHRoZSBmb2xsb3dpbmcgcmVxdWlyZW1lbnRzOlxuXG4gICAgVVNFUiBERVNDUklQVElPTjpcbiAgICAke3VzZXJQcm9tcHR9XG5cbiAgICBFWEVSQ0lTRSBTRUxFQ1RJT04gUFJJT1JJVElFUzpcbiAgICAxLiBNdXN0IGluY2x1ZGUgdGhlc2UgZXhlcmNpc2VzOiAke211c3RJbmNsdWRlTGlzdH1cbiAgICAyLiBQcmVmZXIgdGhlc2UgY3JlYXRvci1zcGVjaWZpYyBleGVyY2lzZXMgd2hlbiBwb3NzaWJsZTogJHtjcmVhdG9yRXhlcmNpc2VMaXN0fVxuICAgIDMuIENhbiBhbHNvIGluY2x1ZGUgYW55IG9mIHRoZXNlIGV4ZXJjaXNlcyBhcyBuZWVkZWQ6ICR7YWxsRXhlcmNpc2VMaXN0fVxuXG4gICAgUFJFRkVSRU5DRVM6XG4gICAgJHtwcmVmZXJlbmNlcy5qb2luKFwiXFxuXCIpfVxuXG4gICAgUGxlYXNlIGVuc3VyZTpcbiAgICAtIEJhbGFuY2VkIHByb2dyYW0gc3RydWN0dXJlXG4gICAgLSBQcm9wZXIgZXhlcmNpc2Ugc2VxdWVuY2luZ1xuICAgIC0gUmVzdCBhbmQgcmVjb3ZlcnkgY29uc2lkZXJhdGlvblxuICAgIC0gUHJvZ3Jlc3NpdmUgb3ZlcmxvYWRcbiAgICAtIEV4ZXJjaXNlIHZhcmlldHkgd2hpbGUgbWFpbnRhaW5pbmcgZm9jdXNcblxuICAgIENyZWF0ZSBhIGNvbXBsZXRlIHdvcmtvdXQgcHJvZ3JhbSB3aXRoIG11bHRpcGxlIHN0YWNrcyAod29ya291dCBzZXNzaW9ucykuIEVhY2ggc3RhY2sgc2hvdWxkIGhhdmUgYSBzcGVjaWZpYyBmb2N1cyBhbmQgcHVycG9zZS5cblxuICAgIEZvcm1hdCB5b3VyIHJlc3BvbnNlIGFzIGEgSlNPTiBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIHN0cnVjdHVyZTpcbiAgICB7XG4gICAgICBcInN0YWNrc1wiOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBcInRpdGxlXCI6IFwiTmFtZSBvZiB0aGUgd29ya291dCBzdGFja1wiLFxuICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJEZXRhaWxlZCBkZXNjcmlwdGlvbiBvZiB0aGlzIHN0YWNrJ3MgZm9jdXMgYW5kIGdvYWxzXCIsXG4gICAgICAgICAgXCJleGVyY2lzZXNcIjogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBcIm5hbWVcIjogXCJFeGVyY2lzZSBOYW1lXCIsXG4gICAgICAgICAgICAgIFwiY2F0ZWdvcnlcIjoge1xuICAgICAgICAgICAgICAgIFwiZGV0YWlsc1wiOiB7XG4gICAgICAgICAgICAgICAgICBcInNldHNcIjogMyxcbiAgICAgICAgICAgICAgICAgIFwicmVwc1wiOiBbXCI4XCIsXCIxMFwiXSxcbiAgICAgICAgICAgICAgICAgIFwid2VpZ2h0XCI6IDAsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgXVxuICAgICAgICB9XG4gICAgICBdXG4gICAgfVxuXG4gICAgSU1QT1JUQU5UOlxuICAgIDEuIE9ubHkgaW5jbHVkZSBleGVyY2lzZXMgZnJvbSB0aGUgcHJvdmlkZWQgbGlzdFxuICAgIDIuIEVhY2ggc3RhY2sgc2hvdWxkIGhhdmUgNC02IGV4ZXJjaXNlc1xuICAgIDMuIFByb3ZpZGUgZGV0YWlsZWQsIG1lYW5pbmdmdWwgdGl0bGVzIGFuZCBkZXNjcmlwdGlvbnNcbiAgICA0LiBDb25zaWRlciB0aGUgdXNlcidzIHByZWZlcmVuY2VzXG4gICAgNS4gRW5zdXJlIHByb3BlciBleGVyY2lzZSBvcmRlciBhbmQgZmxvdyB3aXRoaW4gZWFjaCBzdGFja1xuICAgIDYuIEZvcm1hdCBhcyB2YWxpZCBKU09OXG4gIGA7XG5cbiAgY29uc29sZS5sb2coXCJUaGUgcHJvbXB0IGlzXCIsIHByb21wdCk7XG4gIFxuICB0cnkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUHJvbXB0KHByb21wdCk7XG5cbiAgICBjb25zb2xlLmxvZyhcIlJhdyByZXNwb25zZTogXCIsIHJlc3BvbnNlKTtcblxuICAgIGNvbnN0IHBhcnNlZFJlc3BvbnNlID0gSlNPTi5wYXJzZShyZXNwb25zZSk7XG5cbiAgICBjb25zb2xlLmxvZyhcInBhcnNlZCByZXNwb25zZTogXCIsIHBhcnNlZFJlc3BvbnNlKTtcblxuICAgIHJldHVybiBwYXJzZWRSZXNwb25zZSBhcyBHZW5lcmF0ZWRSb3VuZFJlc3BvbnNlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdlbmVyYXRpbmcgcm91bmQ6JywgZXJyb3IpO1xuICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGdlbmVyYXRlIHdvcmtvdXQgcm91bmQnKTtcbiAgfVxufVxuXG4gIHByaXZhdGUgcGFyc2VFeGVyY2lzZXMoaW5wdXQ6IHN0cmluZyk6IHN0cmluZ1tdW10ge1xuICAgIC8vIFJlbW92ZSBhbnkgbGVhZGluZy90cmFpbGluZyB3aGl0ZXNwYWNlIGFuZCBwYXJzZSB0aGUgSlNPTiBhcnJheVxuICAgIGNvbnN0IHRyaW1tZWRJbnB1dCA9IGlucHV0LnRyaW0oKTtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIEpTT04ucGFyc2UodHJpbW1lZElucHV0KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcGFyc2luZyBleGVyY2lzZXM6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gcGFyc2UgZXhlcmNpc2UgcmVzcG9uc2UnKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgR2VtaW5pU2VydmljZTsiXSwibmFtZXMiOlsiZGIiLCJjb2xsZWN0aW9uIiwiYWRkRG9jIiwiZ2V0RG9jIiwiR2VtaW5pU2VydmljZSIsInNlbmRQcm9tcHQiLCJwcm9tcHQiLCJnZW5lcmF0ZVJlZiIsInJlc3BvbnNlIiwiZXJyb3IiLCJmZXRjaE91dHB1dFdpdGhSZXRyeSIsImNvbnNvbGUiLCJkb2NSZWYiLCJhdHRlbXB0cyIsImRlbGF5Iiwic25hcHNob3QiLCJkYXRhIiwiRXJyb3IiLCJvdXRwdXQiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJnZW5lcmF0ZVJvdW5kIiwibXVzdEluY2x1ZGVFeGVyY2lzZXMiLCJ1c2VyUHJvbXB0IiwicHJlZmVyZW5jZXMiLCJjcmVhdG9yRXhlcmNpc2VzIiwiYWxsQXZhaWxhYmxlRXhlcmNpc2VzIiwibXVzdEluY2x1ZGVMaXN0IiwiY3JlYXRvckV4ZXJjaXNlTGlzdCIsImFsbEV4ZXJjaXNlTGlzdCIsInBhcnNlZFJlc3BvbnNlIiwiam9pbiIsIm1hcCIsImV4IiwibmFtZSIsImxvZyIsIkpTT04iLCJwYXJzZSIsInBhcnNlRXhlcmNpc2VzIiwiaW5wdXQiLCJ0cmltbWVkSW5wdXQiLCJ0cmltIiwiZ2V0SW5zdGFuY2UiLCJpbnN0YW5jZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/api/firebase/gemini/service.ts\n"));

/***/ })

});
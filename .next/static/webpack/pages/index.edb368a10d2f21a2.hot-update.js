/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/index",{

/***/ "./src/api/firebase/workout/service.ts":
/*!*********************************************!*\
  !*** ./src/api/firebase/workout/service.ts ***!
  \*********************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   workoutService: function() { return /* binding */ workoutService; }\n/* harmony export */ });\n/* harmony import */ var _swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @swc/helpers/_/_async_to_generator */ \"./node_modules/@swc/helpers/esm/_async_to_generator.js\");\n/* harmony import */ var _swc_helpers_class_call_check__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @swc/helpers/_/_class_call_check */ \"./node_modules/@swc/helpers/esm/_class_call_check.js\");\n/* harmony import */ var _swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @swc/helpers/_/_object_spread */ \"./node_modules/@swc/helpers/esm/_object_spread.js\");\n/* harmony import */ var _swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @swc/helpers/_/_object_spread_props */ \"./node_modules/@swc/helpers/esm/_object_spread_props.js\");\n/* harmony import */ var _swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @swc/helpers/_/_sliced_to_array */ \"./node_modules/@swc/helpers/esm/_sliced_to_array.js\");\n/* harmony import */ var _swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @swc/helpers/_/_ts_generator */ \"./node_modules/@swc/helpers/esm/_ts_generator.js\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/firestore */ \"./node_modules/firebase/firestore/dist/esm/index.esm.js\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config */ \"./src/api/firebase/config.ts\");\n/* harmony import */ var _user__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../user */ \"./src/api/firebase/user/index.ts\");\n/* harmony import */ var _workout_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./types */ \"./src/api/firebase/workout/types.ts\");\n/* harmony import */ var _barrel_optimize_names_format_date_fns__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=format!=!date-fns */ \"__barrel_optimize__?names=format!=!./node_modules/date-fns/index.js\");\n/* harmony import */ var _utils_timestamp__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../utils/timestamp */ \"./src/utils/timestamp.ts\");\n/* harmony import */ var _utils_formatDate__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../utils/formatDate */ \"./src/utils/formatDate.ts\");\n/* harmony import */ var _utils_formatDate__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_utils_formatDate__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _types_ChallengeTypes__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../types/ChallengeTypes */ \"./src/types/ChallengeTypes.ts\");\n// src/api/firebase/workout/service.ts\n\n\n\n\n\n\n\n\n\n\n\n\n // Adjust the import path\n\n\nvar WorkoutService = /*#__PURE__*/ function() {\n    \"use strict\";\n    function WorkoutService() {\n        (0,_swc_helpers_class_call_check__WEBPACK_IMPORTED_MODULE_7__._)(this, WorkoutService);\n        this.currentWorkout = null;\n    }\n    var _proto = WorkoutService.prototype;\n    /**\n   * Fetch the user's current workout (either QueuedUp or InProgress).\n   */ _proto.fetchCurrentWorkout = function fetchCurrentWorkout() {\n        var _this = this;\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_8__._)(function() {\n            var session;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_9__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        return [\n                            4,\n                            _this.fetchCurrentWorkoutSession()\n                        ];\n                    case 1:\n                        session = _state.sent();\n                        return [\n                            2,\n                            session.workout\n                        ];\n                }\n            });\n        })();\n    };\n    _proto.getAllSweatlists = function getAllSweatlists(userId) {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_8__._)(function() {\n            var workoutsRef, workoutsSnapshot, workouts, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, workoutDoc, workoutData, workoutId, workout, logsRef, logsSnapshot, err, error, firestoreError;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_9__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        if (!userId) {\n                            throw new Error(\"User ID is required\");\n                        }\n                        // Reference to the user's workout collection\n                        workoutsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", userId, \"MyCreatedWorkouts\");\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            11,\n                            ,\n                            12\n                        ]);\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(workoutsRef)\n                        ];\n                    case 2:\n                        workoutsSnapshot = _state.sent();\n                        workouts = [];\n                        _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n                        _state.label = 3;\n                    case 3:\n                        _state.trys.push([\n                            3,\n                            8,\n                            9,\n                            10\n                        ]);\n                        _iterator = workoutsSnapshot.docs[Symbol.iterator]();\n                        _state.label = 4;\n                    case 4:\n                        if (!!(_iteratorNormalCompletion = (_step = _iterator.next()).done)) return [\n                            3,\n                            7\n                        ];\n                        workoutDoc = _step.value;\n                        workoutData = workoutDoc.data();\n                        workoutId = workoutDoc.id;\n                        // Parse workout data into the desired structure\n                        workout = new _workout_types__WEBPACK_IMPORTED_MODULE_3__.Workout({\n                            id: workoutData.id || \"\",\n                            roundWorkoutId: workoutData.roundWorkoutId || \"\",\n                            collectionId: workoutData.collectionId,\n                            exercises: workoutData.exercises || [],\n                            challenge: workoutData.challenge,\n                            logs: [],\n                            title: workoutData.title || \"\",\n                            description: workoutData.description || \"\",\n                            duration: workoutData.duration || 0,\n                            workoutRating: workoutData.workoutRating,\n                            useAuthorContent: workoutData.useAuthorContent || false,\n                            isCompleted: workoutData.isCompleted || false,\n                            workoutStatus: workoutData.workoutStatus || \"notStarted\",\n                            startTime: workoutData.startTime ? new Date(workoutData.startTime) : undefined,\n                            order: workoutData.order,\n                            author: workoutData.author || userId,\n                            createdAt: workoutData.createdAt ? new Date(workoutData.createdAt) : new Date(),\n                            updatedAt: workoutData.updatedAt ? new Date(workoutData.updatedAt) : new Date(),\n                            zone: workoutData.zone || \"FULL_BODY\"\n                        });\n                        // Fetch and process logs\n                        logsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", userId, \"MyCreatedWorkouts\", workoutId, \"logs\");\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(logsRef)\n                        ];\n                    case 5:\n                        logsSnapshot = _state.sent();\n                        workout.logs = logsSnapshot.docs.map(function(logDoc) {\n                            return (0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_10__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_11__._)({}, logDoc.data()), {\n                                id: logDoc.id\n                            });\n                        });\n                        workouts.push(workout);\n                        _state.label = 6;\n                    case 6:\n                        _iteratorNormalCompletion = true;\n                        return [\n                            3,\n                            4\n                        ];\n                    case 7:\n                        return [\n                            3,\n                            10\n                        ];\n                    case 8:\n                        err = _state.sent();\n                        _didIteratorError = true;\n                        _iteratorError = err;\n                        return [\n                            3,\n                            10\n                        ];\n                    case 9:\n                        try {\n                            if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n                                _iterator[\"return\"]();\n                            }\n                        } finally{\n                            if (_didIteratorError) {\n                                throw _iteratorError;\n                            }\n                        }\n                        return [\n                            7\n                        ];\n                    case 10:\n                        return [\n                            2,\n                            workouts\n                        ];\n                    case 11:\n                        error = _state.sent();\n                        firestoreError = error;\n                        console.error(\"Error fetching sweatlists:\", firestoreError.message);\n                        throw new Error(\"Failed to fetch sweatlists\");\n                    case 12:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    /**\n   * Fetches workout summaries for a specific date.\n   * @param date - The date for which workout summaries are being fetched.\n   * @returns A promise resolving to an array of workout summaries.\n   * @throws If no user is signed in or if the Firestore query fails.\n   */ _proto.fetchWorkoutSummaries = function fetchWorkoutSummaries(date) {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_8__._)(function() {\n            var currentUser, formattedDate, summariesRef, q, snapshot, error, firestoreError;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_9__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        currentUser = _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser;\n                        if (!(currentUser === null || currentUser === void 0 ? void 0 : currentUser.id)) {\n                            throw new Error(\"No user is signed in\");\n                        }\n                        // Format the date to match the format in Firestore ('MM-dd-yyyy')\n                        formattedDate = (0,_barrel_optimize_names_format_date_fns__WEBPACK_IMPORTED_MODULE_12__.format)(date, \"MM-dd-yyyy\");\n                        // Reference to the user's workoutSummaries subcollection\n                        summariesRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", currentUser.id, \"workoutSummaries\");\n                        // Create a query to filter documents by the specified date\n                        q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(summariesRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"date\", \"==\", formattedDate));\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            3,\n                            ,\n                            4\n                        ]);\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q)\n                        ];\n                    case 2:\n                        snapshot = _state.sent();\n                        // Map the documents to an array of WorkoutSummary objects\n                        return [\n                            2,\n                            snapshot.docs.map(function(doc) {\n                                return (0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_11__._)({\n                                    id: doc.id\n                                }, doc.data());\n                            })\n                        ];\n                    case 3:\n                        error = _state.sent();\n                        firestoreError = error;\n                        console.error(\"Error fetching workout summaries:\", firestoreError.message);\n                        throw new Error(firestoreError.message);\n                    case 4:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    _proto.fetchAllWorkoutSummaries = function fetchAllWorkoutSummaries() {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_8__._)(function() {\n            var currentUser, summariesRef, q, snapshot, error, firestoreError;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_9__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        currentUser = _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser;\n                        if (!(currentUser === null || currentUser === void 0 ? void 0 : currentUser.id)) {\n                            throw new Error(\"No user is signed in\");\n                        }\n                        // Reference to the user's workoutSummaries subcollection\n                        summariesRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", currentUser.id, \"workoutSummary\");\n                        // Query to retrieve all workout summaries, sorted by `createdAt` in ascending order\n                        q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(summariesRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.orderBy)(\"createdAt\", \"asc\")); // Adjust field name based on your schema\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            3,\n                            ,\n                            4\n                        ]);\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q)\n                        ];\n                    case 2:\n                        snapshot = _state.sent();\n                        // Map the documents to an array of WorkoutSummary objects\n                        return [\n                            2,\n                            snapshot.docs.map(function(doc) {\n                                return (0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_11__._)({\n                                    id: doc.id\n                                }, doc.data());\n                            })\n                        ];\n                    case 3:\n                        error = _state.sent();\n                        firestoreError = error;\n                        console.error(\"Error fetching all workout summaries:\", firestoreError.message);\n                        throw new Error(firestoreError.message);\n                    case 4:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    /**\n * Fetch user challenges by userId.\n * @param userId The ID of the user to fetch challenges for.\n * @returns A promise resolving to an array of user challenges.\n * @throws If the Firestore query fails.\n */ _proto.fetchUserChallengesByUserId = function fetchUserChallengesByUserId(userId) {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_8__._)(function() {\n            var userChallengesRef, q, snapshot, userChallenges, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_9__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        userChallengesRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"user-challenge\");\n                        q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(userChallengesRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"userId\", \"==\", userId));\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            3,\n                            ,\n                            4\n                        ]);\n                        console.log(\"Fetching challenges for user ID: \".concat(userId));\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q)\n                        ];\n                    case 2:\n                        snapshot = _state.sent();\n                        console.log(\"Total challenges fetched: \".concat(snapshot.docs.length));\n                        userChallenges = snapshot.docs.map(function(doc) {\n                            var data = doc.data();\n                            console.log(\"Processing challenge with ID: \".concat(doc.id), data);\n                            return (0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_10__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_11__._)({\n                                id: doc.id\n                            }, data), {\n                                challenge: data.challenge ? new _types_ChallengeTypes__WEBPACK_IMPORTED_MODULE_6__.Challenge({\n                                    id: data.challenge.id,\n                                    title: data.challenge.title,\n                                    subtitle: data.challenge.subtitle,\n                                    participants: data.challenge.participants || [],\n                                    status: data.challenge.status,\n                                    startDate: data.challenge.startDate ? new Date(data.challenge.startDate) : new Date(),\n                                    endDate: data.challenge.endDate ? new Date(data.challenge.endDate) : new Date(),\n                                    createdAt: data.challenge.createdAt ? new Date(data.challenge.createdAt) : new Date(),\n                                    updatedAt: data.challenge.updatedAt ? new Date(data.challenge.updatedAt) : new Date(),\n                                    introVideoURL: data.challenge.introVideoURL || \"\"\n                                }) : undefined,\n                                createdAt: (0,_utils_timestamp__WEBPACK_IMPORTED_MODULE_4__.convertTimestamp)(data.createdAt),\n                                updatedAt: (0,_utils_timestamp__WEBPACK_IMPORTED_MODULE_4__.convertTimestamp)(data.updatedAt)\n                            });\n                        });\n                        console.log(\"All challenges after processing:\", JSON.stringify(userChallenges, null, 2));\n                        return [\n                            2,\n                            userChallenges\n                        ];\n                    case 3:\n                        error = _state.sent();\n                        console.error(\"Error fetching user challenges by userId:\", error);\n                        throw error;\n                    case 4:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    _proto.fetchCollectionWithSweatLists = function fetchCollectionWithSweatLists(collectionId) {\n        var _this = this;\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_8__._)(function() {\n            var collection, sweatLists, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, sweatlistIdentifier, _ref, workout, error, err, error1;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_9__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        _state.trys.push([\n                            0,\n                            12,\n                            ,\n                            13\n                        ]);\n                        return [\n                            4,\n                            _this.getCollectionById(collectionId)\n                        ];\n                    case 1:\n                        collection = _state.sent();\n                        // Fetch sweat lists (workouts)\n                        sweatLists = [];\n                        _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n                        _state.label = 2;\n                    case 2:\n                        _state.trys.push([\n                            2,\n                            9,\n                            10,\n                            11\n                        ]);\n                        _iterator = (collection.sweatlistIds || [])[Symbol.iterator]();\n                        _state.label = 3;\n                    case 3:\n                        if (!!(_iteratorNormalCompletion = (_step = _iterator.next()).done)) return [\n                            3,\n                            8\n                        ];\n                        sweatlistIdentifier = _step.value;\n                        _state.label = 4;\n                    case 4:\n                        _state.trys.push([\n                            4,\n                            6,\n                            ,\n                            7\n                        ]);\n                        return [\n                            4,\n                            _this.fetchSavedWorkout(sweatlistIdentifier.sweatlistAuthorId, sweatlistIdentifier.id)\n                        ];\n                    case 5:\n                        _ref = _swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_13__._.apply(void 0, [\n                            _state.sent(),\n                            1\n                        ]), workout = _ref[0];\n                        if (workout) {\n                            sweatLists.push(workout);\n                        }\n                        return [\n                            3,\n                            7\n                        ];\n                    case 6:\n                        error = _state.sent();\n                        console.error(\"Error fetching workout \".concat(sweatlistIdentifier.id, \":\"), error);\n                        return [\n                            3,\n                            7\n                        ];\n                    case 7:\n                        _iteratorNormalCompletion = true;\n                        return [\n                            3,\n                            3\n                        ];\n                    case 8:\n                        return [\n                            3,\n                            11\n                        ];\n                    case 9:\n                        err = _state.sent();\n                        _didIteratorError = true;\n                        _iteratorError = err;\n                        return [\n                            3,\n                            11\n                        ];\n                    case 10:\n                        try {\n                            if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n                                _iterator[\"return\"]();\n                            }\n                        } finally{\n                            if (_didIteratorError) {\n                                throw _iteratorError;\n                            }\n                        }\n                        return [\n                            7\n                        ];\n                    case 11:\n                        return [\n                            2,\n                            {\n                                collection: collection,\n                                sweatLists: sweatLists\n                            }\n                        ];\n                    case 12:\n                        error1 = _state.sent();\n                        console.error(\"Error fetching collection with sweat lists:\", error1);\n                        throw error1;\n                    case 13:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    // Optional helper methods for parsing if needed\n    _proto.parseWorkoutData = function parseWorkoutData(data) {\n        var _data_createdAt, _data_updatedAt;\n        return new _workout_types__WEBPACK_IMPORTED_MODULE_3__.Workout({\n            id: data.id || \"\",\n            roundWorkoutId: data.roundWorkoutId || \"\",\n            collectionId: data.collectionId || [],\n            exercises: data.exercises || [],\n            challenge: data.challenge ? new _types_ChallengeTypes__WEBPACK_IMPORTED_MODULE_6__.Challenge({\n                id: data.challenge.id,\n                title: data.challenge.title,\n                subtitle: data.challenge.subtitle,\n                participants: data.challenge.participants || [],\n                status: data.challenge.status,\n                startDate: data.challenge.startDate instanceof Date ? data.challenge.startDate : data.challenge.startDate ? new Date(data.challenge.startDate) : new Date(),\n                endDate: data.challenge.endDate instanceof Date ? data.challenge.endDate : data.challenge.endDate ? new Date(data.challenge.endDate) : new Date(),\n                createdAt: data.challenge.createdAt instanceof Date ? data.challenge.createdAt : data.challenge.createdAt ? new Date(data.challenge.createdAt) : new Date(),\n                updatedAt: data.challenge.updatedAt instanceof Date ? data.challenge.updatedAt : data.challenge.updatedAt ? new Date(data.challenge.updatedAt) : new Date(),\n                introVideoURL: data.challenge.introVideoURL || \"\"\n            }) : undefined,\n            logs: data.logs || [],\n            title: data.title || \"\",\n            description: data.description || \"\",\n            duration: data.duration || 0,\n            workoutRating: data.workoutRating,\n            useAuthorContent: data.useAuthorContent || false,\n            isCompleted: data.isCompleted || false,\n            workoutStatus: data.workoutStatus || _workout_types__WEBPACK_IMPORTED_MODULE_3__.WorkoutStatus.QueuedUp,\n            startTime: data.startTime instanceof Date ? data.startTime : data.startTime ? new Date(data.startTime) : undefined,\n            order: data.order || 0,\n            author: data.author || \"\",\n            createdAt: data.createdAt instanceof Date ? data.createdAt : typeof ((_data_createdAt = data.createdAt) === null || _data_createdAt === void 0 ? void 0 : _data_createdAt.toDate) === \"function\" ? data.createdAt.toDate() : data.createdAt ? new Date(data.createdAt) : new Date(),\n            updatedAt: data.updatedAt instanceof Date ? data.updatedAt : typeof ((_data_updatedAt = data.updatedAt) === null || _data_updatedAt === void 0 ? void 0 : _data_updatedAt.toDate) === \"function\" ? data.updatedAt.toDate() : data.updatedAt ? new Date(data.updatedAt) : new Date(),\n            zone: data.zone || _workout_types__WEBPACK_IMPORTED_MODULE_3__.BodyZone.FullBody,\n            estimatedDuration: function() {\n                return data.duration || 0;\n            },\n            determineWorkoutZone: function() {\n                return data.zone || _workout_types__WEBPACK_IMPORTED_MODULE_3__.BodyZone.FullBody;\n            },\n            toDictionary: function() {\n                return {} // Placeholder, implement as needed\n                ;\n            }\n        });\n    };\n    _proto.parseExerciseLogData = function parseExerciseLogData(data) {\n        var _data_createdAt, _data_updatedAt;\n        return {\n            id: data.id || \"\",\n            workoutId: data.workoutId || \"\",\n            userId: data.userId || \"\",\n            exercise: data.exercise ? this.parseExercise(data.exercise) : undefined,\n            logs: (data.log || []).map(function(logEntry) {\n                return {\n                    reps: parseInt(logEntry.reps || \"0\"),\n                    weight: parseFloat(logEntry.weight || \"0\"),\n                    leftReps: parseInt(logEntry.leftReps || \"0\"),\n                    leftWeight: parseFloat(logEntry.leftWeight || \"0\"),\n                    isSplit: logEntry.isSplit || false,\n                    isBodyWeight: logEntry.isBodyWeight || false,\n                    isCompleted: logEntry.isCompleted || false,\n                    duration: parseInt(logEntry.duration || \"0\"),\n                    calories: parseInt(logEntry.calories || \"0\"),\n                    bpm: parseInt(logEntry.bpm || \"0\")\n                };\n            }),\n            feedback: data.feedback || \"\",\n            note: data.note || \"\",\n            recommendedWeight: data.recommendedWeight,\n            isSplit: data.isSplit || false,\n            isBodyWeight: data.isBodyWeight || false,\n            logSubmitted: data.logSubmitted || false,\n            logIsEditing: data.logIsEditing || false,\n            isCompleted: data.isCompleted || false,\n            createdAt: data.createdAt instanceof Date ? data.createdAt : typeof ((_data_createdAt = data.createdAt) === null || _data_createdAt === void 0 ? void 0 : _data_createdAt.toDate) === \"function\" ? data.createdAt.toDate() : data.createdAt ? new Date(data.createdAt) : new Date(),\n            updatedAt: data.updatedAt instanceof Date ? data.updatedAt : typeof ((_data_updatedAt = data.updatedAt) === null || _data_updatedAt === void 0 ? void 0 : _data_updatedAt.toDate) === \"function\" ? data.updatedAt.toDate() : data.updatedAt ? new Date(data.updatedAt) : new Date()\n        };\n    };\n    // You'll also need to implement parseExercise similar to the original implementation\n    _proto.parseExercise = function parseExercise(fields) {\n        var _fields_id, _fields_name, _fields_category_mapValue, _fields_category, _fields_tags_arrayValue, _fields_tags, _fields_description, _fields_visibility_arrayValue, _fields_visibility, _fields_steps_arrayValue, _fields_steps, _fields_currentVideoPosition, _fields_reps, _fields_sets, _fields_weight, _fields_author_mapValue, _fields_author, _fields_createdAt, _fields_updatedAt;\n        return {\n            id: ((_fields_id = fields.id) === null || _fields_id === void 0 ? void 0 : _fields_id.stringValue) || fields.id || \"\",\n            name: ((_fields_name = fields.name) === null || _fields_name === void 0 ? void 0 : _fields_name.stringValue) || fields.name || \"\",\n            category: this.parseExerciseCategory(((_fields_category = fields.category) === null || _fields_category === void 0 ? void 0 : (_fields_category_mapValue = _fields_category.mapValue) === null || _fields_category_mapValue === void 0 ? void 0 : _fields_category_mapValue.fields) || fields.category || {}),\n            primaryBodyParts: this.parseBodyParts(fields.primaryBodyParts),\n            secondaryBodyParts: this.parseBodyParts(fields.secondaryBodyParts),\n            tags: (((_fields_tags = fields.tags) === null || _fields_tags === void 0 ? void 0 : (_fields_tags_arrayValue = _fields_tags.arrayValue) === null || _fields_tags_arrayValue === void 0 ? void 0 : _fields_tags_arrayValue.values) || fields.tags || []).map(function(tag) {\n                return tag.stringValue || tag;\n            }),\n            description: ((_fields_description = fields.description) === null || _fields_description === void 0 ? void 0 : _fields_description.stringValue) || fields.description || \"\",\n            visibility: (((_fields_visibility = fields.visibility) === null || _fields_visibility === void 0 ? void 0 : (_fields_visibility_arrayValue = _fields_visibility.arrayValue) === null || _fields_visibility_arrayValue === void 0 ? void 0 : _fields_visibility_arrayValue.values) || fields.visibility || []).map(function(v) {\n                return v.stringValue || v;\n            }),\n            steps: (((_fields_steps = fields.steps) === null || _fields_steps === void 0 ? void 0 : (_fields_steps_arrayValue = _fields_steps.arrayValue) === null || _fields_steps_arrayValue === void 0 ? void 0 : _fields_steps_arrayValue.values) || fields.steps || []).map(function(step) {\n                return step.stringValue || step;\n            }),\n            videos: this.parseVideos(fields.videos),\n            currentVideoPosition: parseInt(((_fields_currentVideoPosition = fields.currentVideoPosition) === null || _fields_currentVideoPosition === void 0 ? void 0 : _fields_currentVideoPosition.integerValue) || fields.currentVideoPosition || \"0\"),\n            reps: ((_fields_reps = fields.reps) === null || _fields_reps === void 0 ? void 0 : _fields_reps.stringValue) || fields.reps || \"\",\n            sets: parseInt(((_fields_sets = fields.sets) === null || _fields_sets === void 0 ? void 0 : _fields_sets.integerValue) || fields.sets || \"0\"),\n            weight: parseFloat(((_fields_weight = fields.weight) === null || _fields_weight === void 0 ? void 0 : _fields_weight.doubleValue) || fields.weight || \"0\"),\n            author: this.parseExerciseAuthor(((_fields_author = fields.author) === null || _fields_author === void 0 ? void 0 : (_fields_author_mapValue = _fields_author.mapValue) === null || _fields_author_mapValue === void 0 ? void 0 : _fields_author_mapValue.fields) || fields.author || {}),\n            createdAt: new Date(parseFloat(((_fields_createdAt = fields.createdAt) === null || _fields_createdAt === void 0 ? void 0 : _fields_createdAt.doubleValue) || fields.createdAt || \"0\") * 1000),\n            updatedAt: new Date(parseFloat(((_fields_updatedAt = fields.updatedAt) === null || _fields_updatedAt === void 0 ? void 0 : _fields_updatedAt.doubleValue) || fields.updatedAt || \"0\") * 1000)\n        };\n    };\n    // You'll need to implement these helper methods as well\n    _proto.parseExerciseCategory = function parseExerciseCategory(fields) {\n        var _fields_id;\n        // Implementation similar to the original service\n        var categoryId = ((_fields_id = fields.id) === null || _fields_id === void 0 ? void 0 : _fields_id.stringValue) || fields.id || \"\";\n        if (categoryId === \"cardio\") {\n            var _fields_duration, _fields_bpm, _fields_calories, _fields_screenTime, _fields_selectedVideo_mapValue, _fields_selectedVideo;\n            return {\n                type: \"cardio\",\n                details: {\n                    duration: parseInt(((_fields_duration = fields.duration) === null || _fields_duration === void 0 ? void 0 : _fields_duration.integerValue) || fields.duration || \"0\"),\n                    bpm: parseInt(((_fields_bpm = fields.bpm) === null || _fields_bpm === void 0 ? void 0 : _fields_bpm.integerValue) || fields.bpm || \"0\"),\n                    calories: parseInt(((_fields_calories = fields.calories) === null || _fields_calories === void 0 ? void 0 : _fields_calories.integerValue) || fields.calories || \"0\"),\n                    screenTime: parseInt(((_fields_screenTime = fields.screenTime) === null || _fields_screenTime === void 0 ? void 0 : _fields_screenTime.integerValue) || fields.screenTime || \"0\"),\n                    selectedVideo: this.parseExerciseVideo(((_fields_selectedVideo = fields.selectedVideo) === null || _fields_selectedVideo === void 0 ? void 0 : (_fields_selectedVideo_mapValue = _fields_selectedVideo.mapValue) === null || _fields_selectedVideo_mapValue === void 0 ? void 0 : _fields_selectedVideo_mapValue.fields) || fields.selectedVideo)\n                }\n            };\n        } else {\n            var _fields_reps, _fields_sets, _fields_weight, _fields_screenTime1, _fields_selectedVideo_mapValue1, _fields_selectedVideo1;\n            return {\n                type: \"weightTraining\",\n                details: {\n                    reps: ((_fields_reps = fields.reps) === null || _fields_reps === void 0 ? void 0 : _fields_reps.stringValue) || fields.reps || \"\",\n                    sets: parseInt(((_fields_sets = fields.sets) === null || _fields_sets === void 0 ? void 0 : _fields_sets.integerValue) || fields.sets || \"0\"),\n                    weight: parseFloat(((_fields_weight = fields.weight) === null || _fields_weight === void 0 ? void 0 : _fields_weight.doubleValue) || fields.weight || \"0\"),\n                    screenTime: parseInt(((_fields_screenTime1 = fields.screenTime) === null || _fields_screenTime1 === void 0 ? void 0 : _fields_screenTime1.integerValue) || fields.screenTime || \"0\"),\n                    selectedVideo: this.parseExerciseVideo(((_fields_selectedVideo1 = fields.selectedVideo) === null || _fields_selectedVideo1 === void 0 ? void 0 : (_fields_selectedVideo_mapValue1 = _fields_selectedVideo1.mapValue) === null || _fields_selectedVideo_mapValue1 === void 0 ? void 0 : _fields_selectedVideo_mapValue1.fields) || fields.selectedVideo)\n                }\n            };\n        }\n    };\n    _proto.parseBodyParts = function parseBodyParts(bodyPartsField) {\n        var _bodyPartsField_arrayValue;\n        var bodyPartsArray = (bodyPartsField === null || bodyPartsField === void 0 ? void 0 : (_bodyPartsField_arrayValue = bodyPartsField.arrayValue) === null || _bodyPartsField_arrayValue === void 0 ? void 0 : _bodyPartsField_arrayValue.values) || bodyPartsField || [];\n        return bodyPartsArray.map(function(part) {\n            return part.stringValue || part;\n        });\n    };\n    _proto.parseVideos = function parseVideos(videosField) {\n        var _this = this;\n        var _videosField_arrayValue;\n        var videosArray = (videosField === null || videosField === void 0 ? void 0 : (_videosField_arrayValue = videosField.arrayValue) === null || _videosField_arrayValue === void 0 ? void 0 : _videosField_arrayValue.values) || videosField || [];\n        return videosArray.map(function(videoData) {\n            var _videoData_mapValue;\n            return _this.parseExerciseVideo(((_videoData_mapValue = videoData.mapValue) === null || _videoData_mapValue === void 0 ? void 0 : _videoData_mapValue.fields) || videoData);\n        });\n    };\n    _proto.parseExerciseVideo = function parseExerciseVideo(fields) {\n        var _fields_id, _fields_exerciseId, _fields_username, _fields_userId, _fields_videoURL, _fields_fileName, _fields_exercise, _fields_profileImage_mapValue, _fields_profileImage, _fields_caption, _fields_gifURL, _fields_thumbnail, _fields_visibility, _fields_totalAccountsReached, _fields_totalAccountLikes, _fields_totalAccountBookmarked, _fields_totalAccountUsage, _fields_isApproved, _fields_liked, _fields_bookmarked, _fields_createdAt, _fields_updatedAt;\n        return {\n            id: ((_fields_id = fields.id) === null || _fields_id === void 0 ? void 0 : _fields_id.stringValue) || fields.id || \"\",\n            exerciseId: ((_fields_exerciseId = fields.exerciseId) === null || _fields_exerciseId === void 0 ? void 0 : _fields_exerciseId.stringValue) || fields.exerciseId || \"\",\n            username: ((_fields_username = fields.username) === null || _fields_username === void 0 ? void 0 : _fields_username.stringValue) || fields.username || \"\",\n            userId: ((_fields_userId = fields.userId) === null || _fields_userId === void 0 ? void 0 : _fields_userId.stringValue) || fields.userId || \"\",\n            videoURL: ((_fields_videoURL = fields.videoURL) === null || _fields_videoURL === void 0 ? void 0 : _fields_videoURL.stringValue) || fields.videoURL || \"\",\n            fileName: ((_fields_fileName = fields.fileName) === null || _fields_fileName === void 0 ? void 0 : _fields_fileName.stringValue) || fields.fileName || \"\",\n            exercise: ((_fields_exercise = fields.exercise) === null || _fields_exercise === void 0 ? void 0 : _fields_exercise.stringValue) || fields.exercise || \"\",\n            profileImage: this.parseProfileImage(((_fields_profileImage = fields.profileImage) === null || _fields_profileImage === void 0 ? void 0 : (_fields_profileImage_mapValue = _fields_profileImage.mapValue) === null || _fields_profileImage_mapValue === void 0 ? void 0 : _fields_profileImage_mapValue.fields) || fields.profileImage || {}),\n            caption: ((_fields_caption = fields.caption) === null || _fields_caption === void 0 ? void 0 : _fields_caption.stringValue) || fields.caption || \"\",\n            gifURL: ((_fields_gifURL = fields.gifURL) === null || _fields_gifURL === void 0 ? void 0 : _fields_gifURL.stringValue) || fields.gifURL || \"\",\n            thumbnail: ((_fields_thumbnail = fields.thumbnail) === null || _fields_thumbnail === void 0 ? void 0 : _fields_thumbnail.stringValue) || fields.thumbnail || \"\",\n            visibility: ((_fields_visibility = fields.visibility) === null || _fields_visibility === void 0 ? void 0 : _fields_visibility.stringValue) || fields.visibility || \"open\",\n            totalAccountsReached: parseInt(((_fields_totalAccountsReached = fields.totalAccountsReached) === null || _fields_totalAccountsReached === void 0 ? void 0 : _fields_totalAccountsReached.integerValue) || fields.totalAccountsReached || \"0\"),\n            totalAccountLikes: parseInt(((_fields_totalAccountLikes = fields.totalAccountLikes) === null || _fields_totalAccountLikes === void 0 ? void 0 : _fields_totalAccountLikes.integerValue) || fields.totalAccountLikes || \"0\"),\n            totalAccountBookmarked: parseInt(((_fields_totalAccountBookmarked = fields.totalAccountBookmarked) === null || _fields_totalAccountBookmarked === void 0 ? void 0 : _fields_totalAccountBookmarked.integerValue) || fields.totalAccountBookmarked || \"0\"),\n            totalAccountUsage: parseInt(((_fields_totalAccountUsage = fields.totalAccountUsage) === null || _fields_totalAccountUsage === void 0 ? void 0 : _fields_totalAccountUsage.integerValue) || fields.totalAccountUsage || \"0\"),\n            isApproved: ((_fields_isApproved = fields.isApproved) === null || _fields_isApproved === void 0 ? void 0 : _fields_isApproved.booleanValue) || fields.isApproved || false,\n            liked: ((_fields_liked = fields.liked) === null || _fields_liked === void 0 ? void 0 : _fields_liked.booleanValue) || fields.liked,\n            bookmarked: ((_fields_bookmarked = fields.bookmarked) === null || _fields_bookmarked === void 0 ? void 0 : _fields_bookmarked.booleanValue) || fields.bookmarked,\n            createdAt: new Date(parseFloat(((_fields_createdAt = fields.createdAt) === null || _fields_createdAt === void 0 ? void 0 : _fields_createdAt.doubleValue) || fields.createdAt || \"0\") * 1000),\n            updatedAt: new Date(parseFloat(((_fields_updatedAt = fields.updatedAt) === null || _fields_updatedAt === void 0 ? void 0 : _fields_updatedAt.doubleValue) || fields.updatedAt || \"0\") * 1000)\n        };\n    };\n    _proto.parseProfileImage = function parseProfileImage(fields) {\n        var _fields_profileImageURL, _fields_imageOffsetWidth, _fields_imageOffsetHeight;\n        return {\n            profileImageURL: ((_fields_profileImageURL = fields.profileImageURL) === null || _fields_profileImageURL === void 0 ? void 0 : _fields_profileImageURL.stringValue) || fields.profileImageURL || \"\",\n            imageOffsetWidth: parseFloat(((_fields_imageOffsetWidth = fields.imageOffsetWidth) === null || _fields_imageOffsetWidth === void 0 ? void 0 : _fields_imageOffsetWidth.doubleValue) || fields.imageOffsetWidth || \"0\"),\n            imageOffsetHeight: parseFloat(((_fields_imageOffsetHeight = fields.imageOffsetHeight) === null || _fields_imageOffsetHeight === void 0 ? void 0 : _fields_imageOffsetHeight.doubleValue) || fields.imageOffsetHeight || \"0\")\n        };\n    };\n    _proto.parseExerciseAuthor = function parseExerciseAuthor(fields) {\n        var _fields_userId, _fields_username;\n        return {\n            userId: ((_fields_userId = fields.userId) === null || _fields_userId === void 0 ? void 0 : _fields_userId.stringValue) || fields.userId || \"\",\n            username: ((_fields_username = fields.username) === null || _fields_username === void 0 ? void 0 : _fields_username.stringValue) || fields.username || \"\"\n        };\n    };\n    _proto.fetchSavedWorkout = function fetchSavedWorkout(userId, workoutId) {\n        var _this = this;\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_8__._)(function() {\n            var workoutRef, workoutSnap, workoutData, workout, logsRef, logsSnapshot, logs, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_9__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        _state.trys.push([\n                            0,\n                            3,\n                            ,\n                            4\n                        ]);\n                        // Fetch the workout document\n                        workoutRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", userId, \"MyCreatedWorkouts\", workoutId);\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(workoutRef)\n                        ];\n                    case 1:\n                        workoutSnap = _state.sent();\n                        if (!workoutSnap.exists()) {\n                            return [\n                                2,\n                                [\n                                    null,\n                                    null\n                                ]\n                            ];\n                        }\n                        workoutData = workoutSnap.data();\n                        workout = _this.parseWorkoutData(workoutData || {});\n                        // Fetch logs subcollection\n                        logsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", userId, \"MyCreatedWorkouts\", workoutId, \"logs\");\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(logsRef)\n                        ];\n                    case 2:\n                        logsSnapshot = _state.sent();\n                        logs = logsSnapshot.docs.map(function(logDoc) {\n                            var _logData_createdAt, _logData_updatedAt;\n                            var logData = logDoc.data();\n                            return {\n                                id: logDoc.id,\n                                workoutId: workoutId,\n                                userId: userId,\n                                exercise: logData.exercise,\n                                logs: logData.log || [],\n                                feedback: logData.feedback || \"\",\n                                note: logData.note || \"\",\n                                recommendedWeight: logData.recommendedWeight,\n                                isSplit: logData.isSplit || false,\n                                isBodyWeight: logData.isBodyWeight || false,\n                                logSubmitted: logData.logSubmitted || false,\n                                logIsEditing: logData.logIsEditing || false,\n                                isCompleted: logData.isCompleted || false,\n                                createdAt: logData.createdAt instanceof Date ? logData.createdAt : typeof ((_logData_createdAt = logData.createdAt) === null || _logData_createdAt === void 0 ? void 0 : _logData_createdAt.toDate) === \"function\" ? logData.createdAt.toDate() : logData.createdAt ? new Date(logData.createdAt) : new Date(),\n                                updatedAt: logData.updatedAt instanceof Date ? logData.updatedAt : typeof ((_logData_updatedAt = logData.updatedAt) === null || _logData_updatedAt === void 0 ? void 0 : _logData_updatedAt.toDate) === \"function\" ? logData.updatedAt.toDate() : logData.updatedAt ? new Date(logData.updatedAt) : new Date()\n                            };\n                        });\n                        // Update workout logs\n                        workout.logs = logs;\n                        return [\n                            2,\n                            [\n                                workout,\n                                logs\n                            ]\n                        ];\n                    case 3:\n                        error = _state.sent();\n                        console.error(\"Error fetching saved workout:\", error);\n                        return [\n                            2,\n                            [\n                                null,\n                                null\n                            ]\n                        ];\n                    case 4:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    /**\n * Fetch user challenges by challengeId.\n * @param challengeId The ID of the challenge to fetch associated user challenges for.\n * @returns A promise resolving to an array of user challenges.\n * @throws If the Firestore query fails.\n */ _proto.fetchUserChallengesByChallengeId = function fetchUserChallengesByChallengeId(challengeId) {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_8__._)(function() {\n            var userChallengesRef, q, snapshot, userChallenges, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_9__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        userChallengesRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"user-challenge\");\n                        q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(userChallengesRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"challengeId\", \"==\", challengeId));\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            3,\n                            ,\n                            4\n                        ]);\n                        console.log(\"Fetching user challenges for challenge ID: \".concat(challengeId));\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q)\n                        ];\n                    case 2:\n                        snapshot = _state.sent();\n                        console.log(\"Total user challenges fetched: \".concat(snapshot.docs.length));\n                        userChallenges = snapshot.docs.map(function(doc) {\n                            var data = doc.data();\n                            console.log(\"Processing user challenge with ID: \".concat(doc.id), data);\n                            return (0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_10__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_11__._)({\n                                id: doc.id\n                            }, data), {\n                                challenge: data.challenge ? new _types_ChallengeTypes__WEBPACK_IMPORTED_MODULE_6__.Challenge({\n                                    id: data.challenge.id,\n                                    title: data.challenge.title,\n                                    subtitle: data.challenge.subtitle,\n                                    participants: data.challenge.participants || [],\n                                    status: data.challenge.status,\n                                    startDate: data.challenge.startDate ? new Date(data.challenge.startDate) : new Date(),\n                                    endDate: data.challenge.endDate ? new Date(data.challenge.endDate) : new Date(),\n                                    createdAt: data.challenge.createdAt ? new Date(data.challenge.createdAt) : new Date(),\n                                    updatedAt: data.challenge.updatedAt ? new Date(data.challenge.updatedAt) : new Date(),\n                                    introVideoURL: data.challenge.introVideoURL || \"\"\n                                }) : undefined,\n                                createdAt: (0,_utils_timestamp__WEBPACK_IMPORTED_MODULE_4__.convertTimestamp)(data.createdAt),\n                                updatedAt: (0,_utils_timestamp__WEBPACK_IMPORTED_MODULE_4__.convertTimestamp)(data.updatedAt)\n                            });\n                        });\n                        console.log(\"All user challenges after processing:\", JSON.stringify(userChallenges, null, 2));\n                        return [\n                            2,\n                            userChallenges\n                        ];\n                    case 3:\n                        error = _state.sent();\n                        console.error(\"Error fetching user challenges by challengeId:\", error);\n                        throw error;\n                    case 4:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    _proto.getCollectionById = function getCollectionById(id) {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_8__._)(function() {\n            var docRef, docSnap, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_9__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        _state.trys.push([\n                            0,\n                            2,\n                            ,\n                            3\n                        ]);\n                        docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"sweatlist-collection\", id);\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(docRef)\n                        ];\n                    case 1:\n                        docSnap = _state.sent();\n                        if (docSnap.exists()) {\n                            return [\n                                2,\n                                (0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_11__._)({\n                                    id: docSnap.id\n                                }, docSnap.data())\n                            ];\n                        } else {\n                            throw new Error(\"Collection not found\");\n                        }\n                        return [\n                            3,\n                            3\n                        ];\n                    case 2:\n                        error = _state.sent();\n                        console.error(\"Error getting collection by ID:\", error);\n                        throw error;\n                    case 3:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    /**\n   * Fetch user challenges by userId and filter for active challenges.\n   * @returns A promise resolving to an array of active challenges.\n   * @throws If no user is signed in or if the Firestore query fails.\n   */ _proto.fetchActiveChallenges = function fetchActiveChallenges() {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_8__._)(function() {\n            var currentUser, userChallengesRef, q, snapshot, allChallenges, activeChallenges, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_9__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        currentUser = _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser;\n                        if (!(currentUser === null || currentUser === void 0 ? void 0 : currentUser.id)) {\n                            throw new Error(\"No user is signed in\");\n                        }\n                        userChallengesRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"user-challenge\");\n                        q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(userChallengesRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"userId\", \"==\", currentUser.id));\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            3,\n                            ,\n                            4\n                        ]);\n                        console.log(\"Fetching challenges for user ID: \".concat(currentUser.id));\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q)\n                        ];\n                    case 2:\n                        snapshot = _state.sent();\n                        console.log(\"Total challenges fetched: \".concat(snapshot.docs.length));\n                        allChallenges = snapshot.docs.map(function(doc) {\n                            var data = doc.data();\n                            console.log(\"Processing challenge with ID: \".concat(doc.id), data);\n                            // Use the Challenge constructor to parse the challenge data\n                            var challenge = data.challenge ? new _types_ChallengeTypes__WEBPACK_IMPORTED_MODULE_6__.Challenge({\n                                id: data.challenge.id,\n                                title: data.challenge.title,\n                                subtitle: data.challenge.subtitle,\n                                participants: data.challenge.participants || [],\n                                status: data.challenge.status,\n                                startDate: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_5__.formatDate)(data.challenge.startDate),\n                                endDate: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_5__.formatDate)(data.challenge.endDate),\n                                createdAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_5__.formatDate)(data.challenge.createdAt),\n                                updatedAt: (0,_utils_formatDate__WEBPACK_IMPORTED_MODULE_5__.formatDate)(data.challenge.updatedAt),\n                                introVideoURL: data.challenge.introVideoURL || \"\"\n                            }) : undefined;\n                            return (0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_10__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_11__._)({\n                                id: doc.id\n                            }, data), {\n                                challenge: challenge,\n                                createdAt: (0,_utils_timestamp__WEBPACK_IMPORTED_MODULE_4__.convertTimestamp)(data.createdAt) || new Date(),\n                                updatedAt: (0,_utils_timestamp__WEBPACK_IMPORTED_MODULE_4__.convertTimestamp)(data.updatedAt) || new Date()\n                            });\n                        });\n                        console.log(\"All challenges after processing:\", JSON.stringify(allChallenges, null, 2));\n                        // Filter for active challenges (endDate > current date)\n                        activeChallenges = allChallenges.filter(function(userChallenge) {\n                            var _userChallenge_challenge;\n                            var endDate = (_userChallenge_challenge = userChallenge.challenge) === null || _userChallenge_challenge === void 0 ? void 0 : _userChallenge_challenge.endDate;\n                            console.log(\"Evaluating challenge ID: \".concat(userChallenge.id, \", End Date: \").concat(endDate, \", Current Date: \").concat(new Date()));\n                            return endDate && endDate > new Date();\n                        });\n                        console.log(\"Total active challenges: \".concat(activeChallenges.length), activeChallenges);\n                        return [\n                            2,\n                            activeChallenges\n                        ];\n                    case 3:\n                        error = _state.sent();\n                        console.error(\"Error fetching active challenges:\", error);\n                        throw error;\n                    case 4:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    /**\n   * Fetch user challenges by userId.\n   * @returns A promise resolving to an array of challenges.\n   * @throws If no user is signed in or if the Firestore query fails.\n   */ _proto.fetchUserChallenges = function fetchUserChallenges() {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_8__._)(function() {\n            var currentUser, userChallengesRef, q, snapshot, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_9__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        currentUser = _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser;\n                        if (!(currentUser === null || currentUser === void 0 ? void 0 : currentUser.id)) {\n                            throw new Error(\"No user is signed in\");\n                        }\n                        // Reference to the user-challenge collection\n                        userChallengesRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"user-challenge\");\n                        // Query challenges where userId matches the current user's ID\n                        q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(userChallengesRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"userId\", \"==\", currentUser.id));\n                        _state.label = 1;\n                    case 1:\n                        _state.trys.push([\n                            1,\n                            3,\n                            ,\n                            4\n                        ]);\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q)\n                        ];\n                    case 2:\n                        snapshot = _state.sent();\n                        // Map documents to an array of Challenge objects\n                        return [\n                            2,\n                            snapshot.docs.map(function(doc) {\n                                return (0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_11__._)({\n                                    id: doc.id\n                                }, doc.data());\n                            })\n                        ];\n                    case 3:\n                        error = _state.sent();\n                        console.error(\"Error fetching user challenges:\", error);\n                        throw new Error(\"Failed to fetch user challenges\");\n                    case 4:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    /**\n   * Fetch the workout session from Firestore, returning { workout, logs }.\n   * Checks first for a QueuedUp session, then for InProgress.\n   */ _proto.fetchCurrentWorkoutSession = function fetchCurrentWorkoutSession() {\n        var _this = this;\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_8__._)(function() {\n            var currentUser, workoutSessionsRef, q, snap;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_9__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        currentUser = _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser;\n                        if (!(currentUser === null || currentUser === void 0 ? void 0 : currentUser.id)) {\n                            throw new Error(\"No user is signed in\");\n                        }\n                        // Reference to user's workoutSessions\n                        workoutSessionsRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\", currentUser.id, \"workoutSessions\");\n                        // 1) Check for QueuedUp\n                        q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(workoutSessionsRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"status\", \"==\", _workout_types__WEBPACK_IMPORTED_MODULE_3__.WorkoutStatus.QueuedUp));\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q)\n                        ];\n                    case 1:\n                        snap = _state.sent();\n                        if (!snap.empty) {\n                            return [\n                                2,\n                                _this.processWorkoutSessionDocument(snap.docs[0])\n                            ];\n                        }\n                        // 2) Check for InProgress\n                        q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(workoutSessionsRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"status\", \"==\", _workout_types__WEBPACK_IMPORTED_MODULE_3__.WorkoutStatus.InProgress));\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q)\n                        ];\n                    case 2:\n                        snap = _state.sent();\n                        if (!snap.empty) {\n                            return [\n                                2,\n                                _this.processWorkoutSessionDocument(snap.docs[0])\n                            ];\n                        }\n                        // None found\n                        return [\n                            2,\n                            {\n                                workout: null,\n                                logs: null\n                            }\n                        ];\n                }\n            });\n        })();\n    };\n    /**\n   * Helper to build the Workout object + any logs from the snapshot.\n   */ _proto.processWorkoutSessionDocument = function processWorkoutSessionDocument(workoutDoc) {\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_8__._)(function() {\n            var _data_createdAt, _data_updatedAt, data, _data_createdAt_toDate, _data_updatedAt_toDate, workout, logs;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_9__._)(this, function(_state) {\n                data = workoutDoc.data();\n                workout = (0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_10__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_11__._)({\n                    id: workoutDoc.id\n                }, data), {\n                    // Make sure to handle .toDate() if these fields are Firebase Timestamps\n                    createdAt: (_data_createdAt_toDate = (_data_createdAt = data.createdAt) === null || _data_createdAt === void 0 ? void 0 : _data_createdAt.toDate()) !== null && _data_createdAt_toDate !== void 0 ? _data_createdAt_toDate : new Date(),\n                    updatedAt: (_data_updatedAt_toDate = (_data_updatedAt = data.updatedAt) === null || _data_updatedAt === void 0 ? void 0 : _data_updatedAt.toDate()) !== null && _data_updatedAt_toDate !== void 0 ? _data_updatedAt_toDate : new Date()\n                });\n                // If you have logs embedded in the same doc or in a subcollection,\n                // fetch them here. For now, we return an empty array.\n                logs = [];\n                return [\n                    2,\n                    {\n                        workout: workout,\n                        logs: logs\n                    }\n                ];\n            });\n        })();\n    };\n    /**\n   * Example \"join challenge\" method using the client SDK (no admin privileges).\n   * This creates a doc in `user-challenge` with the userId, challengeId, etc.\n   */ _proto.joinChallenge = function joinChallenge(param) {\n        var username = param.username, challengeId = param.challengeId;\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_8__._)(function() {\n            var currentUser, usersRef, userQuery, userSnapshot, userDoc, userData, userId, challengeRef, challengeSnap, challenge, userChallengeId, userChallengeData;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_9__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        // 1) Make sure we have a signed-in user\n                        currentUser = _user__WEBPACK_IMPORTED_MODULE_2__.userService.currentUser;\n                        if (!currentUser) {\n                            throw new Error(\"No user is signed in\");\n                        }\n                        // 2) Find the user doc by username\n                        usersRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"users\");\n                        userQuery = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(usersRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"username\", \"==\", username));\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(userQuery)\n                        ];\n                    case 1:\n                        userSnapshot = _state.sent();\n                        if (userSnapshot.empty) {\n                            throw new Error(\"User not found\");\n                        }\n                        userDoc = userSnapshot.docs[0];\n                        userData = userDoc.data();\n                        userId = userDoc.id;\n                        // 3) Check if the challenge doc exists\n                        challengeRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"sweatlist-collection\", challengeId);\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(challengeRef)\n                        ];\n                    case 2:\n                        challengeSnap = _state.sent();\n                        if (!challengeSnap.exists()) {\n                            throw new Error(\"Challenge not found\");\n                        }\n                        challenge = challengeSnap.data();\n                        // 4) Build new user-challenge document\n                        userChallengeId = \"\".concat(challengeId, \"-\").concat(userId, \"-\").concat(Date.now());\n                        userChallengeData = {\n                            id: userChallengeId,\n                            challenge: challenge,\n                            challengeId: challengeId,\n                            userId: userId,\n                            fcmToken: userData.fcmToken || \"\",\n                            profileImage: userData.profileImage || {},\n                            progress: 0,\n                            completedWorkouts: [],\n                            isCompleted: false,\n                            uid: userId,\n                            location: userData.location || null,\n                            city: \"\",\n                            country: \"\",\n                            timezone: \"\",\n                            username: username,\n                            joinDate: new Date(),\n                            createdAt: new Date(),\n                            updatedAt: new Date(),\n                            pulsePoints: {\n                                baseCompletion: 0,\n                                firstCompletion: 0,\n                                streakBonus: 0,\n                                checkInBonus: 0,\n                                effortRating: 0,\n                                chatParticipation: 0,\n                                locationCheckin: 0,\n                                contentEngagement: 0,\n                                encouragementSent: 0,\n                                encouragementReceived: 0\n                            },\n                            currentStreak: 0,\n                            encouragedUsers: [],\n                            encouragedByUsers: [],\n                            checkIns: []\n                        };\n                        // 5) Store user-challenge doc\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"user-challenge\", userChallengeId), userChallengeData)\n                        ];\n                    case 3:\n                        _state.sent();\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    return WorkoutService;\n}();\nvar workoutService = new WorkoutService();\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYXBpL2ZpcmViYXNlL3dvcmtvdXQvc2VydmljZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsc0NBQXNDOzs7Ozs7O0FBWVY7QUFNRztBQUNPO0FBRytCO0FBQzdCO0FBQ047QUFDMEIsQ0FBQyx5QkFBeUI7QUFDL0I7QUFDb0I7QUFVM0UsbUNBQUs7O2FBQUNpQjsrRUFBQUE7YUFDSUMsaUJBQWlDOztpQkFEckNEO0lBR0o7O0dBRUMsR0FDRCxPQUFNRSxtQkFHTCxHQUhELFNBQU1BOztlQUFOO2dCQUNRQzs7Ozt3QkFBVTs7NEJBQU0sTUFBS0MsMEJBQTBCOzs7d0JBQS9DRCxVQUFVO3dCQUNoQjs7NEJBQU9BLFFBQVFFLE9BQU87Ozs7UUFDeEI7O0lBRUEsT0FBTUMsZ0JBMERMLEdBMURELFNBQU1BLGlCQUFpQkMsTUFBYztlQUFyQztnQkFNUUMsYUFJRUMsa0JBQ0FDLFVBR0QsZ0ZBQU1DLFlBQ0hDLGFBQ0FDLFdBR0FSLFNBdUJBUyxTQUNBQyxtQkFVREMsT0FDREM7Ozs7d0JBckRSLElBQUksQ0FBQ1YsUUFBUTs0QkFDWCxNQUFNLElBQUlXLE1BQU07d0JBQ2xCO3dCQUVBLDZDQUE2Qzt3QkFDdkNWLGNBQWN6Qiw4REFBVUEsQ0FBQ1EsdUNBQUVBLEVBQUUsU0FBU2dCLFFBQVE7Ozs7Ozs7Ozt3QkFJekI7OzRCQUFNdEIsMkRBQU9BLENBQUN1Qjs7O3dCQUFqQ0MsbUJBQW1CO3dCQUNuQkM7d0JBR0Q7Ozs7Ozs7Ozt3QkFBQSxZQUFvQkQsaUJBQWlCVSxJQUFJOzs7K0JBQXpDOzs7O3dCQUFNUixhQUFOO3dCQUNHQyxjQUFjRCxXQUFXUyxJQUFJO3dCQUM3QlAsWUFBWUYsV0FBV1UsRUFBRTt3QkFFL0IsZ0RBQWdEO3dCQUMxQ2hCLFVBQVUsSUFBSVosbURBQU9BLENBQUM7NEJBQzFCNEIsSUFBSVQsWUFBWVMsRUFBRSxJQUFJOzRCQUN0QkMsZ0JBQWdCVixZQUFZVSxjQUFjLElBQUk7NEJBQzlDQyxjQUFjWCxZQUFZVyxZQUFZOzRCQUN0Q0MsV0FBV1osWUFBWVksU0FBUzs0QkFDaENDLFdBQVdiLFlBQVlhLFNBQVM7NEJBQ2hDQyxJQUFJOzRCQUNKQyxPQUFPZixZQUFZZSxLQUFLLElBQUk7NEJBQzVCQyxhQUFhaEIsWUFBWWdCLFdBQVcsSUFBSTs0QkFDeENDLFVBQVVqQixZQUFZaUIsUUFBUSxJQUFJOzRCQUNsQ0MsZUFBZWxCLFlBQVlrQixhQUFhOzRCQUN4Q0Msa0JBQWtCbkIsWUFBWW1CLGdCQUFnQixJQUFJOzRCQUNsREMsYUFBYXBCLFlBQVlvQixXQUFXLElBQUk7NEJBQ3hDQyxlQUFlckIsWUFBWXFCLGFBQWEsSUFBSTs0QkFDNUNDLFdBQVd0QixZQUFZc0IsU0FBUyxHQUFHLElBQUlDLEtBQUt2QixZQUFZc0IsU0FBUyxJQUFJRTs0QkFDckVDLE9BQU96QixZQUFZeUIsS0FBSzs0QkFDeEJDLFFBQVExQixZQUFZMEIsTUFBTSxJQUFJL0I7NEJBQzlCZ0MsV0FBVzNCLFlBQVkyQixTQUFTLEdBQUcsSUFBSUosS0FBS3ZCLFlBQVkyQixTQUFTLElBQUksSUFBSUo7NEJBQ3pFSyxXQUFXNUIsWUFBWTRCLFNBQVMsR0FBRyxJQUFJTCxLQUFLdkIsWUFBWTRCLFNBQVMsSUFBSSxJQUFJTDs0QkFDekVNLE1BQU03QixZQUFZNkIsSUFBSSxJQUFJO3dCQUM1Qjt3QkFFQSx5QkFBeUI7d0JBQ25CM0IsVUFBVS9CLDhEQUFVQSxDQUFDUSx1Q0FBRUEsRUFBRSxTQUFTZ0IsUUFBUSxxQkFBcUJNLFdBQVc7d0JBQzNEOzs0QkFBTTVCLDJEQUFPQSxDQUFDNkI7Ozt3QkFBN0JDLGVBQWU7d0JBQ3JCVixRQUFRcUIsSUFBSSxHQUFHWCxhQUFhSSxJQUFJLENBQUN1QixHQUFHLENBQUMsU0FBQ0M7bUNBQVksd0lBQzdDQSxPQUFPdkIsSUFBSTtnQ0FDZEMsSUFBSXNCLE9BQU90QixFQUFFOzs7d0JBR2ZYLFNBQVNrQyxJQUFJLENBQUN2Qzs7O3dCQW5DWDs7Ozs7Ozs7Ozs7O3dCQUFBO3dCQUFBOzs7Ozs7O2lDQUFBO2dDQUFBOzs7Z0NBQUE7c0NBQUE7Ozs7Ozs7d0JBc0NMOzs0QkFBT0s7Ozt3QkFDQU07d0JBQ0RDLGlCQUFpQkQ7d0JBQ3ZCNkIsUUFBUTdCLEtBQUssQ0FBQyw4QkFBOEJDLGVBQWU2QixPQUFPO3dCQUNsRSxNQUFNLElBQUk1QixNQUFNOzs7Ozs7O1FBRXBCOztJQUVBOzs7OztHQUtDLEdBQ0QsT0FBTTZCLHFCQTRCTCxHQTVCRCxTQUFNQSxzQkFBc0JDLElBQVU7ZUFBdEM7Z0JBQ1FDLGFBTUFDLGVBR0FDLGNBR0FDLEdBR0VDLFVBT0NyQyxPQUNEQzs7Ozt3QkF2QkZnQyxjQUFjekQsOENBQVdBLENBQUN5RCxXQUFXO3dCQUMzQyxJQUFJLEVBQUNBLHdCQUFBQSxrQ0FBQUEsWUFBYTVCLEVBQUUsR0FBRTs0QkFDcEIsTUFBTSxJQUFJSCxNQUFNO3dCQUNsQjt3QkFFQSxrRUFBa0U7d0JBQzVEZ0MsZ0JBQWdCdEQsK0VBQU1BLENBQUNvRCxNQUFNO3dCQUVuQyx5REFBeUQ7d0JBQ25ERyxlQUFlcEUsOERBQVVBLENBQUNRLHVDQUFFQSxFQUFFLFNBQVMwRCxZQUFZNUIsRUFBRSxFQUFFO3dCQUU3RCwyREFBMkQ7d0JBQ3JEK0IsSUFBSWpFLHlEQUFLQSxDQUFDZ0UsY0FBYy9ELHlEQUFLQSxDQUFDLFFBQVEsTUFBTThEOzs7Ozs7Ozs7d0JBRy9COzs0QkFBTWpFLDJEQUFPQSxDQUFDbUU7Ozt3QkFBekJDLFdBQVc7d0JBRWpCLDBEQUEwRDt3QkFDMUQ7OzRCQUFPQSxTQUFTbEMsSUFBSSxDQUFDdUIsR0FBRyxDQUFDLFNBQUMxRDt1Q0FBdUI7b0NBQy9DcUMsSUFBSXJDLElBQUlxQyxFQUFFO21DQUNQckMsSUFBSW9DLElBQUk7Ozs7d0JBRU5KO3dCQUNEQyxpQkFBaUJEO3dCQUN2QjZCLFFBQVE3QixLQUFLLENBQUMscUNBQXFDQyxlQUFlNkIsT0FBTzt3QkFDekUsTUFBTSxJQUFJNUIsTUFBTUQsZUFBZTZCLE9BQU87Ozs7Ozs7UUFFMUM7O0lBRUEsT0FBTVEsd0JBeUJMLEdBekJELFNBQU1BO2VBQU47Z0JBQ1FMLGFBTUFFLGNBR0FDLEdBR0VDLFVBT0NyQyxPQUNEQzs7Ozt3QkFwQkZnQyxjQUFjekQsOENBQVdBLENBQUN5RCxXQUFXO3dCQUMzQyxJQUFJLEVBQUNBLHdCQUFBQSxrQ0FBQUEsWUFBYTVCLEVBQUUsR0FBRTs0QkFDcEIsTUFBTSxJQUFJSCxNQUFNO3dCQUNsQjt3QkFFQSx5REFBeUQ7d0JBQ25EaUMsZUFBZXBFLDhEQUFVQSxDQUFDUSx1Q0FBRUEsRUFBRSxTQUFTMEQsWUFBWTVCLEVBQUUsRUFBRTt3QkFFN0Qsb0ZBQW9GO3dCQUM5RStCLElBQUlqRSx5REFBS0EsQ0FBQ2dFLGNBQWM5RCwyREFBT0EsQ0FBQyxhQUFhLFNBQVMseUNBQXlDOzs7Ozs7Ozs7d0JBR2xGOzs0QkFBTUosMkRBQU9BLENBQUNtRTs7O3dCQUF6QkMsV0FBVzt3QkFFakIsMERBQTBEO3dCQUMxRDs7NEJBQU9BLFNBQVNsQyxJQUFJLENBQUN1QixHQUFHLENBQUMsU0FBQzFEO3VDQUF1QjtvQ0FDL0NxQyxJQUFJckMsSUFBSXFDLEVBQUU7bUNBQ1ByQyxJQUFJb0MsSUFBSTs7Ozt3QkFFTko7d0JBQ0RDLGlCQUFpQkQ7d0JBQ3ZCNkIsUUFBUTdCLEtBQUssQ0FBQyx5Q0FBeUNDLGVBQWU2QixPQUFPO3dCQUM3RSxNQUFNLElBQUk1QixNQUFNRCxlQUFlNkIsT0FBTzs7Ozs7OztRQUUxQzs7SUFHQTs7Ozs7Q0FLRCxHQUNELE9BQU1TLDJCQTRDTCxHQTVDRCxTQUFNQSw0QkFBNEJoRCxNQUFjO2VBQWhEO2dCQUNRaUQsbUJBQ0FKLEdBS0VDLFVBSUFJLGdCQTZCQ3pDOzs7O3dCQXZDSHdDLG9CQUFvQnpFLDhEQUFVQSxDQUFDUSx1Q0FBRUEsRUFBRTt3QkFDbkM2RCxJQUFJakUseURBQUtBLENBQUNxRSxtQkFBbUJwRSx5REFBS0EsQ0FBQyxVQUFVLE1BQU1tQjs7Ozs7Ozs7O3dCQUd2RHNDLFFBQVFhLEdBQUcsQ0FBQyxvQ0FBMkMsT0FBUG5EO3dCQUUvQjs7NEJBQU10QiwyREFBT0EsQ0FBQ21FOzs7d0JBQXpCQyxXQUFXO3dCQUVqQlIsUUFBUWEsR0FBRyxDQUFDLDZCQUFrRCxPQUFyQkwsU0FBU2xDLElBQUksQ0FBQ3dDLE1BQU07d0JBRXZERixpQkFBaUJKLFNBQVNsQyxJQUFJLENBQUN1QixHQUFHLENBQUMsU0FBQzFEOzRCQUN4QyxJQUFNb0MsT0FBT3BDLElBQUlvQyxJQUFJOzRCQUNyQnlCLFFBQVFhLEdBQUcsQ0FBQyxpQ0FBd0MsT0FBUDFFLElBQUlxQyxFQUFFLEdBQUlEOzRCQUV2RCxPQUFPO2dDQUNMQyxJQUFJckMsSUFBSXFDLEVBQUU7K0JBQ1BEO2dDQUNISyxXQUFXTCxLQUFLSyxTQUFTLEdBQ3JCLElBQUkxQiw0REFBU0EsQ0FBQztvQ0FDWnNCLElBQUlELEtBQUtLLFNBQVMsQ0FBQ0osRUFBRTtvQ0FDckJNLE9BQU9QLEtBQUtLLFNBQVMsQ0FBQ0UsS0FBSztvQ0FDM0JpQyxVQUFVeEMsS0FBS0ssU0FBUyxDQUFDbUMsUUFBUTtvQ0FDakNDLGNBQWN6QyxLQUFLSyxTQUFTLENBQUNvQyxZQUFZLElBQUksRUFBRTtvQ0FDL0NDLFFBQVExQyxLQUFLSyxTQUFTLENBQUNxQyxNQUFNO29DQUM3QkMsV0FBVzNDLEtBQUtLLFNBQVMsQ0FBQ3NDLFNBQVMsR0FBRyxJQUFJNUIsS0FBS2YsS0FBS0ssU0FBUyxDQUFDc0MsU0FBUyxJQUFJLElBQUk1QjtvQ0FDL0U2QixTQUFTNUMsS0FBS0ssU0FBUyxDQUFDdUMsT0FBTyxHQUFHLElBQUk3QixLQUFLZixLQUFLSyxTQUFTLENBQUN1QyxPQUFPLElBQUksSUFBSTdCO29DQUN6RUksV0FBV25CLEtBQUtLLFNBQVMsQ0FBQ2MsU0FBUyxHQUFHLElBQUlKLEtBQUtmLEtBQUtLLFNBQVMsQ0FBQ2MsU0FBUyxJQUFJLElBQUlKO29DQUMvRUssV0FBV3BCLEtBQUtLLFNBQVMsQ0FBQ2UsU0FBUyxHQUFHLElBQUlMLEtBQUtmLEtBQUtLLFNBQVMsQ0FBQ2UsU0FBUyxJQUFJLElBQUlMO29DQUMvRThCLGVBQWU3QyxLQUFLSyxTQUFTLENBQUN3QyxhQUFhLElBQUk7Z0NBQ2pELEtBQ0E3QjtnQ0FDSkcsV0FBVzFDLGtFQUFnQkEsQ0FBQ3VCLEtBQUttQixTQUFTO2dDQUMxQ0MsV0FBVzNDLGtFQUFnQkEsQ0FBQ3VCLEtBQUtvQixTQUFTOzt3QkFFOUM7d0JBRUFLLFFBQVFhLEdBQUcsQ0FBQyxvQ0FBb0NRLEtBQUtDLFNBQVMsQ0FBQ1YsZ0JBQWdCLE1BQU07d0JBRXJGOzs0QkFBT0E7Ozt3QkFDQXpDO3dCQUNQNkIsUUFBUTdCLEtBQUssQ0FBQyw2Q0FBNkNBO3dCQUMzRCxNQUFNQTs7Ozs7OztRQUVWOztJQUVBLE9BQU1vRCw2QkE2QkwsR0E3QkQsU0FBTUEsOEJBQThCN0MsWUFBb0I7O2VBQXhEO2dCQUdVeEMsWUFHQXNGLFlBR0QsZ0ZBQU1DLHFCQUVXLE1BQVhqRSxTQVFBVyxZQU1KQTs7Ozs7Ozs7Ozt3QkF0Qlk7OzRCQUFNLE1BQUt1RCxpQkFBaUIsQ0FBQ2hEOzs7d0JBQTFDeEMsYUFBYTt3QkFFbkIsK0JBQStCO3dCQUN6QnNGO3dCQUdEOzs7Ozs7Ozs7d0JBQUEsWUFBNkJ0RixDQUFBQSxXQUFXeUYsWUFBWSxNQUFLOzs7K0JBQXpEOzs7O3dCQUFNRixzQkFBTjs7Ozs7Ozs7O3dCQUVpQjs7NEJBQU0sTUFBS0csaUJBQWlCLENBQzVDSCxvQkFBb0JJLGlCQUFpQixFQUNyQ0osb0JBQW9CakQsRUFBRTs7O3dCQUZOOzRCQUFBOzs0QkFBWGhCLFVBQVc7d0JBS2xCLElBQUlBLFNBQVM7NEJBQ1hnRSxXQUFXekIsSUFBSSxDQUFDdkM7d0JBQ2xCOzs7Ozs7d0JBQ09XO3dCQUNQNkIsUUFBUTdCLEtBQUssQ0FBQywwQkFBaUQsT0FBdkJzRCxvQkFBb0JqRCxFQUFFLEVBQUMsTUFBSUw7Ozs7Ozt3QkFYbEU7Ozs7Ozs7Ozs7Ozt3QkFBQTt3QkFBQTs7Ozs7OztpQ0FBQTtnQ0FBQTs7O2dDQUFBO3NDQUFBOzs7Ozs7O3dCQWVMOzs0QkFBTztnQ0FBRWpDLFlBQUFBO2dDQUFZc0YsWUFBQUE7NEJBQVc7Ozt3QkFDekJyRDt3QkFDUDZCLFFBQVE3QixLQUFLLENBQUMsK0NBQStDQTt3QkFDN0QsTUFBTUE7Ozs7Ozs7UUFFVjs7SUFFQSxnREFBZ0Q7SUFDaEQsT0FBUTJELGdCQXdEUCxHQXhERCxTQUFRQSxpQkFBaUJ2RCxJQUFrQjtZQTJDM0JBLGlCQUtBQTtRQS9DZCxPQUFPLElBQUkzQixtREFBT0EsQ0FBQztZQUNqQjRCLElBQUlELEtBQUtDLEVBQUUsSUFBSTtZQUNmQyxnQkFBZ0JGLEtBQUtFLGNBQWMsSUFBSTtZQUN2Q0MsY0FBY0gsS0FBS0csWUFBWSxJQUFJLEVBQUU7WUFDckNDLFdBQVdKLEtBQUtJLFNBQVMsSUFBSSxFQUFFO1lBQy9CQyxXQUFXTCxLQUFLSyxTQUFTLEdBQ3JCLElBQUkxQiw0REFBU0EsQ0FBQztnQkFDWnNCLElBQUlELEtBQUtLLFNBQVMsQ0FBQ0osRUFBRTtnQkFDckJNLE9BQU9QLEtBQUtLLFNBQVMsQ0FBQ0UsS0FBSztnQkFDM0JpQyxVQUFVeEMsS0FBS0ssU0FBUyxDQUFDbUMsUUFBUTtnQkFDakNDLGNBQWN6QyxLQUFLSyxTQUFTLENBQUNvQyxZQUFZLElBQUksRUFBRTtnQkFDL0NDLFFBQVExQyxLQUFLSyxTQUFTLENBQUNxQyxNQUFNO2dCQUM3QkMsV0FBVzNDLEtBQUtLLFNBQVMsQ0FBQ3NDLFNBQVMsWUFBWTVCLE9BQzNDZixLQUFLSyxTQUFTLENBQUNzQyxTQUFTLEdBQ3ZCM0MsS0FBS0ssU0FBUyxDQUFDc0MsU0FBUyxHQUFHLElBQUk1QixLQUFLZixLQUFLSyxTQUFTLENBQUNzQyxTQUFTLElBQUksSUFBSTVCO2dCQUN6RTZCLFNBQVM1QyxLQUFLSyxTQUFTLENBQUN1QyxPQUFPLFlBQVk3QixPQUN2Q2YsS0FBS0ssU0FBUyxDQUFDdUMsT0FBTyxHQUNyQjVDLEtBQUtLLFNBQVMsQ0FBQ3VDLE9BQU8sR0FBRyxJQUFJN0IsS0FBS2YsS0FBS0ssU0FBUyxDQUFDdUMsT0FBTyxJQUFJLElBQUk3QjtnQkFDckVJLFdBQVduQixLQUFLSyxTQUFTLENBQUNjLFNBQVMsWUFBWUosT0FDM0NmLEtBQUtLLFNBQVMsQ0FBQ2MsU0FBUyxHQUN2Qm5CLEtBQUtLLFNBQVMsQ0FBQ2MsU0FBUyxHQUFHLElBQUlKLEtBQUtmLEtBQUtLLFNBQVMsQ0FBQ2MsU0FBUyxJQUFJLElBQUlKO2dCQUN6RUssV0FBV3BCLEtBQUtLLFNBQVMsQ0FBQ2UsU0FBUyxZQUFZTCxPQUMzQ2YsS0FBS0ssU0FBUyxDQUFDZSxTQUFTLEdBQ3ZCcEIsS0FBS0ssU0FBUyxDQUFDZSxTQUFTLEdBQUcsSUFBSUwsS0FBS2YsS0FBS0ssU0FBUyxDQUFDZSxTQUFTLElBQUksSUFBSUw7Z0JBQ3pFOEIsZUFBZTdDLEtBQUtLLFNBQVMsQ0FBQ3dDLGFBQWEsSUFBSTtZQUNqRCxLQUNBN0I7WUFDSlYsTUFBTU4sS0FBS00sSUFBSSxJQUFJLEVBQUU7WUFDckJDLE9BQU9QLEtBQUtPLEtBQUssSUFBSTtZQUNyQkMsYUFBYVIsS0FBS1EsV0FBVyxJQUFJO1lBQ2pDQyxVQUFVVCxLQUFLUyxRQUFRLElBQUk7WUFDM0JDLGVBQWVWLEtBQUtVLGFBQWE7WUFDakNDLGtCQUFrQlgsS0FBS1csZ0JBQWdCLElBQUk7WUFDM0NDLGFBQWFaLEtBQUtZLFdBQVcsSUFBSTtZQUNqQ0MsZUFBZWIsS0FBS2EsYUFBYSxJQUFJdEMseURBQWFBLENBQUNpRixRQUFRO1lBQzNEMUMsV0FBV2QsS0FBS2MsU0FBUyxZQUFZQyxPQUNqQ2YsS0FBS2MsU0FBUyxHQUNiZCxLQUFLYyxTQUFTLEdBQUcsSUFBSUMsS0FBS2YsS0FBS2MsU0FBUyxJQUFJRTtZQUNqREMsT0FBT2pCLEtBQUtpQixLQUFLLElBQUk7WUFDckJDLFFBQVFsQixLQUFLa0IsTUFBTSxJQUFJO1lBQ3ZCQyxXQUFXbkIsS0FBS21CLFNBQVMsWUFBWUosT0FDakNmLEtBQUttQixTQUFTLEdBQ2IsU0FBT25CLGtCQUFBQSxLQUFLbUIsU0FBUyxjQUFkbkIsc0NBQUFBLGdCQUFnQnlELE1BQU0sTUFBSyxhQUNqQ3pELEtBQUttQixTQUFTLENBQUNzQyxNQUFNLEtBQ3BCekQsS0FBS21CLFNBQVMsR0FBRyxJQUFJSixLQUFLZixLQUFLbUIsU0FBUyxJQUFJLElBQUlKO1lBQ3ZESyxXQUFXcEIsS0FBS29CLFNBQVMsWUFBWUwsT0FDakNmLEtBQUtvQixTQUFTLEdBQ2IsU0FBT3BCLGtCQUFBQSxLQUFLb0IsU0FBUyxjQUFkcEIsc0NBQUFBLGdCQUFnQnlELE1BQU0sTUFBSyxhQUNqQ3pELEtBQUtvQixTQUFTLENBQUNxQyxNQUFNLEtBQ3BCekQsS0FBS29CLFNBQVMsR0FBRyxJQUFJTCxLQUFLZixLQUFLb0IsU0FBUyxJQUFJLElBQUlMO1lBQ3ZETSxNQUFNckIsS0FBS3FCLElBQUksSUFBSS9DLG9EQUFRQSxDQUFDb0YsUUFBUTtZQUNwQ0MsbUJBQW1CO3VCQUFNM0QsS0FBS1MsUUFBUSxJQUFJOztZQUMxQ21ELHNCQUFzQjt1QkFBTTVELEtBQUtxQixJQUFJLElBQUkvQyxvREFBUUEsQ0FBQ29GLFFBQVE7O1lBQzFERyxjQUFjO3VCQUFPLENBQUMsRUFBRyxtQ0FBbUM7OztRQUM5RDtJQUNGO0lBRUEsT0FBUUMsb0JBcUNQLEdBckNELFNBQVFBLHFCQUFxQjlELElBQWtCO1lBNEIvQkEsaUJBS0FBO1FBaENkLE9BQU87WUFDTEMsSUFBSUQsS0FBS0MsRUFBRSxJQUFJO1lBQ2ZSLFdBQVdPLEtBQUtQLFNBQVMsSUFBSTtZQUM3Qk4sUUFBUWEsS0FBS2IsTUFBTSxJQUFJO1lBQ3ZCNEUsVUFBVS9ELEtBQUsrRCxRQUFRLEdBQUcsSUFBSSxDQUFDQyxhQUFhLENBQUNoRSxLQUFLK0QsUUFBUSxJQUFJL0M7WUFDOURWLE1BQU0sQ0FBQ04sS0FBS3NDLEdBQUcsSUFBSSxFQUFFLEVBQUVoQixHQUFHLENBQUMsU0FBQzJDO3VCQUFtQjtvQkFDN0NDLE1BQU1DLFNBQVNGLFNBQVNDLElBQUksSUFBSTtvQkFDaENFLFFBQVFDLFdBQVdKLFNBQVNHLE1BQU0sSUFBSTtvQkFDdENFLFVBQVVILFNBQVNGLFNBQVNLLFFBQVEsSUFBSTtvQkFDeENDLFlBQVlGLFdBQVdKLFNBQVNNLFVBQVUsSUFBSTtvQkFDOUNDLFNBQVNQLFNBQVNPLE9BQU8sSUFBSTtvQkFDN0JDLGNBQWNSLFNBQVNRLFlBQVksSUFBSTtvQkFDdkM3RCxhQUFhcUQsU0FBU3JELFdBQVcsSUFBSTtvQkFDckNILFVBQVUwRCxTQUFTRixTQUFTeEQsUUFBUSxJQUFJO29CQUN4Q2lFLFVBQVVQLFNBQVNGLFNBQVNTLFFBQVEsSUFBSTtvQkFDeENDLEtBQUtSLFNBQVNGLFNBQVNVLEdBQUcsSUFBSTtnQkFDaEM7O1lBQ0FDLFVBQVU1RSxLQUFLNEUsUUFBUSxJQUFJO1lBQzNCQyxNQUFNN0UsS0FBSzZFLElBQUksSUFBSTtZQUNuQkMsbUJBQW1COUUsS0FBSzhFLGlCQUFpQjtZQUN6Q04sU0FBU3hFLEtBQUt3RSxPQUFPLElBQUk7WUFDekJDLGNBQWN6RSxLQUFLeUUsWUFBWSxJQUFJO1lBQ25DTSxjQUFjL0UsS0FBSytFLFlBQVksSUFBSTtZQUNuQ0MsY0FBY2hGLEtBQUtnRixZQUFZLElBQUk7WUFDbkNwRSxhQUFhWixLQUFLWSxXQUFXLElBQUk7WUFDakNPLFdBQVduQixLQUFLbUIsU0FBUyxZQUFZSixPQUNqQ2YsS0FBS21CLFNBQVMsR0FDYixTQUFPbkIsa0JBQUFBLEtBQUttQixTQUFTLGNBQWRuQixzQ0FBQUEsZ0JBQWdCeUQsTUFBTSxNQUFLLGFBQ2pDekQsS0FBS21CLFNBQVMsQ0FBQ3NDLE1BQU0sS0FDcEJ6RCxLQUFLbUIsU0FBUyxHQUFHLElBQUlKLEtBQUtmLEtBQUttQixTQUFTLElBQUksSUFBSUo7WUFDdkRLLFdBQVdwQixLQUFLb0IsU0FBUyxZQUFZTCxPQUNqQ2YsS0FBS29CLFNBQVMsR0FDYixTQUFPcEIsa0JBQUFBLEtBQUtvQixTQUFTLGNBQWRwQixzQ0FBQUEsZ0JBQWdCeUQsTUFBTSxNQUFLLGFBQ2pDekQsS0FBS29CLFNBQVMsQ0FBQ3FDLE1BQU0sS0FDcEJ6RCxLQUFLb0IsU0FBUyxHQUFHLElBQUlMLEtBQUtmLEtBQUtvQixTQUFTLElBQUksSUFBSUw7UUFDekQ7SUFDRjtJQUVBLHFGQUFxRjtJQUNyRixPQUFRaUQsYUFxQlAsR0FyQkQsU0FBUUEsY0FBY2lCLE1BQVc7WUFFekJBLFlBQ0VBLGNBQytCQSwyQkFBQUEsa0JBRzlCQSx5QkFBQUEsY0FDTUEscUJBQ0FBLCtCQUFBQSxvQkFDTEEsMEJBQUFBLGVBRXVCQSw4QkFDekJBLGNBQ1NBLGNBQ0lBLGdCQUVjQSx5QkFBQUEsZ0JBQ0ZBLG1CQUNBQTtRQWxCakMsT0FBTztZQUNMaEYsSUFBSWdGLEVBQUFBLGFBQUFBLE9BQU9oRixFQUFFLGNBQVRnRixpQ0FBQUEsV0FBV0MsV0FBVyxLQUFJRCxPQUFPaEYsRUFBRSxJQUFJO1lBQzNDa0YsTUFBTUYsRUFBQUEsZUFBQUEsT0FBT0UsSUFBSSxjQUFYRixtQ0FBQUEsYUFBYUMsV0FBVyxLQUFJRCxPQUFPRSxJQUFJLElBQUk7WUFDakRDLFVBQVUsSUFBSSxDQUFDQyxxQkFBcUIsQ0FBQ0osRUFBQUEsbUJBQUFBLE9BQU9HLFFBQVEsY0FBZkgsd0NBQUFBLDRCQUFBQSxpQkFBaUJLLFFBQVEsY0FBekJMLGdEQUFBQSwwQkFBMkJBLE1BQU0sS0FBSUEsT0FBT0csUUFBUSxJQUFJLENBQUM7WUFDOUZHLGtCQUFrQixJQUFJLENBQUNDLGNBQWMsQ0FBQ1AsT0FBT00sZ0JBQWdCO1lBQzdERSxvQkFBb0IsSUFBSSxDQUFDRCxjQUFjLENBQUNQLE9BQU9RLGtCQUFrQjtZQUNqRUMsTUFBTSxDQUFDVCxFQUFBQSxlQUFBQSxPQUFPUyxJQUFJLGNBQVhULG9DQUFBQSwwQkFBQUEsYUFBYVUsVUFBVSxjQUF2QlYsOENBQUFBLHdCQUF5QlcsTUFBTSxLQUFJWCxPQUFPUyxJQUFJLElBQUksRUFBRSxFQUFFcEUsR0FBRyxDQUFDLFNBQUN1RTt1QkFBYUEsSUFBSVgsV0FBVyxJQUFJVzs7WUFDbEdyRixhQUFheUUsRUFBQUEsc0JBQUFBLE9BQU96RSxXQUFXLGNBQWxCeUUsMENBQUFBLG9CQUFvQkMsV0FBVyxLQUFJRCxPQUFPekUsV0FBVyxJQUFJO1lBQ3RFc0YsWUFBWSxDQUFDYixFQUFBQSxxQkFBQUEsT0FBT2EsVUFBVSxjQUFqQmIsMENBQUFBLGdDQUFBQSxtQkFBbUJVLFVBQVUsY0FBN0JWLG9EQUFBQSw4QkFBK0JXLE1BQU0sS0FBSVgsT0FBT2EsVUFBVSxJQUFJLEVBQUUsRUFBRXhFLEdBQUcsQ0FBQyxTQUFDeUU7dUJBQVdBLEVBQUViLFdBQVcsSUFBSWE7O1lBQ2hIQyxPQUFPLENBQUNmLEVBQUFBLGdCQUFBQSxPQUFPZSxLQUFLLGNBQVpmLHFDQUFBQSwyQkFBQUEsY0FBY1UsVUFBVSxjQUF4QlYsK0NBQUFBLHlCQUEwQlcsTUFBTSxLQUFJWCxPQUFPZSxLQUFLLElBQUksRUFBRSxFQUFFMUUsR0FBRyxDQUFDLFNBQUMyRTt1QkFBY0EsS0FBS2YsV0FBVyxJQUFJZTs7WUFDdkdDLFFBQVEsSUFBSSxDQUFDQyxXQUFXLENBQUNsQixPQUFPaUIsTUFBTTtZQUN0Q0Usc0JBQXNCakMsU0FBU2MsRUFBQUEsK0JBQUFBLE9BQU9tQixvQkFBb0IsY0FBM0JuQixtREFBQUEsNkJBQTZCb0IsWUFBWSxLQUFJcEIsT0FBT21CLG9CQUFvQixJQUFJO1lBQzNHbEMsTUFBTWUsRUFBQUEsZUFBQUEsT0FBT2YsSUFBSSxjQUFYZSxtQ0FBQUEsYUFBYUMsV0FBVyxLQUFJRCxPQUFPZixJQUFJLElBQUk7WUFDakRvQyxNQUFNbkMsU0FBU2MsRUFBQUEsZUFBQUEsT0FBT3FCLElBQUksY0FBWHJCLG1DQUFBQSxhQUFhb0IsWUFBWSxLQUFJcEIsT0FBT3FCLElBQUksSUFBSTtZQUMzRGxDLFFBQVFDLFdBQVdZLEVBQUFBLGlCQUFBQSxPQUFPYixNQUFNLGNBQWJhLHFDQUFBQSxlQUFlc0IsV0FBVyxLQUFJdEIsT0FBT2IsTUFBTSxJQUFJO1lBRWxFbEQsUUFBUSxJQUFJLENBQUNzRixtQkFBbUIsQ0FBQ3ZCLEVBQUFBLGlCQUFBQSxPQUFPL0QsTUFBTSxjQUFiK0Qsc0NBQUFBLDBCQUFBQSxlQUFlSyxRQUFRLGNBQXZCTCw4Q0FBQUEsd0JBQXlCQSxNQUFNLEtBQUlBLE9BQU8vRCxNQUFNLElBQUksQ0FBQztZQUN0RkMsV0FBVyxJQUFJSixLQUFLc0QsV0FBV1ksRUFBQUEsb0JBQUFBLE9BQU85RCxTQUFTLGNBQWhCOEQsd0NBQUFBLGtCQUFrQnNCLFdBQVcsS0FBSXRCLE9BQU85RCxTQUFTLElBQUksT0FBTztZQUMzRkMsV0FBVyxJQUFJTCxLQUFLc0QsV0FBV1ksRUFBQUEsb0JBQUFBLE9BQU83RCxTQUFTLGNBQWhCNkQsd0NBQUFBLGtCQUFrQnNCLFdBQVcsS0FBSXRCLE9BQU83RCxTQUFTLElBQUksT0FBTztRQUM3RjtJQUNGO0lBRUEsd0RBQXdEO0lBQ3hELE9BQVFpRSxxQkEwQlAsR0ExQkQsU0FBUUEsc0JBQXNCSixNQUFXO1lBRXBCQTtRQURuQixpREFBaUQ7UUFDakQsSUFBTXdCLGFBQWF4QixFQUFBQSxhQUFBQSxPQUFPaEYsRUFBRSxjQUFUZ0YsaUNBQUFBLFdBQVdDLFdBQVcsS0FBSUQsT0FBT2hGLEVBQUUsSUFBSTtRQUMxRCxJQUFJd0csZUFBZSxVQUFVO2dCQUlKeEIsa0JBQ0xBLGFBQ0tBLGtCQUNFQSxvQkFDa0JBLGdDQUFBQTtZQVAzQyxPQUFPO2dCQUNMeUIsTUFBTTtnQkFDTkMsU0FBUztvQkFDUGxHLFVBQVUwRCxTQUFTYyxFQUFBQSxtQkFBQUEsT0FBT3hFLFFBQVEsY0FBZndFLHVDQUFBQSxpQkFBaUJvQixZQUFZLEtBQUlwQixPQUFPeEUsUUFBUSxJQUFJO29CQUN2RWtFLEtBQUtSLFNBQVNjLEVBQUFBLGNBQUFBLE9BQU9OLEdBQUcsY0FBVk0sa0NBQUFBLFlBQVlvQixZQUFZLEtBQUlwQixPQUFPTixHQUFHLElBQUk7b0JBQ3hERCxVQUFVUCxTQUFTYyxFQUFBQSxtQkFBQUEsT0FBT1AsUUFBUSxjQUFmTyx1Q0FBQUEsaUJBQWlCb0IsWUFBWSxLQUFJcEIsT0FBT1AsUUFBUSxJQUFJO29CQUN2RWtDLFlBQVl6QyxTQUFTYyxFQUFBQSxxQkFBQUEsT0FBTzJCLFVBQVUsY0FBakIzQix5Q0FBQUEsbUJBQW1Cb0IsWUFBWSxLQUFJcEIsT0FBTzJCLFVBQVUsSUFBSTtvQkFDN0VDLGVBQWUsSUFBSSxDQUFDQyxrQkFBa0IsQ0FBQzdCLEVBQUFBLHdCQUFBQSxPQUFPNEIsYUFBYSxjQUFwQjVCLDZDQUFBQSxpQ0FBQUEsc0JBQXNCSyxRQUFRLGNBQTlCTCxxREFBQUEsK0JBQWdDQSxNQUFNLEtBQUlBLE9BQU80QixhQUFhO2dCQUN2RztZQUNGO1FBQ0YsT0FBTztnQkFJSzVCLGNBQ1NBLGNBQ0lBLGdCQUNFQSxxQkFDa0JBLGlDQUFBQTtZQVAzQyxPQUFPO2dCQUNMeUIsTUFBTTtnQkFDTkMsU0FBUztvQkFDUHpDLE1BQU1lLEVBQUFBLGVBQUFBLE9BQU9mLElBQUksY0FBWGUsbUNBQUFBLGFBQWFDLFdBQVcsS0FBSUQsT0FBT2YsSUFBSSxJQUFJO29CQUNqRG9DLE1BQU1uQyxTQUFTYyxFQUFBQSxlQUFBQSxPQUFPcUIsSUFBSSxjQUFYckIsbUNBQUFBLGFBQWFvQixZQUFZLEtBQUlwQixPQUFPcUIsSUFBSSxJQUFJO29CQUMzRGxDLFFBQVFDLFdBQVdZLEVBQUFBLGlCQUFBQSxPQUFPYixNQUFNLGNBQWJhLHFDQUFBQSxlQUFlc0IsV0FBVyxLQUFJdEIsT0FBT2IsTUFBTSxJQUFJO29CQUNsRXdDLFlBQVl6QyxTQUFTYyxFQUFBQSxzQkFBQUEsT0FBTzJCLFVBQVUsY0FBakIzQiwwQ0FBQUEsb0JBQW1Cb0IsWUFBWSxLQUFJcEIsT0FBTzJCLFVBQVUsSUFBSTtvQkFDN0VDLGVBQWUsSUFBSSxDQUFDQyxrQkFBa0IsQ0FBQzdCLEVBQUFBLHlCQUFBQSxPQUFPNEIsYUFBYSxjQUFwQjVCLDhDQUFBQSxrQ0FBQUEsdUJBQXNCSyxRQUFRLGNBQTlCTCxzREFBQUEsZ0NBQWdDQSxNQUFNLEtBQUlBLE9BQU80QixhQUFhO2dCQUN2RztZQUNGO1FBQ0Y7SUFDRjtJQUVBLE9BQVFyQixjQUdQLEdBSEQsU0FBUUEsZUFBZXVCLGNBQW1CO1lBQ2pCQTtRQUF2QixJQUFNQyxpQkFBaUJELENBQUFBLDJCQUFBQSxzQ0FBQUEsNkJBQUFBLGVBQWdCcEIsVUFBVSxjQUExQm9CLGlEQUFBQSwyQkFBNEJuQixNQUFNLEtBQUltQixrQkFBa0IsRUFBRTtRQUNqRixPQUFPQyxlQUFlMUYsR0FBRyxDQUFDLFNBQUMyRjttQkFBY0EsS0FBSy9CLFdBQVcsSUFBSStCOztJQUMvRDtJQUVBLE9BQVFkLFdBS1AsR0FMRCxTQUFRQSxZQUFZZSxXQUFnQjs7WUFDZEE7UUFBcEIsSUFBTUMsY0FBY0QsQ0FBQUEsd0JBQUFBLG1DQUFBQSwwQkFBQUEsWUFBYXZCLFVBQVUsY0FBdkJ1Qiw4Q0FBQUEsd0JBQXlCdEIsTUFBTSxLQUFJc0IsZUFBZSxFQUFFO1FBQ3hFLE9BQU9DLFlBQVk3RixHQUFHLENBQUMsU0FBQzhGO2dCQUNFQTttQkFBeEIsTUFBS04sa0JBQWtCLENBQUNNLEVBQUFBLHNCQUFBQSxVQUFVOUIsUUFBUSxjQUFsQjhCLDBDQUFBQSxvQkFBb0JuQyxNQUFNLEtBQUltQzs7SUFFMUQ7SUFFQSxPQUFRTixrQkF3QlAsR0F4QkQsU0FBUUEsbUJBQW1CN0IsTUFBVztZQUU5QkEsWUFDUUEsb0JBQ0ZBLGtCQUNGQSxnQkFDRUEsa0JBQ0FBLGtCQUNBQSxrQkFDMkJBLCtCQUFBQSxzQkFDNUJBLGlCQUNEQSxnQkFDR0EsbUJBQ0NBLG9CQUNtQkEsOEJBQ0hBLDJCQUNLQSxnQ0FDTEEsMkJBQ2hCQSxvQkFDTEEsZUFDS0Esb0JBQ21CQSxtQkFDQUE7UUFyQmpDLE9BQU87WUFDTGhGLElBQUlnRixFQUFBQSxhQUFBQSxPQUFPaEYsRUFBRSxjQUFUZ0YsaUNBQUFBLFdBQVdDLFdBQVcsS0FBSUQsT0FBT2hGLEVBQUUsSUFBSTtZQUMzQ29ILFlBQVlwQyxFQUFBQSxxQkFBQUEsT0FBT29DLFVBQVUsY0FBakJwQyx5Q0FBQUEsbUJBQW1CQyxXQUFXLEtBQUlELE9BQU9vQyxVQUFVLElBQUk7WUFDbkVDLFVBQVVyQyxFQUFBQSxtQkFBQUEsT0FBT3FDLFFBQVEsY0FBZnJDLHVDQUFBQSxpQkFBaUJDLFdBQVcsS0FBSUQsT0FBT3FDLFFBQVEsSUFBSTtZQUM3RG5JLFFBQVE4RixFQUFBQSxpQkFBQUEsT0FBTzlGLE1BQU0sY0FBYjhGLHFDQUFBQSxlQUFlQyxXQUFXLEtBQUlELE9BQU85RixNQUFNLElBQUk7WUFDdkRvSSxVQUFVdEMsRUFBQUEsbUJBQUFBLE9BQU9zQyxRQUFRLGNBQWZ0Qyx1Q0FBQUEsaUJBQWlCQyxXQUFXLEtBQUlELE9BQU9zQyxRQUFRLElBQUk7WUFDN0RDLFVBQVV2QyxFQUFBQSxtQkFBQUEsT0FBT3VDLFFBQVEsY0FBZnZDLHVDQUFBQSxpQkFBaUJDLFdBQVcsS0FBSUQsT0FBT3VDLFFBQVEsSUFBSTtZQUM3RHpELFVBQVVrQixFQUFBQSxtQkFBQUEsT0FBT2xCLFFBQVEsY0FBZmtCLHVDQUFBQSxpQkFBaUJDLFdBQVcsS0FBSUQsT0FBT2xCLFFBQVEsSUFBSTtZQUM3RDBELGNBQWMsSUFBSSxDQUFDQyxpQkFBaUIsQ0FBQ3pDLEVBQUFBLHVCQUFBQSxPQUFPd0MsWUFBWSxjQUFuQnhDLDRDQUFBQSxnQ0FBQUEscUJBQXFCSyxRQUFRLGNBQTdCTCxvREFBQUEsOEJBQStCQSxNQUFNLEtBQUlBLE9BQU93QyxZQUFZLElBQUksQ0FBQztZQUN0R0UsU0FBUzFDLEVBQUFBLGtCQUFBQSxPQUFPMEMsT0FBTyxjQUFkMUMsc0NBQUFBLGdCQUFnQkMsV0FBVyxLQUFJRCxPQUFPMEMsT0FBTyxJQUFJO1lBQzFEQyxRQUFRM0MsRUFBQUEsaUJBQUFBLE9BQU8yQyxNQUFNLGNBQWIzQyxxQ0FBQUEsZUFBZUMsV0FBVyxLQUFJRCxPQUFPMkMsTUFBTSxJQUFJO1lBQ3ZEQyxXQUFXNUMsRUFBQUEsb0JBQUFBLE9BQU80QyxTQUFTLGNBQWhCNUMsd0NBQUFBLGtCQUFrQkMsV0FBVyxLQUFJRCxPQUFPNEMsU0FBUyxJQUFJO1lBQ2hFL0IsWUFBWWIsRUFBQUEscUJBQUFBLE9BQU9hLFVBQVUsY0FBakJiLHlDQUFBQSxtQkFBbUJDLFdBQVcsS0FBSUQsT0FBT2EsVUFBVSxJQUFJO1lBQ25FZ0Msc0JBQXNCM0QsU0FBU2MsRUFBQUEsK0JBQUFBLE9BQU82QyxvQkFBb0IsY0FBM0I3QyxtREFBQUEsNkJBQTZCb0IsWUFBWSxLQUFJcEIsT0FBTzZDLG9CQUFvQixJQUFJO1lBQzNHQyxtQkFBbUI1RCxTQUFTYyxFQUFBQSw0QkFBQUEsT0FBTzhDLGlCQUFpQixjQUF4QjlDLGdEQUFBQSwwQkFBMEJvQixZQUFZLEtBQUlwQixPQUFPOEMsaUJBQWlCLElBQUk7WUFDbEdDLHdCQUF3QjdELFNBQVNjLEVBQUFBLGlDQUFBQSxPQUFPK0Msc0JBQXNCLGNBQTdCL0MscURBQUFBLCtCQUErQm9CLFlBQVksS0FBSXBCLE9BQU8rQyxzQkFBc0IsSUFBSTtZQUNqSEMsbUJBQW1COUQsU0FBU2MsRUFBQUEsNEJBQUFBLE9BQU9nRCxpQkFBaUIsY0FBeEJoRCxnREFBQUEsMEJBQTBCb0IsWUFBWSxLQUFJcEIsT0FBT2dELGlCQUFpQixJQUFJO1lBQ2xHQyxZQUFZakQsRUFBQUEscUJBQUFBLE9BQU9pRCxVQUFVLGNBQWpCakQseUNBQUFBLG1CQUFtQmtELFlBQVksS0FBSWxELE9BQU9pRCxVQUFVLElBQUk7WUFDcEVFLE9BQU9uRCxFQUFBQSxnQkFBQUEsT0FBT21ELEtBQUssY0FBWm5ELG9DQUFBQSxjQUFja0QsWUFBWSxLQUFJbEQsT0FBT21ELEtBQUs7WUFDakRDLFlBQVlwRCxFQUFBQSxxQkFBQUEsT0FBT29ELFVBQVUsY0FBakJwRCx5Q0FBQUEsbUJBQW1Ca0QsWUFBWSxLQUFJbEQsT0FBT29ELFVBQVU7WUFDaEVsSCxXQUFXLElBQUlKLEtBQUtzRCxXQUFXWSxFQUFBQSxvQkFBQUEsT0FBTzlELFNBQVMsY0FBaEI4RCx3Q0FBQUEsa0JBQWtCc0IsV0FBVyxLQUFJdEIsT0FBTzlELFNBQVMsSUFBSSxPQUFPO1lBQzNGQyxXQUFXLElBQUlMLEtBQUtzRCxXQUFXWSxFQUFBQSxvQkFBQUEsT0FBTzdELFNBQVMsY0FBaEI2RCx3Q0FBQUEsa0JBQWtCc0IsV0FBVyxLQUFJdEIsT0FBTzdELFNBQVMsSUFBSSxPQUFPO1FBQzdGO0lBQ0Y7SUFFQSxPQUFRc0csaUJBTVAsR0FORCxTQUFRQSxrQkFBa0J6QyxNQUFXO1lBRWhCQSx5QkFDWUEsMEJBQ0NBO1FBSGhDLE9BQU87WUFDTHFELGlCQUFpQnJELEVBQUFBLDBCQUFBQSxPQUFPcUQsZUFBZSxjQUF0QnJELDhDQUFBQSx3QkFBd0JDLFdBQVcsS0FBSUQsT0FBT3FELGVBQWUsSUFBSTtZQUNsRkMsa0JBQWtCbEUsV0FBV1ksRUFBQUEsMkJBQUFBLE9BQU9zRCxnQkFBZ0IsY0FBdkJ0RCwrQ0FBQUEseUJBQXlCc0IsV0FBVyxLQUFJdEIsT0FBT3NELGdCQUFnQixJQUFJO1lBQ2hHQyxtQkFBbUJuRSxXQUFXWSxFQUFBQSw0QkFBQUEsT0FBT3VELGlCQUFpQixjQUF4QnZELGdEQUFBQSwwQkFBMEJzQixXQUFXLEtBQUl0QixPQUFPdUQsaUJBQWlCLElBQUk7UUFDckc7SUFDRjtJQUVBLE9BQVFoQyxtQkFLUCxHQUxELFNBQVFBLG9CQUFvQnZCLE1BQVc7WUFFM0JBLGdCQUNFQTtRQUZaLE9BQU87WUFDTDlGLFFBQVE4RixFQUFBQSxpQkFBQUEsT0FBTzlGLE1BQU0sY0FBYjhGLHFDQUFBQSxlQUFlQyxXQUFXLEtBQUlELE9BQU85RixNQUFNLElBQUk7WUFDdkRtSSxVQUFVckMsRUFBQUEsbUJBQUFBLE9BQU9xQyxRQUFRLGNBQWZyQyx1Q0FBQUEsaUJBQWlCQyxXQUFXLEtBQUlELE9BQU9xQyxRQUFRLElBQUk7UUFDL0Q7SUFDRjtJQUVBLE9BQU1qRSxpQkEwREwsR0ExREQsU0FBTUEsa0JBQWtCbEUsTUFBYyxFQUFFTSxTQUFpQjs7ZUFBekQ7Z0JBR1VnSixZQUNBQyxhQU1BbEosYUFDQVAsU0FHQVMsU0FDQUMsY0FFQVcsTUFxQ0NWOzs7Ozs7Ozs7O3dCQXBEUCw2QkFBNkI7d0JBQ3ZCNkksYUFBYTdLLHVEQUFHQSxDQUFDTyx1Q0FBRUEsRUFBRSxTQUFTZ0IsUUFBUSxxQkFBcUJNO3dCQUM3Qzs7NEJBQU0zQiwwREFBTUEsQ0FBQzJLOzs7d0JBQTNCQyxjQUFjO3dCQUVwQixJQUFJLENBQUNBLFlBQVlDLE1BQU0sSUFBSTs0QkFDekI7OztvQ0FBUTtvQ0FBTTs7O3dCQUNoQjt3QkFFTW5KLGNBQWNrSixZQUFZMUksSUFBSTt3QkFDOUJmLFVBQVUsTUFBS3NFLGdCQUFnQixDQUFDL0QsZUFBZSxDQUFDO3dCQUV0RCwyQkFBMkI7d0JBQ3JCRSxVQUFVL0IsOERBQVVBLENBQUNRLHVDQUFFQSxFQUFFLFNBQVNnQixRQUFRLHFCQUFxQk0sV0FBVzt3QkFDM0Q7OzRCQUFNNUIsMkRBQU9BLENBQUM2Qjs7O3dCQUE3QkMsZUFBZTt3QkFFZlcsT0FBc0JYLGFBQWFJLElBQUksQ0FBQ3VCLEdBQUcsQ0FBQ0MsU0FBQUE7Z0NBa0JsQ3FILG9CQU9BQTs0QkF4QmQsSUFBTUEsVUFBVXJILE9BQU92QixJQUFJOzRCQUMzQixPQUFPO2dDQUNMQyxJQUFJc0IsT0FBT3RCLEVBQUU7Z0NBQ2JSLFdBQVdBO2dDQUNYTixRQUFRQTtnQ0FDUjRFLFVBQVU2RSxRQUFRN0UsUUFBUTtnQ0FDMUJ6RCxNQUFNc0ksUUFBUXRHLEdBQUcsSUFBSSxFQUFFO2dDQUN2QnNDLFVBQVVnRSxRQUFRaEUsUUFBUSxJQUFJO2dDQUM5QkMsTUFBTStELFFBQVEvRCxJQUFJLElBQUk7Z0NBQ3RCQyxtQkFBbUI4RCxRQUFROUQsaUJBQWlCO2dDQUM1Q04sU0FBU29FLFFBQVFwRSxPQUFPLElBQUk7Z0NBQzVCQyxjQUFjbUUsUUFBUW5FLFlBQVksSUFBSTtnQ0FDdENNLGNBQWM2RCxRQUFRN0QsWUFBWSxJQUFJO2dDQUN0Q0MsY0FBYzRELFFBQVE1RCxZQUFZLElBQUk7Z0NBQ3RDcEUsYUFBYWdJLFFBQVFoSSxXQUFXLElBQUk7Z0NBQ3BDTyxXQUFXeUgsUUFBUXpILFNBQVMsWUFBWUosT0FDcEM2SCxRQUFRekgsU0FBUyxHQUNoQixTQUFPeUgscUJBQUFBLFFBQVF6SCxTQUFTLGNBQWpCeUgseUNBQUFBLG1CQUFtQm5GLE1BQU0sTUFBSyxhQUNwQ21GLFFBQVF6SCxTQUFTLENBQUNzQyxNQUFNLEtBQ3ZCbUYsUUFBUXpILFNBQVMsR0FDaEIsSUFBSUosS0FBSzZILFFBQVF6SCxTQUFTLElBQzFCLElBQUlKO2dDQUNaSyxXQUFXd0gsUUFBUXhILFNBQVMsWUFBWUwsT0FDcEM2SCxRQUFReEgsU0FBUyxHQUNoQixTQUFPd0gscUJBQUFBLFFBQVF4SCxTQUFTLGNBQWpCd0gseUNBQUFBLG1CQUFtQm5GLE1BQU0sTUFBSyxhQUNwQ21GLFFBQVF4SCxTQUFTLENBQUNxQyxNQUFNLEtBQ3ZCbUYsUUFBUXhILFNBQVMsR0FDaEIsSUFBSUwsS0FBSzZILFFBQVF4SCxTQUFTLElBQzFCLElBQUlMOzRCQUNkO3dCQUNGO3dCQUVBLHNCQUFzQjt3QkFDdEI5QixRQUFRcUIsSUFBSSxHQUFHQTt3QkFFZjs7O2dDQUFRckI7Z0NBQVNxQjs7Ozt3QkFDVlY7d0JBQ1A2QixRQUFRN0IsS0FBSyxDQUFDLGlDQUFpQ0E7d0JBQy9DOzs7Z0NBQVE7Z0NBQU07Ozs7Ozs7OztRQUVsQjs7SUFFQTs7Ozs7Q0FLQyxHQUNELE9BQU1pSixnQ0E0Q0wsR0E1Q0QsU0FBTUEsaUNBQWlDQyxXQUFtQjtlQUExRDtnQkFDUTFHLG1CQUNBSixHQUtFQyxVQUlBSSxnQkE2QkN6Qzs7Ozt3QkF2Q0h3QyxvQkFBb0J6RSw4REFBVUEsQ0FBQ1EsdUNBQUVBLEVBQUU7d0JBQ25DNkQsSUFBSWpFLHlEQUFLQSxDQUFDcUUsbUJBQW1CcEUseURBQUtBLENBQUMsZUFBZSxNQUFNOEs7Ozs7Ozs7Ozt3QkFHNURySCxRQUFRYSxHQUFHLENBQUMsOENBQTBELE9BQVp3Rzt3QkFFekM7OzRCQUFNakwsMkRBQU9BLENBQUNtRTs7O3dCQUF6QkMsV0FBVzt3QkFFakJSLFFBQVFhLEdBQUcsQ0FBQyxrQ0FBdUQsT0FBckJMLFNBQVNsQyxJQUFJLENBQUN3QyxNQUFNO3dCQUU1REYsaUJBQWlCSixTQUFTbEMsSUFBSSxDQUFDdUIsR0FBRyxDQUFDLFNBQUMxRDs0QkFDeEMsSUFBTW9DLE9BQU9wQyxJQUFJb0MsSUFBSTs0QkFDckJ5QixRQUFRYSxHQUFHLENBQUMsc0NBQTZDLE9BQVAxRSxJQUFJcUMsRUFBRSxHQUFJRDs0QkFFNUQsT0FBTztnQ0FDTEMsSUFBSXJDLElBQUlxQyxFQUFFOytCQUNQRDtnQ0FDSEssV0FBV0wsS0FBS0ssU0FBUyxHQUNyQixJQUFJMUIsNERBQVNBLENBQUM7b0NBQ1pzQixJQUFJRCxLQUFLSyxTQUFTLENBQUNKLEVBQUU7b0NBQ3JCTSxPQUFPUCxLQUFLSyxTQUFTLENBQUNFLEtBQUs7b0NBQzNCaUMsVUFBVXhDLEtBQUtLLFNBQVMsQ0FBQ21DLFFBQVE7b0NBQ2pDQyxjQUFjekMsS0FBS0ssU0FBUyxDQUFDb0MsWUFBWSxJQUFJLEVBQUU7b0NBQy9DQyxRQUFRMUMsS0FBS0ssU0FBUyxDQUFDcUMsTUFBTTtvQ0FDN0JDLFdBQVczQyxLQUFLSyxTQUFTLENBQUNzQyxTQUFTLEdBQUcsSUFBSTVCLEtBQUtmLEtBQUtLLFNBQVMsQ0FBQ3NDLFNBQVMsSUFBSSxJQUFJNUI7b0NBQy9FNkIsU0FBUzVDLEtBQUtLLFNBQVMsQ0FBQ3VDLE9BQU8sR0FBRyxJQUFJN0IsS0FBS2YsS0FBS0ssU0FBUyxDQUFDdUMsT0FBTyxJQUFJLElBQUk3QjtvQ0FDekVJLFdBQVduQixLQUFLSyxTQUFTLENBQUNjLFNBQVMsR0FBRyxJQUFJSixLQUFLZixLQUFLSyxTQUFTLENBQUNjLFNBQVMsSUFBSSxJQUFJSjtvQ0FDL0VLLFdBQVdwQixLQUFLSyxTQUFTLENBQUNlLFNBQVMsR0FBRyxJQUFJTCxLQUFLZixLQUFLSyxTQUFTLENBQUNlLFNBQVMsSUFBSSxJQUFJTDtvQ0FDL0U4QixlQUFlN0MsS0FBS0ssU0FBUyxDQUFDd0MsYUFBYSxJQUFJO2dDQUNqRCxLQUNBN0I7Z0NBQ0pHLFdBQVcxQyxrRUFBZ0JBLENBQUN1QixLQUFLbUIsU0FBUztnQ0FDMUNDLFdBQVczQyxrRUFBZ0JBLENBQUN1QixLQUFLb0IsU0FBUzs7d0JBRTlDO3dCQUVBSyxRQUFRYSxHQUFHLENBQUMseUNBQXlDUSxLQUFLQyxTQUFTLENBQUNWLGdCQUFnQixNQUFNO3dCQUUxRjs7NEJBQU9BOzs7d0JBQ0F6Qzt3QkFDUDZCLFFBQVE3QixLQUFLLENBQUMsa0RBQWtEQTt3QkFDaEUsTUFBTUE7Ozs7Ozs7UUFFVjs7SUFFRSxPQUFNdUQsaUJBaUJMLEdBakJELFNBQU1BLGtCQUFrQmxELEVBQVU7ZUFBbEM7Z0JBRVU4SSxRQUNBQyxTQVVDcEo7Ozs7Ozs7Ozs7d0JBWERtSixTQUFTbkwsdURBQUdBLENBQUNPLHVDQUFFQSxFQUFFLHdCQUF3QjhCO3dCQUMvQjs7NEJBQU1uQywwREFBTUEsQ0FBQ2lMOzs7d0JBQXZCQyxVQUFVO3dCQUVoQixJQUFJQSxRQUFRTCxNQUFNLElBQUk7NEJBQ3BCOztnQ0FBTztvQ0FDTDFJLElBQUkrSSxRQUFRL0ksRUFBRTttQ0FDWCtJLFFBQVFoSixJQUFJOzt3QkFFbkIsT0FBTzs0QkFDTCxNQUFNLElBQUlGLE1BQU07d0JBQ2xCOzs7Ozs7d0JBQ09GO3dCQUNQNkIsUUFBUTdCLEtBQUssQ0FBQyxtQ0FBbUNBO3dCQUNqRCxNQUFNQTs7Ozs7OztRQUVWOztJQUVFOzs7O0dBSUQsR0FDQyxPQUFNcUoscUJBaUVMLEdBakVELFNBQU1BO2VBQU47Z0JBQ1FwSCxhQUtBTyxtQkFDQUosR0FLRUMsVUFJQWlILGVBZ0NBQyxrQkFhQ3ZKOzs7O3dCQTVESGlDLGNBQWN6RCw4Q0FBV0EsQ0FBQ3lELFdBQVc7d0JBQzNDLElBQUksRUFBQ0Esd0JBQUFBLGtDQUFBQSxZQUFhNUIsRUFBRSxHQUFFOzRCQUNwQixNQUFNLElBQUlILE1BQU07d0JBQ2xCO3dCQUVNc0Msb0JBQW9CekUsOERBQVVBLENBQUNRLHVDQUFFQSxFQUFFO3dCQUNuQzZELElBQUlqRSx5REFBS0EsQ0FBQ3FFLG1CQUFtQnBFLHlEQUFLQSxDQUFDLFVBQVUsTUFBTTZELFlBQVk1QixFQUFFOzs7Ozs7Ozs7d0JBR3JFd0IsUUFBUWEsR0FBRyxDQUFDLG9DQUFtRCxPQUFmVCxZQUFZNUIsRUFBRTt3QkFFN0M7OzRCQUFNcEMsMkRBQU9BLENBQUNtRTs7O3dCQUF6QkMsV0FBVzt3QkFFakJSLFFBQVFhLEdBQUcsQ0FBQyw2QkFBa0QsT0FBckJMLFNBQVNsQyxJQUFJLENBQUN3QyxNQUFNO3dCQUV2RDJHLGdCQUFnQmpILFNBQVNsQyxJQUFJLENBQUN1QixHQUFHLENBQUMsU0FBQzFEOzRCQUN2QyxJQUFNb0MsT0FBT3BDLElBQUlvQyxJQUFJOzRCQUNyQnlCLFFBQVFhLEdBQUcsQ0FBQyxpQ0FBd0MsT0FBUDFFLElBQUlxQyxFQUFFLEdBQUlEOzRCQUV2RCw0REFBNEQ7NEJBQzVELElBQU1LLFlBQVlMLEtBQUtLLFNBQVMsR0FDNUIsSUFBSTFCLDREQUFTQSxDQUFDO2dDQUNac0IsSUFBSUQsS0FBS0ssU0FBUyxDQUFDSixFQUFFO2dDQUNyQk0sT0FBT1AsS0FBS0ssU0FBUyxDQUFDRSxLQUFLO2dDQUMzQmlDLFVBQVV4QyxLQUFLSyxTQUFTLENBQUNtQyxRQUFRO2dDQUNqQ0MsY0FBY3pDLEtBQUtLLFNBQVMsQ0FBQ29DLFlBQVksSUFBSSxFQUFFO2dDQUMvQ0MsUUFBUTFDLEtBQUtLLFNBQVMsQ0FBQ3FDLE1BQU07Z0NBQzdCQyxXQUFXakUsNkRBQVVBLENBQUNzQixLQUFLSyxTQUFTLENBQUNzQyxTQUFTO2dDQUM5Q0MsU0FBU2xFLDZEQUFVQSxDQUFDc0IsS0FBS0ssU0FBUyxDQUFDdUMsT0FBTztnQ0FDMUN6QixXQUFXekMsNkRBQVVBLENBQUNzQixLQUFLSyxTQUFTLENBQUNjLFNBQVM7Z0NBQzlDQyxXQUFXMUMsNkRBQVVBLENBQUNzQixLQUFLSyxTQUFTLENBQUNlLFNBQVM7Z0NBQzlDeUIsZUFBZTdDLEtBQUtLLFNBQVMsQ0FBQ3dDLGFBQWEsSUFBSTs0QkFDakQsS0FDQTdCOzRCQUVGLE9BQU87Z0NBQ0hmLElBQUlyQyxJQUFJcUMsRUFBRTsrQkFDUEQ7Z0NBQ0hLLFdBQUFBO2dDQUNBYyxXQUFXMUMsa0VBQWdCQSxDQUFDdUIsS0FBS21CLFNBQVMsS0FBSyxJQUFJSjtnQ0FDbkRLLFdBQVczQyxrRUFBZ0JBLENBQUN1QixLQUFLb0IsU0FBUyxLQUFLLElBQUlMOzt3QkFFM0Q7d0JBRUFVLFFBQVFhLEdBQUcsQ0FBQyxvQ0FBb0NRLEtBQUtDLFNBQVMsQ0FBQ21HLGVBQWUsTUFBTTt3QkFFcEYsd0RBQXdEO3dCQUNsREMsbUJBQW1CRCxjQUFjRSxNQUFNLENBQUNDLFNBQUFBO2dDQUM1QkE7NEJBQWhCLElBQU16RyxXQUFVeUcsMkJBQUFBLGNBQWNoSixTQUFTLGNBQXZCZ0osK0NBQUFBLHlCQUF5QnpHLE9BQU87NEJBRWhEbkIsUUFBUWEsR0FBRyxDQUNULDRCQUEyRE0sT0FBL0J5RyxjQUFjcEosRUFBRSxFQUFDLGdCQUF3QyxPQUExQjJDLFNBQVEsb0JBQTZCLE9BQVgsSUFBSTdCOzRCQUczRixPQUFPNkIsV0FBV0EsVUFBVSxJQUFJN0I7d0JBQ2xDO3dCQUVBVSxRQUFRYSxHQUFHLENBQUMsNEJBQW9ELE9BQXhCNkcsaUJBQWlCNUcsTUFBTSxHQUFJNEc7d0JBRW5FOzs0QkFBT0E7Ozt3QkFDQXZKO3dCQUNQNkIsUUFBUTdCLEtBQUssQ0FBQyxxQ0FBcUNBO3dCQUNuRCxNQUFNQTs7Ozs7OztRQUVWOztJQUdGOzs7O0dBSUMsR0FDRCxPQUFNMEosbUJBd0JMLEdBeEJELFNBQU1BO2VBQU47Z0JBQ1F6SCxhQU1BTyxtQkFHQUosR0FHRUMsVUFPQ3JDOzs7O3dCQW5CSGlDLGNBQWN6RCw4Q0FBV0EsQ0FBQ3lELFdBQVc7d0JBQzNDLElBQUksRUFBQ0Esd0JBQUFBLGtDQUFBQSxZQUFhNUIsRUFBRSxHQUFFOzRCQUNwQixNQUFNLElBQUlILE1BQU07d0JBQ2xCO3dCQUVBLDZDQUE2Qzt3QkFDdkNzQyxvQkFBb0J6RSw4REFBVUEsQ0FBQ1EsdUNBQUVBLEVBQUU7d0JBRXpDLDhEQUE4RDt3QkFDeEQ2RCxJQUFJakUseURBQUtBLENBQUNxRSxtQkFBbUJwRSx5REFBS0EsQ0FBQyxVQUFVLE1BQU02RCxZQUFZNUIsRUFBRTs7Ozs7Ozs7O3dCQUdwRDs7NEJBQU1wQywyREFBT0EsQ0FBQ21FOzs7d0JBQXpCQyxXQUFXO3dCQUVqQixpREFBaUQ7d0JBQ2pEOzs0QkFBT0EsU0FBU2xDLElBQUksQ0FBQ3VCLEdBQUcsQ0FBQyxTQUFDMUQ7dUNBQXVCO29DQUMvQ3FDLElBQUlyQyxJQUFJcUMsRUFBRTttQ0FDUHJDLElBQUlvQyxJQUFJOzs7O3dCQUVOSjt3QkFDUDZCLFFBQVE3QixLQUFLLENBQUMsbUNBQW1DQTt3QkFDakQsTUFBTSxJQUFJRSxNQUFNOzs7Ozs7O1FBRXBCOztJQUdBOzs7R0FHQyxHQUNELE9BQU1kLDBCQThCTCxHQTlCRCxTQUFNQTs7ZUFBTjtnQkFJUTZDLGFBTUEwSCxvQkFHRnZILEdBQ0F3SDs7Ozt3QkFWRTNILGNBQWN6RCw4Q0FBV0EsQ0FBQ3lELFdBQVc7d0JBQzNDLElBQUksRUFBQ0Esd0JBQUFBLGtDQUFBQSxZQUFhNUIsRUFBRSxHQUFFOzRCQUNwQixNQUFNLElBQUlILE1BQU07d0JBQ2xCO3dCQUVBLHNDQUFzQzt3QkFDaEN5SixxQkFBcUI1TCw4REFBVUEsQ0FBQ1EsdUNBQUVBLEVBQUUsU0FBUzBELFlBQVk1QixFQUFFLEVBQUU7d0JBRW5FLHdCQUF3Qjt3QkFDcEIrQixJQUFJakUseURBQUtBLENBQUN3TCxvQkFBb0J2TCx5REFBS0EsQ0FBQyxVQUFVLE1BQU1PLHlEQUFhQSxDQUFDaUYsUUFBUTt3QkFDbkU7OzRCQUFNM0YsMkRBQU9BLENBQUNtRTs7O3dCQUFyQndILE9BQU87d0JBRVgsSUFBSSxDQUFDQSxLQUFLQyxLQUFLLEVBQUU7NEJBQ2Y7O2dDQUFPLE1BQUtDLDZCQUE2QixDQUFDRixLQUFLekosSUFBSSxDQUFDLEVBQUU7O3dCQUN4RDt3QkFFQSwwQkFBMEI7d0JBQzFCaUMsSUFBSWpFLHlEQUFLQSxDQUFDd0wsb0JBQW9CdkwseURBQUtBLENBQUMsVUFBVSxNQUFNTyx5REFBYUEsQ0FBQ29MLFVBQVU7d0JBQ3JFOzs0QkFBTTlMLDJEQUFPQSxDQUFDbUU7Ozt3QkFBckJ3SCxPQUFPO3dCQUVQLElBQUksQ0FBQ0EsS0FBS0MsS0FBSyxFQUFFOzRCQUNmOztnQ0FBTyxNQUFLQyw2QkFBNkIsQ0FBQ0YsS0FBS3pKLElBQUksQ0FBQyxFQUFFOzt3QkFDeEQ7d0JBRUEsYUFBYTt3QkFDYjs7NEJBQU87Z0NBQUVkLFNBQVM7Z0NBQU1xQixNQUFNOzRCQUFLOzs7O1FBQ3JDOztJQUVBOztHQUVDLEdBQ0QsT0FBY29KLDZCQWlCYixHQWpCRCxTQUFjQSw4QkFDWm5LLFVBQStDO2VBRGpEO2dCQVFlUyxpQkFDQUEsaUJBTlBBLE1BS09BLHdCQUNBQSx3QkFMUGYsU0FVQXFCOztnQkFYQU4sT0FBT1QsV0FBV1MsSUFBSTtnQkFDdEJmLFVBQW1CO29CQUN2QmdCLElBQUlWLFdBQVdVLEVBQUU7bUJBQ2REO29CQUNILHdFQUF3RTtvQkFDeEVtQixXQUFXbkIsQ0FBQUEsMEJBQUFBLGtCQUFBQSxLQUFLbUIsU0FBUyxjQUFkbkIsc0NBQUFBLGdCQUFnQnlELE1BQU0sZ0JBQXRCekQsb0NBQUFBLHlCQUE0QixJQUFJZTtvQkFDM0NLLFdBQVdwQixDQUFBQSwwQkFBQUEsa0JBQUFBLEtBQUtvQixTQUFTLGNBQWRwQixzQ0FBQUEsZ0JBQWdCeUQsTUFBTSxnQkFBdEJ6RCxvQ0FBQUEseUJBQTRCLElBQUllOztnQkFHN0MsbUVBQW1FO2dCQUNuRSxzREFBc0Q7Z0JBQ2hEVDtnQkFFTjs7b0JBQU87d0JBQUVyQixTQUFBQTt3QkFBU3FCLE1BQUFBO29CQUFLOzs7UUFDekI7O0lBRUE7OztHQUdDLEdBQ0QsT0FBTXNKLGFBNkVMLEdBN0VELFNBQU1BLGNBQWMsS0FNbkI7WUFMQ3RDLFdBRGtCLE1BQ2xCQSxVQUNBd0IsY0FGa0IsTUFFbEJBO2VBRkY7Z0JBUVFqSCxhQU1BZ0ksVUFDQUMsV0FDQUMsY0FNQUMsU0FDQUMsVUFDQTlLLFFBR0ErSyxjQUNBQyxlQU1BOUosV0FHQStKLGlCQUNBQzs7Ozt3QkEvQk4sd0NBQXdDO3dCQUNsQ3hJLGNBQWN6RCw4Q0FBV0EsQ0FBQ3lELFdBQVc7d0JBQzNDLElBQUksQ0FBQ0EsYUFBYTs0QkFDaEIsTUFBTSxJQUFJL0IsTUFBTTt3QkFDbEI7d0JBRUEsbUNBQW1DO3dCQUM3QitKLFdBQVdsTSw4REFBVUEsQ0FBQ1EsdUNBQUVBLEVBQUU7d0JBQzFCMkwsWUFBWS9MLHlEQUFLQSxDQUFDOEwsVUFBVTdMLHlEQUFLQSxDQUFDLFlBQVksTUFBTXNKO3dCQUNyQzs7NEJBQU16SiwyREFBT0EsQ0FBQ2lNOzs7d0JBQTdCQyxlQUFlO3dCQUVyQixJQUFJQSxhQUFhTixLQUFLLEVBQUU7NEJBQ3RCLE1BQU0sSUFBSTNKLE1BQU07d0JBQ2xCO3dCQUVNa0ssVUFBVUQsYUFBYWhLLElBQUksQ0FBQyxFQUFFO3dCQUM5QmtLLFdBQVdELFFBQVFoSyxJQUFJO3dCQUN2QmIsU0FBUzZLLFFBQVEvSixFQUFFO3dCQUV6Qix1Q0FBdUM7d0JBQ2pDaUssZUFBZXRNLHVEQUFHQSxDQUFDTyx1Q0FBRUEsRUFBRSx3QkFBd0IySzt3QkFDL0I7OzRCQUFNaEwsMERBQU1BLENBQUNvTTs7O3dCQUE3QkMsZ0JBQWdCO3dCQUV0QixJQUFJLENBQUNBLGNBQWN4QixNQUFNLElBQUk7NEJBQzNCLE1BQU0sSUFBSTdJLE1BQU07d0JBQ2xCO3dCQUVNTyxZQUFZOEosY0FBY25LLElBQUk7d0JBRXBDLHVDQUF1Qzt3QkFDakNvSyxrQkFBa0IsR0FBa0JqTCxPQUFmMkosYUFBWSxLQUFhL0gsT0FBVjVCLFFBQU8sS0FBYyxPQUFYNEIsS0FBS3VKLEdBQUc7d0JBQ3RERCxvQkFBb0I7NEJBQ3hCcEssSUFBSW1LOzRCQUNKL0osV0FBV0E7NEJBQ1h5SSxhQUFBQTs0QkFDQTNKLFFBQUFBOzRCQUNBb0wsVUFBVU4sU0FBU00sUUFBUSxJQUFJOzRCQUMvQjlDLGNBQWN3QyxTQUFTeEMsWUFBWSxJQUFJLENBQUM7NEJBQ3hDK0MsVUFBVTs0QkFDVkMsaUJBQWlCOzRCQUNqQjdKLGFBQWE7NEJBQ2I4SixLQUFLdkw7NEJBQ0x3TCxVQUFVVixTQUFTVSxRQUFRLElBQUk7NEJBQy9CQyxNQUFNOzRCQUNOQyxTQUFTOzRCQUNUQyxVQUFVOzRCQUNWeEQsVUFBQUE7NEJBQ0F5RCxVQUFVLElBQUloSzs0QkFDZEksV0FBVyxJQUFJSjs0QkFDZkssV0FBVyxJQUFJTDs0QkFDZmlLLGFBQWE7Z0NBQ1hDLGdCQUFnQjtnQ0FDaEJDLGlCQUFpQjtnQ0FDakJDLGFBQWE7Z0NBQ2JDLGNBQWM7Z0NBQ2RDLGNBQWM7Z0NBQ2RDLG1CQUFtQjtnQ0FDbkJDLGlCQUFpQjtnQ0FDakJDLG1CQUFtQjtnQ0FDbkJDLG1CQUFtQjtnQ0FDbkJDLHVCQUF1Qjs0QkFDekI7NEJBQ0FDLGVBQWU7NEJBQ2ZDLGVBQWU7NEJBQ2ZDLGlCQUFpQjs0QkFDakJDLFFBQVE7d0JBQ1Y7d0JBRUEsOEJBQThCO3dCQUM5Qjs7NEJBQU01TiwwREFBTUEsQ0FBQ04sdURBQUdBLENBQUNPLHVDQUFFQSxFQUFFLGtCQUFrQmlNLGtCQUFrQkM7Ozt3QkFBekQ7Ozs7OztRQUNGOztXQTd4Qkl6TDs7QUFneUJDLElBQU1tTixpQkFBaUIsSUFBSW5OLGlCQUFpQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvYXBpL2ZpcmViYXNlL3dvcmtvdXQvc2VydmljZS50cz9jNWUyIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9hcGkvZmlyZWJhc2Uvd29ya291dC9zZXJ2aWNlLnRzXG5pbXBvcnQge1xuICBjb2xsZWN0aW9uLFxuICBkb2MsXG4gIGdldERvY3MsXG4gIGdldERvYyxcbiAgcXVlcnksXG4gIHdoZXJlLFxuICBvcmRlckJ5LCBcbiAgRG9jdW1lbnREYXRhLFxuICBRdWVyeURvY3VtZW50U25hcHNob3QsXG4gIHNldERvY1xufSBmcm9tICdmaXJlYmFzZS9maXJlc3RvcmUnO1xuXG5pbXBvcnQgeyAgXG4gIFVzZXJDaGFsbGVuZ2VcbiB9IGZyb20gJy4uLy4uLy4uL3R5cGVzL0NoYWxsZW5nZVR5cGVzJztcblxuaW1wb3J0IHsgZGIgfSBmcm9tICcuLi9jb25maWcnO1xuaW1wb3J0IHsgdXNlclNlcnZpY2UgfSBmcm9tICcuLi91c2VyJztcbmltcG9ydCB7IEV4ZXJjaXNlTG9nLCBFeGVyY2lzZUNhdGVnb3J5LCBFeGVyY2lzZSwgQm9keVBhcnQsIEV4ZXJjaXNlVmlkZW8sIEV4ZXJjaXNlQXV0aG9yIH0gZnJvbSAnLi4vZXhlcmNpc2UvdHlwZXMnO1xuaW1wb3J0IHtQcm9maWxlSW1hZ2V9IGZyb20gJy4uL3VzZXIvdHlwZXMnXG5pbXBvcnQgeyBXb3Jrb3V0LCBXb3Jrb3V0U3VtbWFyeSwgQm9keVpvbmUgfSBmcm9tICcuLi93b3Jrb3V0L3R5cGVzJztcbmltcG9ydCB7IFdvcmtvdXRTdGF0dXMgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IGZvcm1hdCB9IGZyb20gJ2RhdGUtZm5zJzsgXG5pbXBvcnQgeyBjb252ZXJ0VGltZXN0YW1wIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvdGltZXN0YW1wJzsgLy8gQWRqdXN0IHRoZSBpbXBvcnQgcGF0aFxuaW1wb3J0IHsgZm9ybWF0RGF0ZSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2Zvcm1hdERhdGUnO1xuaW1wb3J0IHsgQ2hhbGxlbmdlLCBDaGFsbGVuZ2VTdGF0dXMgfSBmcm9tICcuLi8uLi8uLi90eXBlcy9DaGFsbGVuZ2VUeXBlcyc7XG5cblxuaW50ZXJmYWNlIEZpcmVzdG9yZUVycm9yIHtcbiAgY29kZTogc3RyaW5nO1xuICBtZXNzYWdlOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgc3RhY2s/OiBzdHJpbmc7XG59XG5cbmNsYXNzIFdvcmtvdXRTZXJ2aWNlIHtcbiAgcHJpdmF0ZSBjdXJyZW50V29ya291dDogV29ya291dCB8IG51bGwgPSBudWxsO1xuXG4gIC8qKlxuICAgKiBGZXRjaCB0aGUgdXNlcidzIGN1cnJlbnQgd29ya291dCAoZWl0aGVyIFF1ZXVlZFVwIG9yIEluUHJvZ3Jlc3MpLlxuICAgKi9cbiAgYXN5bmMgZmV0Y2hDdXJyZW50V29ya291dCgpOiBQcm9taXNlPFdvcmtvdXQgfCBudWxsPiB7XG4gICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IHRoaXMuZmV0Y2hDdXJyZW50V29ya291dFNlc3Npb24oKTtcbiAgICByZXR1cm4gc2Vzc2lvbi53b3Jrb3V0O1xuICB9XG5cbiAgYXN5bmMgZ2V0QWxsU3dlYXRsaXN0cyh1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8V29ya291dFtdPiB7XG4gICAgaWYgKCF1c2VySWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVXNlciBJRCBpcyByZXF1aXJlZCcpO1xuICAgIH1cbiAgXG4gICAgLy8gUmVmZXJlbmNlIHRvIHRoZSB1c2VyJ3Mgd29ya291dCBjb2xsZWN0aW9uXG4gICAgY29uc3Qgd29ya291dHNSZWYgPSBjb2xsZWN0aW9uKGRiLCAndXNlcnMnLCB1c2VySWQsICdNeUNyZWF0ZWRXb3Jrb3V0cycpO1xuICBcbiAgICB0cnkge1xuICAgICAgLy8gUXVlcnkgdG8gZmV0Y2ggYWxsIHdvcmtvdXRzXG4gICAgICBjb25zdCB3b3Jrb3V0c1NuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyh3b3Jrb3V0c1JlZik7XG4gICAgICBjb25zdCB3b3Jrb3V0czogV29ya291dFtdID0gW107XG4gIFxuICAgICAgLy8gUHJvY2VzcyBlYWNoIHdvcmtvdXQgZG9jdW1lbnRcbiAgICAgIGZvciAoY29uc3Qgd29ya291dERvYyBvZiB3b3Jrb3V0c1NuYXBzaG90LmRvY3MpIHtcbiAgICAgICAgY29uc3Qgd29ya291dERhdGEgPSB3b3Jrb3V0RG9jLmRhdGEoKTtcbiAgICAgICAgY29uc3Qgd29ya291dElkID0gd29ya291dERvYy5pZDtcbiAgXG4gICAgICAgIC8vIFBhcnNlIHdvcmtvdXQgZGF0YSBpbnRvIHRoZSBkZXNpcmVkIHN0cnVjdHVyZVxuICAgICAgICBjb25zdCB3b3Jrb3V0ID0gbmV3IFdvcmtvdXQoe1xuICAgICAgICAgIGlkOiB3b3Jrb3V0RGF0YS5pZCB8fCAnJyxcbiAgICAgICAgICByb3VuZFdvcmtvdXRJZDogd29ya291dERhdGEucm91bmRXb3Jrb3V0SWQgfHwgJycsXG4gICAgICAgICAgY29sbGVjdGlvbklkOiB3b3Jrb3V0RGF0YS5jb2xsZWN0aW9uSWQsXG4gICAgICAgICAgZXhlcmNpc2VzOiB3b3Jrb3V0RGF0YS5leGVyY2lzZXMgfHwgW10sXG4gICAgICAgICAgY2hhbGxlbmdlOiB3b3Jrb3V0RGF0YS5jaGFsbGVuZ2UsXG4gICAgICAgICAgbG9nczogW10sXG4gICAgICAgICAgdGl0bGU6IHdvcmtvdXREYXRhLnRpdGxlIHx8ICcnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiB3b3Jrb3V0RGF0YS5kZXNjcmlwdGlvbiB8fCAnJyxcbiAgICAgICAgICBkdXJhdGlvbjogd29ya291dERhdGEuZHVyYXRpb24gfHwgMCxcbiAgICAgICAgICB3b3Jrb3V0UmF0aW5nOiB3b3Jrb3V0RGF0YS53b3Jrb3V0UmF0aW5nLFxuICAgICAgICAgIHVzZUF1dGhvckNvbnRlbnQ6IHdvcmtvdXREYXRhLnVzZUF1dGhvckNvbnRlbnQgfHwgZmFsc2UsXG4gICAgICAgICAgaXNDb21wbGV0ZWQ6IHdvcmtvdXREYXRhLmlzQ29tcGxldGVkIHx8IGZhbHNlLFxuICAgICAgICAgIHdvcmtvdXRTdGF0dXM6IHdvcmtvdXREYXRhLndvcmtvdXRTdGF0dXMgfHwgJ25vdFN0YXJ0ZWQnLFxuICAgICAgICAgIHN0YXJ0VGltZTogd29ya291dERhdGEuc3RhcnRUaW1lID8gbmV3IERhdGUod29ya291dERhdGEuc3RhcnRUaW1lKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICBvcmRlcjogd29ya291dERhdGEub3JkZXIsXG4gICAgICAgICAgYXV0aG9yOiB3b3Jrb3V0RGF0YS5hdXRob3IgfHwgdXNlcklkLFxuICAgICAgICAgIGNyZWF0ZWRBdDogd29ya291dERhdGEuY3JlYXRlZEF0ID8gbmV3IERhdGUod29ya291dERhdGEuY3JlYXRlZEF0KSA6IG5ldyBEYXRlKCksXG4gICAgICAgICAgdXBkYXRlZEF0OiB3b3Jrb3V0RGF0YS51cGRhdGVkQXQgPyBuZXcgRGF0ZSh3b3Jrb3V0RGF0YS51cGRhdGVkQXQpIDogbmV3IERhdGUoKSxcbiAgICAgICAgICB6b25lOiB3b3Jrb3V0RGF0YS56b25lIHx8ICdGVUxMX0JPRFknLFxuICAgICAgICB9KTsgICAgICAgIFxuICBcbiAgICAgICAgLy8gRmV0Y2ggYW5kIHByb2Nlc3MgbG9nc1xuICAgICAgICBjb25zdCBsb2dzUmVmID0gY29sbGVjdGlvbihkYiwgJ3VzZXJzJywgdXNlcklkLCAnTXlDcmVhdGVkV29ya291dHMnLCB3b3Jrb3V0SWQsICdsb2dzJyk7XG4gICAgICAgIGNvbnN0IGxvZ3NTbmFwc2hvdCA9IGF3YWl0IGdldERvY3MobG9nc1JlZik7XG4gICAgICAgIHdvcmtvdXQubG9ncyA9IGxvZ3NTbmFwc2hvdC5kb2NzLm1hcCgobG9nRG9jKSA9PiAoe1xuICAgICAgICAgIC4uLmxvZ0RvYy5kYXRhKCksXG4gICAgICAgICAgaWQ6IGxvZ0RvYy5pZCxcbiAgICAgICAgfSkpIGFzIEV4ZXJjaXNlTG9nW107XG4gIFxuICAgICAgICB3b3Jrb3V0cy5wdXNoKHdvcmtvdXQpO1xuICAgICAgfVxuICBcbiAgICAgIHJldHVybiB3b3Jrb3V0cztcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc3QgZmlyZXN0b3JlRXJyb3IgPSBlcnJvciBhcyBGaXJlc3RvcmVFcnJvcjtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHN3ZWF0bGlzdHM6JywgZmlyZXN0b3JlRXJyb3IubWVzc2FnZSk7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCBzd2VhdGxpc3RzJyk7XG4gICAgfVxuICB9XG4gIFxuICAvKipcbiAgICogRmV0Y2hlcyB3b3Jrb3V0IHN1bW1hcmllcyBmb3IgYSBzcGVjaWZpYyBkYXRlLlxuICAgKiBAcGFyYW0gZGF0ZSAtIFRoZSBkYXRlIGZvciB3aGljaCB3b3Jrb3V0IHN1bW1hcmllcyBhcmUgYmVpbmcgZmV0Y2hlZC5cbiAgICogQHJldHVybnMgQSBwcm9taXNlIHJlc29sdmluZyB0byBhbiBhcnJheSBvZiB3b3Jrb3V0IHN1bW1hcmllcy5cbiAgICogQHRocm93cyBJZiBubyB1c2VyIGlzIHNpZ25lZCBpbiBvciBpZiB0aGUgRmlyZXN0b3JlIHF1ZXJ5IGZhaWxzLlxuICAgKi9cbiAgYXN5bmMgZmV0Y2hXb3Jrb3V0U3VtbWFyaWVzKGRhdGU6IERhdGUpOiBQcm9taXNlPFdvcmtvdXRTdW1tYXJ5W10+IHtcbiAgICBjb25zdCBjdXJyZW50VXNlciA9IHVzZXJTZXJ2aWNlLmN1cnJlbnRVc2VyO1xuICAgIGlmICghY3VycmVudFVzZXI/LmlkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHVzZXIgaXMgc2lnbmVkIGluJyk7XG4gICAgfVxuXG4gICAgLy8gRm9ybWF0IHRoZSBkYXRlIHRvIG1hdGNoIHRoZSBmb3JtYXQgaW4gRmlyZXN0b3JlICgnTU0tZGQteXl5eScpXG4gICAgY29uc3QgZm9ybWF0dGVkRGF0ZSA9IGZvcm1hdChkYXRlLCAnTU0tZGQteXl5eScpO1xuXG4gICAgLy8gUmVmZXJlbmNlIHRvIHRoZSB1c2VyJ3Mgd29ya291dFN1bW1hcmllcyBzdWJjb2xsZWN0aW9uXG4gICAgY29uc3Qgc3VtbWFyaWVzUmVmID0gY29sbGVjdGlvbihkYiwgJ3VzZXJzJywgY3VycmVudFVzZXIuaWQsICd3b3Jrb3V0U3VtbWFyaWVzJyk7XG5cbiAgICAvLyBDcmVhdGUgYSBxdWVyeSB0byBmaWx0ZXIgZG9jdW1lbnRzIGJ5IHRoZSBzcGVjaWZpZWQgZGF0ZVxuICAgIGNvbnN0IHEgPSBxdWVyeShzdW1tYXJpZXNSZWYsIHdoZXJlKCdkYXRlJywgJz09JywgZm9ybWF0dGVkRGF0ZSkpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhxKTtcblxuICAgICAgLy8gTWFwIHRoZSBkb2N1bWVudHMgdG8gYW4gYXJyYXkgb2YgV29ya291dFN1bW1hcnkgb2JqZWN0c1xuICAgICAgcmV0dXJuIHNuYXBzaG90LmRvY3MubWFwKChkb2M6IERvY3VtZW50RGF0YSkgPT4gKHtcbiAgICAgICAgaWQ6IGRvYy5pZCxcbiAgICAgICAgLi4uZG9jLmRhdGEoKSxcbiAgICAgIH0pKSBhcyBXb3Jrb3V0U3VtbWFyeVtdO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zdCBmaXJlc3RvcmVFcnJvciA9IGVycm9yIGFzIEZpcmVzdG9yZUVycm9yO1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgd29ya291dCBzdW1tYXJpZXM6JywgZmlyZXN0b3JlRXJyb3IubWVzc2FnZSk7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZmlyZXN0b3JlRXJyb3IubWVzc2FnZSk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZmV0Y2hBbGxXb3Jrb3V0U3VtbWFyaWVzKCk6IFByb21pc2U8V29ya291dFN1bW1hcnlbXT4ge1xuICAgIGNvbnN0IGN1cnJlbnRVc2VyID0gdXNlclNlcnZpY2UuY3VycmVudFVzZXI7XG4gICAgaWYgKCFjdXJyZW50VXNlcj8uaWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gdXNlciBpcyBzaWduZWQgaW4nKTtcbiAgICB9XG4gIFxuICAgIC8vIFJlZmVyZW5jZSB0byB0aGUgdXNlcidzIHdvcmtvdXRTdW1tYXJpZXMgc3ViY29sbGVjdGlvblxuICAgIGNvbnN0IHN1bW1hcmllc1JlZiA9IGNvbGxlY3Rpb24oZGIsICd1c2VycycsIGN1cnJlbnRVc2VyLmlkLCAnd29ya291dFN1bW1hcnknKTtcbiAgXG4gICAgLy8gUXVlcnkgdG8gcmV0cmlldmUgYWxsIHdvcmtvdXQgc3VtbWFyaWVzLCBzb3J0ZWQgYnkgYGNyZWF0ZWRBdGAgaW4gYXNjZW5kaW5nIG9yZGVyXG4gICAgY29uc3QgcSA9IHF1ZXJ5KHN1bW1hcmllc1JlZiwgb3JkZXJCeSgnY3JlYXRlZEF0JywgJ2FzYycpKTsgLy8gQWRqdXN0IGZpZWxkIG5hbWUgYmFzZWQgb24geW91ciBzY2hlbWFcbiAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhxKTtcbiAgXG4gICAgICAvLyBNYXAgdGhlIGRvY3VtZW50cyB0byBhbiBhcnJheSBvZiBXb3Jrb3V0U3VtbWFyeSBvYmplY3RzXG4gICAgICByZXR1cm4gc25hcHNob3QuZG9jcy5tYXAoKGRvYzogRG9jdW1lbnREYXRhKSA9PiAoe1xuICAgICAgICBpZDogZG9jLmlkLFxuICAgICAgICAuLi5kb2MuZGF0YSgpLFxuICAgICAgfSkpIGFzIFdvcmtvdXRTdW1tYXJ5W107XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnN0IGZpcmVzdG9yZUVycm9yID0gZXJyb3IgYXMgRmlyZXN0b3JlRXJyb3I7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBhbGwgd29ya291dCBzdW1tYXJpZXM6JywgZmlyZXN0b3JlRXJyb3IubWVzc2FnZSk7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZmlyZXN0b3JlRXJyb3IubWVzc2FnZSk7XG4gICAgfVxuICB9XG5cblxuICAvKipcbiAqIEZldGNoIHVzZXIgY2hhbGxlbmdlcyBieSB1c2VySWQuXG4gKiBAcGFyYW0gdXNlcklkIFRoZSBJRCBvZiB0aGUgdXNlciB0byBmZXRjaCBjaGFsbGVuZ2VzIGZvci5cbiAqIEByZXR1cm5zIEEgcHJvbWlzZSByZXNvbHZpbmcgdG8gYW4gYXJyYXkgb2YgdXNlciBjaGFsbGVuZ2VzLlxuICogQHRocm93cyBJZiB0aGUgRmlyZXN0b3JlIHF1ZXJ5IGZhaWxzLlxuICovXG5hc3luYyBmZXRjaFVzZXJDaGFsbGVuZ2VzQnlVc2VySWQodXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPFVzZXJDaGFsbGVuZ2VbXT4ge1xuICBjb25zdCB1c2VyQ2hhbGxlbmdlc1JlZiA9IGNvbGxlY3Rpb24oZGIsICd1c2VyLWNoYWxsZW5nZScpO1xuICBjb25zdCBxID0gcXVlcnkodXNlckNoYWxsZW5nZXNSZWYsIHdoZXJlKCd1c2VySWQnLCAnPT0nLCB1c2VySWQpKTtcblxuICB0cnkge1xuICAgIGNvbnNvbGUubG9nKGBGZXRjaGluZyBjaGFsbGVuZ2VzIGZvciB1c2VyIElEOiAke3VzZXJJZH1gKTtcblxuICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhxKTtcblxuICAgIGNvbnNvbGUubG9nKGBUb3RhbCBjaGFsbGVuZ2VzIGZldGNoZWQ6ICR7c25hcHNob3QuZG9jcy5sZW5ndGh9YCk7XG5cbiAgICBjb25zdCB1c2VyQ2hhbGxlbmdlcyA9IHNuYXBzaG90LmRvY3MubWFwKChkb2M6IERvY3VtZW50RGF0YSkgPT4ge1xuICAgICAgY29uc3QgZGF0YSA9IGRvYy5kYXRhKCk7XG4gICAgICBjb25zb2xlLmxvZyhgUHJvY2Vzc2luZyBjaGFsbGVuZ2Ugd2l0aCBJRDogJHtkb2MuaWR9YCwgZGF0YSk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlkOiBkb2MuaWQsXG4gICAgICAgIC4uLmRhdGEsXG4gICAgICAgIGNoYWxsZW5nZTogZGF0YS5jaGFsbGVuZ2VcbiAgICAgICAgICA/IG5ldyBDaGFsbGVuZ2Uoe1xuICAgICAgICAgICAgICBpZDogZGF0YS5jaGFsbGVuZ2UuaWQsXG4gICAgICAgICAgICAgIHRpdGxlOiBkYXRhLmNoYWxsZW5nZS50aXRsZSxcbiAgICAgICAgICAgICAgc3VidGl0bGU6IGRhdGEuY2hhbGxlbmdlLnN1YnRpdGxlLFxuICAgICAgICAgICAgICBwYXJ0aWNpcGFudHM6IGRhdGEuY2hhbGxlbmdlLnBhcnRpY2lwYW50cyB8fCBbXSxcbiAgICAgICAgICAgICAgc3RhdHVzOiBkYXRhLmNoYWxsZW5nZS5zdGF0dXMgYXMgQ2hhbGxlbmdlU3RhdHVzLFxuICAgICAgICAgICAgICBzdGFydERhdGU6IGRhdGEuY2hhbGxlbmdlLnN0YXJ0RGF0ZSA/IG5ldyBEYXRlKGRhdGEuY2hhbGxlbmdlLnN0YXJ0RGF0ZSkgOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICBlbmREYXRlOiBkYXRhLmNoYWxsZW5nZS5lbmREYXRlID8gbmV3IERhdGUoZGF0YS5jaGFsbGVuZ2UuZW5kRGF0ZSkgOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICBjcmVhdGVkQXQ6IGRhdGEuY2hhbGxlbmdlLmNyZWF0ZWRBdCA/IG5ldyBEYXRlKGRhdGEuY2hhbGxlbmdlLmNyZWF0ZWRBdCkgOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICB1cGRhdGVkQXQ6IGRhdGEuY2hhbGxlbmdlLnVwZGF0ZWRBdCA/IG5ldyBEYXRlKGRhdGEuY2hhbGxlbmdlLnVwZGF0ZWRBdCkgOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICBpbnRyb1ZpZGVvVVJMOiBkYXRhLmNoYWxsZW5nZS5pbnRyb1ZpZGVvVVJMIHx8ICcnLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgY3JlYXRlZEF0OiBjb252ZXJ0VGltZXN0YW1wKGRhdGEuY3JlYXRlZEF0KSxcbiAgICAgICAgdXBkYXRlZEF0OiBjb252ZXJ0VGltZXN0YW1wKGRhdGEudXBkYXRlZEF0KSxcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICBjb25zb2xlLmxvZygnQWxsIGNoYWxsZW5nZXMgYWZ0ZXIgcHJvY2Vzc2luZzonLCBKU09OLnN0cmluZ2lmeSh1c2VyQ2hhbGxlbmdlcywgbnVsbCwgMikpO1xuXG4gICAgcmV0dXJuIHVzZXJDaGFsbGVuZ2VzO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHVzZXIgY2hhbGxlbmdlcyBieSB1c2VySWQ6JywgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbmFzeW5jIGZldGNoQ29sbGVjdGlvbldpdGhTd2VhdExpc3RzKGNvbGxlY3Rpb25JZDogc3RyaW5nKTogUHJvbWlzZTx7IGNvbGxlY3Rpb246IGFueSwgc3dlYXRMaXN0czogV29ya291dFtdIH0+IHtcbiAgdHJ5IHtcbiAgICAvLyBGZXRjaCB0aGUgY29sbGVjdGlvblxuICAgIGNvbnN0IGNvbGxlY3Rpb24gPSBhd2FpdCB0aGlzLmdldENvbGxlY3Rpb25CeUlkKGNvbGxlY3Rpb25JZCk7XG5cbiAgICAvLyBGZXRjaCBzd2VhdCBsaXN0cyAod29ya291dHMpXG4gICAgY29uc3Qgc3dlYXRMaXN0czogV29ya291dFtdID0gW107XG4gICAgXG4gICAgLy8gQXNzdW1pbmcgY29sbGVjdGlvbiBoYXMgc3dlYXRsaXN0SWRzIHdpdGggYXV0aG9yIGFuZCB3b3Jrb3V0IElEc1xuICAgIGZvciAoY29uc3Qgc3dlYXRsaXN0SWRlbnRpZmllciBvZiBjb2xsZWN0aW9uLnN3ZWF0bGlzdElkcyB8fCBbXSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgW3dvcmtvdXRdID0gYXdhaXQgdGhpcy5mZXRjaFNhdmVkV29ya291dChcbiAgICAgICAgICBzd2VhdGxpc3RJZGVudGlmaWVyLnN3ZWF0bGlzdEF1dGhvcklkLCBcbiAgICAgICAgICBzd2VhdGxpc3RJZGVudGlmaWVyLmlkXG4gICAgICAgICk7XG4gICAgICAgIFxuICAgICAgICBpZiAod29ya291dCkge1xuICAgICAgICAgIHN3ZWF0TGlzdHMucHVzaCh3b3Jrb3V0KTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgZmV0Y2hpbmcgd29ya291dCAke3N3ZWF0bGlzdElkZW50aWZpZXIuaWR9OmAsIGVycm9yKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4geyBjb2xsZWN0aW9uLCBzd2VhdExpc3RzIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgY29sbGVjdGlvbiB3aXRoIHN3ZWF0IGxpc3RzOicsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuXG4vLyBPcHRpb25hbCBoZWxwZXIgbWV0aG9kcyBmb3IgcGFyc2luZyBpZiBuZWVkZWRcbnByaXZhdGUgcGFyc2VXb3Jrb3V0RGF0YShkYXRhOiBEb2N1bWVudERhdGEpOiBXb3Jrb3V0IHtcbiAgcmV0dXJuIG5ldyBXb3Jrb3V0KHtcbiAgICBpZDogZGF0YS5pZCB8fCAnJyxcbiAgICByb3VuZFdvcmtvdXRJZDogZGF0YS5yb3VuZFdvcmtvdXRJZCB8fCAnJyxcbiAgICBjb2xsZWN0aW9uSWQ6IGRhdGEuY29sbGVjdGlvbklkIHx8IFtdLFxuICAgIGV4ZXJjaXNlczogZGF0YS5leGVyY2lzZXMgfHwgW10sXG4gICAgY2hhbGxlbmdlOiBkYXRhLmNoYWxsZW5nZSBcbiAgICAgID8gbmV3IENoYWxsZW5nZSh7XG4gICAgICAgICAgaWQ6IGRhdGEuY2hhbGxlbmdlLmlkLFxuICAgICAgICAgIHRpdGxlOiBkYXRhLmNoYWxsZW5nZS50aXRsZSxcbiAgICAgICAgICBzdWJ0aXRsZTogZGF0YS5jaGFsbGVuZ2Uuc3VidGl0bGUsXG4gICAgICAgICAgcGFydGljaXBhbnRzOiBkYXRhLmNoYWxsZW5nZS5wYXJ0aWNpcGFudHMgfHwgW10sXG4gICAgICAgICAgc3RhdHVzOiBkYXRhLmNoYWxsZW5nZS5zdGF0dXMgYXMgQ2hhbGxlbmdlU3RhdHVzLFxuICAgICAgICAgIHN0YXJ0RGF0ZTogZGF0YS5jaGFsbGVuZ2Uuc3RhcnREYXRlIGluc3RhbmNlb2YgRGF0ZSBcbiAgICAgICAgICAgID8gZGF0YS5jaGFsbGVuZ2Uuc3RhcnREYXRlIFxuICAgICAgICAgICAgOiAoZGF0YS5jaGFsbGVuZ2Uuc3RhcnREYXRlID8gbmV3IERhdGUoZGF0YS5jaGFsbGVuZ2Uuc3RhcnREYXRlKSA6IG5ldyBEYXRlKCkpLFxuICAgICAgICAgIGVuZERhdGU6IGRhdGEuY2hhbGxlbmdlLmVuZERhdGUgaW5zdGFuY2VvZiBEYXRlIFxuICAgICAgICAgICAgPyBkYXRhLmNoYWxsZW5nZS5lbmREYXRlIFxuICAgICAgICAgICAgOiAoZGF0YS5jaGFsbGVuZ2UuZW5kRGF0ZSA/IG5ldyBEYXRlKGRhdGEuY2hhbGxlbmdlLmVuZERhdGUpIDogbmV3IERhdGUoKSksXG4gICAgICAgICAgY3JlYXRlZEF0OiBkYXRhLmNoYWxsZW5nZS5jcmVhdGVkQXQgaW5zdGFuY2VvZiBEYXRlIFxuICAgICAgICAgICAgPyBkYXRhLmNoYWxsZW5nZS5jcmVhdGVkQXQgXG4gICAgICAgICAgICA6IChkYXRhLmNoYWxsZW5nZS5jcmVhdGVkQXQgPyBuZXcgRGF0ZShkYXRhLmNoYWxsZW5nZS5jcmVhdGVkQXQpIDogbmV3IERhdGUoKSksXG4gICAgICAgICAgdXBkYXRlZEF0OiBkYXRhLmNoYWxsZW5nZS51cGRhdGVkQXQgaW5zdGFuY2VvZiBEYXRlIFxuICAgICAgICAgICAgPyBkYXRhLmNoYWxsZW5nZS51cGRhdGVkQXQgXG4gICAgICAgICAgICA6IChkYXRhLmNoYWxsZW5nZS51cGRhdGVkQXQgPyBuZXcgRGF0ZShkYXRhLmNoYWxsZW5nZS51cGRhdGVkQXQpIDogbmV3IERhdGUoKSksXG4gICAgICAgICAgaW50cm9WaWRlb1VSTDogZGF0YS5jaGFsbGVuZ2UuaW50cm9WaWRlb1VSTCB8fCAnJyxcbiAgICAgICAgfSlcbiAgICAgIDogdW5kZWZpbmVkLFxuICAgIGxvZ3M6IGRhdGEubG9ncyB8fCBbXSxcbiAgICB0aXRsZTogZGF0YS50aXRsZSB8fCAnJyxcbiAgICBkZXNjcmlwdGlvbjogZGF0YS5kZXNjcmlwdGlvbiB8fCAnJyxcbiAgICBkdXJhdGlvbjogZGF0YS5kdXJhdGlvbiB8fCAwLFxuICAgIHdvcmtvdXRSYXRpbmc6IGRhdGEud29ya291dFJhdGluZyxcbiAgICB1c2VBdXRob3JDb250ZW50OiBkYXRhLnVzZUF1dGhvckNvbnRlbnQgfHwgZmFsc2UsXG4gICAgaXNDb21wbGV0ZWQ6IGRhdGEuaXNDb21wbGV0ZWQgfHwgZmFsc2UsXG4gICAgd29ya291dFN0YXR1czogZGF0YS53b3Jrb3V0U3RhdHVzIHx8IFdvcmtvdXRTdGF0dXMuUXVldWVkVXAsXG4gICAgc3RhcnRUaW1lOiBkYXRhLnN0YXJ0VGltZSBpbnN0YW5jZW9mIERhdGUgXG4gICAgICA/IGRhdGEuc3RhcnRUaW1lIFxuICAgICAgOiAoZGF0YS5zdGFydFRpbWUgPyBuZXcgRGF0ZShkYXRhLnN0YXJ0VGltZSkgOiB1bmRlZmluZWQpLFxuICAgIG9yZGVyOiBkYXRhLm9yZGVyIHx8IDAsXG4gICAgYXV0aG9yOiBkYXRhLmF1dGhvciB8fCAnJyxcbiAgICBjcmVhdGVkQXQ6IGRhdGEuY3JlYXRlZEF0IGluc3RhbmNlb2YgRGF0ZSBcbiAgICAgID8gZGF0YS5jcmVhdGVkQXQgXG4gICAgICA6ICh0eXBlb2YgZGF0YS5jcmVhdGVkQXQ/LnRvRGF0ZSA9PT0gJ2Z1bmN0aW9uJyBcbiAgICAgICAgPyBkYXRhLmNyZWF0ZWRBdC50b0RhdGUoKSBcbiAgICAgICAgOiAoZGF0YS5jcmVhdGVkQXQgPyBuZXcgRGF0ZShkYXRhLmNyZWF0ZWRBdCkgOiBuZXcgRGF0ZSgpKSksXG4gICAgdXBkYXRlZEF0OiBkYXRhLnVwZGF0ZWRBdCBpbnN0YW5jZW9mIERhdGUgXG4gICAgICA/IGRhdGEudXBkYXRlZEF0IFxuICAgICAgOiAodHlwZW9mIGRhdGEudXBkYXRlZEF0Py50b0RhdGUgPT09ICdmdW5jdGlvbicgXG4gICAgICAgID8gZGF0YS51cGRhdGVkQXQudG9EYXRlKCkgXG4gICAgICAgIDogKGRhdGEudXBkYXRlZEF0ID8gbmV3IERhdGUoZGF0YS51cGRhdGVkQXQpIDogbmV3IERhdGUoKSkpLFxuICAgIHpvbmU6IGRhdGEuem9uZSB8fCBCb2R5Wm9uZS5GdWxsQm9keSxcbiAgICBlc3RpbWF0ZWREdXJhdGlvbjogKCkgPT4gZGF0YS5kdXJhdGlvbiB8fCAwLFxuICAgIGRldGVybWluZVdvcmtvdXRab25lOiAoKSA9PiBkYXRhLnpvbmUgfHwgQm9keVpvbmUuRnVsbEJvZHksXG4gICAgdG9EaWN0aW9uYXJ5OiAoKSA9PiAoe30pIC8vIFBsYWNlaG9sZGVyLCBpbXBsZW1lbnQgYXMgbmVlZGVkXG4gIH0gYXMgV29ya291dCk7XG59XG5cbnByaXZhdGUgcGFyc2VFeGVyY2lzZUxvZ0RhdGEoZGF0YTogRG9jdW1lbnREYXRhKTogRXhlcmNpc2VMb2cge1xuICByZXR1cm4ge1xuICAgIGlkOiBkYXRhLmlkIHx8ICcnLFxuICAgIHdvcmtvdXRJZDogZGF0YS53b3Jrb3V0SWQgfHwgJycsXG4gICAgdXNlcklkOiBkYXRhLnVzZXJJZCB8fCAnJyxcbiAgICBleGVyY2lzZTogZGF0YS5leGVyY2lzZSA/IHRoaXMucGFyc2VFeGVyY2lzZShkYXRhLmV4ZXJjaXNlKSA6IHVuZGVmaW5lZCxcbiAgICBsb2dzOiAoZGF0YS5sb2cgfHwgW10pLm1hcCgobG9nRW50cnk6IGFueSkgPT4gKHtcbiAgICAgIHJlcHM6IHBhcnNlSW50KGxvZ0VudHJ5LnJlcHMgfHwgJzAnKSxcbiAgICAgIHdlaWdodDogcGFyc2VGbG9hdChsb2dFbnRyeS53ZWlnaHQgfHwgJzAnKSxcbiAgICAgIGxlZnRSZXBzOiBwYXJzZUludChsb2dFbnRyeS5sZWZ0UmVwcyB8fCAnMCcpLFxuICAgICAgbGVmdFdlaWdodDogcGFyc2VGbG9hdChsb2dFbnRyeS5sZWZ0V2VpZ2h0IHx8ICcwJyksXG4gICAgICBpc1NwbGl0OiBsb2dFbnRyeS5pc1NwbGl0IHx8IGZhbHNlLFxuICAgICAgaXNCb2R5V2VpZ2h0OiBsb2dFbnRyeS5pc0JvZHlXZWlnaHQgfHwgZmFsc2UsXG4gICAgICBpc0NvbXBsZXRlZDogbG9nRW50cnkuaXNDb21wbGV0ZWQgfHwgZmFsc2UsXG4gICAgICBkdXJhdGlvbjogcGFyc2VJbnQobG9nRW50cnkuZHVyYXRpb24gfHwgJzAnKSxcbiAgICAgIGNhbG9yaWVzOiBwYXJzZUludChsb2dFbnRyeS5jYWxvcmllcyB8fCAnMCcpLFxuICAgICAgYnBtOiBwYXJzZUludChsb2dFbnRyeS5icG0gfHwgJzAnKVxuICAgIH0pKSxcbiAgICBmZWVkYmFjazogZGF0YS5mZWVkYmFjayB8fCAnJyxcbiAgICBub3RlOiBkYXRhLm5vdGUgfHwgJycsXG4gICAgcmVjb21tZW5kZWRXZWlnaHQ6IGRhdGEucmVjb21tZW5kZWRXZWlnaHQsXG4gICAgaXNTcGxpdDogZGF0YS5pc1NwbGl0IHx8IGZhbHNlLFxuICAgIGlzQm9keVdlaWdodDogZGF0YS5pc0JvZHlXZWlnaHQgfHwgZmFsc2UsXG4gICAgbG9nU3VibWl0dGVkOiBkYXRhLmxvZ1N1Ym1pdHRlZCB8fCBmYWxzZSxcbiAgICBsb2dJc0VkaXRpbmc6IGRhdGEubG9nSXNFZGl0aW5nIHx8IGZhbHNlLFxuICAgIGlzQ29tcGxldGVkOiBkYXRhLmlzQ29tcGxldGVkIHx8IGZhbHNlLFxuICAgIGNyZWF0ZWRBdDogZGF0YS5jcmVhdGVkQXQgaW5zdGFuY2VvZiBEYXRlIFxuICAgICAgPyBkYXRhLmNyZWF0ZWRBdCBcbiAgICAgIDogKHR5cGVvZiBkYXRhLmNyZWF0ZWRBdD8udG9EYXRlID09PSAnZnVuY3Rpb24nIFxuICAgICAgICA/IGRhdGEuY3JlYXRlZEF0LnRvRGF0ZSgpIFxuICAgICAgICA6IChkYXRhLmNyZWF0ZWRBdCA/IG5ldyBEYXRlKGRhdGEuY3JlYXRlZEF0KSA6IG5ldyBEYXRlKCkpKSxcbiAgICB1cGRhdGVkQXQ6IGRhdGEudXBkYXRlZEF0IGluc3RhbmNlb2YgRGF0ZSBcbiAgICAgID8gZGF0YS51cGRhdGVkQXQgXG4gICAgICA6ICh0eXBlb2YgZGF0YS51cGRhdGVkQXQ/LnRvRGF0ZSA9PT0gJ2Z1bmN0aW9uJyBcbiAgICAgICAgPyBkYXRhLnVwZGF0ZWRBdC50b0RhdGUoKSBcbiAgICAgICAgOiAoZGF0YS51cGRhdGVkQXQgPyBuZXcgRGF0ZShkYXRhLnVwZGF0ZWRBdCkgOiBuZXcgRGF0ZSgpKSlcbiAgfTtcbn1cblxuLy8gWW91J2xsIGFsc28gbmVlZCB0byBpbXBsZW1lbnQgcGFyc2VFeGVyY2lzZSBzaW1pbGFyIHRvIHRoZSBvcmlnaW5hbCBpbXBsZW1lbnRhdGlvblxucHJpdmF0ZSBwYXJzZUV4ZXJjaXNlKGZpZWxkczogYW55KTogRXhlcmNpc2Uge1xuICByZXR1cm4ge1xuICAgIGlkOiBmaWVsZHMuaWQ/LnN0cmluZ1ZhbHVlIHx8IGZpZWxkcy5pZCB8fCAnJyxcbiAgICBuYW1lOiBmaWVsZHMubmFtZT8uc3RyaW5nVmFsdWUgfHwgZmllbGRzLm5hbWUgfHwgJycsXG4gICAgY2F0ZWdvcnk6IHRoaXMucGFyc2VFeGVyY2lzZUNhdGVnb3J5KGZpZWxkcy5jYXRlZ29yeT8ubWFwVmFsdWU/LmZpZWxkcyB8fCBmaWVsZHMuY2F0ZWdvcnkgfHwge30pLFxuICAgIHByaW1hcnlCb2R5UGFydHM6IHRoaXMucGFyc2VCb2R5UGFydHMoZmllbGRzLnByaW1hcnlCb2R5UGFydHMpLFxuICAgIHNlY29uZGFyeUJvZHlQYXJ0czogdGhpcy5wYXJzZUJvZHlQYXJ0cyhmaWVsZHMuc2Vjb25kYXJ5Qm9keVBhcnRzKSxcbiAgICB0YWdzOiAoZmllbGRzLnRhZ3M/LmFycmF5VmFsdWU/LnZhbHVlcyB8fCBmaWVsZHMudGFncyB8fCBbXSkubWFwKCh0YWc6IGFueSkgPT4gdGFnLnN0cmluZ1ZhbHVlIHx8IHRhZyksXG4gICAgZGVzY3JpcHRpb246IGZpZWxkcy5kZXNjcmlwdGlvbj8uc3RyaW5nVmFsdWUgfHwgZmllbGRzLmRlc2NyaXB0aW9uIHx8ICcnLFxuICAgIHZpc2liaWxpdHk6IChmaWVsZHMudmlzaWJpbGl0eT8uYXJyYXlWYWx1ZT8udmFsdWVzIHx8IGZpZWxkcy52aXNpYmlsaXR5IHx8IFtdKS5tYXAoKHY6IGFueSkgPT4gdi5zdHJpbmdWYWx1ZSB8fCB2KSxcbiAgICBzdGVwczogKGZpZWxkcy5zdGVwcz8uYXJyYXlWYWx1ZT8udmFsdWVzIHx8IGZpZWxkcy5zdGVwcyB8fCBbXSkubWFwKChzdGVwOiBhbnkpID0+IHN0ZXAuc3RyaW5nVmFsdWUgfHwgc3RlcCksXG4gICAgdmlkZW9zOiB0aGlzLnBhcnNlVmlkZW9zKGZpZWxkcy52aWRlb3MpLFxuICAgIGN1cnJlbnRWaWRlb1Bvc2l0aW9uOiBwYXJzZUludChmaWVsZHMuY3VycmVudFZpZGVvUG9zaXRpb24/LmludGVnZXJWYWx1ZSB8fCBmaWVsZHMuY3VycmVudFZpZGVvUG9zaXRpb24gfHwgJzAnKSxcbiAgICByZXBzOiBmaWVsZHMucmVwcz8uc3RyaW5nVmFsdWUgfHwgZmllbGRzLnJlcHMgfHwgJycsXG4gICAgc2V0czogcGFyc2VJbnQoZmllbGRzLnNldHM/LmludGVnZXJWYWx1ZSB8fCBmaWVsZHMuc2V0cyB8fCAnMCcpLFxuICAgIHdlaWdodDogcGFyc2VGbG9hdChmaWVsZHMud2VpZ2h0Py5kb3VibGVWYWx1ZSB8fCBmaWVsZHMud2VpZ2h0IHx8ICcwJyksXG4gICAgXG4gICAgYXV0aG9yOiB0aGlzLnBhcnNlRXhlcmNpc2VBdXRob3IoZmllbGRzLmF1dGhvcj8ubWFwVmFsdWU/LmZpZWxkcyB8fCBmaWVsZHMuYXV0aG9yIHx8IHt9KSxcbiAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKHBhcnNlRmxvYXQoZmllbGRzLmNyZWF0ZWRBdD8uZG91YmxlVmFsdWUgfHwgZmllbGRzLmNyZWF0ZWRBdCB8fCAnMCcpICogMTAwMCksXG4gICAgdXBkYXRlZEF0OiBuZXcgRGF0ZShwYXJzZUZsb2F0KGZpZWxkcy51cGRhdGVkQXQ/LmRvdWJsZVZhbHVlIHx8IGZpZWxkcy51cGRhdGVkQXQgfHwgJzAnKSAqIDEwMDApXG4gIH07XG59XG5cbi8vIFlvdSdsbCBuZWVkIHRvIGltcGxlbWVudCB0aGVzZSBoZWxwZXIgbWV0aG9kcyBhcyB3ZWxsXG5wcml2YXRlIHBhcnNlRXhlcmNpc2VDYXRlZ29yeShmaWVsZHM6IGFueSk6IEV4ZXJjaXNlQ2F0ZWdvcnkge1xuICAvLyBJbXBsZW1lbnRhdGlvbiBzaW1pbGFyIHRvIHRoZSBvcmlnaW5hbCBzZXJ2aWNlXG4gIGNvbnN0IGNhdGVnb3J5SWQgPSBmaWVsZHMuaWQ/LnN0cmluZ1ZhbHVlIHx8IGZpZWxkcy5pZCB8fCAnJztcbiAgaWYgKGNhdGVnb3J5SWQgPT09ICdjYXJkaW8nKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6ICdjYXJkaW8nLFxuICAgICAgZGV0YWlsczoge1xuICAgICAgICBkdXJhdGlvbjogcGFyc2VJbnQoZmllbGRzLmR1cmF0aW9uPy5pbnRlZ2VyVmFsdWUgfHwgZmllbGRzLmR1cmF0aW9uIHx8ICcwJyksXG4gICAgICAgIGJwbTogcGFyc2VJbnQoZmllbGRzLmJwbT8uaW50ZWdlclZhbHVlIHx8IGZpZWxkcy5icG0gfHwgJzAnKSxcbiAgICAgICAgY2Fsb3JpZXM6IHBhcnNlSW50KGZpZWxkcy5jYWxvcmllcz8uaW50ZWdlclZhbHVlIHx8IGZpZWxkcy5jYWxvcmllcyB8fCAnMCcpLFxuICAgICAgICBzY3JlZW5UaW1lOiBwYXJzZUludChmaWVsZHMuc2NyZWVuVGltZT8uaW50ZWdlclZhbHVlIHx8IGZpZWxkcy5zY3JlZW5UaW1lIHx8ICcwJyksXG4gICAgICAgIHNlbGVjdGVkVmlkZW86IHRoaXMucGFyc2VFeGVyY2lzZVZpZGVvKGZpZWxkcy5zZWxlY3RlZFZpZGVvPy5tYXBWYWx1ZT8uZmllbGRzIHx8IGZpZWxkcy5zZWxlY3RlZFZpZGVvKSAgXG4gICAgICB9XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogJ3dlaWdodFRyYWluaW5nJyxcbiAgICAgIGRldGFpbHM6IHtcbiAgICAgICAgcmVwczogZmllbGRzLnJlcHM/LnN0cmluZ1ZhbHVlIHx8IGZpZWxkcy5yZXBzIHx8ICcnLFxuICAgICAgICBzZXRzOiBwYXJzZUludChmaWVsZHMuc2V0cz8uaW50ZWdlclZhbHVlIHx8IGZpZWxkcy5zZXRzIHx8ICcwJyksXG4gICAgICAgIHdlaWdodDogcGFyc2VGbG9hdChmaWVsZHMud2VpZ2h0Py5kb3VibGVWYWx1ZSB8fCBmaWVsZHMud2VpZ2h0IHx8ICcwJyksXG4gICAgICAgIHNjcmVlblRpbWU6IHBhcnNlSW50KGZpZWxkcy5zY3JlZW5UaW1lPy5pbnRlZ2VyVmFsdWUgfHwgZmllbGRzLnNjcmVlblRpbWUgfHwgJzAnKSxcbiAgICAgICAgc2VsZWN0ZWRWaWRlbzogdGhpcy5wYXJzZUV4ZXJjaXNlVmlkZW8oZmllbGRzLnNlbGVjdGVkVmlkZW8/Lm1hcFZhbHVlPy5maWVsZHMgfHwgZmllbGRzLnNlbGVjdGVkVmlkZW8pXG4gICAgICB9XG4gICAgfTtcbiAgfVxufVxuXG5wcml2YXRlIHBhcnNlQm9keVBhcnRzKGJvZHlQYXJ0c0ZpZWxkOiBhbnkpOiBCb2R5UGFydFtdIHtcbiAgY29uc3QgYm9keVBhcnRzQXJyYXkgPSBib2R5UGFydHNGaWVsZD8uYXJyYXlWYWx1ZT8udmFsdWVzIHx8IGJvZHlQYXJ0c0ZpZWxkIHx8IFtdO1xuICByZXR1cm4gYm9keVBhcnRzQXJyYXkubWFwKChwYXJ0OiBhbnkpID0+IHBhcnQuc3RyaW5nVmFsdWUgfHwgcGFydCk7XG59XG5cbnByaXZhdGUgcGFyc2VWaWRlb3ModmlkZW9zRmllbGQ6IGFueSk6IEV4ZXJjaXNlVmlkZW9bXSB7XG4gIGNvbnN0IHZpZGVvc0FycmF5ID0gdmlkZW9zRmllbGQ/LmFycmF5VmFsdWU/LnZhbHVlcyB8fCB2aWRlb3NGaWVsZCB8fCBbXTtcbiAgcmV0dXJuIHZpZGVvc0FycmF5Lm1hcCgodmlkZW9EYXRhOiBhbnkpID0+IFxuICAgIHRoaXMucGFyc2VFeGVyY2lzZVZpZGVvKHZpZGVvRGF0YS5tYXBWYWx1ZT8uZmllbGRzIHx8IHZpZGVvRGF0YSlcbiAgKTtcbn1cblxucHJpdmF0ZSBwYXJzZUV4ZXJjaXNlVmlkZW8oZmllbGRzOiBhbnkpOiBFeGVyY2lzZVZpZGVvIHtcbiAgcmV0dXJuIHtcbiAgICBpZDogZmllbGRzLmlkPy5zdHJpbmdWYWx1ZSB8fCBmaWVsZHMuaWQgfHwgJycsXG4gICAgZXhlcmNpc2VJZDogZmllbGRzLmV4ZXJjaXNlSWQ/LnN0cmluZ1ZhbHVlIHx8IGZpZWxkcy5leGVyY2lzZUlkIHx8ICcnLFxuICAgIHVzZXJuYW1lOiBmaWVsZHMudXNlcm5hbWU/LnN0cmluZ1ZhbHVlIHx8IGZpZWxkcy51c2VybmFtZSB8fCAnJyxcbiAgICB1c2VySWQ6IGZpZWxkcy51c2VySWQ/LnN0cmluZ1ZhbHVlIHx8IGZpZWxkcy51c2VySWQgfHwgJycsXG4gICAgdmlkZW9VUkw6IGZpZWxkcy52aWRlb1VSTD8uc3RyaW5nVmFsdWUgfHwgZmllbGRzLnZpZGVvVVJMIHx8ICcnLFxuICAgIGZpbGVOYW1lOiBmaWVsZHMuZmlsZU5hbWU/LnN0cmluZ1ZhbHVlIHx8IGZpZWxkcy5maWxlTmFtZSB8fCAnJyxcbiAgICBleGVyY2lzZTogZmllbGRzLmV4ZXJjaXNlPy5zdHJpbmdWYWx1ZSB8fCBmaWVsZHMuZXhlcmNpc2UgfHwgJycsXG4gICAgcHJvZmlsZUltYWdlOiB0aGlzLnBhcnNlUHJvZmlsZUltYWdlKGZpZWxkcy5wcm9maWxlSW1hZ2U/Lm1hcFZhbHVlPy5maWVsZHMgfHwgZmllbGRzLnByb2ZpbGVJbWFnZSB8fCB7fSksXG4gICAgY2FwdGlvbjogZmllbGRzLmNhcHRpb24/LnN0cmluZ1ZhbHVlIHx8IGZpZWxkcy5jYXB0aW9uIHx8ICcnLFxuICAgIGdpZlVSTDogZmllbGRzLmdpZlVSTD8uc3RyaW5nVmFsdWUgfHwgZmllbGRzLmdpZlVSTCB8fCAnJyxcbiAgICB0aHVtYm5haWw6IGZpZWxkcy50aHVtYm5haWw/LnN0cmluZ1ZhbHVlIHx8IGZpZWxkcy50aHVtYm5haWwgfHwgJycsXG4gICAgdmlzaWJpbGl0eTogZmllbGRzLnZpc2liaWxpdHk/LnN0cmluZ1ZhbHVlIHx8IGZpZWxkcy52aXNpYmlsaXR5IHx8ICdvcGVuJyxcbiAgICB0b3RhbEFjY291bnRzUmVhY2hlZDogcGFyc2VJbnQoZmllbGRzLnRvdGFsQWNjb3VudHNSZWFjaGVkPy5pbnRlZ2VyVmFsdWUgfHwgZmllbGRzLnRvdGFsQWNjb3VudHNSZWFjaGVkIHx8ICcwJyksXG4gICAgdG90YWxBY2NvdW50TGlrZXM6IHBhcnNlSW50KGZpZWxkcy50b3RhbEFjY291bnRMaWtlcz8uaW50ZWdlclZhbHVlIHx8IGZpZWxkcy50b3RhbEFjY291bnRMaWtlcyB8fCAnMCcpLFxuICAgIHRvdGFsQWNjb3VudEJvb2ttYXJrZWQ6IHBhcnNlSW50KGZpZWxkcy50b3RhbEFjY291bnRCb29rbWFya2VkPy5pbnRlZ2VyVmFsdWUgfHwgZmllbGRzLnRvdGFsQWNjb3VudEJvb2ttYXJrZWQgfHwgJzAnKSxcbiAgICB0b3RhbEFjY291bnRVc2FnZTogcGFyc2VJbnQoZmllbGRzLnRvdGFsQWNjb3VudFVzYWdlPy5pbnRlZ2VyVmFsdWUgfHwgZmllbGRzLnRvdGFsQWNjb3VudFVzYWdlIHx8ICcwJyksXG4gICAgaXNBcHByb3ZlZDogZmllbGRzLmlzQXBwcm92ZWQ/LmJvb2xlYW5WYWx1ZSB8fCBmaWVsZHMuaXNBcHByb3ZlZCB8fCBmYWxzZSxcbiAgICBsaWtlZDogZmllbGRzLmxpa2VkPy5ib29sZWFuVmFsdWUgfHwgZmllbGRzLmxpa2VkLFxuICAgIGJvb2ttYXJrZWQ6IGZpZWxkcy5ib29rbWFya2VkPy5ib29sZWFuVmFsdWUgfHwgZmllbGRzLmJvb2ttYXJrZWQsXG4gICAgY3JlYXRlZEF0OiBuZXcgRGF0ZShwYXJzZUZsb2F0KGZpZWxkcy5jcmVhdGVkQXQ/LmRvdWJsZVZhbHVlIHx8IGZpZWxkcy5jcmVhdGVkQXQgfHwgJzAnKSAqIDEwMDApLFxuICAgIHVwZGF0ZWRBdDogbmV3IERhdGUocGFyc2VGbG9hdChmaWVsZHMudXBkYXRlZEF0Py5kb3VibGVWYWx1ZSB8fCBmaWVsZHMudXBkYXRlZEF0IHx8ICcwJykgKiAxMDAwKVxuICB9O1xufVxuXG5wcml2YXRlIHBhcnNlUHJvZmlsZUltYWdlKGZpZWxkczogYW55KTogUHJvZmlsZUltYWdlIHtcbiAgcmV0dXJuIHtcbiAgICBwcm9maWxlSW1hZ2VVUkw6IGZpZWxkcy5wcm9maWxlSW1hZ2VVUkw/LnN0cmluZ1ZhbHVlIHx8IGZpZWxkcy5wcm9maWxlSW1hZ2VVUkwgfHwgJycsXG4gICAgaW1hZ2VPZmZzZXRXaWR0aDogcGFyc2VGbG9hdChmaWVsZHMuaW1hZ2VPZmZzZXRXaWR0aD8uZG91YmxlVmFsdWUgfHwgZmllbGRzLmltYWdlT2Zmc2V0V2lkdGggfHwgJzAnKSxcbiAgICBpbWFnZU9mZnNldEhlaWdodDogcGFyc2VGbG9hdChmaWVsZHMuaW1hZ2VPZmZzZXRIZWlnaHQ/LmRvdWJsZVZhbHVlIHx8IGZpZWxkcy5pbWFnZU9mZnNldEhlaWdodCB8fCAnMCcpXG4gIH07XG59XG5cbnByaXZhdGUgcGFyc2VFeGVyY2lzZUF1dGhvcihmaWVsZHM6IGFueSk6IEV4ZXJjaXNlQXV0aG9yIHtcbiAgcmV0dXJuIHtcbiAgICB1c2VySWQ6IGZpZWxkcy51c2VySWQ/LnN0cmluZ1ZhbHVlIHx8IGZpZWxkcy51c2VySWQgfHwgJycsXG4gICAgdXNlcm5hbWU6IGZpZWxkcy51c2VybmFtZT8uc3RyaW5nVmFsdWUgfHwgZmllbGRzLnVzZXJuYW1lIHx8ICcnXG4gIH07XG59XG5cbmFzeW5jIGZldGNoU2F2ZWRXb3Jrb3V0KHVzZXJJZDogc3RyaW5nLCB3b3Jrb3V0SWQ6IHN0cmluZyk6IFByb21pc2U8W1dvcmtvdXQgfCBudWxsLCBFeGVyY2lzZUxvZ1tdIHwgbnVsbF0+IHtcbiAgdHJ5IHtcbiAgICAvLyBGZXRjaCB0aGUgd29ya291dCBkb2N1bWVudFxuICAgIGNvbnN0IHdvcmtvdXRSZWYgPSBkb2MoZGIsICd1c2VycycsIHVzZXJJZCwgJ015Q3JlYXRlZFdvcmtvdXRzJywgd29ya291dElkKTtcbiAgICBjb25zdCB3b3Jrb3V0U25hcCA9IGF3YWl0IGdldERvYyh3b3Jrb3V0UmVmKTtcblxuICAgIGlmICghd29ya291dFNuYXAuZXhpc3RzKCkpIHtcbiAgICAgIHJldHVybiBbbnVsbCwgbnVsbF07XG4gICAgfVxuXG4gICAgY29uc3Qgd29ya291dERhdGEgPSB3b3Jrb3V0U25hcC5kYXRhKCk7XG4gICAgY29uc3Qgd29ya291dCA9IHRoaXMucGFyc2VXb3Jrb3V0RGF0YSh3b3Jrb3V0RGF0YSB8fCB7fSk7XG5cbiAgICAvLyBGZXRjaCBsb2dzIHN1YmNvbGxlY3Rpb25cbiAgICBjb25zdCBsb2dzUmVmID0gY29sbGVjdGlvbihkYiwgJ3VzZXJzJywgdXNlcklkLCAnTXlDcmVhdGVkV29ya291dHMnLCB3b3Jrb3V0SWQsICdsb2dzJyk7XG4gICAgY29uc3QgbG9nc1NuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhsb2dzUmVmKTtcblxuICAgIGNvbnN0IGxvZ3M6IEV4ZXJjaXNlTG9nW10gPSBsb2dzU25hcHNob3QuZG9jcy5tYXAobG9nRG9jID0+IHtcbiAgICAgIGNvbnN0IGxvZ0RhdGEgPSBsb2dEb2MuZGF0YSgpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IGxvZ0RvYy5pZCxcbiAgICAgICAgd29ya291dElkOiB3b3Jrb3V0SWQsXG4gICAgICAgIHVzZXJJZDogdXNlcklkLFxuICAgICAgICBleGVyY2lzZTogbG9nRGF0YS5leGVyY2lzZSxcbiAgICAgICAgbG9nczogbG9nRGF0YS5sb2cgfHwgW10sXG4gICAgICAgIGZlZWRiYWNrOiBsb2dEYXRhLmZlZWRiYWNrIHx8ICcnLFxuICAgICAgICBub3RlOiBsb2dEYXRhLm5vdGUgfHwgJycsXG4gICAgICAgIHJlY29tbWVuZGVkV2VpZ2h0OiBsb2dEYXRhLnJlY29tbWVuZGVkV2VpZ2h0LFxuICAgICAgICBpc1NwbGl0OiBsb2dEYXRhLmlzU3BsaXQgfHwgZmFsc2UsXG4gICAgICAgIGlzQm9keVdlaWdodDogbG9nRGF0YS5pc0JvZHlXZWlnaHQgfHwgZmFsc2UsXG4gICAgICAgIGxvZ1N1Ym1pdHRlZDogbG9nRGF0YS5sb2dTdWJtaXR0ZWQgfHwgZmFsc2UsXG4gICAgICAgIGxvZ0lzRWRpdGluZzogbG9nRGF0YS5sb2dJc0VkaXRpbmcgfHwgZmFsc2UsXG4gICAgICAgIGlzQ29tcGxldGVkOiBsb2dEYXRhLmlzQ29tcGxldGVkIHx8IGZhbHNlLFxuICAgICAgICBjcmVhdGVkQXQ6IGxvZ0RhdGEuY3JlYXRlZEF0IGluc3RhbmNlb2YgRGF0ZSBcbiAgICAgICAgICA/IGxvZ0RhdGEuY3JlYXRlZEF0IFxuICAgICAgICAgIDogKHR5cGVvZiBsb2dEYXRhLmNyZWF0ZWRBdD8udG9EYXRlID09PSAnZnVuY3Rpb24nIFxuICAgICAgICAgICAgPyBsb2dEYXRhLmNyZWF0ZWRBdC50b0RhdGUoKSBcbiAgICAgICAgICAgIDogKGxvZ0RhdGEuY3JlYXRlZEF0IFxuICAgICAgICAgICAgICA/IG5ldyBEYXRlKGxvZ0RhdGEuY3JlYXRlZEF0KSBcbiAgICAgICAgICAgICAgOiBuZXcgRGF0ZSgpKSksXG4gICAgICAgIHVwZGF0ZWRBdDogbG9nRGF0YS51cGRhdGVkQXQgaW5zdGFuY2VvZiBEYXRlIFxuICAgICAgICAgID8gbG9nRGF0YS51cGRhdGVkQXQgXG4gICAgICAgICAgOiAodHlwZW9mIGxvZ0RhdGEudXBkYXRlZEF0Py50b0RhdGUgPT09ICdmdW5jdGlvbicgXG4gICAgICAgICAgICA/IGxvZ0RhdGEudXBkYXRlZEF0LnRvRGF0ZSgpIFxuICAgICAgICAgICAgOiAobG9nRGF0YS51cGRhdGVkQXQgXG4gICAgICAgICAgICAgID8gbmV3IERhdGUobG9nRGF0YS51cGRhdGVkQXQpIFxuICAgICAgICAgICAgICA6IG5ldyBEYXRlKCkpKVxuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIFVwZGF0ZSB3b3Jrb3V0IGxvZ3NcbiAgICB3b3Jrb3V0LmxvZ3MgPSBsb2dzO1xuXG4gICAgcmV0dXJuIFt3b3Jrb3V0LCBsb2dzXTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBzYXZlZCB3b3Jrb3V0OicsIGVycm9yKTtcbiAgICByZXR1cm4gW251bGwsIG51bGxdO1xuICB9XG59XG5cbi8qKlxuICogRmV0Y2ggdXNlciBjaGFsbGVuZ2VzIGJ5IGNoYWxsZW5nZUlkLlxuICogQHBhcmFtIGNoYWxsZW5nZUlkIFRoZSBJRCBvZiB0aGUgY2hhbGxlbmdlIHRvIGZldGNoIGFzc29jaWF0ZWQgdXNlciBjaGFsbGVuZ2VzIGZvci5cbiAqIEByZXR1cm5zIEEgcHJvbWlzZSByZXNvbHZpbmcgdG8gYW4gYXJyYXkgb2YgdXNlciBjaGFsbGVuZ2VzLlxuICogQHRocm93cyBJZiB0aGUgRmlyZXN0b3JlIHF1ZXJ5IGZhaWxzLlxuICovXG5hc3luYyBmZXRjaFVzZXJDaGFsbGVuZ2VzQnlDaGFsbGVuZ2VJZChjaGFsbGVuZ2VJZDogc3RyaW5nKTogUHJvbWlzZTxVc2VyQ2hhbGxlbmdlW10+IHtcbiAgY29uc3QgdXNlckNoYWxsZW5nZXNSZWYgPSBjb2xsZWN0aW9uKGRiLCAndXNlci1jaGFsbGVuZ2UnKTtcbiAgY29uc3QgcSA9IHF1ZXJ5KHVzZXJDaGFsbGVuZ2VzUmVmLCB3aGVyZSgnY2hhbGxlbmdlSWQnLCAnPT0nLCBjaGFsbGVuZ2VJZCkpO1xuXG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coYEZldGNoaW5nIHVzZXIgY2hhbGxlbmdlcyBmb3IgY2hhbGxlbmdlIElEOiAke2NoYWxsZW5nZUlkfWApO1xuXG4gICAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBnZXREb2NzKHEpO1xuXG4gICAgY29uc29sZS5sb2coYFRvdGFsIHVzZXIgY2hhbGxlbmdlcyBmZXRjaGVkOiAke3NuYXBzaG90LmRvY3MubGVuZ3RofWApO1xuXG4gICAgY29uc3QgdXNlckNoYWxsZW5nZXMgPSBzbmFwc2hvdC5kb2NzLm1hcCgoZG9jOiBEb2N1bWVudERhdGEpID0+IHtcbiAgICAgIGNvbnN0IGRhdGEgPSBkb2MuZGF0YSgpO1xuICAgICAgY29uc29sZS5sb2coYFByb2Nlc3NpbmcgdXNlciBjaGFsbGVuZ2Ugd2l0aCBJRDogJHtkb2MuaWR9YCwgZGF0YSk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlkOiBkb2MuaWQsXG4gICAgICAgIC4uLmRhdGEsXG4gICAgICAgIGNoYWxsZW5nZTogZGF0YS5jaGFsbGVuZ2VcbiAgICAgICAgICA/IG5ldyBDaGFsbGVuZ2Uoe1xuICAgICAgICAgICAgICBpZDogZGF0YS5jaGFsbGVuZ2UuaWQsXG4gICAgICAgICAgICAgIHRpdGxlOiBkYXRhLmNoYWxsZW5nZS50aXRsZSxcbiAgICAgICAgICAgICAgc3VidGl0bGU6IGRhdGEuY2hhbGxlbmdlLnN1YnRpdGxlLFxuICAgICAgICAgICAgICBwYXJ0aWNpcGFudHM6IGRhdGEuY2hhbGxlbmdlLnBhcnRpY2lwYW50cyB8fCBbXSxcbiAgICAgICAgICAgICAgc3RhdHVzOiBkYXRhLmNoYWxsZW5nZS5zdGF0dXMgYXMgQ2hhbGxlbmdlU3RhdHVzLFxuICAgICAgICAgICAgICBzdGFydERhdGU6IGRhdGEuY2hhbGxlbmdlLnN0YXJ0RGF0ZSA/IG5ldyBEYXRlKGRhdGEuY2hhbGxlbmdlLnN0YXJ0RGF0ZSkgOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICBlbmREYXRlOiBkYXRhLmNoYWxsZW5nZS5lbmREYXRlID8gbmV3IERhdGUoZGF0YS5jaGFsbGVuZ2UuZW5kRGF0ZSkgOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICBjcmVhdGVkQXQ6IGRhdGEuY2hhbGxlbmdlLmNyZWF0ZWRBdCA/IG5ldyBEYXRlKGRhdGEuY2hhbGxlbmdlLmNyZWF0ZWRBdCkgOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICB1cGRhdGVkQXQ6IGRhdGEuY2hhbGxlbmdlLnVwZGF0ZWRBdCA/IG5ldyBEYXRlKGRhdGEuY2hhbGxlbmdlLnVwZGF0ZWRBdCkgOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICBpbnRyb1ZpZGVvVVJMOiBkYXRhLmNoYWxsZW5nZS5pbnRyb1ZpZGVvVVJMIHx8ICcnLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgY3JlYXRlZEF0OiBjb252ZXJ0VGltZXN0YW1wKGRhdGEuY3JlYXRlZEF0KSxcbiAgICAgICAgdXBkYXRlZEF0OiBjb252ZXJ0VGltZXN0YW1wKGRhdGEudXBkYXRlZEF0KSxcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICBjb25zb2xlLmxvZygnQWxsIHVzZXIgY2hhbGxlbmdlcyBhZnRlciBwcm9jZXNzaW5nOicsIEpTT04uc3RyaW5naWZ5KHVzZXJDaGFsbGVuZ2VzLCBudWxsLCAyKSk7XG5cbiAgICByZXR1cm4gdXNlckNoYWxsZW5nZXM7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgdXNlciBjaGFsbGVuZ2VzIGJ5IGNoYWxsZW5nZUlkOicsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuXG4gIGFzeW5jIGdldENvbGxlY3Rpb25CeUlkKGlkOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBkb2NSZWYgPSBkb2MoZGIsIFwic3dlYXRsaXN0LWNvbGxlY3Rpb25cIiwgaWQpO1xuICAgICAgY29uc3QgZG9jU25hcCA9IGF3YWl0IGdldERvYyhkb2NSZWYpO1xuICBcbiAgICAgIGlmIChkb2NTbmFwLmV4aXN0cygpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaWQ6IGRvY1NuYXAuaWQsXG4gICAgICAgICAgLi4uZG9jU25hcC5kYXRhKClcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvbGxlY3Rpb24gbm90IGZvdW5kXCIpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBjb2xsZWN0aW9uIGJ5IElEOlwiLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cbiAgXG4gICAgLyoqXG4gICAqIEZldGNoIHVzZXIgY2hhbGxlbmdlcyBieSB1c2VySWQgYW5kIGZpbHRlciBmb3IgYWN0aXZlIGNoYWxsZW5nZXMuXG4gICAqIEByZXR1cm5zIEEgcHJvbWlzZSByZXNvbHZpbmcgdG8gYW4gYXJyYXkgb2YgYWN0aXZlIGNoYWxsZW5nZXMuXG4gICAqIEB0aHJvd3MgSWYgbm8gdXNlciBpcyBzaWduZWQgaW4gb3IgaWYgdGhlIEZpcmVzdG9yZSBxdWVyeSBmYWlscy5cbiAgICovXG4gICAgYXN5bmMgZmV0Y2hBY3RpdmVDaGFsbGVuZ2VzKCk6IFByb21pc2U8VXNlckNoYWxsZW5nZVtdPiB7XG4gICAgICBjb25zdCBjdXJyZW50VXNlciA9IHVzZXJTZXJ2aWNlLmN1cnJlbnRVc2VyO1xuICAgICAgaWYgKCFjdXJyZW50VXNlcj8uaWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyB1c2VyIGlzIHNpZ25lZCBpbicpO1xuICAgICAgfVxuICAgIFxuICAgICAgY29uc3QgdXNlckNoYWxsZW5nZXNSZWYgPSBjb2xsZWN0aW9uKGRiLCAndXNlci1jaGFsbGVuZ2UnKTtcbiAgICAgIGNvbnN0IHEgPSBxdWVyeSh1c2VyQ2hhbGxlbmdlc1JlZiwgd2hlcmUoJ3VzZXJJZCcsICc9PScsIGN1cnJlbnRVc2VyLmlkKSk7XG4gICAgXG4gICAgICB0cnkge1xuICAgICAgICBjb25zb2xlLmxvZyhgRmV0Y2hpbmcgY2hhbGxlbmdlcyBmb3IgdXNlciBJRDogJHtjdXJyZW50VXNlci5pZH1gKTtcbiAgICBcbiAgICAgICAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBnZXREb2NzKHEpO1xuICAgIFxuICAgICAgICBjb25zb2xlLmxvZyhgVG90YWwgY2hhbGxlbmdlcyBmZXRjaGVkOiAke3NuYXBzaG90LmRvY3MubGVuZ3RofWApO1xuICAgIFxuICAgICAgICBjb25zdCBhbGxDaGFsbGVuZ2VzID0gc25hcHNob3QuZG9jcy5tYXAoKGRvYzogRG9jdW1lbnREYXRhKSA9PiB7XG4gICAgICAgICAgY29uc3QgZGF0YSA9IGRvYy5kYXRhKCk7XG4gICAgICAgICAgY29uc29sZS5sb2coYFByb2Nlc3NpbmcgY2hhbGxlbmdlIHdpdGggSUQ6ICR7ZG9jLmlkfWAsIGRhdGEpO1xuICAgIFxuICAgICAgICAgIC8vIFVzZSB0aGUgQ2hhbGxlbmdlIGNvbnN0cnVjdG9yIHRvIHBhcnNlIHRoZSBjaGFsbGVuZ2UgZGF0YVxuICAgICAgICAgIGNvbnN0IGNoYWxsZW5nZSA9IGRhdGEuY2hhbGxlbmdlXG4gICAgICAgICAgICA/IG5ldyBDaGFsbGVuZ2Uoe1xuICAgICAgICAgICAgICAgIGlkOiBkYXRhLmNoYWxsZW5nZS5pZCxcbiAgICAgICAgICAgICAgICB0aXRsZTogZGF0YS5jaGFsbGVuZ2UudGl0bGUsXG4gICAgICAgICAgICAgICAgc3VidGl0bGU6IGRhdGEuY2hhbGxlbmdlLnN1YnRpdGxlLFxuICAgICAgICAgICAgICAgIHBhcnRpY2lwYW50czogZGF0YS5jaGFsbGVuZ2UucGFydGljaXBhbnRzIHx8IFtdLFxuICAgICAgICAgICAgICAgIHN0YXR1czogZGF0YS5jaGFsbGVuZ2Uuc3RhdHVzIGFzIENoYWxsZW5nZVN0YXR1cyxcbiAgICAgICAgICAgICAgICBzdGFydERhdGU6IGZvcm1hdERhdGUoZGF0YS5jaGFsbGVuZ2Uuc3RhcnREYXRlKSxcbiAgICAgICAgICAgICAgICBlbmREYXRlOiBmb3JtYXREYXRlKGRhdGEuY2hhbGxlbmdlLmVuZERhdGUpLFxuICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogZm9ybWF0RGF0ZShkYXRhLmNoYWxsZW5nZS5jcmVhdGVkQXQpLFxuICAgICAgICAgICAgICAgIHVwZGF0ZWRBdDogZm9ybWF0RGF0ZShkYXRhLmNoYWxsZW5nZS51cGRhdGVkQXQpLFxuICAgICAgICAgICAgICAgIGludHJvVmlkZW9VUkw6IGRhdGEuY2hhbGxlbmdlLmludHJvVmlkZW9VUkwgfHwgJycsXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBpZDogZG9jLmlkLFxuICAgICAgICAgICAgICAgIC4uLmRhdGEsXG4gICAgICAgICAgICAgICAgY2hhbGxlbmdlLFxuICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogY29udmVydFRpbWVzdGFtcChkYXRhLmNyZWF0ZWRBdCkgfHwgbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICB1cGRhdGVkQXQ6IGNvbnZlcnRUaW1lc3RhbXAoZGF0YS51cGRhdGVkQXQpIHx8IG5ldyBEYXRlKCksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICBcbiAgICAgICAgY29uc29sZS5sb2coJ0FsbCBjaGFsbGVuZ2VzIGFmdGVyIHByb2Nlc3Npbmc6JywgSlNPTi5zdHJpbmdpZnkoYWxsQ2hhbGxlbmdlcywgbnVsbCwgMikpO1xuICAgIFxuICAgICAgICAvLyBGaWx0ZXIgZm9yIGFjdGl2ZSBjaGFsbGVuZ2VzIChlbmREYXRlID4gY3VycmVudCBkYXRlKVxuICAgICAgICBjb25zdCBhY3RpdmVDaGFsbGVuZ2VzID0gYWxsQ2hhbGxlbmdlcy5maWx0ZXIodXNlckNoYWxsZW5nZSA9PiB7XG4gICAgICAgICAgY29uc3QgZW5kRGF0ZSA9IHVzZXJDaGFsbGVuZ2UuY2hhbGxlbmdlPy5lbmREYXRlO1xuICAgIFxuICAgICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICAgYEV2YWx1YXRpbmcgY2hhbGxlbmdlIElEOiAke3VzZXJDaGFsbGVuZ2UuaWR9LCBFbmQgRGF0ZTogJHtlbmREYXRlfSwgQ3VycmVudCBEYXRlOiAke25ldyBEYXRlKCl9YFxuICAgICAgICAgICk7XG4gICAgXG4gICAgICAgICAgcmV0dXJuIGVuZERhdGUgJiYgZW5kRGF0ZSA+IG5ldyBEYXRlKCk7XG4gICAgICAgIH0pO1xuICAgIFxuICAgICAgICBjb25zb2xlLmxvZyhgVG90YWwgYWN0aXZlIGNoYWxsZW5nZXM6ICR7YWN0aXZlQ2hhbGxlbmdlcy5sZW5ndGh9YCwgYWN0aXZlQ2hhbGxlbmdlcyk7XG4gICAgXG4gICAgICAgIHJldHVybiBhY3RpdmVDaGFsbGVuZ2VzO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgYWN0aXZlIGNoYWxsZW5nZXM6JywgZXJyb3IpO1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH1cbiAgICB9XG4gICAgXG5cbiAgLyoqXG4gICAqIEZldGNoIHVzZXIgY2hhbGxlbmdlcyBieSB1c2VySWQuXG4gICAqIEByZXR1cm5zIEEgcHJvbWlzZSByZXNvbHZpbmcgdG8gYW4gYXJyYXkgb2YgY2hhbGxlbmdlcy5cbiAgICogQHRocm93cyBJZiBubyB1c2VyIGlzIHNpZ25lZCBpbiBvciBpZiB0aGUgRmlyZXN0b3JlIHF1ZXJ5IGZhaWxzLlxuICAgKi9cbiAgYXN5bmMgZmV0Y2hVc2VyQ2hhbGxlbmdlcygpOiBQcm9taXNlPFVzZXJDaGFsbGVuZ2VbXT4ge1xuICAgIGNvbnN0IGN1cnJlbnRVc2VyID0gdXNlclNlcnZpY2UuY3VycmVudFVzZXI7XG4gICAgaWYgKCFjdXJyZW50VXNlcj8uaWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gdXNlciBpcyBzaWduZWQgaW4nKTtcbiAgICB9XG5cbiAgICAvLyBSZWZlcmVuY2UgdG8gdGhlIHVzZXItY2hhbGxlbmdlIGNvbGxlY3Rpb25cbiAgICBjb25zdCB1c2VyQ2hhbGxlbmdlc1JlZiA9IGNvbGxlY3Rpb24oZGIsICd1c2VyLWNoYWxsZW5nZScpO1xuXG4gICAgLy8gUXVlcnkgY2hhbGxlbmdlcyB3aGVyZSB1c2VySWQgbWF0Y2hlcyB0aGUgY3VycmVudCB1c2VyJ3MgSURcbiAgICBjb25zdCBxID0gcXVlcnkodXNlckNoYWxsZW5nZXNSZWYsIHdoZXJlKCd1c2VySWQnLCAnPT0nLCBjdXJyZW50VXNlci5pZCkpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhxKTtcblxuICAgICAgLy8gTWFwIGRvY3VtZW50cyB0byBhbiBhcnJheSBvZiBDaGFsbGVuZ2Ugb2JqZWN0c1xuICAgICAgcmV0dXJuIHNuYXBzaG90LmRvY3MubWFwKChkb2M6IERvY3VtZW50RGF0YSkgPT4gKHtcbiAgICAgICAgaWQ6IGRvYy5pZCxcbiAgICAgICAgLi4uZG9jLmRhdGEoKSxcbiAgICAgIH0pKSBhcyBVc2VyQ2hhbGxlbmdlW107XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHVzZXIgY2hhbGxlbmdlczonLCBlcnJvcik7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCB1c2VyIGNoYWxsZW5nZXMnKTtcbiAgICB9XG4gIH1cbiAgXG4gIFxuICAvKipcbiAgICogRmV0Y2ggdGhlIHdvcmtvdXQgc2Vzc2lvbiBmcm9tIEZpcmVzdG9yZSwgcmV0dXJuaW5nIHsgd29ya291dCwgbG9ncyB9LlxuICAgKiBDaGVja3MgZmlyc3QgZm9yIGEgUXVldWVkVXAgc2Vzc2lvbiwgdGhlbiBmb3IgSW5Qcm9ncmVzcy5cbiAgICovXG4gIGFzeW5jIGZldGNoQ3VycmVudFdvcmtvdXRTZXNzaW9uKCk6IFByb21pc2U8e1xuICAgIHdvcmtvdXQ6IFdvcmtvdXQgfCBudWxsO1xuICAgIGxvZ3M6IEV4ZXJjaXNlTG9nW10gfCBudWxsO1xuICB9PiB7XG4gICAgY29uc3QgY3VycmVudFVzZXIgPSB1c2VyU2VydmljZS5jdXJyZW50VXNlcjtcbiAgICBpZiAoIWN1cnJlbnRVc2VyPy5pZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyB1c2VyIGlzIHNpZ25lZCBpbicpO1xuICAgIH1cblxuICAgIC8vIFJlZmVyZW5jZSB0byB1c2VyJ3Mgd29ya291dFNlc3Npb25zXG4gICAgY29uc3Qgd29ya291dFNlc3Npb25zUmVmID0gY29sbGVjdGlvbihkYiwgJ3VzZXJzJywgY3VycmVudFVzZXIuaWQsICd3b3Jrb3V0U2Vzc2lvbnMnKTtcblxuICAgIC8vIDEpIENoZWNrIGZvciBRdWV1ZWRVcFxuICAgIGxldCBxID0gcXVlcnkod29ya291dFNlc3Npb25zUmVmLCB3aGVyZSgnc3RhdHVzJywgJz09JywgV29ya291dFN0YXR1cy5RdWV1ZWRVcCkpO1xuICAgIGxldCBzbmFwID0gYXdhaXQgZ2V0RG9jcyhxKTtcblxuICAgIGlmICghc25hcC5lbXB0eSkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvY2Vzc1dvcmtvdXRTZXNzaW9uRG9jdW1lbnQoc25hcC5kb2NzWzBdKTtcbiAgICB9XG5cbiAgICAvLyAyKSBDaGVjayBmb3IgSW5Qcm9ncmVzc1xuICAgIHEgPSBxdWVyeSh3b3Jrb3V0U2Vzc2lvbnNSZWYsIHdoZXJlKCdzdGF0dXMnLCAnPT0nLCBXb3Jrb3V0U3RhdHVzLkluUHJvZ3Jlc3MpKTtcbiAgICBzbmFwID0gYXdhaXQgZ2V0RG9jcyhxKTtcblxuICAgIGlmICghc25hcC5lbXB0eSkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvY2Vzc1dvcmtvdXRTZXNzaW9uRG9jdW1lbnQoc25hcC5kb2NzWzBdKTtcbiAgICB9XG5cbiAgICAvLyBOb25lIGZvdW5kXG4gICAgcmV0dXJuIHsgd29ya291dDogbnVsbCwgbG9nczogbnVsbCB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEhlbHBlciB0byBidWlsZCB0aGUgV29ya291dCBvYmplY3QgKyBhbnkgbG9ncyBmcm9tIHRoZSBzbmFwc2hvdC5cbiAgICovXG4gIHByaXZhdGUgYXN5bmMgcHJvY2Vzc1dvcmtvdXRTZXNzaW9uRG9jdW1lbnQoXG4gICAgd29ya291dERvYzogUXVlcnlEb2N1bWVudFNuYXBzaG90PERvY3VtZW50RGF0YT5cbiAgKTogUHJvbWlzZTx7IHdvcmtvdXQ6IFdvcmtvdXQ7IGxvZ3M6IEV4ZXJjaXNlTG9nW10gfT4ge1xuICAgIGNvbnN0IGRhdGEgPSB3b3Jrb3V0RG9jLmRhdGEoKTtcbiAgICBjb25zdCB3b3Jrb3V0OiBXb3Jrb3V0ID0ge1xuICAgICAgaWQ6IHdvcmtvdXREb2MuaWQsXG4gICAgICAuLi5kYXRhLFxuICAgICAgLy8gTWFrZSBzdXJlIHRvIGhhbmRsZSAudG9EYXRlKCkgaWYgdGhlc2UgZmllbGRzIGFyZSBGaXJlYmFzZSBUaW1lc3RhbXBzXG4gICAgICBjcmVhdGVkQXQ6IGRhdGEuY3JlYXRlZEF0Py50b0RhdGUoKSA/PyBuZXcgRGF0ZSgpLFxuICAgICAgdXBkYXRlZEF0OiBkYXRhLnVwZGF0ZWRBdD8udG9EYXRlKCkgPz8gbmV3IERhdGUoKVxuICAgIH0gYXMgV29ya291dDtcblxuICAgIC8vIElmIHlvdSBoYXZlIGxvZ3MgZW1iZWRkZWQgaW4gdGhlIHNhbWUgZG9jIG9yIGluIGEgc3ViY29sbGVjdGlvbixcbiAgICAvLyBmZXRjaCB0aGVtIGhlcmUuIEZvciBub3csIHdlIHJldHVybiBhbiBlbXB0eSBhcnJheS5cbiAgICBjb25zdCBsb2dzOiBFeGVyY2lzZUxvZ1tdID0gW107XG5cbiAgICByZXR1cm4geyB3b3Jrb3V0LCBsb2dzIH07XG4gIH1cblxuICAvKipcbiAgICogRXhhbXBsZSBcImpvaW4gY2hhbGxlbmdlXCIgbWV0aG9kIHVzaW5nIHRoZSBjbGllbnQgU0RLIChubyBhZG1pbiBwcml2aWxlZ2VzKS5cbiAgICogVGhpcyBjcmVhdGVzIGEgZG9jIGluIGB1c2VyLWNoYWxsZW5nZWAgd2l0aCB0aGUgdXNlcklkLCBjaGFsbGVuZ2VJZCwgZXRjLlxuICAgKi9cbiAgYXN5bmMgam9pbkNoYWxsZW5nZSh7XG4gICAgdXNlcm5hbWUsXG4gICAgY2hhbGxlbmdlSWRcbiAgfToge1xuICAgIHVzZXJuYW1lOiBzdHJpbmc7XG4gICAgY2hhbGxlbmdlSWQ6IHN0cmluZztcbiAgfSk6IFByb21pc2U8dm9pZD4ge1xuICAgIC8vIDEpIE1ha2Ugc3VyZSB3ZSBoYXZlIGEgc2lnbmVkLWluIHVzZXJcbiAgICBjb25zdCBjdXJyZW50VXNlciA9IHVzZXJTZXJ2aWNlLmN1cnJlbnRVc2VyO1xuICAgIGlmICghY3VycmVudFVzZXIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gdXNlciBpcyBzaWduZWQgaW4nKTtcbiAgICB9XG5cbiAgICAvLyAyKSBGaW5kIHRoZSB1c2VyIGRvYyBieSB1c2VybmFtZVxuICAgIGNvbnN0IHVzZXJzUmVmID0gY29sbGVjdGlvbihkYiwgJ3VzZXJzJyk7XG4gICAgY29uc3QgdXNlclF1ZXJ5ID0gcXVlcnkodXNlcnNSZWYsIHdoZXJlKCd1c2VybmFtZScsICc9PScsIHVzZXJuYW1lKSk7XG4gICAgY29uc3QgdXNlclNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyh1c2VyUXVlcnkpO1xuXG4gICAgaWYgKHVzZXJTbmFwc2hvdC5lbXB0eSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdVc2VyIG5vdCBmb3VuZCcpO1xuICAgIH1cblxuICAgIGNvbnN0IHVzZXJEb2MgPSB1c2VyU25hcHNob3QuZG9jc1swXTtcbiAgICBjb25zdCB1c2VyRGF0YSA9IHVzZXJEb2MuZGF0YSgpO1xuICAgIGNvbnN0IHVzZXJJZCA9IHVzZXJEb2MuaWQ7XG5cbiAgICAvLyAzKSBDaGVjayBpZiB0aGUgY2hhbGxlbmdlIGRvYyBleGlzdHNcbiAgICBjb25zdCBjaGFsbGVuZ2VSZWYgPSBkb2MoZGIsICdzd2VhdGxpc3QtY29sbGVjdGlvbicsIGNoYWxsZW5nZUlkKTtcbiAgICBjb25zdCBjaGFsbGVuZ2VTbmFwID0gYXdhaXQgZ2V0RG9jKGNoYWxsZW5nZVJlZik7XG5cbiAgICBpZiAoIWNoYWxsZW5nZVNuYXAuZXhpc3RzKCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2hhbGxlbmdlIG5vdCBmb3VuZCcpO1xuICAgIH1cblxuICAgIGNvbnN0IGNoYWxsZW5nZSA9IGNoYWxsZW5nZVNuYXAuZGF0YSgpO1xuXG4gICAgLy8gNCkgQnVpbGQgbmV3IHVzZXItY2hhbGxlbmdlIGRvY3VtZW50XG4gICAgY29uc3QgdXNlckNoYWxsZW5nZUlkID0gYCR7Y2hhbGxlbmdlSWR9LSR7dXNlcklkfS0ke0RhdGUubm93KCl9YDtcbiAgICBjb25zdCB1c2VyQ2hhbGxlbmdlRGF0YSA9IHtcbiAgICAgIGlkOiB1c2VyQ2hhbGxlbmdlSWQsXG4gICAgICBjaGFsbGVuZ2U6IGNoYWxsZW5nZSxcbiAgICAgIGNoYWxsZW5nZUlkLFxuICAgICAgdXNlcklkLFxuICAgICAgZmNtVG9rZW46IHVzZXJEYXRhLmZjbVRva2VuIHx8ICcnLFxuICAgICAgcHJvZmlsZUltYWdlOiB1c2VyRGF0YS5wcm9maWxlSW1hZ2UgfHwge30sXG4gICAgICBwcm9ncmVzczogMCxcbiAgICAgIGNvbXBsZXRlZFdvcmtvdXRzOiBbXSxcbiAgICAgIGlzQ29tcGxldGVkOiBmYWxzZSxcbiAgICAgIHVpZDogdXNlcklkLFxuICAgICAgbG9jYXRpb246IHVzZXJEYXRhLmxvY2F0aW9uIHx8IG51bGwsXG4gICAgICBjaXR5OiAnJyxcbiAgICAgIGNvdW50cnk6ICcnLFxuICAgICAgdGltZXpvbmU6ICcnLFxuICAgICAgdXNlcm5hbWUsXG4gICAgICBqb2luRGF0ZTogbmV3IERhdGUoKSxcbiAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgIHB1bHNlUG9pbnRzOiB7XG4gICAgICAgIGJhc2VDb21wbGV0aW9uOiAwLFxuICAgICAgICBmaXJzdENvbXBsZXRpb246IDAsXG4gICAgICAgIHN0cmVha0JvbnVzOiAwLFxuICAgICAgICBjaGVja0luQm9udXM6IDAsXG4gICAgICAgIGVmZm9ydFJhdGluZzogMCxcbiAgICAgICAgY2hhdFBhcnRpY2lwYXRpb246IDAsXG4gICAgICAgIGxvY2F0aW9uQ2hlY2tpbjogMCxcbiAgICAgICAgY29udGVudEVuZ2FnZW1lbnQ6IDAsXG4gICAgICAgIGVuY291cmFnZW1lbnRTZW50OiAwLFxuICAgICAgICBlbmNvdXJhZ2VtZW50UmVjZWl2ZWQ6IDBcbiAgICAgIH0sXG4gICAgICBjdXJyZW50U3RyZWFrOiAwLFxuICAgICAgZW5jb3VyYWdlZFVzZXJzOiBbXSxcbiAgICAgIGVuY291cmFnZWRCeVVzZXJzOiBbXSxcbiAgICAgIGNoZWNrSW5zOiBbXVxuICAgIH07XG5cbiAgICAvLyA1KSBTdG9yZSB1c2VyLWNoYWxsZW5nZSBkb2NcbiAgICBhd2FpdCBzZXREb2MoZG9jKGRiLCAndXNlci1jaGFsbGVuZ2UnLCB1c2VyQ2hhbGxlbmdlSWQpLCB1c2VyQ2hhbGxlbmdlRGF0YSk7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHdvcmtvdXRTZXJ2aWNlID0gbmV3IFdvcmtvdXRTZXJ2aWNlKCk7Il0sIm5hbWVzIjpbImNvbGxlY3Rpb24iLCJkb2MiLCJnZXREb2NzIiwiZ2V0RG9jIiwicXVlcnkiLCJ3aGVyZSIsIm9yZGVyQnkiLCJzZXREb2MiLCJkYiIsInVzZXJTZXJ2aWNlIiwiV29ya291dCIsIkJvZHlab25lIiwiV29ya291dFN0YXR1cyIsImZvcm1hdCIsImNvbnZlcnRUaW1lc3RhbXAiLCJmb3JtYXREYXRlIiwiQ2hhbGxlbmdlIiwiV29ya291dFNlcnZpY2UiLCJjdXJyZW50V29ya291dCIsImZldGNoQ3VycmVudFdvcmtvdXQiLCJzZXNzaW9uIiwiZmV0Y2hDdXJyZW50V29ya291dFNlc3Npb24iLCJ3b3Jrb3V0IiwiZ2V0QWxsU3dlYXRsaXN0cyIsInVzZXJJZCIsIndvcmtvdXRzUmVmIiwid29ya291dHNTbmFwc2hvdCIsIndvcmtvdXRzIiwid29ya291dERvYyIsIndvcmtvdXREYXRhIiwid29ya291dElkIiwibG9nc1JlZiIsImxvZ3NTbmFwc2hvdCIsImVycm9yIiwiZmlyZXN0b3JlRXJyb3IiLCJFcnJvciIsImRvY3MiLCJkYXRhIiwiaWQiLCJyb3VuZFdvcmtvdXRJZCIsImNvbGxlY3Rpb25JZCIsImV4ZXJjaXNlcyIsImNoYWxsZW5nZSIsImxvZ3MiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwiZHVyYXRpb24iLCJ3b3Jrb3V0UmF0aW5nIiwidXNlQXV0aG9yQ29udGVudCIsImlzQ29tcGxldGVkIiwid29ya291dFN0YXR1cyIsInN0YXJ0VGltZSIsIkRhdGUiLCJ1bmRlZmluZWQiLCJvcmRlciIsImF1dGhvciIsImNyZWF0ZWRBdCIsInVwZGF0ZWRBdCIsInpvbmUiLCJtYXAiLCJsb2dEb2MiLCJwdXNoIiwiY29uc29sZSIsIm1lc3NhZ2UiLCJmZXRjaFdvcmtvdXRTdW1tYXJpZXMiLCJkYXRlIiwiY3VycmVudFVzZXIiLCJmb3JtYXR0ZWREYXRlIiwic3VtbWFyaWVzUmVmIiwicSIsInNuYXBzaG90IiwiZmV0Y2hBbGxXb3Jrb3V0U3VtbWFyaWVzIiwiZmV0Y2hVc2VyQ2hhbGxlbmdlc0J5VXNlcklkIiwidXNlckNoYWxsZW5nZXNSZWYiLCJ1c2VyQ2hhbGxlbmdlcyIsImxvZyIsImxlbmd0aCIsInN1YnRpdGxlIiwicGFydGljaXBhbnRzIiwic3RhdHVzIiwic3RhcnREYXRlIiwiZW5kRGF0ZSIsImludHJvVmlkZW9VUkwiLCJKU09OIiwic3RyaW5naWZ5IiwiZmV0Y2hDb2xsZWN0aW9uV2l0aFN3ZWF0TGlzdHMiLCJzd2VhdExpc3RzIiwic3dlYXRsaXN0SWRlbnRpZmllciIsImdldENvbGxlY3Rpb25CeUlkIiwic3dlYXRsaXN0SWRzIiwiZmV0Y2hTYXZlZFdvcmtvdXQiLCJzd2VhdGxpc3RBdXRob3JJZCIsInBhcnNlV29ya291dERhdGEiLCJRdWV1ZWRVcCIsInRvRGF0ZSIsIkZ1bGxCb2R5IiwiZXN0aW1hdGVkRHVyYXRpb24iLCJkZXRlcm1pbmVXb3Jrb3V0Wm9uZSIsInRvRGljdGlvbmFyeSIsInBhcnNlRXhlcmNpc2VMb2dEYXRhIiwiZXhlcmNpc2UiLCJwYXJzZUV4ZXJjaXNlIiwibG9nRW50cnkiLCJyZXBzIiwicGFyc2VJbnQiLCJ3ZWlnaHQiLCJwYXJzZUZsb2F0IiwibGVmdFJlcHMiLCJsZWZ0V2VpZ2h0IiwiaXNTcGxpdCIsImlzQm9keVdlaWdodCIsImNhbG9yaWVzIiwiYnBtIiwiZmVlZGJhY2siLCJub3RlIiwicmVjb21tZW5kZWRXZWlnaHQiLCJsb2dTdWJtaXR0ZWQiLCJsb2dJc0VkaXRpbmciLCJmaWVsZHMiLCJzdHJpbmdWYWx1ZSIsIm5hbWUiLCJjYXRlZ29yeSIsInBhcnNlRXhlcmNpc2VDYXRlZ29yeSIsIm1hcFZhbHVlIiwicHJpbWFyeUJvZHlQYXJ0cyIsInBhcnNlQm9keVBhcnRzIiwic2Vjb25kYXJ5Qm9keVBhcnRzIiwidGFncyIsImFycmF5VmFsdWUiLCJ2YWx1ZXMiLCJ0YWciLCJ2aXNpYmlsaXR5IiwidiIsInN0ZXBzIiwic3RlcCIsInZpZGVvcyIsInBhcnNlVmlkZW9zIiwiY3VycmVudFZpZGVvUG9zaXRpb24iLCJpbnRlZ2VyVmFsdWUiLCJzZXRzIiwiZG91YmxlVmFsdWUiLCJwYXJzZUV4ZXJjaXNlQXV0aG9yIiwiY2F0ZWdvcnlJZCIsInR5cGUiLCJkZXRhaWxzIiwic2NyZWVuVGltZSIsInNlbGVjdGVkVmlkZW8iLCJwYXJzZUV4ZXJjaXNlVmlkZW8iLCJib2R5UGFydHNGaWVsZCIsImJvZHlQYXJ0c0FycmF5IiwicGFydCIsInZpZGVvc0ZpZWxkIiwidmlkZW9zQXJyYXkiLCJ2aWRlb0RhdGEiLCJleGVyY2lzZUlkIiwidXNlcm5hbWUiLCJ2aWRlb1VSTCIsImZpbGVOYW1lIiwicHJvZmlsZUltYWdlIiwicGFyc2VQcm9maWxlSW1hZ2UiLCJjYXB0aW9uIiwiZ2lmVVJMIiwidGh1bWJuYWlsIiwidG90YWxBY2NvdW50c1JlYWNoZWQiLCJ0b3RhbEFjY291bnRMaWtlcyIsInRvdGFsQWNjb3VudEJvb2ttYXJrZWQiLCJ0b3RhbEFjY291bnRVc2FnZSIsImlzQXBwcm92ZWQiLCJib29sZWFuVmFsdWUiLCJsaWtlZCIsImJvb2ttYXJrZWQiLCJwcm9maWxlSW1hZ2VVUkwiLCJpbWFnZU9mZnNldFdpZHRoIiwiaW1hZ2VPZmZzZXRIZWlnaHQiLCJ3b3Jrb3V0UmVmIiwid29ya291dFNuYXAiLCJleGlzdHMiLCJsb2dEYXRhIiwiZmV0Y2hVc2VyQ2hhbGxlbmdlc0J5Q2hhbGxlbmdlSWQiLCJjaGFsbGVuZ2VJZCIsImRvY1JlZiIsImRvY1NuYXAiLCJmZXRjaEFjdGl2ZUNoYWxsZW5nZXMiLCJhbGxDaGFsbGVuZ2VzIiwiYWN0aXZlQ2hhbGxlbmdlcyIsImZpbHRlciIsInVzZXJDaGFsbGVuZ2UiLCJmZXRjaFVzZXJDaGFsbGVuZ2VzIiwid29ya291dFNlc3Npb25zUmVmIiwic25hcCIsImVtcHR5IiwicHJvY2Vzc1dvcmtvdXRTZXNzaW9uRG9jdW1lbnQiLCJJblByb2dyZXNzIiwiam9pbkNoYWxsZW5nZSIsInVzZXJzUmVmIiwidXNlclF1ZXJ5IiwidXNlclNuYXBzaG90IiwidXNlckRvYyIsInVzZXJEYXRhIiwiY2hhbGxlbmdlUmVmIiwiY2hhbGxlbmdlU25hcCIsInVzZXJDaGFsbGVuZ2VJZCIsInVzZXJDaGFsbGVuZ2VEYXRhIiwibm93IiwiZmNtVG9rZW4iLCJwcm9ncmVzcyIsImNvbXBsZXRlZFdvcmtvdXRzIiwidWlkIiwibG9jYXRpb24iLCJjaXR5IiwiY291bnRyeSIsInRpbWV6b25lIiwiam9pbkRhdGUiLCJwdWxzZVBvaW50cyIsImJhc2VDb21wbGV0aW9uIiwiZmlyc3RDb21wbGV0aW9uIiwic3RyZWFrQm9udXMiLCJjaGVja0luQm9udXMiLCJlZmZvcnRSYXRpbmciLCJjaGF0UGFydGljaXBhdGlvbiIsImxvY2F0aW9uQ2hlY2tpbiIsImNvbnRlbnRFbmdhZ2VtZW50IiwiZW5jb3VyYWdlbWVudFNlbnQiLCJlbmNvdXJhZ2VtZW50UmVjZWl2ZWQiLCJjdXJyZW50U3RyZWFrIiwiZW5jb3VyYWdlZFVzZXJzIiwiZW5jb3VyYWdlZEJ5VXNlcnMiLCJjaGVja0lucyIsIndvcmtvdXRTZXJ2aWNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/api/firebase/workout/service.ts\n"));

/***/ }),

/***/ "./src/utils/formatDate.ts":
/*!*********************************!*\
  !*** ./src/utils/formatDate.ts ***!
  \*********************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("var formatDate = function(timestamp) {\n    // If timestamp is already a Date, return it\n    if (timestamp instanceof Date) return timestamp;\n    // If timestamp is a Firestore Timestamp\n    if (timestamp === null || timestamp === void 0 ? void 0 : timestamp.seconds) {\n        return new Date(timestamp.seconds * 1000);\n    }\n    // If timestamp is a number (seconds or milliseconds)\n    if (typeof timestamp === \"number\") {\n        // If it looks like seconds, convert to milliseconds\n        return new Date(timestamp < 10000000000 ? timestamp * 1000 : timestamp);\n    }\n    // If timestamp is a string, try parsing it\n    if (typeof timestamp === \"string\") {\n        return new Date(timestamp);\n    }\n    // Fallback to current date\n    return new Date();\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbHMvZm9ybWF0RGF0ZS50cyIsIm1hcHBpbmdzIjoiQUFBRSxJQUFNQSxhQUFhLFNBQUNDO0lBQ2xCLDRDQUE0QztJQUM1QyxJQUFJQSxxQkFBcUJDLE1BQU0sT0FBT0Q7SUFFdEMsd0NBQXdDO0lBQ3hDLElBQUlBLHNCQUFBQSxnQ0FBQUEsVUFBV0UsT0FBTyxFQUFFO1FBQ3RCLE9BQU8sSUFBSUQsS0FBS0QsVUFBVUUsT0FBTyxHQUFHO0lBQ3RDO0lBRUEscURBQXFEO0lBQ3JELElBQUksT0FBT0YsY0FBYyxVQUFVO1FBQ2pDLG9EQUFvRDtRQUNwRCxPQUFPLElBQUlDLEtBQUtELFlBQVksY0FBY0EsWUFBWSxPQUFPQTtJQUMvRDtJQUVBLDJDQUEyQztJQUMzQyxJQUFJLE9BQU9BLGNBQWMsVUFBVTtRQUNqQyxPQUFPLElBQUlDLEtBQUtEO0lBQ2xCO0lBRUEsMkJBQTJCO0lBQzNCLE9BQU8sSUFBSUM7QUFDYiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvdXRpbHMvZm9ybWF0RGF0ZS50cz9hMzgyIl0sInNvdXJjZXNDb250ZW50IjpbIiAgY29uc3QgZm9ybWF0RGF0ZSA9ICh0aW1lc3RhbXA6IGFueSk6IERhdGUgPT4ge1xuICAgIC8vIElmIHRpbWVzdGFtcCBpcyBhbHJlYWR5IGEgRGF0ZSwgcmV0dXJuIGl0XG4gICAgaWYgKHRpbWVzdGFtcCBpbnN0YW5jZW9mIERhdGUpIHJldHVybiB0aW1lc3RhbXA7XG4gIFxuICAgIC8vIElmIHRpbWVzdGFtcCBpcyBhIEZpcmVzdG9yZSBUaW1lc3RhbXBcbiAgICBpZiAodGltZXN0YW1wPy5zZWNvbmRzKSB7XG4gICAgICByZXR1cm4gbmV3IERhdGUodGltZXN0YW1wLnNlY29uZHMgKiAxMDAwKTtcbiAgICB9XG4gIFxuICAgIC8vIElmIHRpbWVzdGFtcCBpcyBhIG51bWJlciAoc2Vjb25kcyBvciBtaWxsaXNlY29uZHMpXG4gICAgaWYgKHR5cGVvZiB0aW1lc3RhbXAgPT09ICdudW1iZXInKSB7XG4gICAgICAvLyBJZiBpdCBsb29rcyBsaWtlIHNlY29uZHMsIGNvbnZlcnQgdG8gbWlsbGlzZWNvbmRzXG4gICAgICByZXR1cm4gbmV3IERhdGUodGltZXN0YW1wIDwgMTAwMDAwMDAwMDAgPyB0aW1lc3RhbXAgKiAxMDAwIDogdGltZXN0YW1wKTtcbiAgICB9XG4gIFxuICAgIC8vIElmIHRpbWVzdGFtcCBpcyBhIHN0cmluZywgdHJ5IHBhcnNpbmcgaXRcbiAgICBpZiAodHlwZW9mIHRpbWVzdGFtcCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiBuZXcgRGF0ZSh0aW1lc3RhbXApO1xuICAgIH1cbiAgXG4gICAgLy8gRmFsbGJhY2sgdG8gY3VycmVudCBkYXRlXG4gICAgcmV0dXJuIG5ldyBEYXRlKCk7XG4gIH07Il0sIm5hbWVzIjpbImZvcm1hdERhdGUiLCJ0aW1lc3RhbXAiLCJEYXRlIiwic2Vjb25kcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/utils/formatDate.ts\n"));

/***/ })

});
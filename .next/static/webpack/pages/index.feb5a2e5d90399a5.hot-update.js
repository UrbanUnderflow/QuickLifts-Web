"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/index",{

/***/ "./src/api/firebase/exercise/service.ts":
/*!**********************************************!*\
  !*** ./src/api/firebase/exercise/service.ts ***!
  \**********************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   exerciseService: function() { return /* binding */ exerciseService; }\n/* harmony export */ });\n/* harmony import */ var _swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @swc/helpers/_/_async_to_generator */ \"./node_modules/@swc/helpers/esm/_async_to_generator.js\");\n/* harmony import */ var _swc_helpers_class_call_check__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @swc/helpers/_/_class_call_check */ \"./node_modules/@swc/helpers/esm/_class_call_check.js\");\n/* harmony import */ var _swc_helpers_create_class__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @swc/helpers/_/_create_class */ \"./node_modules/@swc/helpers/esm/_create_class.js\");\n/* harmony import */ var _swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @swc/helpers/_/_object_spread */ \"./node_modules/@swc/helpers/esm/_object_spread.js\");\n/* harmony import */ var _swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @swc/helpers/_/_object_spread_props */ \"./node_modules/@swc/helpers/esm/_object_spread_props.js\");\n/* harmony import */ var _swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @swc/helpers/_/_ts_generator */ \"./node_modules/@swc/helpers/esm/_ts_generator.js\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/firestore */ \"./node_modules/firebase/firestore/dist/esm/index.esm.js\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config */ \"./src/api/firebase/config.ts\");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./types */ \"./src/api/firebase/exercise/types.ts\");\n\n\n\n\n\n\n\n\n\nvar ExerciseService = /*#__PURE__*/ function() {\n    \"use strict\";\n    function ExerciseService() {\n        (0,_swc_helpers_class_call_check__WEBPACK_IMPORTED_MODULE_3__._)(this, ExerciseService);\n        this._allExercises = [];\n    }\n    var _proto = ExerciseService.prototype;\n    _proto.fetchExercises = function fetchExercises() {\n        var _this = this;\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_4__._)(function() {\n            var exerciseSnapshot, exercises, videoSnapshot, exerciseVideos, mappedExercises, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_5__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        _state.trys.push([\n                            0,\n                            3,\n                            ,\n                            4\n                        ]);\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"exercises\"))\n                        ];\n                    case 1:\n                        exerciseSnapshot = _state.sent();\n                        exercises = exerciseSnapshot.docs.map(function(doc) {\n                            return _types__WEBPACK_IMPORTED_MODULE_2__.Exercise.fromFirebase((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_6__._)({\n                                id: doc.id\n                            }, doc.data()));\n                        });\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"exerciseVideos\"))\n                        ];\n                    case 2:\n                        videoSnapshot = _state.sent();\n                        exerciseVideos = videoSnapshot.docs.map(function(doc) {\n                            return {\n                                id: doc.id,\n                                exerciseId: doc.data().exerciseId || \"\",\n                                username: doc.data().username || \"\",\n                                userId: doc.data().userId || \"\",\n                                videoURL: doc.data().videoURL || \"\",\n                                fileName: doc.data().fileName || \"\",\n                                exercise: doc.data().exercise || \"\",\n                                profileImage: doc.data().profileImage || {\n                                    profileImageURL: \"\"\n                                },\n                                caption: doc.data().caption || \"\",\n                                gifURL: doc.data().gifURL || \"\",\n                                thumbnail: doc.data().thumbnail || \"\",\n                                visibility: doc.data().visibility || \"open\",\n                                totalAccountsReached: doc.data().totalAccountsReached || 0,\n                                totalAccountLikes: doc.data().totalAccountLikes || 0,\n                                totalAccountBookmarked: doc.data().totalAccountBookmarked || 0,\n                                totalAccountUsage: doc.data().totalAccountUsage || 0,\n                                isApproved: doc.data().isApproved || false,\n                                liked: doc.data().liked || false,\n                                bookmarked: doc.data().bookmarked || false,\n                                createdAt: doc.data().createdAt ? new Date(doc.data().createdAt.seconds * 1000) : new Date(),\n                                updatedAt: doc.data().updatedAt ? new Date(doc.data().updatedAt.seconds * 1000) : new Date()\n                            };\n                        });\n                        // Map videos to their corresponding exercises\n                        mappedExercises = exercises.map(function(exercise) {\n                            var videosForExercise = exerciseVideos.filter(function(video) {\n                                return video.exerciseId === exercise.id;\n                            });\n                            return (0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_7__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_6__._)({}, exercise), {\n                                videos: videosForExercise\n                            });\n                        });\n                        // Filter out exercises without videos and store them\n                        _this._allExercises = mappedExercises.filter(function(exercise) {\n                            return exercise.videos.length > 0;\n                        });\n                        console.log(\"Fetched \".concat(_this._allExercises.length, \" exercises with videos.\"));\n                        return [\n                            3,\n                            4\n                        ];\n                    case 3:\n                        error = _state.sent();\n                        console.error(\"Error fetching exercises:\", error);\n                        throw new Error(\"Failed to fetch exercises.\");\n                    case 4:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    _proto.fetchFeaturedExercisesWithVideos = function fetchFeaturedExercisesWithVideos() {\n        var limit = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 24;\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_4__._)(function() {\n            var exerciseSnapshot, exercises, videoSnapshot, exerciseVideos, mappedExercises, shuffledExercises, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_5__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        _state.trys.push([\n                            0,\n                            3,\n                            ,\n                            4\n                        ]);\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"exercises\"))\n                        ];\n                    case 1:\n                        exerciseSnapshot = _state.sent();\n                        exercises = exerciseSnapshot.docs.map(function(doc) {\n                            return _types__WEBPACK_IMPORTED_MODULE_2__.Exercise.fromFirebase((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_6__._)({\n                                id: doc.id\n                            }, doc.data()));\n                        });\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"exerciseVideos\"))\n                        ];\n                    case 2:\n                        videoSnapshot = _state.sent();\n                        exerciseVideos = videoSnapshot.docs.map(function(doc) {\n                            return {\n                                id: doc.id,\n                                exerciseId: doc.data().exerciseId || \"\",\n                                username: doc.data().username || \"\",\n                                userId: doc.data().userId || \"\",\n                                videoURL: doc.data().videoURL || \"\",\n                                fileName: doc.data().fileName || \"\",\n                                exercise: doc.data().exercise || \"\",\n                                profileImage: doc.data().profileImage || {\n                                    profileImageURL: \"\"\n                                },\n                                caption: doc.data().caption || \"\",\n                                gifURL: doc.data().gifURL || \"\",\n                                thumbnail: doc.data().thumbnail || \"\",\n                                visibility: doc.data().visibility || \"open\",\n                                totalAccountsReached: doc.data().totalAccountsReached || 0,\n                                totalAccountLikes: doc.data().totalAccountLikes || 0,\n                                totalAccountBookmarked: doc.data().totalAccountBookmarked || 0,\n                                totalAccountUsage: doc.data().totalAccountUsage || 0,\n                                isApproved: doc.data().isApproved || false,\n                                liked: doc.data().liked || false,\n                                bookmarked: doc.data().bookmarked || false,\n                                createdAt: doc.data().createdAt ? new Date(doc.data().createdAt.seconds * 1000) : new Date(),\n                                updatedAt: doc.data().updatedAt ? new Date(doc.data().updatedAt.seconds * 1000) : new Date()\n                            };\n                        });\n                        // Map videos to exercises and filter for those with GIFs\n                        mappedExercises = exercises.map(function(exercise) {\n                            var videosForExercise = exerciseVideos.filter(function(video) {\n                                return video.exercise === exercise.name && video.gifURL;\n                            });\n                            return (0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_7__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_6__._)({}, exercise), {\n                                videos: videosForExercise\n                            });\n                        }).filter(function(exercise) {\n                            return exercise.videos.length > 0;\n                        });\n                        // Shuffle and limit results\n                        shuffledExercises = mappedExercises.sort(function() {\n                            return Math.random() - 0.5;\n                        }).slice(0, limit);\n                        return [\n                            2,\n                            shuffledExercises\n                        ];\n                    case 3:\n                        error = _state.sent();\n                        console.error(\"Error fetching featured exercises:\", error);\n                        return [\n                            2,\n                            []\n                        ];\n                    case 4:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    _proto.fetchPaginatedExercises = function fetchPaginatedExercises() {\n        var lastDoc = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : null, pageSize = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 15;\n        return (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_4__._)(function() {\n            var exerciseQuery, exerciseSnapshot, videoSnapshot, exerciseVideos, exercises, mappedExercises, filteredExercises, lastVisible, error;\n            return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_5__._)(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        _state.trys.push([\n                            0,\n                            3,\n                            ,\n                            4\n                        ]);\n                        // Query for exercises with pagination\n                        exerciseQuery = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"exercises\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.orderBy)(\"createdAt\", \"desc\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.limit)(pageSize));\n                        if (lastDoc) {\n                            exerciseQuery = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(exerciseQuery, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.startAfter)(lastDoc));\n                        }\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(exerciseQuery)\n                        ];\n                    case 1:\n                        exerciseSnapshot = _state.sent();\n                        if (exerciseSnapshot.empty) {\n                            return [\n                                2,\n                                {\n                                    exercises: [],\n                                    lastVisible: null\n                                }\n                            ];\n                        }\n                        return [\n                            4,\n                            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_config__WEBPACK_IMPORTED_MODULE_1__.db, \"exerciseVideos\"))\n                        ];\n                    case 2:\n                        videoSnapshot = _state.sent();\n                        exerciseVideos = videoSnapshot.docs.map(function(doc) {\n                            return {\n                                id: doc.id,\n                                exerciseId: doc.data().exerciseId || \"\",\n                                username: doc.data().username || \"\",\n                                userId: doc.data().userId || \"\",\n                                videoURL: doc.data().videoURL || \"\",\n                                fileName: doc.data().fileName || \"\",\n                                exercise: doc.data().exercise || \"\",\n                                profileImage: doc.data().profileImage || {\n                                    profileImageURL: \"\"\n                                },\n                                caption: doc.data().caption || \"\",\n                                gifURL: doc.data().gifURL || \"\",\n                                thumbnail: doc.data().thumbnail || \"\",\n                                visibility: doc.data().visibility || \"open\",\n                                totalAccountsReached: doc.data().totalAccountsReached || 0,\n                                totalAccountLikes: doc.data().totalAccountLikes || 0,\n                                totalAccountBookmarked: doc.data().totalAccountBookmarked || 0,\n                                totalAccountUsage: doc.data().totalAccountUsage || 0,\n                                isApproved: doc.data().isApproved || false,\n                                liked: doc.data().liked || false,\n                                bookmarked: doc.data().bookmarked || false,\n                                createdAt: doc.data().createdAt ? new Date(doc.data().createdAt.seconds * 1000) : new Date(),\n                                updatedAt: doc.data().updatedAt ? new Date(doc.data().updatedAt.seconds * 1000) : new Date()\n                            };\n                        });\n                        exercises = exerciseSnapshot.docs.map(function(doc) {\n                            return _types__WEBPACK_IMPORTED_MODULE_2__.Exercise.fromFirebase((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_6__._)({\n                                id: doc.id\n                            }, doc.data()));\n                        });\n                        // Map videos to exercises\n                        mappedExercises = exercises.map(function(exercise) {\n                            var videosForExercise = exerciseVideos.filter(function(video) {\n                                return video.exerciseId === exercise.id;\n                            });\n                            return (0,_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_7__._)((0,_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_6__._)({}, exercise), {\n                                videos: videosForExercise\n                            });\n                        });\n                        // Filter exercises with videos\n                        filteredExercises = mappedExercises.filter(function(exercise) {\n                            return exercise.videos.length > 0;\n                        });\n                        // Update the last visible document for pagination\n                        lastVisible = exerciseSnapshot.docs[exerciseSnapshot.docs.length - 1];\n                        return [\n                            2,\n                            {\n                                exercises: filteredExercises,\n                                lastVisible: lastVisible\n                            }\n                        ];\n                    case 3:\n                        error = _state.sent();\n                        console.error(\"Error fetching paginated exercises:\", error);\n                        throw error;\n                    case 4:\n                        return [\n                            2\n                        ];\n                }\n            });\n        })();\n    };\n    (0,_swc_helpers_create_class__WEBPACK_IMPORTED_MODULE_8__._)(ExerciseService, [\n        {\n            key: \"allExercises\",\n            get: function get() {\n                return this._allExercises;\n            }\n        }\n    ]);\n    return ExerciseService;\n}();\nvar exerciseService = new ExerciseService();\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYXBpL2ZpcmViYXNlL2V4ZXJjaXNlL3NlcnZpY2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVE4QjtBQUNDO0FBQ0k7QUFHbkMsb0NBQUs7O2FBQUNROytFQUFBQTthQUNNQyxnQkFBNEIsRUFBRTs7aUJBRHBDRDtJQU9GLE9BQU1FLGNBb0RMLEdBcERELFNBQU1BOztlQUFOO2dCQUdVQyxrQkFDQUMsV0FNQUMsZUFDQUMsZ0JBeUJBQyxpQkFZQ0M7Ozs7Ozs7Ozs7d0JBN0NrQjs7NEJBQU1mLDJEQUFPQSxDQUFDRCw4REFBVUEsQ0FBQ00sdUNBQUVBLEVBQUU7Ozt3QkFBaERLLG1CQUFtQjt3QkFDbkJDLFlBQXdCRCxpQkFBaUJNLElBQUksQ0FBQ0MsR0FBRyxDQUFDLFNBQUNDO21DQUFRWiw0Q0FBUUEsQ0FBQ2EsWUFBWSxDQUFDO2dDQUNyRkMsSUFBSUYsSUFBSUUsRUFBRTsrQkFDUEYsSUFBSUcsSUFBSTs7d0JBSVM7OzRCQUFNckIsMkRBQU9BLENBQUNELDhEQUFVQSxDQUFDTSx1Q0FBRUEsRUFBRTs7O3dCQUE3Q08sZ0JBQWdCO3dCQUNoQkMsaUJBQWtDRCxjQUFjSSxJQUFJLENBQUNDLEdBQUcsQ0FBQyxTQUFDQzttQ0FBUztnQ0FDdkVFLElBQUlGLElBQUlFLEVBQUU7Z0NBQ1ZFLFlBQVlKLElBQUlHLElBQUksR0FBR0MsVUFBVSxJQUFJO2dDQUNyQ0MsVUFBVUwsSUFBSUcsSUFBSSxHQUFHRSxRQUFRLElBQUk7Z0NBQ2pDQyxRQUFRTixJQUFJRyxJQUFJLEdBQUdHLE1BQU0sSUFBSTtnQ0FDN0JDLFVBQVVQLElBQUlHLElBQUksR0FBR0ksUUFBUSxJQUFJO2dDQUNqQ0MsVUFBVVIsSUFBSUcsSUFBSSxHQUFHSyxRQUFRLElBQUk7Z0NBQ2pDQyxVQUFVVCxJQUFJRyxJQUFJLEdBQUdNLFFBQVEsSUFBSTtnQ0FDakNDLGNBQWNWLElBQUlHLElBQUksR0FBR08sWUFBWSxJQUFJO29DQUFFQyxpQkFBaUI7Z0NBQUc7Z0NB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ZS9zZXJ2aWNlLnRzP2E4MzEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgICBjb2xsZWN0aW9uLFxuICAgIGdldERvY3MsXG4gICAgcXVlcnksXG4gICAgb3JkZXJCeSxcbiAgICBsaW1pdCxcbiAgICBzdGFydEFmdGVyLFxuICAgIERvY3VtZW50U25hcHNob3QsXG4gIH0gZnJvbSAnZmlyZWJhc2UvZmlyZXN0b3JlJztcbmltcG9ydCB7IGRiIH0gZnJvbSAnLi4vY29uZmlnJztcbmltcG9ydCB7IEV4ZXJjaXNlIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBFeGVyY2lzZVZpZGVvIH0gZnJvbSAnLi4vLi4vZmlyZWJhc2UvZXhlcmNpc2UvdHlwZXMnO1xuXG5jbGFzcyBFeGVyY2lzZVNlcnZpY2Uge1xuICAgIHByaXZhdGUgX2FsbEV4ZXJjaXNlczogRXhlcmNpc2VbXSA9IFtdO1xuICBcbiAgICBnZXQgYWxsRXhlcmNpc2VzKCk6IEV4ZXJjaXNlW10ge1xuICAgICAgcmV0dXJuIHRoaXMuX2FsbEV4ZXJjaXNlcztcbiAgICB9XG4gIFxuICAgIGFzeW5jIGZldGNoRXhlcmNpc2VzKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gRmV0Y2ggYWxsIGV4ZXJjaXNlc1xuICAgICAgICBjb25zdCBleGVyY2lzZVNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhjb2xsZWN0aW9uKGRiLCAnZXhlcmNpc2VzJykpO1xuICAgICAgICBjb25zdCBleGVyY2lzZXM6IEV4ZXJjaXNlW10gPSBleGVyY2lzZVNuYXBzaG90LmRvY3MubWFwKChkb2MpID0+IEV4ZXJjaXNlLmZyb21GaXJlYmFzZSh7XG4gICAgICAgICAgaWQ6IGRvYy5pZCxcbiAgICAgICAgICAuLi5kb2MuZGF0YSgpLFxuICAgICAgICB9KSk7XG4gIFxuICAgICAgICAvLyBGZXRjaCBhbGwgdmlkZW9zXG4gICAgICAgIGNvbnN0IHZpZGVvU25hcHNob3QgPSBhd2FpdCBnZXREb2NzKGNvbGxlY3Rpb24oZGIsICdleGVyY2lzZVZpZGVvcycpKTtcbiAgICAgICAgY29uc3QgZXhlcmNpc2VWaWRlb3M6IEV4ZXJjaXNlVmlkZW9bXSA9IHZpZGVvU25hcHNob3QuZG9jcy5tYXAoKGRvYykgPT4gKHtcbiAgICAgICAgICBpZDogZG9jLmlkLFxuICAgICAgICAgIGV4ZXJjaXNlSWQ6IGRvYy5kYXRhKCkuZXhlcmNpc2VJZCB8fCAnJyxcbiAgICAgICAgICB1c2VybmFtZTogZG9jLmRhdGEoKS51c2VybmFtZSB8fCAnJyxcbiAgICAgICAgICB1c2VySWQ6IGRvYy5kYXRhKCkudXNlcklkIHx8ICcnLFxuICAgICAgICAgIHZpZGVvVVJMOiBkb2MuZGF0YSgpLnZpZGVvVVJMIHx8ICcnLFxuICAgICAgICAgIGZpbGVOYW1lOiBkb2MuZGF0YSgpLmZpbGVOYW1lIHx8ICcnLFxuICAgICAgICAgIGV4ZXJjaXNlOiBkb2MuZGF0YSgpLmV4ZXJjaXNlIHx8ICcnLFxuICAgICAgICAgIHByb2ZpbGVJbWFnZTogZG9jLmRhdGEoKS5wcm9maWxlSW1hZ2UgfHwgeyBwcm9maWxlSW1hZ2VVUkw6ICcnIH0sXG4gICAgICAgICAgY2FwdGlvbjogZG9jLmRhdGEoKS5jYXB0aW9uIHx8ICcnLFxuICAgICAgICAgIGdpZlVSTDogZG9jLmRhdGEoKS5naWZVUkwgfHwgJycsXG4gICAgICAgICAgdGh1bWJuYWlsOiBkb2MuZGF0YSgpLnRodW1ibmFpbCB8fCAnJyxcbiAgICAgICAgICB2aXNpYmlsaXR5OiBkb2MuZGF0YSgpLnZpc2liaWxpdHkgfHwgJ29wZW4nLFxuICAgICAgICAgIHRvdGFsQWNjb3VudHNSZWFjaGVkOiBkb2MuZGF0YSgpLnRvdGFsQWNjb3VudHNSZWFjaGVkIHx8IDAsXG4gICAgICAgICAgdG90YWxBY2NvdW50TGlrZXM6IGRvYy5kYXRhKCkudG90YWxBY2NvdW50TGlrZXMgfHwgMCxcbiAgICAgICAgICB0b3RhbEFjY291bnRCb29rbWFya2VkOiBkb2MuZGF0YSgpLnRvdGFsQWNjb3VudEJvb2ttYXJrZWQgfHwgMCxcbiAgICAgICAgICB0b3RhbEFjY291bnRVc2FnZTogZG9jLmRhdGEoKS50b3RhbEFjY291bnRVc2FnZSB8fCAwLFxuICAgICAgICAgIGlzQXBwcm92ZWQ6IGRvYy5kYXRhKCkuaXNBcHByb3ZlZCB8fCBmYWxzZSxcbiAgICAgICAgICBsaWtlZDogZG9jLmRhdGEoKS5saWtlZCB8fCBmYWxzZSxcbiAgICAgICAgICBib29rbWFya2VkOiBkb2MuZGF0YSgpLmJvb2ttYXJrZWQgfHwgZmFsc2UsXG4gICAgICAgICAgY3JlYXRlZEF0OiBkb2MuZGF0YSgpLmNyZWF0ZWRBdCA/IG5ldyBEYXRlKGRvYy5kYXRhKCkuY3JlYXRlZEF0LnNlY29uZHMgKiAxMDAwKSA6IG5ldyBEYXRlKCksXG4gICAgICAgICAgdXBkYXRlZEF0OiBkb2MuZGF0YSgpLnVwZGF0ZWRBdCA/IG5ldyBEYXRlKGRvYy5kYXRhKCkudXBkYXRlZEF0LnNlY29uZHMgKiAxMDAwKSA6IG5ldyBEYXRlKCksXG4gICAgICAgIH0pKTtcbiAgXG4gICAgICAgIC8vIE1hcCB2aWRlb3MgdG8gdGhlaXIgY29ycmVzcG9uZGluZyBleGVyY2lzZXNcbiAgICAgICAgY29uc3QgbWFwcGVkRXhlcmNpc2VzID0gZXhlcmNpc2VzLm1hcCgoZXhlcmNpc2UpID0+IHtcbiAgICAgICAgICBjb25zdCB2aWRlb3NGb3JFeGVyY2lzZSA9IGV4ZXJjaXNlVmlkZW9zLmZpbHRlcigodmlkZW8pID0+IHZpZGVvLmV4ZXJjaXNlSWQgPT09IGV4ZXJjaXNlLmlkKTtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uZXhlcmNpc2UsXG4gICAgICAgICAgICB2aWRlb3M6IHZpZGVvc0ZvckV4ZXJjaXNlLFxuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICBcbiAgICAgICAgLy8gRmlsdGVyIG91dCBleGVyY2lzZXMgd2l0aG91dCB2aWRlb3MgYW5kIHN0b3JlIHRoZW1cbiAgICAgICAgdGhpcy5fYWxsRXhlcmNpc2VzID0gbWFwcGVkRXhlcmNpc2VzLmZpbHRlcigoZXhlcmNpc2UpID0+IGV4ZXJjaXNlLnZpZGVvcy5sZW5ndGggPiAwKTtcbiAgXG4gICAgICAgIGNvbnNvbGUubG9nKGBGZXRjaGVkICR7dGhpcy5fYWxsRXhlcmNpc2VzLmxlbmd0aH0gZXhlcmNpc2VzIHdpdGggdmlkZW9zLmApO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgZXhlcmNpc2VzOicsIGVycm9yKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gZmV0Y2ggZXhlcmNpc2VzLicpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIGZldGNoRmVhdHVyZWRFeGVyY2lzZXNXaXRoVmlkZW9zKGxpbWl0OiBudW1iZXIgPSAyNCk6IFByb21pc2U8RXhlcmNpc2VbXT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gRmV0Y2ggYWxsIGV4ZXJjaXNlc1xuICAgICAgICBjb25zdCBleGVyY2lzZVNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhjb2xsZWN0aW9uKGRiLCAnZXhlcmNpc2VzJykpO1xuICAgICAgICBjb25zdCBleGVyY2lzZXM6IEV4ZXJjaXNlW10gPSBleGVyY2lzZVNuYXBzaG90LmRvY3MubWFwKChkb2MpID0+IFxuICAgICAgICAgIEV4ZXJjaXNlLmZyb21GaXJlYmFzZSh7XG4gICAgICAgICAgICBpZDogZG9jLmlkLFxuICAgICAgICAgICAgLi4uZG9jLmRhdGEoKSxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgIFxuICAgICAgICAvLyBGZXRjaCBhbGwgdmlkZW9zXG4gICAgICAgIGNvbnN0IHZpZGVvU25hcHNob3QgPSBhd2FpdCBnZXREb2NzKGNvbGxlY3Rpb24oZGIsICdleGVyY2lzZVZpZGVvcycpKTtcbiAgICAgICAgY29uc3QgZXhlcmNpc2VWaWRlb3M6IEV4ZXJjaXNlVmlkZW9bXSA9IHZpZGVvU25hcHNob3QuZG9jcy5tYXAoKGRvYykgPT4gKHtcbiAgICAgICAgICBpZDogZG9jLmlkLFxuICAgICAgICAgIGV4ZXJjaXNlSWQ6IGRvYy5kYXRhKCkuZXhlcmNpc2VJZCB8fCAnJyxcbiAgICAgICAgICB1c2VybmFtZTogZG9jLmRhdGEoKS51c2VybmFtZSB8fCAnJyxcbiAgICAgICAgICB1c2VySWQ6IGRvYy5kYXRhKCkudXNlcklkIHx8ICcnLFxuICAgICAgICAgIHZpZGVvVVJMOiBkb2MuZGF0YSgpLnZpZGVvVVJMIHx8ICcnLFxuICAgICAgICAgIGZpbGVOYW1lOiBkb2MuZGF0YSgpLmZpbGVOYW1lIHx8ICcnLFxuICAgICAgICAgIGV4ZXJjaXNlOiBkb2MuZGF0YSgpLmV4ZXJjaXNlIHx8ICcnLFxuICAgICAgICAgIHByb2ZpbGVJbWFnZTogZG9jLmRhdGEoKS5wcm9maWxlSW1hZ2UgfHwgeyBwcm9maWxlSW1hZ2VVUkw6ICcnIH0sXG4gICAgICAgICAgY2FwdGlvbjogZG9jLmRhdGEoKS5jYXB0aW9uIHx8ICcnLFxuICAgICAgICAgIGdpZlVSTDogZG9jLmRhdGEoKS5naWZVUkwgfHwgJycsXG4gICAgICAgICAgdGh1bWJuYWlsOiBkb2MuZGF0YSgpLnRodW1ibmFpbCB8fCAnJyxcbiAgICAgICAgICB2aXNpYmlsaXR5OiBkb2MuZGF0YSgpLnZpc2liaWxpdHkgfHwgJ29wZW4nLFxuICAgICAgICAgIHRvdGFsQWNjb3VudHNSZWFjaGVkOiBkb2MuZGF0YSgpLnRvdGFsQWNjb3VudHNSZWFjaGVkIHx8IDAsXG4gICAgICAgICAgdG90YWxBY2NvdW50TGlrZXM6IGRvYy5kYXRhKCkudG90YWxBY2NvdW50TGlrZXMgfHwgMCxcbiAgICAgICAgICB0b3RhbEFjY291bnRCb29rbWFya2VkOiBkb2MuZGF0YSgpLnRvdGFsQWNjb3VudEJvb2ttYXJrZWQgfHwgMCxcbiAgICAgICAgICB0b3RhbEFjY291bnRVc2FnZTogZG9jLmRhdGEoKS50b3RhbEFjY291bnRVc2FnZSB8fCAwLFxuICAgICAgICAgIGlzQXBwcm92ZWQ6IGRvYy5kYXRhKCkuaXNBcHByb3ZlZCB8fCBmYWxzZSxcbiAgICAgICAgICBsaWtlZDogZG9jLmRhdGEoKS5saWtlZCB8fCBmYWxzZSxcbiAgICAgICAgICBib29rbWFya2VkOiBkb2MuZGF0YSgpLmJvb2ttYXJrZWQgfHwgZmFsc2UsXG4gICAgICAgICAgY3JlYXRlZEF0OiBkb2MuZGF0YSgpLmNyZWF0ZWRBdCA/IG5ldyBEYXRlKGRvYy5kYXRhKCkuY3JlYXRlZEF0LnNlY29uZHMgKiAxMDAwKSA6IG5ldyBEYXRlKCksXG4gICAgICAgICAgdXBkYXRlZEF0OiBkb2MuZGF0YSgpLnVwZGF0ZWRBdCA/IG5ldyBEYXRlKGRvYy5kYXRhKCkudXBkYXRlZEF0LnNlY29uZHMgKiAxMDAwKSA6IG5ldyBEYXRlKCksXG4gICAgICAgIH0pKTtcbiAgICBcbiAgICAgICAgLy8gTWFwIHZpZGVvcyB0byBleGVyY2lzZXMgYW5kIGZpbHRlciBmb3IgdGhvc2Ugd2l0aCBHSUZzXG4gICAgICAgIGNvbnN0IG1hcHBlZEV4ZXJjaXNlcyA9IGV4ZXJjaXNlc1xuICAgICAgICAgIC5tYXAoZXhlcmNpc2UgPT4ge1xuICAgICAgICAgICAgY29uc3QgdmlkZW9zRm9yRXhlcmNpc2UgPSBleGVyY2lzZVZpZGVvcy5maWx0ZXIoXG4gICAgICAgICAgICAgIHZpZGVvID0+IHZpZGVvLmV4ZXJjaXNlID09PSBleGVyY2lzZS5uYW1lICYmIHZpZGVvLmdpZlVSTFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIC4uLmV4ZXJjaXNlLFxuICAgICAgICAgICAgICB2aWRlb3M6IHZpZGVvc0ZvckV4ZXJjaXNlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5maWx0ZXIoZXhlcmNpc2UgPT4gZXhlcmNpc2UudmlkZW9zLmxlbmd0aCA+IDApO1xuICAgIFxuICAgICAgICAvLyBTaHVmZmxlIGFuZCBsaW1pdCByZXN1bHRzXG4gICAgICAgIGNvbnN0IHNodWZmbGVkRXhlcmNpc2VzID0gbWFwcGVkRXhlcmNpc2VzXG4gICAgICAgICAgLnNvcnQoKCkgPT4gTWF0aC5yYW5kb20oKSAtIDAuNSlcbiAgICAgICAgICAuc2xpY2UoMCwgbGltaXQpO1xuICAgIFxuICAgICAgICByZXR1cm4gc2h1ZmZsZWRFeGVyY2lzZXM7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBmZWF0dXJlZCBleGVyY2lzZXM6JywgZXJyb3IpO1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgZmV0Y2hQYWdpbmF0ZWRFeGVyY2lzZXMoXG4gICAgICAgIGxhc3REb2M6IERvY3VtZW50U25hcHNob3QgfCBudWxsID0gbnVsbCxcbiAgICAgICAgcGFnZVNpemU6IG51bWJlciA9IDE1XG4gICAgICApOiBQcm9taXNlPHsgZXhlcmNpc2VzOiBFeGVyY2lzZVtdOyBsYXN0VmlzaWJsZTogRG9jdW1lbnRTbmFwc2hvdCB8IG51bGwgfT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIFF1ZXJ5IGZvciBleGVyY2lzZXMgd2l0aCBwYWdpbmF0aW9uXG4gICAgICAgICAgbGV0IGV4ZXJjaXNlUXVlcnkgPSBxdWVyeShcbiAgICAgICAgICAgIGNvbGxlY3Rpb24oZGIsICdleGVyY2lzZXMnKSxcbiAgICAgICAgICAgIG9yZGVyQnkoJ2NyZWF0ZWRBdCcsICdkZXNjJyksXG4gICAgICAgICAgICBsaW1pdChwYWdlU2l6ZSlcbiAgICAgICAgICApO1xuICAgIFxuICAgICAgICAgIGlmIChsYXN0RG9jKSB7XG4gICAgICAgICAgICBleGVyY2lzZVF1ZXJ5ID0gcXVlcnkoZXhlcmNpc2VRdWVyeSwgc3RhcnRBZnRlcihsYXN0RG9jKSk7XG4gICAgICAgICAgfVxuICAgIFxuICAgICAgICAgIGNvbnN0IGV4ZXJjaXNlU25hcHNob3QgPSBhd2FpdCBnZXREb2NzKGV4ZXJjaXNlUXVlcnkpO1xuICAgIFxuICAgICAgICAgIGlmIChleGVyY2lzZVNuYXBzaG90LmVtcHR5KSB7XG4gICAgICAgICAgICByZXR1cm4geyBleGVyY2lzZXM6IFtdLCBsYXN0VmlzaWJsZTogbnVsbCB9O1xuICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAvLyBGZXRjaCBleGVyY2lzZSB2aWRlb3Mgc2VwYXJhdGVseVxuICAgICAgICAgIGNvbnN0IHZpZGVvU25hcHNob3QgPSBhd2FpdCBnZXREb2NzKGNvbGxlY3Rpb24oZGIsICdleGVyY2lzZVZpZGVvcycpKTtcbiAgICAgICAgICBjb25zdCBleGVyY2lzZVZpZGVvczogRXhlcmNpc2VWaWRlb1tdID0gdmlkZW9TbmFwc2hvdC5kb2NzLm1hcCgoZG9jKSA9PiAoe1xuICAgICAgICAgICAgaWQ6IGRvYy5pZCxcbiAgICAgICAgICAgIGV4ZXJjaXNlSWQ6IGRvYy5kYXRhKCkuZXhlcmNpc2VJZCB8fCAnJyxcbiAgICAgICAgICAgIHVzZXJuYW1lOiBkb2MuZGF0YSgpLnVzZXJuYW1lIHx8ICcnLFxuICAgICAgICAgICAgdXNlcklkOiBkb2MuZGF0YSgpLnVzZXJJZCB8fCAnJyxcbiAgICAgICAgICAgIHZpZGVvVVJMOiBkb2MuZGF0YSgpLnZpZGVvVVJMIHx8ICcnLFxuICAgICAgICAgICAgZmlsZU5hbWU6IGRvYy5kYXRhKCkuZmlsZU5hbWUgfHwgJycsXG4gICAgICAgICAgICBleGVyY2lzZTogZG9jLmRhdGEoKS5leGVyY2lzZSB8fCAnJyxcbiAgICAgICAgICAgIHByb2ZpbGVJbWFnZTogZG9jLmRhdGEoKS5wcm9maWxlSW1hZ2UgfHwgeyBwcm9maWxlSW1hZ2VVUkw6ICcnIH0sXG4gICAgICAgICAgICBjYXB0aW9uOiBkb2MuZGF0YSgpLmNhcHRpb24gfHwgJycsXG4gICAgICAgICAgICBnaWZVUkw6IGRvYy5kYXRhKCkuZ2lmVVJMIHx8ICcnLFxuICAgICAgICAgICAgdGh1bWJuYWlsOiBkb2MuZGF0YSgpLnRodW1ibmFpbCB8fCAnJyxcbiAgICAgICAgICAgIHZpc2liaWxpdHk6IGRvYy5kYXRhKCkudmlzaWJpbGl0eSB8fCAnb3BlbicsXG4gICAgICAgICAgICB0b3RhbEFjY291bnRzUmVhY2hlZDogZG9jLmRhdGEoKS50b3RhbEFjY291bnRzUmVhY2hlZCB8fCAwLFxuICAgICAgICAgICAgdG90YWxBY2NvdW50TGlrZXM6IGRvYy5kYXRhKCkudG90YWxBY2NvdW50TGlrZXMgfHwgMCxcbiAgICAgICAgICAgIHRvdGFsQWNjb3VudEJvb2ttYXJrZWQ6IGRvYy5kYXRhKCkudG90YWxBY2NvdW50Qm9va21hcmtlZCB8fCAwLFxuICAgICAgICAgICAgdG90YWxBY2NvdW50VXNhZ2U6IGRvYy5kYXRhKCkudG90YWxBY2NvdW50VXNhZ2UgfHwgMCxcbiAgICAgICAgICAgIGlzQXBwcm92ZWQ6IGRvYy5kYXRhKCkuaXNBcHByb3ZlZCB8fCBmYWxzZSxcbiAgICAgICAgICAgIGxpa2VkOiBkb2MuZGF0YSgpLmxpa2VkIHx8IGZhbHNlLFxuICAgICAgICAgICAgYm9va21hcmtlZDogZG9jLmRhdGEoKS5ib29rbWFya2VkIHx8IGZhbHNlLFxuICAgICAgICAgICAgY3JlYXRlZEF0OiBkb2MuZGF0YSgpLmNyZWF0ZWRBdCA/IG5ldyBEYXRlKGRvYy5kYXRhKCkuY3JlYXRlZEF0LnNlY29uZHMgKiAxMDAwKSA6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICB1cGRhdGVkQXQ6IGRvYy5kYXRhKCkudXBkYXRlZEF0ID8gbmV3IERhdGUoZG9jLmRhdGEoKS51cGRhdGVkQXQuc2Vjb25kcyAqIDEwMDApIDogbmV3IERhdGUoKSxcbiAgICAgICAgICB9KSk7XG4gICAgXG4gICAgICAgICAgY29uc3QgZXhlcmNpc2VzOiBFeGVyY2lzZVtdID0gZXhlcmNpc2VTbmFwc2hvdC5kb2NzLm1hcCgoZG9jKSA9PlxuICAgICAgICAgICAgRXhlcmNpc2UuZnJvbUZpcmViYXNlKHsgaWQ6IGRvYy5pZCwgLi4uZG9jLmRhdGEoKSB9KVxuICAgICAgICAgICk7XG4gICAgXG4gICAgICAgICAgLy8gTWFwIHZpZGVvcyB0byBleGVyY2lzZXNcbiAgICAgICAgICBjb25zdCBtYXBwZWRFeGVyY2lzZXMgPSBleGVyY2lzZXMubWFwKChleGVyY2lzZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdmlkZW9zRm9yRXhlcmNpc2UgPSBleGVyY2lzZVZpZGVvcy5maWx0ZXIoKHZpZGVvKSA9PiB2aWRlby5leGVyY2lzZUlkID09PSBleGVyY2lzZS5pZCk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAuLi5leGVyY2lzZSxcbiAgICAgICAgICAgICAgdmlkZW9zOiB2aWRlb3NGb3JFeGVyY2lzZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSk7XG4gICAgXG4gICAgICAgICAgLy8gRmlsdGVyIGV4ZXJjaXNlcyB3aXRoIHZpZGVvc1xuICAgICAgICAgIGNvbnN0IGZpbHRlcmVkRXhlcmNpc2VzID0gbWFwcGVkRXhlcmNpc2VzLmZpbHRlcigoZXhlcmNpc2UpID0+IGV4ZXJjaXNlLnZpZGVvcy5sZW5ndGggPiAwKTtcbiAgICBcbiAgICAgICAgICAvLyBVcGRhdGUgdGhlIGxhc3QgdmlzaWJsZSBkb2N1bWVudCBmb3IgcGFnaW5hdGlvblxuICAgICAgICAgIGNvbnN0IGxhc3RWaXNpYmxlID0gZXhlcmNpc2VTbmFwc2hvdC5kb2NzW2V4ZXJjaXNlU25hcHNob3QuZG9jcy5sZW5ndGggLSAxXTtcbiAgICBcbiAgICAgICAgICByZXR1cm4geyBleGVyY2lzZXM6IGZpbHRlcmVkRXhlcmNpc2VzLCBsYXN0VmlzaWJsZSB9O1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHBhZ2luYXRlZCBleGVyY2lzZXM6JywgZXJyb3IpO1xuICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgICB9XG4gIH1cbiAgXG4gIGV4cG9ydCBjb25zdCBleGVyY2lzZVNlcnZpY2UgPSBuZXcgRXhlcmNpc2VTZXJ2aWNlKCk7Il0sIm5hbWVzIjpbImNvbGxlY3Rpb24iLCJnZXREb2NzIiwicXVlcnkiLCJvcmRlckJ5IiwibGltaXQiLCJzdGFydEFmdGVyIiwiZGIiLCJFeGVyY2lzZSIsIkV4ZXJjaXNlU2VydmljZSIsIl9hbGxFeGVyY2lzZXMiLCJmZXRjaEV4ZXJjaXNlcyIsImV4ZXJjaXNlU25hcHNob3QiLCJleGVyY2lzZXMiLCJ2aWRlb1NuYXBzaG90IiwiZXhlcmNpc2VWaWRlb3MiLCJtYXBwZWRFeGVyY2lzZXMiLCJlcnJvciIsImRvY3MiLCJtYXAiLCJkb2MiLCJmcm9tRmlyZWJhc2UiLCJpZCIsImRhdGEiLCJleGVyY2lzZUlkIiwidXNlcm5hbWUiLCJ1c2VySWQiLCJ2aWRlb1VSTCIsImZpbGVOYW1lIiwiZXhlcmNpc2UiLCJwcm9maWxlSW1hZ2UiLCJwcm9maWxlSW1hZ2VVUkwiLCJjYXB0aW9uIiwiZ2lmVVJMIiwidGh1bWJuYWlsIiwidmlzaWJpbGl0eSIsInRvdGFsQWNjb3VudHNSZWFjaGVkIiwidG90YWxBY2NvdW50TGlrZXMiLCJ0b3RhbEFjY291bnRCb29rbWFya2VkIiwidG90YWxBY2NvdW50VXNhZ2UiLCJpc0FwcHJvdmVkIiwibGlrZWQiLCJib29rbWFya2VkIiwiY3JlYXRlZEF0IiwiRGF0ZSIsInNlY29uZHMiLCJ1cGRhdGVkQXQiLCJ2aWRlb3NGb3JFeGVyY2lzZSIsImZpbHRlciIsInZpZGVvIiwidmlkZW9zIiwibGVuZ3RoIiwiY29uc29sZSIsImxvZyIsIkVycm9yIiwiZmV0Y2hGZWF0dXJlZEV4ZXJjaXNlc1dpdGhWaWRlb3MiLCJzaHVmZmxlZEV4ZXJjaXNlcyIsIm5hbWUiLCJzb3J0IiwiTWF0aCIsInJhbmRvbSIsInNsaWNlIiwiZmV0Y2hQYWdpbmF0ZWRFeGVyY2lzZXMiLCJsYXN0RG9jIiwicGFnZVNpemUiLCJleGVyY2lzZVF1ZXJ5IiwiZmlsdGVyZWRFeGVyY2lzZXMiLCJsYXN0VmlzaWJsZSIsImVtcHR5IiwiYWxsRXhlcmNpc2VzIiwiZXhlcmNpc2VTZXJ2aWNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/api/firebase/exercise/service.ts\n"));

/***/ })

});